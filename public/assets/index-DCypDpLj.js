function LS(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();function e0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hf={exports:{}},ha={},pf={exports:{}},it={};var Xg;function FS(){if(Xg)return it;Xg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function C(j,X,Oe){this.props=j,this.context=X,this.refs=_,this.updater=Oe||S}C.prototype.isReactComponent={},C.prototype.setState=function(j,X){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,X,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function P(){}P.prototype=C.prototype;function E(j,X,Oe){this.props=j,this.context=X,this.refs=_,this.updater=Oe||S}var D=E.prototype=new P;D.constructor=E,k(D,C.prototype),D.isPureReactComponent=!0;var A=Array.isArray,V=Object.prototype.hasOwnProperty,G={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function J(j,X,Oe){var ge,Ue={},We=null,Qe=null;if(X!=null)for(ge in X.ref!==void 0&&(Qe=X.ref),X.key!==void 0&&(We=""+X.key),X)V.call(X,ge)&&!B.hasOwnProperty(ge)&&(Ue[ge]=X[ge]);var $e=arguments.length-2;if($e===1)Ue.children=Oe;else if(1<$e){for(var Ke=Array($e),Et=0;Et<$e;Et++)Ke[Et]=arguments[Et+2];Ue.children=Ke}if(j&&j.defaultProps)for(ge in $e=j.defaultProps,$e)Ue[ge]===void 0&&(Ue[ge]=$e[ge]);return{$$typeof:t,type:j,key:We,ref:Qe,props:Ue,_owner:G.current}}function Q(j,X){return{$$typeof:t,type:j.type,key:X,ref:j.ref,props:j.props,_owner:j._owner}}function U(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function ee(j){var X={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Oe){return X[Oe]})}var Z=/\/+/g;function te(j,X){return typeof j=="object"&&j!==null&&j.key!=null?ee(""+j.key):X.toString(36)}function Y(j,X,Oe,ge,Ue){var We=typeof j;(We==="undefined"||We==="boolean")&&(j=null);var Qe=!1;if(j===null)Qe=!0;else switch(We){case"string":case"number":Qe=!0;break;case"object":switch(j.$$typeof){case t:case e:Qe=!0}}if(Qe)return Qe=j,Ue=Ue(Qe),j=ge===""?"."+te(Qe,0):ge,A(Ue)?(Oe="",j!=null&&(Oe=j.replace(Z,"$&/")+"/"),Y(Ue,X,Oe,"",function(Et){return Et})):Ue!=null&&(U(Ue)&&(Ue=Q(Ue,Oe+(!Ue.key||Qe&&Qe.key===Ue.key?"":(""+Ue.key).replace(Z,"$&/")+"/")+j)),X.push(Ue)),1;if(Qe=0,ge=ge===""?".":ge+":",A(j))for(var $e=0;$e<j.length;$e++){We=j[$e];var Ke=ge+te(We,$e);Qe+=Y(We,X,Oe,Ke,Ue)}else if(Ke=x(j),typeof Ke=="function")for(j=Ke.call(j),$e=0;!(We=j.next()).done;)We=We.value,Ke=ge+te(We,$e++),Qe+=Y(We,X,Oe,Ke,Ue);else if(We==="object")throw X=String(j),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Qe}function Ce(j,X,Oe){if(j==null)return j;var ge=[],Ue=0;return Y(j,ge,"","",function(We){return X.call(Oe,We,Ue++)}),ge}function ce(j){if(j._status===-1){var X=j._result;X=X(),X.then(function(Oe){(j._status===0||j._status===-1)&&(j._status=1,j._result=Oe)},function(Oe){(j._status===0||j._status===-1)&&(j._status=2,j._result=Oe)}),j._status===-1&&(j._status=0,j._result=X)}if(j._status===1)return j._result.default;throw j._result}var we={current:null},q={transition:null},le={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:q,ReactCurrentOwner:G};function ue(){throw Error("act(...) is not supported in production builds of React.")}return it.Children={map:Ce,forEach:function(j,X,Oe){Ce(j,function(){X.apply(this,arguments)},Oe)},count:function(j){var X=0;return Ce(j,function(){X++}),X},toArray:function(j){return Ce(j,function(X){return X})||[]},only:function(j){if(!U(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},it.Component=C,it.Fragment=r,it.Profiler=o,it.PureComponent=E,it.StrictMode=s,it.Suspense=h,it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,it.act=ue,it.cloneElement=function(j,X,Oe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ge=k({},j.props),Ue=j.key,We=j.ref,Qe=j._owner;if(X!=null){if(X.ref!==void 0&&(We=X.ref,Qe=G.current),X.key!==void 0&&(Ue=""+X.key),j.type&&j.type.defaultProps)var $e=j.type.defaultProps;for(Ke in X)V.call(X,Ke)&&!B.hasOwnProperty(Ke)&&(ge[Ke]=X[Ke]===void 0&&$e!==void 0?$e[Ke]:X[Ke])}var Ke=arguments.length-2;if(Ke===1)ge.children=Oe;else if(1<Ke){$e=Array(Ke);for(var Et=0;Et<Ke;Et++)$e[Et]=arguments[Et+2];ge.children=$e}return{$$typeof:t,type:j.type,key:Ue,ref:We,props:ge,_owner:Qe}},it.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},it.createElement=J,it.createFactory=function(j){var X=J.bind(null,j);return X.type=j,X},it.createRef=function(){return{current:null}},it.forwardRef=function(j){return{$$typeof:d,render:j}},it.isValidElement=U,it.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:ce}},it.memo=function(j,X){return{$$typeof:m,type:j,compare:X===void 0?null:X}},it.startTransition=function(j){var X=q.transition;q.transition={};try{j()}finally{q.transition=X}},it.unstable_act=ue,it.useCallback=function(j,X){return we.current.useCallback(j,X)},it.useContext=function(j){return we.current.useContext(j)},it.useDebugValue=function(){},it.useDeferredValue=function(j){return we.current.useDeferredValue(j)},it.useEffect=function(j,X){return we.current.useEffect(j,X)},it.useId=function(){return we.current.useId()},it.useImperativeHandle=function(j,X,Oe){return we.current.useImperativeHandle(j,X,Oe)},it.useInsertionEffect=function(j,X){return we.current.useInsertionEffect(j,X)},it.useLayoutEffect=function(j,X){return we.current.useLayoutEffect(j,X)},it.useMemo=function(j,X){return we.current.useMemo(j,X)},it.useReducer=function(j,X,Oe){return we.current.useReducer(j,X,Oe)},it.useRef=function(j){return we.current.useRef(j)},it.useState=function(j){return we.current.useState(j)},it.useSyncExternalStore=function(j,X,Oe){return we.current.useSyncExternalStore(j,X,Oe)},it.useTransition=function(){return we.current.useTransition()},it.version="18.3.1",it}var Jg;function nc(){return Jg||(Jg=1,pf.exports=FS()),pf.exports}var ev;function zS(){if(ev)return ha;ev=1;var t=nc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var g,y={},x=null,S=null;m!==void 0&&(x=""+m),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)s.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:d,key:x,ref:S,props:y,_owner:o.current}}return ha.Fragment=r,ha.jsx=u,ha.jsxs=u,ha}var tv;function $S(){return tv||(tv=1,hf.exports=zS()),hf.exports}var f=$S(),du={},mf={exports:{}},zr={},gf={exports:{}},vf={};var rv;function VS(){return rv||(rv=1,(function(t){function e(q,le){var ue=q.length;q.push(le);e:for(;0<ue;){var j=ue-1>>>1,X=q[j];if(0<o(X,le))q[j]=le,q[ue]=X,ue=j;else break e}}function r(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var le=q[0],ue=q.pop();if(ue!==le){q[0]=ue;e:for(var j=0,X=q.length,Oe=X>>>1;j<Oe;){var ge=2*(j+1)-1,Ue=q[ge],We=ge+1,Qe=q[We];if(0>o(Ue,ue))We<X&&0>o(Qe,Ue)?(q[j]=Qe,q[We]=ue,j=We):(q[j]=Ue,q[ge]=ue,j=ge);else if(We<X&&0>o(Qe,ue))q[j]=Qe,q[We]=ue,j=We;else break e}}return le}function o(q,le){var ue=q.sortIndex-le.sortIndex;return ue!==0?ue:q.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],g=1,y=null,x=3,S=!1,k=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(q){for(var le=r(m);le!==null;){if(le.callback===null)s(m);else if(le.startTime<=q)s(m),le.sortIndex=le.expirationTime,e(h,le);else break;le=r(m)}}function A(q){if(_=!1,D(q),!k)if(r(h)!==null)k=!0,ce(V);else{var le=r(m);le!==null&&we(A,le.startTime-q)}}function V(q,le){k=!1,_&&(_=!1,P(J),J=-1),S=!0;var ue=x;try{for(D(le),y=r(h);y!==null&&(!(y.expirationTime>le)||q&&!ee());){var j=y.callback;if(typeof j=="function"){y.callback=null,x=y.priorityLevel;var X=j(y.expirationTime<=le);le=t.unstable_now(),typeof X=="function"?y.callback=X:y===r(h)&&s(h),D(le)}else s(h);y=r(h)}if(y!==null)var Oe=!0;else{var ge=r(m);ge!==null&&we(A,ge.startTime-le),Oe=!1}return Oe}finally{y=null,x=ue,S=!1}}var G=!1,B=null,J=-1,Q=5,U=-1;function ee(){return!(t.unstable_now()-U<Q)}function Z(){if(B!==null){var q=t.unstable_now();U=q;var le=!0;try{le=B(!0,q)}finally{le?te():(G=!1,B=null)}}else G=!1}var te;if(typeof E=="function")te=function(){E(Z)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Ce=Y.port2;Y.port1.onmessage=Z,te=function(){Ce.postMessage(null)}}else te=function(){C(Z,0)};function ce(q){B=q,G||(G=!0,te())}function we(q,le){J=C(function(){q(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){k||S||(k=!0,ce(V))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(q){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var ue=x;x=le;try{return q()}finally{x=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,le){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ue=x;x=q;try{return le()}finally{x=ue}},t.unstable_scheduleCallback=function(q,le,ue){var j=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?j+ue:j):ue=j,q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ue+X,q={id:g++,callback:le,priorityLevel:q,startTime:ue,expirationTime:X,sortIndex:-1},ue>j?(q.sortIndex=ue,e(m,q),r(h)===null&&q===r(m)&&(_?(P(J),J=-1):_=!0,we(A,ue-j))):(q.sortIndex=X,e(h,q),k||S||(k=!0,ce(V))),q},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(q){var le=x;return function(){var ue=x;x=le;try{return q.apply(this,arguments)}finally{x=ue}}}})(vf)),vf}var nv;function BS(){return nv||(nv=1,gf.exports=VS()),gf.exports}var sv;function US(){if(sv)return zr;sv=1;var t=nc(),e=BS();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function x(n){return h.call(y,n)?!0:h.call(g,n)?!1:m.test(n)?y[n]=!0:(g[n]=!0,!1)}function S(n,i,l,c){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,i,l,c){if(i===null||typeof i>"u"||S(n,i,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function _(n,i,l,c,p,v,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=n,this.type=i,this.sanitizeURL=v,this.removeEmptyString=b}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new _(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];C[i]=new _(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new _(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new _(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new _(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new _(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new _(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new _(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new _(n,5,!1,n.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function E(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(P,E);C[i]=new _(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(P,E);C[i]=new _(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(P,E);C[i]=new _(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new _(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new _(n,1,!1,n.toLowerCase(),null,!0,!0)});function D(n,i,l,c){var p=C.hasOwnProperty(i)?C[i]:null;(p!==null?p.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,l,p,c)&&(l=null),c||p===null?x(i)&&(l===null?n.removeAttribute(i):n.setAttribute(i,""+l)):p.mustUseProperty?n[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,c=p.attributeNamespace,l===null?n.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,c?n.setAttributeNS(c,i,l):n.setAttribute(i,l))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),G=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),ee=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),q=Symbol.iterator;function le(n){return n===null||typeof n!="object"?null:(n=q&&n[q]||n["@@iterator"],typeof n=="function"?n:null)}var ue=Object.assign,j;function X(n){if(j===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||""}return`
`+j+n}var Oe=!1;function ge(n,i){if(!n||Oe)return"";Oe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch($){var c=$}Reflect.construct(n,[],i)}else{try{i.call()}catch($){c=$}n.call(i.prototype)}else{try{throw Error()}catch($){c=$}n()}}catch($){if($&&c&&typeof $.stack=="string"){for(var p=$.stack.split(`
`),v=c.stack.split(`
`),b=p.length-1,T=v.length-1;1<=b&&0<=T&&p[b]!==v[T];)T--;for(;1<=b&&0<=T;b--,T--)if(p[b]!==v[T]){if(b!==1||T!==1)do if(b--,T--,0>T||p[b]!==v[T]){var O=`
`+p[b].replace(" at new "," at ");return n.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",n.displayName)),O}while(1<=b&&0<=T);break}}}finally{Oe=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?X(n):""}function Ue(n){switch(n.tag){case 5:return X(n.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return n=ge(n.type,!1),n;case 11:return n=ge(n.type.render,!1),n;case 1:return n=ge(n.type,!0),n;default:return""}}function We(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case G:return"Portal";case Q:return"Profiler";case J:return"StrictMode";case te:return"Suspense";case Y:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ee:return(n.displayName||"Context")+".Consumer";case U:return(n._context.displayName||"Context")+".Provider";case Z:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ce:return i=n.displayName||null,i!==null?i:We(n.type)||"Memo";case ce:i=n._payload,n=n._init;try{return We(n(i))}catch{}}return null}function Qe(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return We(i);case 8:return i===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function $e(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ke(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Et(n){var i=Ke(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return p.call(this)},set:function(b){c=""+b,v.call(this,b)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function gr(n){n._valueTracker||(n._valueTracker=Et(n))}function Bt(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return n&&(c=Ke(n)?n.checked?"true":"false":n.value),n=c,n!==l?(i.setValue(n),!0):!1}function Rt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function yn(n,i){var l=i.checked;return ue({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function en(n,i){var l=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;l=$e(i.value!=null?i.value:l),n._wrapperState={initialChecked:c,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function vr(n,i){i=i.checked,i!=null&&D(n,"checked",i,!1)}function $r(n,i){vr(n,i);var l=$e(i.value),c=i.type;if(l!=null)c==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Or(n,i.type,l):i.hasOwnProperty("defaultValue")&&Or(n,i.type,$e(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function xn(n,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,l||i===n.value||(n.value=i),n.defaultValue=i}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function Or(n,i,l){(i!=="number"||Rt(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var jr=Array.isArray;function nr(n,i,l,c){if(n=n.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<n.length;l++)p=i.hasOwnProperty("$"+n[l].value),n[l].selected!==p&&(n[l].selected=p),p&&c&&(n[l].defaultSelected=!0)}else{for(l=""+$e(l),i=null,p=0;p<n.length;p++){if(n[p].value===l){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}i!==null||n[p].disabled||(i=n[p])}i!==null&&(i.selected=!0)}}function N(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return ue({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function M(n,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(r(92));if(jr(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),l=i}n._wrapperState={initialValue:$e(l)}}function K(n,i){var l=$e(i.value),c=$e(i.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),i.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),c!=null&&(n.defaultValue=""+c)}function me(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function de(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function re(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?de(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ve,Ge=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,c,p){MSApp.execUnsafeLocalFunction(function(){return n(i,l,c,p)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(ve=ve||document.createElement("div"),ve.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ve.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Ze(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vr=["Webkit","ms","Moz","O"];Object.keys(gt).forEach(function(n){Vr.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),gt[i]=gt[n]})});function Rr(n,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||gt.hasOwnProperty(n)&&gt[n]?(""+i).trim():i+"px"}function tn(n,i){n=n.style;for(var l in i)if(i.hasOwnProperty(l)){var c=l.indexOf("--")===0,p=Rr(l,i[l],c);l==="float"&&(l="cssFloat"),c?n.setProperty(l,p):n[l]=p}}var wn=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rn(n,i){if(i){if(wn[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function nn(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dr=null;function sn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var De=null,pe=null,Te=null;function Fe(n){if(n=Xo(n)){if(typeof De!="function")throw Error(r(280));var i=n.stateNode;i&&(i=El(i),De(n.stateNode,n.type,i))}}function st(n){pe?Te?Te.push(n):Te=[n]:pe=n}function ft(){if(pe){var n=pe,i=Te;if(Te=pe=null,Fe(n),i)for(n=0;n<i.length;n++)Fe(i[n])}}function wt(n,i){return n(i)}function ht(){}var kt=!1;function L(n,i,l){if(kt)return n(i,l);kt=!0;try{return wt(n,i,l)}finally{kt=!1,(pe!==null||Te!==null)&&(ht(),ft())}}function Ft(n,i){var l=n.stateNode;if(l===null)return null;var c=El(l);if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var ot=!1;if(d)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){ot=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch{ot=!1}function fe(n,i,l,c,p,v,b,T,O){var $=Array.prototype.slice.call(arguments,3);try{i.apply(l,$)}catch(ie){this.onError(ie)}}var Ut=!1,be=null,Ye=!1,Br=null,Kt={onError:function(n){Ut=!0,be=n}};function ni(n,i,l,c,p,v,b,T,O){Ut=!1,be=null,fe.apply(Kt,arguments)}function Li(n,i,l,c,p,v,b,T,O){if(ni.apply(this,arguments),Ut){if(Ut){var $=be;Ut=!1,be=null}else throw Error(r(198));Ye||(Ye=!0,Br=$)}}function ke(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function Jn(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function jo(n){if(ke(n)!==n)throw Error(r(188))}function Oc(n){var i=n.alternate;if(!i){if(i=ke(n),i===null)throw Error(r(188));return i!==n?null:n}for(var l=n,c=i;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return jo(p),n;if(v===c)return jo(p),i;v=v.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=v;else{for(var b=!1,T=p.child;T;){if(T===l){b=!0,l=p,c=v;break}if(T===c){b=!0,c=p,l=v;break}T=T.sibling}if(!b){for(T=v.child;T;){if(T===l){b=!0,l=v,c=p;break}if(T===c){b=!0,c=v,l=p;break}T=T.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:i}function Ro(n){return n=Oc(n),n!==null?il(n):null}function il(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=il(n);if(i!==null)return i;n=n.sibling}return null}var ol=e.unstable_scheduleCallback,al=e.unstable_cancelCallback,ll=e.unstable_shouldYield,ul=e.unstable_requestPaint,Dt=e.unstable_now,jc=e.unstable_getCurrentPriorityLevel,Do=e.unstable_ImmediatePriority,Io=e.unstable_UserBlockingPriority,ws=e.unstable_NormalPriority,Rc=e.unstable_LowPriority,cl=e.unstable_IdlePriority,si=null,on=null;function cr(n){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(si,n,void 0,(n.current.flags&128)===128)}catch{}}var I=Math.clz32?Math.clz32:Ae,W=Math.log,H=Math.LN2;function Ae(n){return n>>>=0,n===0?32:31-(W(n)/H|0)|0}var Ie=64,ut=4194304;function Ur(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function es(n,i){var l=n.pendingLanes;if(l===0)return 0;var c=0,p=n.suspendedLanes,v=n.pingedLanes,b=l&268435455;if(b!==0){var T=b&~p;T!==0?c=Ur(T):(v&=b,v!==0&&(c=Ur(v)))}else b=l&~p,b!==0?c=Ur(b):v!==0&&(c=Ur(v));if(c===0)return 0;if(i!==0&&i!==c&&(i&p)===0&&(p=c&-c,v=i&-i,p>=v||p===16&&(v&4194240)!==0))return i;if((c&4)!==0&&(c|=l&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)l=31-I(i),p=1<<l,c|=n[l],i&=~p;return c}function rb(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nb(n,i){for(var l=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,v=n.pendingLanes;0<v;){var b=31-I(v),T=1<<b,O=p[b];O===-1?((T&l)===0||(T&c)!==0)&&(p[b]=rb(T,i)):O<=i&&(n.expiredLanes|=T),v&=~T}}function Dc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Np(){var n=Ie;return Ie<<=1,(Ie&4194240)===0&&(Ie=64),n}function Ic(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function Ao(n,i,l){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-I(i),n[i]=l}function sb(n,i){var l=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<l;){var p=31-I(l),v=1<<p;i[p]=0,c[p]=-1,n[p]=-1,l&=~v}}function Ac(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var c=31-I(l),p=1<<c;p&i|n[c]&i&&(n[c]|=i),l&=~p}}var bt=0;function Op(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var jp,Mc,Rp,Dp,Ip,Lc=!1,dl=[],bs=null,Ss=null,_s=null,Mo=new Map,Lo=new Map,Cs=[],ib="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ap(n,i){switch(n){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Mo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lo.delete(i.pointerId)}}function Fo(n,i,l,c,p,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[p]},i!==null&&(i=Xo(i),i!==null&&Mc(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),n)}function ob(n,i,l,c,p){switch(i){case"focusin":return bs=Fo(bs,n,i,l,c,p),!0;case"dragenter":return Ss=Fo(Ss,n,i,l,c,p),!0;case"mouseover":return _s=Fo(_s,n,i,l,c,p),!0;case"pointerover":var v=p.pointerId;return Mo.set(v,Fo(Mo.get(v)||null,n,i,l,c,p)),!0;case"gotpointercapture":return v=p.pointerId,Lo.set(v,Fo(Lo.get(v)||null,n,i,l,c,p)),!0}return!1}function Mp(n){var i=ii(n.target);if(i!==null){var l=ke(i);if(l!==null){if(i=l.tag,i===13){if(i=Jn(l),i!==null){n.blockedOn=i,Ip(n.priority,function(){Rp(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=zc(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);Dr=c,l.target.dispatchEvent(c),Dr=null}else return i=Xo(l),i!==null&&Mc(i),n.blockedOn=l,!1;i.shift()}return!0}function Lp(n,i,l){fl(n)&&l.delete(i)}function ab(){Lc=!1,bs!==null&&fl(bs)&&(bs=null),Ss!==null&&fl(Ss)&&(Ss=null),_s!==null&&fl(_s)&&(_s=null),Mo.forEach(Lp),Lo.forEach(Lp)}function zo(n,i){n.blockedOn===i&&(n.blockedOn=null,Lc||(Lc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ab)))}function $o(n){function i(p){return zo(p,n)}if(0<dl.length){zo(dl[0],n);for(var l=1;l<dl.length;l++){var c=dl[l];c.blockedOn===n&&(c.blockedOn=null)}}for(bs!==null&&zo(bs,n),Ss!==null&&zo(Ss,n),_s!==null&&zo(_s,n),Mo.forEach(i),Lo.forEach(i),l=0;l<Cs.length;l++)c=Cs[l],c.blockedOn===n&&(c.blockedOn=null);for(;0<Cs.length&&(l=Cs[0],l.blockedOn===null);)Mp(l),l.blockedOn===null&&Cs.shift()}var Fi=A.ReactCurrentBatchConfig,hl=!0;function lb(n,i,l,c){var p=bt,v=Fi.transition;Fi.transition=null;try{bt=1,Fc(n,i,l,c)}finally{bt=p,Fi.transition=v}}function ub(n,i,l,c){var p=bt,v=Fi.transition;Fi.transition=null;try{bt=4,Fc(n,i,l,c)}finally{bt=p,Fi.transition=v}}function Fc(n,i,l,c){if(hl){var p=zc(n,i,l,c);if(p===null)rd(n,i,c,pl,l),Ap(n,c);else if(ob(p,n,i,l,c))c.stopPropagation();else if(Ap(n,c),i&4&&-1<ib.indexOf(n)){for(;p!==null;){var v=Xo(p);if(v!==null&&jp(v),v=zc(n,i,l,c),v===null&&rd(n,i,c,pl,l),v===p)break;p=v}p!==null&&c.stopPropagation()}else rd(n,i,c,null,l)}}var pl=null;function zc(n,i,l,c){if(pl=null,n=sn(c),n=ii(n),n!==null)if(i=ke(n),i===null)n=null;else if(l=i.tag,l===13){if(n=Jn(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return pl=n,null}function Fp(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jc()){case Do:return 1;case Io:return 4;case ws:case Rc:return 16;case cl:return 536870912;default:return 16}default:return 16}}var ks=null,$c=null,ml=null;function zp(){if(ml)return ml;var n,i=$c,l=i.length,c,p="value"in ks?ks.value:ks.textContent,v=p.length;for(n=0;n<l&&i[n]===p[n];n++);var b=l-n;for(c=1;c<=b&&i[l-c]===p[v-c];c++);return ml=p.slice(n,1<c?1-c:void 0)}function gl(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function vl(){return!0}function $p(){return!1}function qr(n){function i(l,c,p,v,b){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(l=n[T],this[T]=l?l(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?vl:$p,this.isPropagationStopped=$p,this}return ue(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),i}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vc=qr(zi),Vo=ue({},zi,{view:0,detail:0}),cb=qr(Vo),Bc,Uc,Bo,yl=ue({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Bo&&(Bo&&n.type==="mousemove"?(Bc=n.screenX-Bo.screenX,Uc=n.screenY-Bo.screenY):Uc=Bc=0,Bo=n),Bc)},movementY:function(n){return"movementY"in n?n.movementY:Uc}}),Vp=qr(yl),db=ue({},yl,{dataTransfer:0}),fb=qr(db),hb=ue({},Vo,{relatedTarget:0}),qc=qr(hb),pb=ue({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),mb=qr(pb),gb=ue({},zi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vb=qr(gb),yb=ue({},zi,{data:0}),Bp=qr(yb),xb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sb(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=bb[n])?!!i[n]:!1}function Wc(){return Sb}var _b=ue({},Vo,{key:function(n){if(n.key){var i=xb[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=gl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?wb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wc,charCode:function(n){return n.type==="keypress"?gl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Cb=qr(_b),kb=ue({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Up=qr(kb),Eb=ue({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wc}),Tb=qr(Eb),Pb=ue({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nb=qr(Pb),Ob=ue({},yl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),jb=qr(Ob),Rb=[9,13,27,32],Hc=d&&"CompositionEvent"in window,Uo=null;d&&"documentMode"in document&&(Uo=document.documentMode);var Db=d&&"TextEvent"in window&&!Uo,qp=d&&(!Hc||Uo&&8<Uo&&11>=Uo),Wp=" ",Hp=!1;function Qp(n,i){switch(n){case"keyup":return Rb.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $i=!1;function Ib(n,i){switch(n){case"compositionend":return Kp(i);case"keypress":return i.which!==32?null:(Hp=!0,Wp);case"textInput":return n=i.data,n===Wp&&Hp?null:n;default:return null}}function Ab(n,i){if($i)return n==="compositionend"||!Hc&&Qp(n,i)?(n=zp(),ml=$c=ks=null,$i=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return qp&&i.locale!=="ko"?null:i.data;default:return null}}var Mb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Mb[n.type]:i==="textarea"}function Zp(n,i,l,c){st(c),i=_l(i,"onChange"),0<i.length&&(l=new Vc("onChange","change",null,l,c),n.push({event:l,listeners:i}))}var qo=null,Wo=null;function Lb(n){pm(n,0)}function xl(n){var i=Wi(n);if(Bt(i))return n}function Fb(n,i){if(n==="change")return i}var Yp=!1;if(d){var Qc;if(d){var Kc="oninput"in document;if(!Kc){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),Kc=typeof Xp.oninput=="function"}Qc=Kc}else Qc=!1;Yp=Qc&&(!document.documentMode||9<document.documentMode)}function Jp(){qo&&(qo.detachEvent("onpropertychange",em),Wo=qo=null)}function em(n){if(n.propertyName==="value"&&xl(Wo)){var i=[];Zp(i,Wo,n,sn(n)),L(Lb,i)}}function zb(n,i,l){n==="focusin"?(Jp(),qo=i,Wo=l,qo.attachEvent("onpropertychange",em)):n==="focusout"&&Jp()}function $b(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xl(Wo)}function Vb(n,i){if(n==="click")return xl(i)}function Bb(n,i){if(n==="input"||n==="change")return xl(i)}function Ub(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var bn=typeof Object.is=="function"?Object.is:Ub;function Ho(n,i){if(bn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!h.call(i,p)||!bn(n[p],i[p]))return!1}return!0}function tm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function rm(n,i){var l=tm(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=i&&c>=i)return{node:l,offset:i-n};n=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tm(l)}}function nm(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?nm(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function sm(){for(var n=window,i=Rt();i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=Rt(n.document)}return i}function Gc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function qb(n){var i=sm(),l=n.focusedElem,c=n.selectionRange;if(i!==l&&l&&l.ownerDocument&&nm(l.ownerDocument.documentElement,l)){if(c!==null&&Gc(l)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(n,l.value.length);else if(n=(i=l.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var p=l.textContent.length,v=Math.min(c.start,p);c=c.end===void 0?v:Math.min(c.end,p),!n.extend&&v>c&&(p=c,c=v,v=p),p=rm(l,v);var b=rm(l,c);p&&b&&(n.rangeCount!==1||n.anchorNode!==p.node||n.anchorOffset!==p.offset||n.focusNode!==b.node||n.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),n.removeAllRanges(),v>c?(n.addRange(i),n.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),n.addRange(i)))}}for(i=[],n=l;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)n=i[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Wb=d&&"documentMode"in document&&11>=document.documentMode,Vi=null,Zc=null,Qo=null,Yc=!1;function im(n,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yc||Vi==null||Vi!==Rt(c)||(c=Vi,"selectionStart"in c&&Gc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Qo&&Ho(Qo,c)||(Qo=c,c=_l(Zc,"onSelect"),0<c.length&&(i=new Vc("onSelect","select",null,i,l),n.push({event:i,listeners:c}),i.target=Vi)))}function wl(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var Bi={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},Xc={},om={};d&&(om=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function bl(n){if(Xc[n])return Xc[n];if(!Bi[n])return n;var i=Bi[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in om)return Xc[n]=i[l];return n}var am=bl("animationend"),lm=bl("animationiteration"),um=bl("animationstart"),cm=bl("transitionend"),dm=new Map,fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Es(n,i){dm.set(n,i),a(i,[n])}for(var Jc=0;Jc<fm.length;Jc++){var ed=fm[Jc],Hb=ed.toLowerCase(),Qb=ed[0].toUpperCase()+ed.slice(1);Es(Hb,"on"+Qb)}Es(am,"onAnimationEnd"),Es(lm,"onAnimationIteration"),Es(um,"onAnimationStart"),Es("dblclick","onDoubleClick"),Es("focusin","onFocus"),Es("focusout","onBlur"),Es(cm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ko));function hm(n,i,l){var c=n.type||"unknown-event";n.currentTarget=l,Li(c,i,void 0,n),n.currentTarget=null}function pm(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],p=c.event;c=c.listeners;e:{var v=void 0;if(i)for(var b=c.length-1;0<=b;b--){var T=c[b],O=T.instance,$=T.currentTarget;if(T=T.listener,O!==v&&p.isPropagationStopped())break e;hm(p,T,$),v=O}else for(b=0;b<c.length;b++){if(T=c[b],O=T.instance,$=T.currentTarget,T=T.listener,O!==v&&p.isPropagationStopped())break e;hm(p,T,$),v=O}}}if(Ye)throw n=Br,Ye=!1,Br=null,n}function Pt(n,i){var l=i[ld];l===void 0&&(l=i[ld]=new Set);var c=n+"__bubble";l.has(c)||(mm(i,n,2,!1),l.add(c))}function td(n,i,l){var c=0;i&&(c|=4),mm(l,n,c,i)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function Go(n){if(!n[Sl]){n[Sl]=!0,s.forEach(function(l){l!=="selectionchange"&&(Kb.has(l)||td(l,!1,n),td(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Sl]||(i[Sl]=!0,td("selectionchange",!1,i))}}function mm(n,i,l,c){switch(Fp(i)){case 1:var p=lb;break;case 4:p=ub;break;default:p=Fc}l=p.bind(null,i,l,n),p=void 0,!ot||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(i,l,{capture:!0,passive:p}):n.addEventListener(i,l,!0):p!==void 0?n.addEventListener(i,l,{passive:p}):n.addEventListener(i,l,!1)}function rd(n,i,l,c,p){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var T=c.stateNode.containerInfo;if(T===p||T.nodeType===8&&T.parentNode===p)break;if(b===4)for(b=c.return;b!==null;){var O=b.tag;if((O===3||O===4)&&(O=b.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;b=b.return}for(;T!==null;){if(b=ii(T),b===null)return;if(O=b.tag,O===5||O===6){c=v=b;continue e}T=T.parentNode}}c=c.return}L(function(){var $=v,ie=sn(l),oe=[];e:{var ne=dm.get(n);if(ne!==void 0){var Se=Vc,Pe=n;switch(n){case"keypress":if(gl(l)===0)break e;case"keydown":case"keyup":Se=Cb;break;case"focusin":Pe="focus",Se=qc;break;case"focusout":Pe="blur",Se=qc;break;case"beforeblur":case"afterblur":Se=qc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=fb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=Tb;break;case am:case lm:case um:Se=mb;break;case cm:Se=Nb;break;case"scroll":Se=cb;break;case"wheel":Se=jb;break;case"copy":case"cut":case"paste":Se=vb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=Up}var Ne=(i&4)!==0,qt=!Ne&&n==="scroll",F=Ne?ne!==null?ne+"Capture":null:ne;Ne=[];for(var R=$,z;R!==null;){z=R;var he=z.stateNode;if(z.tag===5&&he!==null&&(z=he,F!==null&&(he=Ft(R,F),he!=null&&Ne.push(Zo(R,he,z)))),qt)break;R=R.return}0<Ne.length&&(ne=new Se(ne,Pe,null,l,ie),oe.push({event:ne,listeners:Ne}))}}if((i&7)===0){e:{if(ne=n==="mouseover"||n==="pointerover",Se=n==="mouseout"||n==="pointerout",ne&&l!==Dr&&(Pe=l.relatedTarget||l.fromElement)&&(ii(Pe)||Pe[ts]))break e;if((Se||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,Se?(Pe=l.relatedTarget||l.toElement,Se=$,Pe=Pe?ii(Pe):null,Pe!==null&&(qt=ke(Pe),Pe!==qt||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Se=null,Pe=$),Se!==Pe)){if(Ne=Vp,he="onMouseLeave",F="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(Ne=Up,he="onPointerLeave",F="onPointerEnter",R="pointer"),qt=Se==null?ne:Wi(Se),z=Pe==null?ne:Wi(Pe),ne=new Ne(he,R+"leave",Se,l,ie),ne.target=qt,ne.relatedTarget=z,he=null,ii(ie)===$&&(Ne=new Ne(F,R+"enter",Pe,l,ie),Ne.target=z,Ne.relatedTarget=qt,he=Ne),qt=he,Se&&Pe)t:{for(Ne=Se,F=Pe,R=0,z=Ne;z;z=Ui(z))R++;for(z=0,he=F;he;he=Ui(he))z++;for(;0<R-z;)Ne=Ui(Ne),R--;for(;0<z-R;)F=Ui(F),z--;for(;R--;){if(Ne===F||F!==null&&Ne===F.alternate)break t;Ne=Ui(Ne),F=Ui(F)}Ne=null}else Ne=null;Se!==null&&gm(oe,ne,Se,Ne,!1),Pe!==null&&qt!==null&&gm(oe,qt,Pe,Ne,!0)}}e:{if(ne=$?Wi($):window,Se=ne.nodeName&&ne.nodeName.toLowerCase(),Se==="select"||Se==="input"&&ne.type==="file")var je=Fb;else if(Gp(ne))if(Yp)je=Bb;else{je=$b;var Me=zb}else(Se=ne.nodeName)&&Se.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(je=Vb);if(je&&(je=je(n,$))){Zp(oe,je,l,ie);break e}Me&&Me(n,ne,$),n==="focusout"&&(Me=ne._wrapperState)&&Me.controlled&&ne.type==="number"&&Or(ne,"number",ne.value)}switch(Me=$?Wi($):window,n){case"focusin":(Gp(Me)||Me.contentEditable==="true")&&(Vi=Me,Zc=$,Qo=null);break;case"focusout":Qo=Zc=Vi=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,im(oe,l,ie);break;case"selectionchange":if(Wb)break;case"keydown":case"keyup":im(oe,l,ie)}var Le;if(Hc)e:{switch(n){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else $i?Qp(n,l)&&(qe="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(qp&&l.locale!=="ko"&&($i||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&$i&&(Le=zp()):(ks=ie,$c="value"in ks?ks.value:ks.textContent,$i=!0)),Me=_l($,qe),0<Me.length&&(qe=new Bp(qe,n,null,l,ie),oe.push({event:qe,listeners:Me}),Le?qe.data=Le:(Le=Kp(l),Le!==null&&(qe.data=Le)))),(Le=Db?Ib(n,l):Ab(n,l))&&($=_l($,"onBeforeInput"),0<$.length&&(ie=new Bp("onBeforeInput","beforeinput",null,l,ie),oe.push({event:ie,listeners:$}),ie.data=Le))}pm(oe,i)})}function Zo(n,i,l){return{instance:n,listener:i,currentTarget:l}}function _l(n,i){for(var l=i+"Capture",c=[];n!==null;){var p=n,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=Ft(n,l),v!=null&&c.unshift(Zo(n,v,p)),v=Ft(n,i),v!=null&&c.push(Zo(n,v,p))),n=n.return}return c}function Ui(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function gm(n,i,l,c,p){for(var v=i._reactName,b=[];l!==null&&l!==c;){var T=l,O=T.alternate,$=T.stateNode;if(O!==null&&O===c)break;T.tag===5&&$!==null&&(T=$,p?(O=Ft(l,v),O!=null&&b.unshift(Zo(l,O,T))):p||(O=Ft(l,v),O!=null&&b.push(Zo(l,O,T)))),l=l.return}b.length!==0&&n.push({event:i,listeners:b})}var Gb=/\r\n?/g,Zb=/\u0000|\uFFFD/g;function vm(n){return(typeof n=="string"?n:""+n).replace(Gb,`
`).replace(Zb,"")}function Cl(n,i,l){if(i=vm(i),vm(n)!==i&&l)throw Error(r(425))}function kl(){}var nd=null,sd=null;function id(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var od=typeof setTimeout=="function"?setTimeout:void 0,Yb=typeof clearTimeout=="function"?clearTimeout:void 0,ym=typeof Promise=="function"?Promise:void 0,Xb=typeof queueMicrotask=="function"?queueMicrotask:typeof ym<"u"?function(n){return ym.resolve(null).then(n).catch(Jb)}:od;function Jb(n){setTimeout(function(){throw n})}function ad(n,i){var l=i,c=0;do{var p=l.nextSibling;if(n.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(c===0){n.removeChild(p),$o(i);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=p}while(l);$o(i)}function Ts(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function xm(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}var qi=Math.random().toString(36).slice(2),Fn="__reactFiber$"+qi,Yo="__reactProps$"+qi,ts="__reactContainer$"+qi,ld="__reactEvents$"+qi,eS="__reactListeners$"+qi,tS="__reactHandles$"+qi;function ii(n){var i=n[Fn];if(i)return i;for(var l=n.parentNode;l;){if(i=l[ts]||l[Fn]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=xm(n);n!==null;){if(l=n[Fn])return l;n=xm(n)}return i}n=l,l=n.parentNode}return null}function Xo(n){return n=n[Fn]||n[ts],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Wi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function El(n){return n[Yo]||null}var ud=[],Hi=-1;function Ps(n){return{current:n}}function Nt(n){0>Hi||(n.current=ud[Hi],ud[Hi]=null,Hi--)}function Tt(n,i){Hi++,ud[Hi]=n.current,n.current=i}var Ns={},yr=Ps(Ns),Ir=Ps(!1),oi=Ns;function Qi(n,i){var l=n.type.contextTypes;if(!l)return Ns;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in l)p[v]=i[v];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=p),p}function Ar(n){return n=n.childContextTypes,n!=null}function Tl(){Nt(Ir),Nt(yr)}function wm(n,i,l){if(yr.current!==Ns)throw Error(r(168));Tt(yr,i),Tt(Ir,l)}function bm(n,i,l){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var p in c)if(!(p in i))throw Error(r(108,Qe(n)||"Unknown",p));return ue({},l,c)}function Pl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ns,oi=yr.current,Tt(yr,n),Tt(Ir,Ir.current),!0}function Sm(n,i,l){var c=n.stateNode;if(!c)throw Error(r(169));l?(n=bm(n,i,oi),c.__reactInternalMemoizedMergedChildContext=n,Nt(Ir),Nt(yr),Tt(yr,n)):Nt(Ir),Tt(Ir,l)}var rs=null,Nl=!1,cd=!1;function _m(n){rs===null?rs=[n]:rs.push(n)}function rS(n){Nl=!0,_m(n)}function Os(){if(!cd&&rs!==null){cd=!0;var n=0,i=bt;try{var l=rs;for(bt=1;n<l.length;n++){var c=l[n];do c=c(!0);while(c!==null)}rs=null,Nl=!1}catch(p){throw rs!==null&&(rs=rs.slice(n+1)),ol(Do,Os),p}finally{bt=i,cd=!1}}return null}var Ki=[],Gi=0,Ol=null,jl=0,an=[],ln=0,ai=null,ns=1,ss="";function li(n,i){Ki[Gi++]=jl,Ki[Gi++]=Ol,Ol=n,jl=i}function Cm(n,i,l){an[ln++]=ns,an[ln++]=ss,an[ln++]=ai,ai=n;var c=ns;n=ss;var p=32-I(c)-1;c&=~(1<<p),l+=1;var v=32-I(i)+p;if(30<v){var b=p-p%5;v=(c&(1<<b)-1).toString(32),c>>=b,p-=b,ns=1<<32-I(i)+p|l<<p|c,ss=v+n}else ns=1<<v|l<<p|c,ss=n}function dd(n){n.return!==null&&(li(n,1),Cm(n,1,0))}function fd(n){for(;n===Ol;)Ol=Ki[--Gi],Ki[Gi]=null,jl=Ki[--Gi],Ki[Gi]=null;for(;n===ai;)ai=an[--ln],an[ln]=null,ss=an[--ln],an[ln]=null,ns=an[--ln],an[ln]=null}var Wr=null,Hr=null,jt=!1,Sn=null;function km(n,i){var l=fn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=n,i=n.deletions,i===null?(n.deletions=[l],n.flags|=16):i.push(l)}function Em(n,i){switch(n.tag){case 5:var l=n.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Wr=n,Hr=Ts(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Wr=n,Hr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=ai!==null?{id:ns,overflow:ss}:null,n.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=fn(18,null,null,0),l.stateNode=i,l.return=n,n.child=l,Wr=n,Hr=null,!0):!1;default:return!1}}function hd(n){return(n.mode&1)!==0&&(n.flags&128)===0}function pd(n){if(jt){var i=Hr;if(i){var l=i;if(!Em(n,i)){if(hd(n))throw Error(r(418));i=Ts(l.nextSibling);var c=Wr;i&&Em(n,i)?km(c,l):(n.flags=n.flags&-4097|2,jt=!1,Wr=n)}}else{if(hd(n))throw Error(r(418));n.flags=n.flags&-4097|2,jt=!1,Wr=n}}}function Tm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Wr=n}function Rl(n){if(n!==Wr)return!1;if(!jt)return Tm(n),jt=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!id(n.type,n.memoizedProps)),i&&(i=Hr)){if(hd(n))throw Pm(),Error(r(418));for(;i;)km(n,i),i=Ts(i.nextSibling)}if(Tm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(i===0){Hr=Ts(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}n=n.nextSibling}Hr=null}}else Hr=Wr?Ts(n.stateNode.nextSibling):null;return!0}function Pm(){for(var n=Hr;n;)n=Ts(n.nextSibling)}function Zi(){Hr=Wr=null,jt=!1}function md(n){Sn===null?Sn=[n]:Sn.push(n)}var nS=A.ReactCurrentBatchConfig;function Jo(n,i,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var c=l.stateNode}if(!c)throw Error(r(147,n));var p=c,v=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(b){var T=p.refs;b===null?delete T[v]:T[v]=b},i._stringRef=v,i)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function Dl(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Nm(n){var i=n._init;return i(n._payload)}function Om(n){function i(F,R){if(n){var z=F.deletions;z===null?(F.deletions=[R],F.flags|=16):z.push(R)}}function l(F,R){if(!n)return null;for(;R!==null;)i(F,R),R=R.sibling;return null}function c(F,R){for(F=new Map;R!==null;)R.key!==null?F.set(R.key,R):F.set(R.index,R),R=R.sibling;return F}function p(F,R){return F=Fs(F,R),F.index=0,F.sibling=null,F}function v(F,R,z){return F.index=z,n?(z=F.alternate,z!==null?(z=z.index,z<R?(F.flags|=2,R):z):(F.flags|=2,R)):(F.flags|=1048576,R)}function b(F){return n&&F.alternate===null&&(F.flags|=2),F}function T(F,R,z,he){return R===null||R.tag!==6?(R=af(z,F.mode,he),R.return=F,R):(R=p(R,z),R.return=F,R)}function O(F,R,z,he){var je=z.type;return je===B?ie(F,R,z.props.children,he,z.key):R!==null&&(R.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===ce&&Nm(je)===R.type)?(he=p(R,z.props),he.ref=Jo(F,R,z),he.return=F,he):(he=nu(z.type,z.key,z.props,null,F.mode,he),he.ref=Jo(F,R,z),he.return=F,he)}function $(F,R,z,he){return R===null||R.tag!==4||R.stateNode.containerInfo!==z.containerInfo||R.stateNode.implementation!==z.implementation?(R=lf(z,F.mode,he),R.return=F,R):(R=p(R,z.children||[]),R.return=F,R)}function ie(F,R,z,he,je){return R===null||R.tag!==7?(R=gi(z,F.mode,he,je),R.return=F,R):(R=p(R,z),R.return=F,R)}function oe(F,R,z){if(typeof R=="string"&&R!==""||typeof R=="number")return R=af(""+R,F.mode,z),R.return=F,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case V:return z=nu(R.type,R.key,R.props,null,F.mode,z),z.ref=Jo(F,null,R),z.return=F,z;case G:return R=lf(R,F.mode,z),R.return=F,R;case ce:var he=R._init;return oe(F,he(R._payload),z)}if(jr(R)||le(R))return R=gi(R,F.mode,z,null),R.return=F,R;Dl(F,R)}return null}function ne(F,R,z,he){var je=R!==null?R.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return je!==null?null:T(F,R,""+z,he);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return z.key===je?O(F,R,z,he):null;case G:return z.key===je?$(F,R,z,he):null;case ce:return je=z._init,ne(F,R,je(z._payload),he)}if(jr(z)||le(z))return je!==null?null:ie(F,R,z,he,null);Dl(F,z)}return null}function Se(F,R,z,he,je){if(typeof he=="string"&&he!==""||typeof he=="number")return F=F.get(z)||null,T(R,F,""+he,je);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case V:return F=F.get(he.key===null?z:he.key)||null,O(R,F,he,je);case G:return F=F.get(he.key===null?z:he.key)||null,$(R,F,he,je);case ce:var Me=he._init;return Se(F,R,z,Me(he._payload),je)}if(jr(he)||le(he))return F=F.get(z)||null,ie(R,F,he,je,null);Dl(R,he)}return null}function Pe(F,R,z,he){for(var je=null,Me=null,Le=R,qe=R=0,or=null;Le!==null&&qe<z.length;qe++){Le.index>qe?(or=Le,Le=null):or=Le.sibling;var vt=ne(F,Le,z[qe],he);if(vt===null){Le===null&&(Le=or);break}n&&Le&&vt.alternate===null&&i(F,Le),R=v(vt,R,qe),Me===null?je=vt:Me.sibling=vt,Me=vt,Le=or}if(qe===z.length)return l(F,Le),jt&&li(F,qe),je;if(Le===null){for(;qe<z.length;qe++)Le=oe(F,z[qe],he),Le!==null&&(R=v(Le,R,qe),Me===null?je=Le:Me.sibling=Le,Me=Le);return jt&&li(F,qe),je}for(Le=c(F,Le);qe<z.length;qe++)or=Se(Le,F,qe,z[qe],he),or!==null&&(n&&or.alternate!==null&&Le.delete(or.key===null?qe:or.key),R=v(or,R,qe),Me===null?je=or:Me.sibling=or,Me=or);return n&&Le.forEach(function(zs){return i(F,zs)}),jt&&li(F,qe),je}function Ne(F,R,z,he){var je=le(z);if(typeof je!="function")throw Error(r(150));if(z=je.call(z),z==null)throw Error(r(151));for(var Me=je=null,Le=R,qe=R=0,or=null,vt=z.next();Le!==null&&!vt.done;qe++,vt=z.next()){Le.index>qe?(or=Le,Le=null):or=Le.sibling;var zs=ne(F,Le,vt.value,he);if(zs===null){Le===null&&(Le=or);break}n&&Le&&zs.alternate===null&&i(F,Le),R=v(zs,R,qe),Me===null?je=zs:Me.sibling=zs,Me=zs,Le=or}if(vt.done)return l(F,Le),jt&&li(F,qe),je;if(Le===null){for(;!vt.done;qe++,vt=z.next())vt=oe(F,vt.value,he),vt!==null&&(R=v(vt,R,qe),Me===null?je=vt:Me.sibling=vt,Me=vt);return jt&&li(F,qe),je}for(Le=c(F,Le);!vt.done;qe++,vt=z.next())vt=Se(Le,F,qe,vt.value,he),vt!==null&&(n&&vt.alternate!==null&&Le.delete(vt.key===null?qe:vt.key),R=v(vt,R,qe),Me===null?je=vt:Me.sibling=vt,Me=vt);return n&&Le.forEach(function(MS){return i(F,MS)}),jt&&li(F,qe),je}function qt(F,R,z,he){if(typeof z=="object"&&z!==null&&z.type===B&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case V:e:{for(var je=z.key,Me=R;Me!==null;){if(Me.key===je){if(je=z.type,je===B){if(Me.tag===7){l(F,Me.sibling),R=p(Me,z.props.children),R.return=F,F=R;break e}}else if(Me.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===ce&&Nm(je)===Me.type){l(F,Me.sibling),R=p(Me,z.props),R.ref=Jo(F,Me,z),R.return=F,F=R;break e}l(F,Me);break}else i(F,Me);Me=Me.sibling}z.type===B?(R=gi(z.props.children,F.mode,he,z.key),R.return=F,F=R):(he=nu(z.type,z.key,z.props,null,F.mode,he),he.ref=Jo(F,R,z),he.return=F,F=he)}return b(F);case G:e:{for(Me=z.key;R!==null;){if(R.key===Me)if(R.tag===4&&R.stateNode.containerInfo===z.containerInfo&&R.stateNode.implementation===z.implementation){l(F,R.sibling),R=p(R,z.children||[]),R.return=F,F=R;break e}else{l(F,R);break}else i(F,R);R=R.sibling}R=lf(z,F.mode,he),R.return=F,F=R}return b(F);case ce:return Me=z._init,qt(F,R,Me(z._payload),he)}if(jr(z))return Pe(F,R,z,he);if(le(z))return Ne(F,R,z,he);Dl(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,R!==null&&R.tag===6?(l(F,R.sibling),R=p(R,z),R.return=F,F=R):(l(F,R),R=af(z,F.mode,he),R.return=F,F=R),b(F)):l(F,R)}return qt}var Yi=Om(!0),jm=Om(!1),Il=Ps(null),Al=null,Xi=null,gd=null;function vd(){gd=Xi=Al=null}function yd(n){var i=Il.current;Nt(Il),n._currentValue=i}function xd(n,i,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===l)break;n=n.return}}function Ji(n,i){Al=n,gd=Xi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Mr=!0),n.firstContext=null)}function un(n){var i=n._currentValue;if(gd!==n)if(n={context:n,memoizedValue:i,next:null},Xi===null){if(Al===null)throw Error(r(308));Xi=n,Al.dependencies={lanes:0,firstContext:n}}else Xi=Xi.next=n;return i}var ui=null;function wd(n){ui===null?ui=[n]:ui.push(n)}function Rm(n,i,l,c){var p=i.interleaved;return p===null?(l.next=l,wd(i)):(l.next=p.next,p.next=l),i.interleaved=l,is(n,c)}function is(n,i){n.lanes|=i;var l=n.alternate;for(l!==null&&(l.lanes|=i),l=n,n=n.return;n!==null;)n.childLanes|=i,l=n.alternate,l!==null&&(l.childLanes|=i),l=n,n=n.return;return l.tag===3?l.stateNode:null}var js=!1;function bd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dm(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function os(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function Rs(n,i,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(pt&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,is(n,l)}return p=c.interleaved,p===null?(i.next=i,wd(c)):(i.next=p.next,p.next=i),c.interleaved=i,is(n,l)}function Ml(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,l|=c,i.lanes=l,Ac(n,l)}}function Im(n,i){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?p=v=b:v=v.next=b,l=l.next}while(l!==null);v===null?p=v=i:v=v.next=i}else p=v=i;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:c.shared,effects:c.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}function Ll(n,i,l,c){var p=n.updateQueue;js=!1;var v=p.firstBaseUpdate,b=p.lastBaseUpdate,T=p.shared.pending;if(T!==null){p.shared.pending=null;var O=T,$=O.next;O.next=null,b===null?v=$:b.next=$,b=O;var ie=n.alternate;ie!==null&&(ie=ie.updateQueue,T=ie.lastBaseUpdate,T!==b&&(T===null?ie.firstBaseUpdate=$:T.next=$,ie.lastBaseUpdate=O))}if(v!==null){var oe=p.baseState;b=0,ie=$=O=null,T=v;do{var ne=T.lane,Se=T.eventTime;if((c&ne)===ne){ie!==null&&(ie=ie.next={eventTime:Se,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var Pe=n,Ne=T;switch(ne=i,Se=l,Ne.tag){case 1:if(Pe=Ne.payload,typeof Pe=="function"){oe=Pe.call(Se,oe,ne);break e}oe=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ne.payload,ne=typeof Pe=="function"?Pe.call(Se,oe,ne):Pe,ne==null)break e;oe=ue({},oe,ne);break e;case 2:js=!0}}T.callback!==null&&T.lane!==0&&(n.flags|=64,ne=p.effects,ne===null?p.effects=[T]:ne.push(T))}else Se={eventTime:Se,lane:ne,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ie===null?($=ie=Se,O=oe):ie=ie.next=Se,b|=ne;if(T=T.next,T===null){if(T=p.shared.pending,T===null)break;ne=T,T=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);if(ie===null&&(O=oe),p.baseState=O,p.firstBaseUpdate=$,p.lastBaseUpdate=ie,i=p.shared.interleaved,i!==null){p=i;do b|=p.lane,p=p.next;while(p!==i)}else v===null&&(p.shared.lanes=0);fi|=b,n.lanes=b,n.memoizedState=oe}}function Am(n,i,l){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],p=c.callback;if(p!==null){if(c.callback=null,c=l,typeof p!="function")throw Error(r(191,p));p.call(c)}}}var ea={},zn=Ps(ea),ta=Ps(ea),ra=Ps(ea);function ci(n){if(n===ea)throw Error(r(174));return n}function Sd(n,i){switch(Tt(ra,i),Tt(ta,n),Tt(zn,ea),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:re(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=re(i,n)}Nt(zn),Tt(zn,i)}function eo(){Nt(zn),Nt(ta),Nt(ra)}function Mm(n){ci(ra.current);var i=ci(zn.current),l=re(i,n.type);i!==l&&(Tt(ta,n),Tt(zn,l))}function _d(n){ta.current===n&&(Nt(zn),Nt(ta))}var It=Ps(0);function Fl(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Cd=[];function kd(){for(var n=0;n<Cd.length;n++)Cd[n]._workInProgressVersionPrimary=null;Cd.length=0}var zl=A.ReactCurrentDispatcher,Ed=A.ReactCurrentBatchConfig,di=0,At=null,Yt=null,sr=null,$l=!1,na=!1,sa=0,sS=0;function xr(){throw Error(r(321))}function Td(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!bn(n[l],i[l]))return!1;return!0}function Pd(n,i,l,c,p,v){if(di=v,At=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,zl.current=n===null||n.memoizedState===null?lS:uS,n=l(c,p),na){v=0;do{if(na=!1,sa=0,25<=v)throw Error(r(301));v+=1,sr=Yt=null,i.updateQueue=null,zl.current=cS,n=l(c,p)}while(na)}if(zl.current=Ul,i=Yt!==null&&Yt.next!==null,di=0,sr=Yt=At=null,$l=!1,i)throw Error(r(300));return n}function Nd(){var n=sa!==0;return sa=0,n}function $n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?At.memoizedState=sr=n:sr=sr.next=n,sr}function cn(){if(Yt===null){var n=At.alternate;n=n!==null?n.memoizedState:null}else n=Yt.next;var i=sr===null?At.memoizedState:sr.next;if(i!==null)sr=i,Yt=n;else{if(n===null)throw Error(r(310));Yt=n,n={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},sr===null?At.memoizedState=sr=n:sr=sr.next=n}return sr}function ia(n,i){return typeof i=="function"?i(n):i}function Od(n){var i=cn(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=Yt,p=c.baseQueue,v=l.pending;if(v!==null){if(p!==null){var b=p.next;p.next=v.next,v.next=b}c.baseQueue=p=v,l.pending=null}if(p!==null){v=p.next,c=c.baseState;var T=b=null,O=null,$=v;do{var ie=$.lane;if((di&ie)===ie)O!==null&&(O=O.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:n(c,$.action);else{var oe={lane:ie,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};O===null?(T=O=oe,b=c):O=O.next=oe,At.lanes|=ie,fi|=ie}$=$.next}while($!==null&&$!==v);O===null?b=c:O.next=T,bn(c,i.memoizedState)||(Mr=!0),i.memoizedState=c,i.baseState=b,i.baseQueue=O,l.lastRenderedState=c}if(n=l.interleaved,n!==null){p=n;do v=p.lane,At.lanes|=v,fi|=v,p=p.next;while(p!==n)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function jd(n){var i=cn(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=l.dispatch,p=l.pending,v=i.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do v=n(v,b.action),b=b.next;while(b!==p);bn(v,i.memoizedState)||(Mr=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,c]}function Lm(){}function Fm(n,i){var l=At,c=cn(),p=i(),v=!bn(c.memoizedState,p);if(v&&(c.memoizedState=p,Mr=!0),c=c.queue,Rd(Vm.bind(null,l,c,n),[n]),c.getSnapshot!==i||v||sr!==null&&sr.memoizedState.tag&1){if(l.flags|=2048,oa(9,$m.bind(null,l,c,p,i),void 0,null),ir===null)throw Error(r(349));(di&30)!==0||zm(l,i,p)}return p}function zm(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=At.updateQueue,i===null?(i={lastEffect:null,stores:null},At.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function $m(n,i,l,c){i.value=l,i.getSnapshot=c,Bm(i)&&Um(n)}function Vm(n,i,l){return l(function(){Bm(i)&&Um(n)})}function Bm(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!bn(n,l)}catch{return!0}}function Um(n){var i=is(n,1);i!==null&&En(i,n,1,-1)}function qm(n){var i=$n();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:n},i.queue=n,n=n.dispatch=aS.bind(null,At,n),[i.memoizedState,n]}function oa(n,i,l,c){return n={tag:n,create:i,destroy:l,deps:c,next:null},i=At.updateQueue,i===null?(i={lastEffect:null,stores:null},At.updateQueue=i,i.lastEffect=n.next=n):(l=i.lastEffect,l===null?i.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,i.lastEffect=n)),n}function Wm(){return cn().memoizedState}function Vl(n,i,l,c){var p=$n();At.flags|=n,p.memoizedState=oa(1|i,l,void 0,c===void 0?null:c)}function Bl(n,i,l,c){var p=cn();c=c===void 0?null:c;var v=void 0;if(Yt!==null){var b=Yt.memoizedState;if(v=b.destroy,c!==null&&Td(c,b.deps)){p.memoizedState=oa(i,l,v,c);return}}At.flags|=n,p.memoizedState=oa(1|i,l,v,c)}function Hm(n,i){return Vl(8390656,8,n,i)}function Rd(n,i){return Bl(2048,8,n,i)}function Qm(n,i){return Bl(4,2,n,i)}function Km(n,i){return Bl(4,4,n,i)}function Gm(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Zm(n,i,l){return l=l!=null?l.concat([n]):null,Bl(4,4,Gm.bind(null,i,n),l)}function Dd(){}function Ym(n,i){var l=cn();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&Td(i,c[1])?c[0]:(l.memoizedState=[n,i],n)}function Xm(n,i){var l=cn();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&Td(i,c[1])?c[0]:(n=n(),l.memoizedState=[n,i],n)}function Jm(n,i,l){return(di&21)===0?(n.baseState&&(n.baseState=!1,Mr=!0),n.memoizedState=l):(bn(l,i)||(l=Np(),At.lanes|=l,fi|=l,n.baseState=!0),i)}function iS(n,i){var l=bt;bt=l!==0&&4>l?l:4,n(!0);var c=Ed.transition;Ed.transition={};try{n(!1),i()}finally{bt=l,Ed.transition=c}}function eg(){return cn().memoizedState}function oS(n,i,l){var c=Ms(n);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},tg(n))rg(i,l);else if(l=Rm(n,i,l,c),l!==null){var p=Er();En(l,n,c,p),ng(l,i,c)}}function aS(n,i,l){var c=Ms(n),p={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(tg(n))rg(i,p);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var b=i.lastRenderedState,T=v(b,l);if(p.hasEagerState=!0,p.eagerState=T,bn(T,b)){var O=i.interleaved;O===null?(p.next=p,wd(i)):(p.next=O.next,O.next=p),i.interleaved=p;return}}catch{}l=Rm(n,i,p,c),l!==null&&(p=Er(),En(l,n,c,p),ng(l,i,c))}}function tg(n){var i=n.alternate;return n===At||i!==null&&i===At}function rg(n,i){na=$l=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function ng(n,i,l){if((l&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,l|=c,i.lanes=l,Ac(n,l)}}var Ul={readContext:un,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},lS={readContext:un,useCallback:function(n,i){return $n().memoizedState=[n,i===void 0?null:i],n},useContext:un,useEffect:Hm,useImperativeHandle:function(n,i,l){return l=l!=null?l.concat([n]):null,Vl(4194308,4,Gm.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Vl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Vl(4,2,n,i)},useMemo:function(n,i){var l=$n();return i=i===void 0?null:i,n=n(),l.memoizedState=[n,i],n},useReducer:function(n,i,l){var c=$n();return i=l!==void 0?l(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=oS.bind(null,At,n),[c.memoizedState,n]},useRef:function(n){var i=$n();return n={current:n},i.memoizedState=n},useState:qm,useDebugValue:Dd,useDeferredValue:function(n){return $n().memoizedState=n},useTransition:function(){var n=qm(!1),i=n[0];return n=iS.bind(null,n[1]),$n().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,l){var c=At,p=$n();if(jt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),ir===null)throw Error(r(349));(di&30)!==0||zm(c,i,l)}p.memoizedState=l;var v={value:l,getSnapshot:i};return p.queue=v,Hm(Vm.bind(null,c,v,n),[n]),c.flags|=2048,oa(9,$m.bind(null,c,v,l,i),void 0,null),l},useId:function(){var n=$n(),i=ir.identifierPrefix;if(jt){var l=ss,c=ns;l=(c&~(1<<32-I(c)-1)).toString(32)+l,i=":"+i+"R"+l,l=sa++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=sS++,i=":"+i+"r"+l.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},uS={readContext:un,useCallback:Ym,useContext:un,useEffect:Rd,useImperativeHandle:Zm,useInsertionEffect:Qm,useLayoutEffect:Km,useMemo:Xm,useReducer:Od,useRef:Wm,useState:function(){return Od(ia)},useDebugValue:Dd,useDeferredValue:function(n){var i=cn();return Jm(i,Yt.memoizedState,n)},useTransition:function(){var n=Od(ia)[0],i=cn().memoizedState;return[n,i]},useMutableSource:Lm,useSyncExternalStore:Fm,useId:eg,unstable_isNewReconciler:!1},cS={readContext:un,useCallback:Ym,useContext:un,useEffect:Rd,useImperativeHandle:Zm,useInsertionEffect:Qm,useLayoutEffect:Km,useMemo:Xm,useReducer:jd,useRef:Wm,useState:function(){return jd(ia)},useDebugValue:Dd,useDeferredValue:function(n){var i=cn();return Yt===null?i.memoizedState=n:Jm(i,Yt.memoizedState,n)},useTransition:function(){var n=jd(ia)[0],i=cn().memoizedState;return[n,i]},useMutableSource:Lm,useSyncExternalStore:Fm,useId:eg,unstable_isNewReconciler:!1};function _n(n,i){if(n&&n.defaultProps){i=ue({},i),n=n.defaultProps;for(var l in n)i[l]===void 0&&(i[l]=n[l]);return i}return i}function Id(n,i,l,c){i=n.memoizedState,l=l(c,i),l=l==null?i:ue({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var ql={isMounted:function(n){return(n=n._reactInternals)?ke(n)===n:!1},enqueueSetState:function(n,i,l){n=n._reactInternals;var c=Er(),p=Ms(n),v=os(c,p);v.payload=i,l!=null&&(v.callback=l),i=Rs(n,v,p),i!==null&&(En(i,n,p,c),Ml(i,n,p))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var c=Er(),p=Ms(n),v=os(c,p);v.tag=1,v.payload=i,l!=null&&(v.callback=l),i=Rs(n,v,p),i!==null&&(En(i,n,p,c),Ml(i,n,p))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=Er(),c=Ms(n),p=os(l,c);p.tag=2,i!=null&&(p.callback=i),i=Rs(n,p,c),i!==null&&(En(i,n,c,l),Ml(i,n,c))}};function sg(n,i,l,c,p,v,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,v,b):i.prototype&&i.prototype.isPureReactComponent?!Ho(l,c)||!Ho(p,v):!0}function ig(n,i,l){var c=!1,p=Ns,v=i.contextType;return typeof v=="object"&&v!==null?v=un(v):(p=Ar(i)?oi:yr.current,c=i.contextTypes,v=(c=c!=null)?Qi(n,p):Ns),i=new i(l,v),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ql,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=p,n.__reactInternalMemoizedMaskedChildContext=v),i}function og(n,i,l,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==n&&ql.enqueueReplaceState(i,i.state,null)}function Ad(n,i,l,c){var p=n.stateNode;p.props=l,p.state=n.memoizedState,p.refs={},bd(n);var v=i.contextType;typeof v=="object"&&v!==null?p.context=un(v):(v=Ar(i)?oi:yr.current,p.context=Qi(n,v)),p.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Id(n,i,v,l),p.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&ql.enqueueReplaceState(p,p.state,null),Ll(n,l,p,c),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308)}function to(n,i){try{var l="",c=i;do l+=Ue(c),c=c.return;while(c);var p=l}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:i,stack:p,digest:null}}function Md(n,i,l){return{value:n,source:null,stack:l??null,digest:i??null}}function Ld(n,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var dS=typeof WeakMap=="function"?WeakMap:Map;function ag(n,i,l){l=os(-1,l),l.tag=3,l.payload={element:null};var c=i.value;return l.callback=function(){Yl||(Yl=!0,Xd=c),Ld(n,i)},l}function lg(n,i,l){l=os(-1,l),l.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var p=i.value;l.payload=function(){return c(p)},l.callback=function(){Ld(n,i)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Ld(n,i),typeof c!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),l}function ug(n,i,l){var c=n.pingCache;if(c===null){c=n.pingCache=new dS;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(l)||(p.add(l),n=kS.bind(null,n,i,l),i.then(n,n))}function cg(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function dg(n,i,l,c,p){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=os(-1,1),i.tag=2,Rs(l,i,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=p,n)}var fS=A.ReactCurrentOwner,Mr=!1;function kr(n,i,l,c){i.child=n===null?jm(i,null,l,c):Yi(i,n.child,l,c)}function fg(n,i,l,c,p){l=l.render;var v=i.ref;return Ji(i,p),c=Pd(n,i,l,c,v,p),l=Nd(),n!==null&&!Mr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~p,as(n,i,p)):(jt&&l&&dd(i),i.flags|=1,kr(n,i,c,p),i.child)}function hg(n,i,l,c,p){if(n===null){var v=l.type;return typeof v=="function"&&!of(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=v,pg(n,i,v,c,p)):(n=nu(l.type,null,c,i,i.mode,p),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,(n.lanes&p)===0){var b=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ho,l(b,c)&&n.ref===i.ref)return as(n,i,p)}return i.flags|=1,n=Fs(v,c),n.ref=i.ref,n.return=i,i.child=n}function pg(n,i,l,c,p){if(n!==null){var v=n.memoizedProps;if(Ho(v,c)&&n.ref===i.ref)if(Mr=!1,i.pendingProps=c=v,(n.lanes&p)!==0)(n.flags&131072)!==0&&(Mr=!0);else return i.lanes=n.lanes,as(n,i,p)}return Fd(n,i,l,c,p)}function mg(n,i,l){var c=i.pendingProps,p=c.children,v=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(no,Qr),Qr|=l;else{if((l&1073741824)===0)return n=v!==null?v.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Tt(no,Qr),Qr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=v!==null?v.baseLanes:l,Tt(no,Qr),Qr|=c}else v!==null?(c=v.baseLanes|l,i.memoizedState=null):c=l,Tt(no,Qr),Qr|=c;return kr(n,i,p,l),i.child}function gg(n,i){var l=i.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Fd(n,i,l,c,p){var v=Ar(l)?oi:yr.current;return v=Qi(i,v),Ji(i,p),l=Pd(n,i,l,c,v,p),c=Nd(),n!==null&&!Mr?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~p,as(n,i,p)):(jt&&c&&dd(i),i.flags|=1,kr(n,i,l,p),i.child)}function vg(n,i,l,c,p){if(Ar(l)){var v=!0;Pl(i)}else v=!1;if(Ji(i,p),i.stateNode===null)Hl(n,i),ig(i,l,c),Ad(i,l,c,p),c=!0;else if(n===null){var b=i.stateNode,T=i.memoizedProps;b.props=T;var O=b.context,$=l.contextType;typeof $=="object"&&$!==null?$=un($):($=Ar(l)?oi:yr.current,$=Qi(i,$));var ie=l.getDerivedStateFromProps,oe=typeof ie=="function"||typeof b.getSnapshotBeforeUpdate=="function";oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==c||O!==$)&&og(i,b,c,$),js=!1;var ne=i.memoizedState;b.state=ne,Ll(i,c,b,p),O=i.memoizedState,T!==c||ne!==O||Ir.current||js?(typeof ie=="function"&&(Id(i,l,ie,c),O=i.memoizedState),(T=js||sg(i,l,T,c,ne,O,$))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=O),b.props=c,b.state=O,b.context=$,c=T):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{b=i.stateNode,Dm(n,i),T=i.memoizedProps,$=i.type===i.elementType?T:_n(i.type,T),b.props=$,oe=i.pendingProps,ne=b.context,O=l.contextType,typeof O=="object"&&O!==null?O=un(O):(O=Ar(l)?oi:yr.current,O=Qi(i,O));var Se=l.getDerivedStateFromProps;(ie=typeof Se=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==oe||ne!==O)&&og(i,b,c,O),js=!1,ne=i.memoizedState,b.state=ne,Ll(i,c,b,p);var Pe=i.memoizedState;T!==oe||ne!==Pe||Ir.current||js?(typeof Se=="function"&&(Id(i,l,Se,c),Pe=i.memoizedState),($=js||sg(i,l,$,c,ne,Pe,O)||!1)?(ie||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,Pe,O),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,Pe,O)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===n.memoizedProps&&ne===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ne===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Pe),b.props=c,b.state=Pe,b.context=O,c=$):(typeof b.componentDidUpdate!="function"||T===n.memoizedProps&&ne===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ne===n.memoizedState||(i.flags|=1024),c=!1)}return zd(n,i,l,c,v,p)}function zd(n,i,l,c,p,v){gg(n,i);var b=(i.flags&128)!==0;if(!c&&!b)return p&&Sm(i,l,!1),as(n,i,v);c=i.stateNode,fS.current=i;var T=b&&typeof l.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&b?(i.child=Yi(i,n.child,null,v),i.child=Yi(i,null,T,v)):kr(n,i,T,v),i.memoizedState=c.state,p&&Sm(i,l,!0),i.child}function yg(n){var i=n.stateNode;i.pendingContext?wm(n,i.pendingContext,i.pendingContext!==i.context):i.context&&wm(n,i.context,!1),Sd(n,i.containerInfo)}function xg(n,i,l,c,p){return Zi(),md(p),i.flags|=256,kr(n,i,l,c),i.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function Vd(n){return{baseLanes:n,cachePool:null,transitions:null}}function wg(n,i,l){var c=i.pendingProps,p=It.current,v=!1,b=(i.flags&128)!==0,T;if((T=b)||(T=n!==null&&n.memoizedState===null?!1:(p&2)!==0),T?(v=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(p|=1),Tt(It,p&1),n===null)return pd(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(b=c.children,n=c.fallback,v?(c=i.mode,v=i.child,b={mode:"hidden",children:b},(c&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=b):v=su(b,c,0,null),n=gi(n,c,l,null),v.return=i,n.return=i,v.sibling=n,i.child=v,i.child.memoizedState=Vd(l),i.memoizedState=$d,n):Bd(i,b));if(p=n.memoizedState,p!==null&&(T=p.dehydrated,T!==null))return hS(n,i,b,c,T,p,l);if(v){v=c.fallback,b=i.mode,p=n.child,T=p.sibling;var O={mode:"hidden",children:c.children};return(b&1)===0&&i.child!==p?(c=i.child,c.childLanes=0,c.pendingProps=O,i.deletions=null):(c=Fs(p,O),c.subtreeFlags=p.subtreeFlags&14680064),T!==null?v=Fs(T,v):(v=gi(v,b,l,null),v.flags|=2),v.return=i,c.return=i,c.sibling=v,i.child=c,c=v,v=i.child,b=n.child.memoizedState,b=b===null?Vd(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},v.memoizedState=b,v.childLanes=n.childLanes&~l,i.memoizedState=$d,c}return v=n.child,n=v.sibling,c=Fs(v,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=l),c.return=i,c.sibling=null,n!==null&&(l=i.deletions,l===null?(i.deletions=[n],i.flags|=16):l.push(n)),i.child=c,i.memoizedState=null,c}function Bd(n,i){return i=su({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Wl(n,i,l,c){return c!==null&&md(c),Yi(i,n.child,null,l),n=Bd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function hS(n,i,l,c,p,v,b){if(l)return i.flags&256?(i.flags&=-257,c=Md(Error(r(422))),Wl(n,i,b,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(v=c.fallback,p=i.mode,c=su({mode:"visible",children:c.children},p,0,null),v=gi(v,p,b,null),v.flags|=2,c.return=i,v.return=i,c.sibling=v,i.child=c,(i.mode&1)!==0&&Yi(i,n.child,null,b),i.child.memoizedState=Vd(b),i.memoizedState=$d,v);if((i.mode&1)===0)return Wl(n,i,b,null);if(p.data==="$!"){if(c=p.nextSibling&&p.nextSibling.dataset,c)var T=c.dgst;return c=T,v=Error(r(419)),c=Md(v,c,void 0),Wl(n,i,b,c)}if(T=(b&n.childLanes)!==0,Mr||T){if(c=ir,c!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(c.suspendedLanes|b))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,is(n,p),En(c,n,p,-1))}return sf(),c=Md(Error(r(421))),Wl(n,i,b,c)}return p.data==="$?"?(i.flags|=128,i.child=n.child,i=ES.bind(null,n),p._reactRetry=i,null):(n=v.treeContext,Hr=Ts(p.nextSibling),Wr=i,jt=!0,Sn=null,n!==null&&(an[ln++]=ns,an[ln++]=ss,an[ln++]=ai,ns=n.id,ss=n.overflow,ai=i),i=Bd(i,c.children),i.flags|=4096,i)}function bg(n,i,l){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),xd(n.return,i,l)}function Ud(n,i,l,c,p){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=l,v.tailMode=p)}function Sg(n,i,l){var c=i.pendingProps,p=c.revealOrder,v=c.tail;if(kr(n,i,c.children,l),c=It.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&bg(n,l,i);else if(n.tag===19)bg(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Tt(It,c),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)n=l.alternate,n!==null&&Fl(n)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Ud(i,!1,p,l,v);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(n=p.alternate,n!==null&&Fl(n)===null){i.child=p;break}n=p.sibling,p.sibling=l,l=p,p=n}Ud(i,!0,l,null,v);break;case"together":Ud(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Hl(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function as(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),fi|=i.lanes,(l&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,l=Fs(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=Fs(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function pS(n,i,l){switch(i.tag){case 3:yg(i),Zi();break;case 5:Mm(i);break;case 1:Ar(i.type)&&Pl(i);break;case 4:Sd(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,p=i.memoizedProps.value;Tt(Il,c._currentValue),c._currentValue=p;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Tt(It,It.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?wg(n,i,l):(Tt(It,It.current&1),n=as(n,i,l),n!==null?n.sibling:null);Tt(It,It.current&1);break;case 19:if(c=(l&i.childLanes)!==0,(n.flags&128)!==0){if(c)return Sg(n,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Tt(It,It.current),c)break;return null;case 22:case 23:return i.lanes=0,mg(n,i,l)}return as(n,i,l)}var _g,qd,Cg,kg;_g=function(n,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},qd=function(){},Cg=function(n,i,l,c){var p=n.memoizedProps;if(p!==c){n=i.stateNode,ci(zn.current);var v=null;switch(l){case"input":p=yn(n,p),c=yn(n,c),v=[];break;case"select":p=ue({},p,{value:void 0}),c=ue({},c,{value:void 0}),v=[];break;case"textarea":p=N(n,p),c=N(n,c),v=[];break;default:typeof p.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=kl)}rn(l,c);var b;l=null;for($ in p)if(!c.hasOwnProperty($)&&p.hasOwnProperty($)&&p[$]!=null)if($==="style"){var T=p[$];for(b in T)T.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?v||(v=[]):(v=v||[]).push($,null));for($ in c){var O=c[$];if(T=p?.[$],c.hasOwnProperty($)&&O!==T&&(O!=null||T!=null))if($==="style")if(T){for(b in T)!T.hasOwnProperty(b)||O&&O.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in O)O.hasOwnProperty(b)&&T[b]!==O[b]&&(l||(l={}),l[b]=O[b])}else l||(v||(v=[]),v.push($,l)),l=O;else $==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,T=T?T.__html:void 0,O!=null&&T!==O&&(v=v||[]).push($,O)):$==="children"?typeof O!="string"&&typeof O!="number"||(v=v||[]).push($,""+O):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(O!=null&&$==="onScroll"&&Pt("scroll",n),v||T===O||(v=[])):(v=v||[]).push($,O))}l&&(v=v||[]).push("style",l);var $=v;(i.updateQueue=$)&&(i.flags|=4)}},kg=function(n,i,l,c){l!==c&&(i.flags|=4)};function aa(n,i){if(!jt)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function wr(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(i)for(var p=n.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&14680064,c|=p.flags&14680064,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=l,i}function mS(n,i,l){var c=i.pendingProps;switch(fd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(i),null;case 1:return Ar(i.type)&&Tl(),wr(i),null;case 3:return c=i.stateNode,eo(),Nt(Ir),Nt(yr),kd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Rl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Sn!==null&&(tf(Sn),Sn=null))),qd(n,i),wr(i),null;case 5:_d(i);var p=ci(ra.current);if(l=i.type,n!==null&&i.stateNode!=null)Cg(n,i,l,c,p),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(r(166));return wr(i),null}if(n=ci(zn.current),Rl(i)){c=i.stateNode,l=i.type;var v=i.memoizedProps;switch(c[Fn]=i,c[Yo]=v,n=(i.mode&1)!==0,l){case"dialog":Pt("cancel",c),Pt("close",c);break;case"iframe":case"object":case"embed":Pt("load",c);break;case"video":case"audio":for(p=0;p<Ko.length;p++)Pt(Ko[p],c);break;case"source":Pt("error",c);break;case"img":case"image":case"link":Pt("error",c),Pt("load",c);break;case"details":Pt("toggle",c);break;case"input":en(c,v),Pt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!v.multiple},Pt("invalid",c);break;case"textarea":M(c,v),Pt("invalid",c)}rn(l,v),p=null;for(var b in v)if(v.hasOwnProperty(b)){var T=v[b];b==="children"?typeof T=="string"?c.textContent!==T&&(v.suppressHydrationWarning!==!0&&Cl(c.textContent,T,n),p=["children",T]):typeof T=="number"&&c.textContent!==""+T&&(v.suppressHydrationWarning!==!0&&Cl(c.textContent,T,n),p=["children",""+T]):o.hasOwnProperty(b)&&T!=null&&b==="onScroll"&&Pt("scroll",c)}switch(l){case"input":gr(c),xn(c,v,!0);break;case"textarea":gr(c),me(c);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(c.onclick=kl)}c=p,i.updateQueue=c,c!==null&&(i.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=de(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=b.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=b.createElement(l,{is:c.is}):(n=b.createElement(l),l==="select"&&(b=n,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):n=b.createElementNS(n,l),n[Fn]=i,n[Yo]=c,_g(n,i,!1,!1),i.stateNode=n;e:{switch(b=nn(l,c),l){case"dialog":Pt("cancel",n),Pt("close",n),p=c;break;case"iframe":case"object":case"embed":Pt("load",n),p=c;break;case"video":case"audio":for(p=0;p<Ko.length;p++)Pt(Ko[p],n);p=c;break;case"source":Pt("error",n),p=c;break;case"img":case"image":case"link":Pt("error",n),Pt("load",n),p=c;break;case"details":Pt("toggle",n),p=c;break;case"input":en(n,c),p=yn(n,c),Pt("invalid",n);break;case"option":p=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},p=ue({},c,{value:void 0}),Pt("invalid",n);break;case"textarea":M(n,c),p=N(n,c),Pt("invalid",n);break;default:p=c}rn(l,p),T=p;for(v in T)if(T.hasOwnProperty(v)){var O=T[v];v==="style"?tn(n,O):v==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Ge(n,O)):v==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&Ze(n,O):typeof O=="number"&&Ze(n,""+O):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?O!=null&&v==="onScroll"&&Pt("scroll",n):O!=null&&D(n,v,O,b))}switch(l){case"input":gr(n),xn(n,c,!1);break;case"textarea":gr(n),me(n);break;case"option":c.value!=null&&n.setAttribute("value",""+$e(c.value));break;case"select":n.multiple=!!c.multiple,v=c.value,v!=null?nr(n,!!c.multiple,v,!1):c.defaultValue!=null&&nr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof p.onClick=="function"&&(n.onclick=kl)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return wr(i),null;case 6:if(n&&i.stateNode!=null)kg(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(l=ci(ra.current),ci(zn.current),Rl(i)){if(c=i.stateNode,l=i.memoizedProps,c[Fn]=i,(v=c.nodeValue!==l)&&(n=Wr,n!==null))switch(n.tag){case 3:Cl(c.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Cl(c.nodeValue,l,(n.mode&1)!==0)}v&&(i.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Fn]=i,i.stateNode=c}return wr(i),null;case 13:if(Nt(It),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(jt&&Hr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Pm(),Zi(),i.flags|=98560,v=!1;else if(v=Rl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!v)throw Error(r(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Fn]=i}else Zi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;wr(i),v=!1}else Sn!==null&&(tf(Sn),Sn=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(It.current&1)!==0?Xt===0&&(Xt=3):sf())),i.updateQueue!==null&&(i.flags|=4),wr(i),null);case 4:return eo(),qd(n,i),n===null&&Go(i.stateNode.containerInfo),wr(i),null;case 10:return yd(i.type._context),wr(i),null;case 17:return Ar(i.type)&&Tl(),wr(i),null;case 19:if(Nt(It),v=i.memoizedState,v===null)return wr(i),null;if(c=(i.flags&128)!==0,b=v.rendering,b===null)if(c)aa(v,!1);else{if(Xt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(b=Fl(n),b!==null){for(i.flags|=128,aa(v,!1),c=b.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=l,l=i.child;l!==null;)v=l,n=c,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,n=b.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Tt(It,It.current&1|2),i.child}n=n.sibling}v.tail!==null&&Dt()>so&&(i.flags|=128,c=!0,aa(v,!1),i.lanes=4194304)}else{if(!c)if(n=Fl(b),n!==null){if(i.flags|=128,c=!0,l=n.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),aa(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!jt)return wr(i),null}else 2*Dt()-v.renderingStartTime>so&&l!==1073741824&&(i.flags|=128,c=!0,aa(v,!1),i.lanes=4194304);v.isBackwards?(b.sibling=i.child,i.child=b):(l=v.last,l!==null?l.sibling=b:i.child=b,v.last=b)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=Dt(),i.sibling=null,l=It.current,Tt(It,c?l&1|2:l&1),i):(wr(i),null);case 22:case 23:return nf(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(Qr&1073741824)!==0&&(wr(i),i.subtreeFlags&6&&(i.flags|=8192)):wr(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function gS(n,i){switch(fd(i),i.tag){case 1:return Ar(i.type)&&Tl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return eo(),Nt(Ir),Nt(yr),kd(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return _d(i),null;case 13:if(Nt(It),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Zi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Nt(It),null;case 4:return eo(),null;case 10:return yd(i.type._context),null;case 22:case 23:return nf(),null;case 24:return null;default:return null}}var Ql=!1,br=!1,vS=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function ro(n,i){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){$t(n,i,c)}else l.current=null}function Wd(n,i,l){try{l()}catch(c){$t(n,i,c)}}var Eg=!1;function yS(n,i){if(nd=hl,n=sm(),Gc(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var b=0,T=-1,O=-1,$=0,ie=0,oe=n,ne=null;t:for(;;){for(var Se;oe!==l||p!==0&&oe.nodeType!==3||(T=b+p),oe!==v||c!==0&&oe.nodeType!==3||(O=b+c),oe.nodeType===3&&(b+=oe.nodeValue.length),(Se=oe.firstChild)!==null;)ne=oe,oe=Se;for(;;){if(oe===n)break t;if(ne===l&&++$===p&&(T=b),ne===v&&++ie===c&&(O=b),(Se=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=Se}l=T===-1||O===-1?null:{start:T,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(sd={focusedElem:n,selectionRange:l},hl=!1,Ee=i;Ee!==null;)if(i=Ee,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ee=n;else for(;Ee!==null;){i=Ee;try{var Pe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Ne=Pe.memoizedProps,qt=Pe.memoizedState,F=i.stateNode,R=F.getSnapshotBeforeUpdate(i.elementType===i.type?Ne:_n(i.type,Ne),qt);F.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var z=i.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(he){$t(i,i.return,he)}if(n=i.sibling,n!==null){n.return=i.return,Ee=n;break}Ee=i.return}return Pe=Eg,Eg=!1,Pe}function la(n,i,l){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&n)===n){var v=p.destroy;p.destroy=void 0,v!==void 0&&Wd(i,l,v)}p=p.next}while(p!==c)}}function Kl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&n)===n){var c=l.create;l.destroy=c()}l=l.next}while(l!==i)}}function Hd(n){var i=n.ref;if(i!==null){var l=n.stateNode;n.tag,n=l,typeof i=="function"?i(n):i.current=n}}function Tg(n){var i=n.alternate;i!==null&&(n.alternate=null,Tg(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Fn],delete i[Yo],delete i[ld],delete i[eS],delete i[tS])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Pg(n){return n.tag===5||n.tag===3||n.tag===4}function Ng(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Pg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Qd(n,i,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(n,i):l.insertBefore(n,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(n,l)):(i=l,i.appendChild(n)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=kl));else if(c!==4&&(n=n.child,n!==null))for(Qd(n,i,l),n=n.sibling;n!==null;)Qd(n,i,l),n=n.sibling}function Kd(n,i,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Kd(n,i,l),n=n.sibling;n!==null;)Kd(n,i,l),n=n.sibling}var dr=null,Cn=!1;function Ds(n,i,l){for(l=l.child;l!==null;)Og(n,i,l),l=l.sibling}function Og(n,i,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(si,l)}catch{}switch(l.tag){case 5:br||ro(l,i);case 6:var c=dr,p=Cn;dr=null,Ds(n,i,l),dr=c,Cn=p,dr!==null&&(Cn?(n=dr,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):dr.removeChild(l.stateNode));break;case 18:dr!==null&&(Cn?(n=dr,l=l.stateNode,n.nodeType===8?ad(n.parentNode,l):n.nodeType===1&&ad(n,l),$o(n)):ad(dr,l.stateNode));break;case 4:c=dr,p=Cn,dr=l.stateNode.containerInfo,Cn=!0,Ds(n,i,l),dr=c,Cn=p;break;case 0:case 11:case 14:case 15:if(!br&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){p=c=c.next;do{var v=p,b=v.destroy;v=v.tag,b!==void 0&&((v&2)!==0||(v&4)!==0)&&Wd(l,i,b),p=p.next}while(p!==c)}Ds(n,i,l);break;case 1:if(!br&&(ro(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(T){$t(l,i,T)}Ds(n,i,l);break;case 21:Ds(n,i,l);break;case 22:l.mode&1?(br=(c=br)||l.memoizedState!==null,Ds(n,i,l),br=c):Ds(n,i,l);break;default:Ds(n,i,l)}}function jg(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new vS),i.forEach(function(c){var p=TS.bind(null,n,c);l.has(c)||(l.add(c),c.then(p,p))})}}function kn(n,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c];try{var v=n,b=i,T=b;e:for(;T!==null;){switch(T.tag){case 5:dr=T.stateNode,Cn=!1;break e;case 3:dr=T.stateNode.containerInfo,Cn=!0;break e;case 4:dr=T.stateNode.containerInfo,Cn=!0;break e}T=T.return}if(dr===null)throw Error(r(160));Og(v,b,p),dr=null,Cn=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch($){$t(p,i,$)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Rg(i,n),i=i.sibling}function Rg(n,i){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(kn(i,n),Vn(n),c&4){try{la(3,n,n.return),Kl(3,n)}catch(Ne){$t(n,n.return,Ne)}try{la(5,n,n.return)}catch(Ne){$t(n,n.return,Ne)}}break;case 1:kn(i,n),Vn(n),c&512&&l!==null&&ro(l,l.return);break;case 5:if(kn(i,n),Vn(n),c&512&&l!==null&&ro(l,l.return),n.flags&32){var p=n.stateNode;try{Ze(p,"")}catch(Ne){$t(n,n.return,Ne)}}if(c&4&&(p=n.stateNode,p!=null)){var v=n.memoizedProps,b=l!==null?l.memoizedProps:v,T=n.type,O=n.updateQueue;if(n.updateQueue=null,O!==null)try{T==="input"&&v.type==="radio"&&v.name!=null&&vr(p,v),nn(T,b);var $=nn(T,v);for(b=0;b<O.length;b+=2){var ie=O[b],oe=O[b+1];ie==="style"?tn(p,oe):ie==="dangerouslySetInnerHTML"?Ge(p,oe):ie==="children"?Ze(p,oe):D(p,ie,oe,$)}switch(T){case"input":$r(p,v);break;case"textarea":K(p,v);break;case"select":var ne=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var Se=v.value;Se!=null?nr(p,!!v.multiple,Se,!1):ne!==!!v.multiple&&(v.defaultValue!=null?nr(p,!!v.multiple,v.defaultValue,!0):nr(p,!!v.multiple,v.multiple?[]:"",!1))}p[Yo]=v}catch(Ne){$t(n,n.return,Ne)}}break;case 6:if(kn(i,n),Vn(n),c&4){if(n.stateNode===null)throw Error(r(162));p=n.stateNode,v=n.memoizedProps;try{p.nodeValue=v}catch(Ne){$t(n,n.return,Ne)}}break;case 3:if(kn(i,n),Vn(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{$o(i.containerInfo)}catch(Ne){$t(n,n.return,Ne)}break;case 4:kn(i,n),Vn(n);break;case 13:kn(i,n),Vn(n),p=n.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(Yd=Dt())),c&4&&jg(n);break;case 22:if(ie=l!==null&&l.memoizedState!==null,n.mode&1?(br=($=br)||ie,kn(i,n),br=$):kn(i,n),Vn(n),c&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!ie&&(n.mode&1)!==0)for(Ee=n,ie=n.child;ie!==null;){for(oe=Ee=ie;Ee!==null;){switch(ne=Ee,Se=ne.child,ne.tag){case 0:case 11:case 14:case 15:la(4,ne,ne.return);break;case 1:ro(ne,ne.return);var Pe=ne.stateNode;if(typeof Pe.componentWillUnmount=="function"){c=ne,l=ne.return;try{i=c,Pe.props=i.memoizedProps,Pe.state=i.memoizedState,Pe.componentWillUnmount()}catch(Ne){$t(c,l,Ne)}}break;case 5:ro(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Ag(oe);continue}}Se!==null?(Se.return=ne,Ee=Se):Ag(oe)}ie=ie.sibling}e:for(ie=null,oe=n;;){if(oe.tag===5){if(ie===null){ie=oe;try{p=oe.stateNode,$?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(T=oe.stateNode,O=oe.memoizedProps.style,b=O!=null&&O.hasOwnProperty("display")?O.display:null,T.style.display=Rr("display",b))}catch(Ne){$t(n,n.return,Ne)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=$?"":oe.memoizedProps}catch(Ne){$t(n,n.return,Ne)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===n)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===n)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===n)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:kn(i,n),Vn(n),c&4&&jg(n);break;case 21:break;default:kn(i,n),Vn(n)}}function Vn(n){var i=n.flags;if(i&2){try{e:{for(var l=n.return;l!==null;){if(Pg(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 5:var p=c.stateNode;c.flags&32&&(Ze(p,""),c.flags&=-33);var v=Ng(n);Kd(n,v,p);break;case 3:case 4:var b=c.stateNode.containerInfo,T=Ng(n);Qd(n,T,b);break;default:throw Error(r(161))}}catch(O){$t(n,n.return,O)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function xS(n,i,l){Ee=n,Dg(n)}function Dg(n,i,l){for(var c=(n.mode&1)!==0;Ee!==null;){var p=Ee,v=p.child;if(p.tag===22&&c){var b=p.memoizedState!==null||Ql;if(!b){var T=p.alternate,O=T!==null&&T.memoizedState!==null||br;T=Ql;var $=br;if(Ql=b,(br=O)&&!$)for(Ee=p;Ee!==null;)b=Ee,O=b.child,b.tag===22&&b.memoizedState!==null?Mg(p):O!==null?(O.return=b,Ee=O):Mg(p);for(;v!==null;)Ee=v,Dg(v),v=v.sibling;Ee=p,Ql=T,br=$}Ig(n)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,Ee=v):Ig(n)}}function Ig(n){for(;Ee!==null;){var i=Ee;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:br||Kl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!br)if(l===null)c.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:_n(i.type,l.memoizedProps);c.componentDidUpdate(p,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&Am(i,v,c);break;case 3:var b=i.updateQueue;if(b!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Am(i,b,l)}break;case 5:var T=i.stateNode;if(l===null&&i.flags&4){l=T;var O=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var $=i.alternate;if($!==null){var ie=$.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&$o(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}br||i.flags&512&&Hd(i)}catch(ne){$t(i,i.return,ne)}}if(i===n){Ee=null;break}if(l=i.sibling,l!==null){l.return=i.return,Ee=l;break}Ee=i.return}}function Ag(n){for(;Ee!==null;){var i=Ee;if(i===n){Ee=null;break}var l=i.sibling;if(l!==null){l.return=i.return,Ee=l;break}Ee=i.return}}function Mg(n){for(;Ee!==null;){var i=Ee;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Kl(4,i)}catch(O){$t(i,l,O)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var p=i.return;try{c.componentDidMount()}catch(O){$t(i,p,O)}}var v=i.return;try{Hd(i)}catch(O){$t(i,v,O)}break;case 5:var b=i.return;try{Hd(i)}catch(O){$t(i,b,O)}}}catch(O){$t(i,i.return,O)}if(i===n){Ee=null;break}var T=i.sibling;if(T!==null){T.return=i.return,Ee=T;break}Ee=i.return}}var wS=Math.ceil,Gl=A.ReactCurrentDispatcher,Gd=A.ReactCurrentOwner,dn=A.ReactCurrentBatchConfig,pt=0,ir=null,Gt=null,fr=0,Qr=0,no=Ps(0),Xt=0,ua=null,fi=0,Zl=0,Zd=0,ca=null,Lr=null,Yd=0,so=1/0,ls=null,Yl=!1,Xd=null,Is=null,Xl=!1,As=null,Jl=0,da=0,Jd=null,eu=-1,tu=0;function Er(){return(pt&6)!==0?Dt():eu!==-1?eu:eu=Dt()}function Ms(n){return(n.mode&1)===0?1:(pt&2)!==0&&fr!==0?fr&-fr:nS.transition!==null?(tu===0&&(tu=Np()),tu):(n=bt,n!==0||(n=window.event,n=n===void 0?16:Fp(n.type)),n)}function En(n,i,l,c){if(50<da)throw da=0,Jd=null,Error(r(185));Ao(n,l,c),((pt&2)===0||n!==ir)&&(n===ir&&((pt&2)===0&&(Zl|=l),Xt===4&&Ls(n,fr)),Fr(n,c),l===1&&pt===0&&(i.mode&1)===0&&(so=Dt()+500,Nl&&Os()))}function Fr(n,i){var l=n.callbackNode;nb(n,i);var c=es(n,n===ir?fr:0);if(c===0)l!==null&&al(l),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(l!=null&&al(l),i===1)n.tag===0?rS(Fg.bind(null,n)):_m(Fg.bind(null,n)),Xb(function(){(pt&6)===0&&Os()}),l=null;else{switch(Op(c)){case 1:l=Do;break;case 4:l=Io;break;case 16:l=ws;break;case 536870912:l=cl;break;default:l=ws}l=Hg(l,Lg.bind(null,n))}n.callbackPriority=i,n.callbackNode=l}}function Lg(n,i){if(eu=-1,tu=0,(pt&6)!==0)throw Error(r(327));var l=n.callbackNode;if(io()&&n.callbackNode!==l)return null;var c=es(n,n===ir?fr:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=ru(n,c);else{i=c;var p=pt;pt|=2;var v=$g();(ir!==n||fr!==i)&&(ls=null,so=Dt()+500,pi(n,i));do try{_S();break}catch(T){zg(n,T)}while(!0);vd(),Gl.current=v,pt=p,Gt!==null?i=0:(ir=null,fr=0,i=Xt)}if(i!==0){if(i===2&&(p=Dc(n),p!==0&&(c=p,i=ef(n,p))),i===1)throw l=ua,pi(n,0),Ls(n,c),Fr(n,Dt()),l;if(i===6)Ls(n,c);else{if(p=n.current.alternate,(c&30)===0&&!bS(p)&&(i=ru(n,c),i===2&&(v=Dc(n),v!==0&&(c=v,i=ef(n,v))),i===1))throw l=ua,pi(n,0),Ls(n,c),Fr(n,Dt()),l;switch(n.finishedWork=p,n.finishedLanes=c,i){case 0:case 1:throw Error(r(345));case 2:mi(n,Lr,ls);break;case 3:if(Ls(n,c),(c&130023424)===c&&(i=Yd+500-Dt(),10<i)){if(es(n,0)!==0)break;if(p=n.suspendedLanes,(p&c)!==c){Er(),n.pingedLanes|=n.suspendedLanes&p;break}n.timeoutHandle=od(mi.bind(null,n,Lr,ls),i);break}mi(n,Lr,ls);break;case 4:if(Ls(n,c),(c&4194240)===c)break;for(i=n.eventTimes,p=-1;0<c;){var b=31-I(c);v=1<<b,b=i[b],b>p&&(p=b),c&=~v}if(c=p,c=Dt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*wS(c/1960))-c,10<c){n.timeoutHandle=od(mi.bind(null,n,Lr,ls),c);break}mi(n,Lr,ls);break;case 5:mi(n,Lr,ls);break;default:throw Error(r(329))}}}return Fr(n,Dt()),n.callbackNode===l?Lg.bind(null,n):null}function ef(n,i){var l=ca;return n.current.memoizedState.isDehydrated&&(pi(n,i).flags|=256),n=ru(n,i),n!==2&&(i=Lr,Lr=l,i!==null&&tf(i)),n}function tf(n){Lr===null?Lr=n:Lr.push.apply(Lr,n)}function bS(n){for(var i=n;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var p=l[c],v=p.getSnapshot;p=p.value;try{if(!bn(v(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ls(n,i){for(i&=~Zd,i&=~Zl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var l=31-I(i),c=1<<l;n[l]=-1,i&=~c}}function Fg(n){if((pt&6)!==0)throw Error(r(327));io();var i=es(n,0);if((i&1)===0)return Fr(n,Dt()),null;var l=ru(n,i);if(n.tag!==0&&l===2){var c=Dc(n);c!==0&&(i=c,l=ef(n,c))}if(l===1)throw l=ua,pi(n,0),Ls(n,i),Fr(n,Dt()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,mi(n,Lr,ls),Fr(n,Dt()),null}function rf(n,i){var l=pt;pt|=1;try{return n(i)}finally{pt=l,pt===0&&(so=Dt()+500,Nl&&Os())}}function hi(n){As!==null&&As.tag===0&&(pt&6)===0&&io();var i=pt;pt|=1;var l=dn.transition,c=bt;try{if(dn.transition=null,bt=1,n)return n()}finally{bt=c,dn.transition=l,pt=i,(pt&6)===0&&Os()}}function nf(){Qr=no.current,Nt(no)}function pi(n,i){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,Yb(l)),Gt!==null)for(l=Gt.return;l!==null;){var c=l;switch(fd(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Tl();break;case 3:eo(),Nt(Ir),Nt(yr),kd();break;case 5:_d(c);break;case 4:eo();break;case 13:Nt(It);break;case 19:Nt(It);break;case 10:yd(c.type._context);break;case 22:case 23:nf()}l=l.return}if(ir=n,Gt=n=Fs(n.current,null),fr=Qr=i,Xt=0,ua=null,Zd=Zl=fi=0,Lr=ca=null,ui!==null){for(i=0;i<ui.length;i++)if(l=ui[i],c=l.interleaved,c!==null){l.interleaved=null;var p=c.next,v=l.pending;if(v!==null){var b=v.next;v.next=p,c.next=b}l.pending=c}ui=null}return n}function zg(n,i){do{var l=Gt;try{if(vd(),zl.current=Ul,$l){for(var c=At.memoizedState;c!==null;){var p=c.queue;p!==null&&(p.pending=null),c=c.next}$l=!1}if(di=0,sr=Yt=At=null,na=!1,sa=0,Gd.current=null,l===null||l.return===null){Xt=1,ua=i,Gt=null;break}e:{var v=n,b=l.return,T=l,O=i;if(i=fr,T.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=O,ie=T,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var Se=cg(b);if(Se!==null){Se.flags&=-257,dg(Se,b,T,v,i),Se.mode&1&&ug(v,$,i),i=Se,O=$;var Pe=i.updateQueue;if(Pe===null){var Ne=new Set;Ne.add(O),i.updateQueue=Ne}else Pe.add(O);break e}else{if((i&1)===0){ug(v,$,i),sf();break e}O=Error(r(426))}}else if(jt&&T.mode&1){var qt=cg(b);if(qt!==null){(qt.flags&65536)===0&&(qt.flags|=256),dg(qt,b,T,v,i),md(to(O,T));break e}}v=O=to(O,T),Xt!==4&&(Xt=2),ca===null?ca=[v]:ca.push(v),v=b;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var F=ag(v,O,i);Im(v,F);break e;case 1:T=O;var R=v.type,z=v.stateNode;if((v.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Is===null||!Is.has(z)))){v.flags|=65536,i&=-i,v.lanes|=i;var he=lg(v,T,i);Im(v,he);break e}}v=v.return}while(v!==null)}Bg(l)}catch(je){i=je,Gt===l&&l!==null&&(Gt=l=l.return);continue}break}while(!0)}function $g(){var n=Gl.current;return Gl.current=Ul,n===null?Ul:n}function sf(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),ir===null||(fi&268435455)===0&&(Zl&268435455)===0||Ls(ir,fr)}function ru(n,i){var l=pt;pt|=2;var c=$g();(ir!==n||fr!==i)&&(ls=null,pi(n,i));do try{SS();break}catch(p){zg(n,p)}while(!0);if(vd(),pt=l,Gl.current=c,Gt!==null)throw Error(r(261));return ir=null,fr=0,Xt}function SS(){for(;Gt!==null;)Vg(Gt)}function _S(){for(;Gt!==null&&!ll();)Vg(Gt)}function Vg(n){var i=Wg(n.alternate,n,Qr);n.memoizedProps=n.pendingProps,i===null?Bg(n):Gt=i,Gd.current=null}function Bg(n){var i=n;do{var l=i.alternate;if(n=i.return,(i.flags&32768)===0){if(l=mS(l,i,Qr),l!==null){Gt=l;return}}else{if(l=gS(l,i),l!==null){l.flags&=32767,Gt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Xt=6,Gt=null;return}}if(i=i.sibling,i!==null){Gt=i;return}Gt=i=n}while(i!==null);Xt===0&&(Xt=5)}function mi(n,i,l){var c=bt,p=dn.transition;try{dn.transition=null,bt=1,CS(n,i,l,c)}finally{dn.transition=p,bt=c}return null}function CS(n,i,l,c){do io();while(As!==null);if((pt&6)!==0)throw Error(r(327));l=n.finishedWork;var p=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var v=l.lanes|l.childLanes;if(sb(n,v),n===ir&&(Gt=ir=null,fr=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Xl||(Xl=!0,Hg(ws,function(){return io(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=dn.transition,dn.transition=null;var b=bt;bt=1;var T=pt;pt|=4,Gd.current=null,yS(n,l),Rg(l,n),qb(sd),hl=!!nd,sd=nd=null,n.current=l,xS(l),ul(),pt=T,bt=b,dn.transition=v}else n.current=l;if(Xl&&(Xl=!1,As=n,Jl=p),v=n.pendingLanes,v===0&&(Is=null),cr(l.stateNode),Fr(n,Dt()),i!==null)for(c=n.onRecoverableError,l=0;l<i.length;l++)p=i[l],c(p.value,{componentStack:p.stack,digest:p.digest});if(Yl)throw Yl=!1,n=Xd,Xd=null,n;return(Jl&1)!==0&&n.tag!==0&&io(),v=n.pendingLanes,(v&1)!==0?n===Jd?da++:(da=0,Jd=n):da=0,Os(),null}function io(){if(As!==null){var n=Op(Jl),i=dn.transition,l=bt;try{if(dn.transition=null,bt=16>n?16:n,As===null)var c=!1;else{if(n=As,As=null,Jl=0,(pt&6)!==0)throw Error(r(331));var p=pt;for(pt|=4,Ee=n.current;Ee!==null;){var v=Ee,b=v.child;if((Ee.flags&16)!==0){var T=v.deletions;if(T!==null){for(var O=0;O<T.length;O++){var $=T[O];for(Ee=$;Ee!==null;){var ie=Ee;switch(ie.tag){case 0:case 11:case 15:la(8,ie,v)}var oe=ie.child;if(oe!==null)oe.return=ie,Ee=oe;else for(;Ee!==null;){ie=Ee;var ne=ie.sibling,Se=ie.return;if(Tg(ie),ie===$){Ee=null;break}if(ne!==null){ne.return=Se,Ee=ne;break}Ee=Se}}}var Pe=v.alternate;if(Pe!==null){var Ne=Pe.child;if(Ne!==null){Pe.child=null;do{var qt=Ne.sibling;Ne.sibling=null,Ne=qt}while(Ne!==null)}}Ee=v}}if((v.subtreeFlags&2064)!==0&&b!==null)b.return=v,Ee=b;else e:for(;Ee!==null;){if(v=Ee,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:la(9,v,v.return)}var F=v.sibling;if(F!==null){F.return=v.return,Ee=F;break e}Ee=v.return}}var R=n.current;for(Ee=R;Ee!==null;){b=Ee;var z=b.child;if((b.subtreeFlags&2064)!==0&&z!==null)z.return=b,Ee=z;else e:for(b=R;Ee!==null;){if(T=Ee,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Kl(9,T)}}catch(je){$t(T,T.return,je)}if(T===b){Ee=null;break e}var he=T.sibling;if(he!==null){he.return=T.return,Ee=he;break e}Ee=T.return}}if(pt=p,Os(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(si,n)}catch{}c=!0}return c}finally{bt=l,dn.transition=i}}return!1}function Ug(n,i,l){i=to(l,i),i=ag(n,i,1),n=Rs(n,i,1),i=Er(),n!==null&&(Ao(n,1,i),Fr(n,i))}function $t(n,i,l){if(n.tag===3)Ug(n,n,l);else for(;i!==null;){if(i.tag===3){Ug(i,n,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Is===null||!Is.has(c))){n=to(l,n),n=lg(i,n,1),i=Rs(i,n,1),n=Er(),i!==null&&(Ao(i,1,n),Fr(i,n));break}}i=i.return}}function kS(n,i,l){var c=n.pingCache;c!==null&&c.delete(i),i=Er(),n.pingedLanes|=n.suspendedLanes&l,ir===n&&(fr&l)===l&&(Xt===4||Xt===3&&(fr&130023424)===fr&&500>Dt()-Yd?pi(n,0):Zd|=l),Fr(n,i)}function qg(n,i){i===0&&((n.mode&1)===0?i=1:(i=ut,ut<<=1,(ut&130023424)===0&&(ut=4194304)));var l=Er();n=is(n,i),n!==null&&(Ao(n,i,l),Fr(n,l))}function ES(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),qg(n,l)}function TS(n,i){var l=0;switch(n.tag){case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(i),qg(n,l)}var Wg;Wg=function(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps||Ir.current)Mr=!0;else{if((n.lanes&l)===0&&(i.flags&128)===0)return Mr=!1,pS(n,i,l);Mr=(n.flags&131072)!==0}else Mr=!1,jt&&(i.flags&1048576)!==0&&Cm(i,jl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Hl(n,i),n=i.pendingProps;var p=Qi(i,yr.current);Ji(i,l),p=Pd(null,i,c,n,p,l);var v=Nd();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Ar(c)?(v=!0,Pl(i)):v=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,bd(i),p.updater=ql,i.stateNode=p,p._reactInternals=i,Ad(i,c,n,l),i=zd(null,i,c,!0,v,l)):(i.tag=0,jt&&v&&dd(i),kr(null,i,p,l),i=i.child),i;case 16:c=i.elementType;e:{switch(Hl(n,i),n=i.pendingProps,p=c._init,c=p(c._payload),i.type=c,p=i.tag=NS(c),n=_n(c,n),p){case 0:i=Fd(null,i,c,n,l);break e;case 1:i=vg(null,i,c,n,l);break e;case 11:i=fg(null,i,c,n,l);break e;case 14:i=hg(null,i,c,_n(c.type,n),l);break e}throw Error(r(306,c,""))}return i;case 0:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:_n(c,p),Fd(n,i,c,p,l);case 1:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:_n(c,p),vg(n,i,c,p,l);case 3:e:{if(yg(i),n===null)throw Error(r(387));c=i.pendingProps,v=i.memoizedState,p=v.element,Dm(n,i),Ll(i,c,null,l);var b=i.memoizedState;if(c=b.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){p=to(Error(r(423)),i),i=xg(n,i,c,l,p);break e}else if(c!==p){p=to(Error(r(424)),i),i=xg(n,i,c,l,p);break e}else for(Hr=Ts(i.stateNode.containerInfo.firstChild),Wr=i,jt=!0,Sn=null,l=jm(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Zi(),c===p){i=as(n,i,l);break e}kr(n,i,c,l)}i=i.child}return i;case 5:return Mm(i),n===null&&pd(i),c=i.type,p=i.pendingProps,v=n!==null?n.memoizedProps:null,b=p.children,id(c,p)?b=null:v!==null&&id(c,v)&&(i.flags|=32),gg(n,i),kr(n,i,b,l),i.child;case 6:return n===null&&pd(i),null;case 13:return wg(n,i,l);case 4:return Sd(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Yi(i,null,c,l):kr(n,i,c,l),i.child;case 11:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:_n(c,p),fg(n,i,c,p,l);case 7:return kr(n,i,i.pendingProps,l),i.child;case 8:return kr(n,i,i.pendingProps.children,l),i.child;case 12:return kr(n,i,i.pendingProps.children,l),i.child;case 10:e:{if(c=i.type._context,p=i.pendingProps,v=i.memoizedProps,b=p.value,Tt(Il,c._currentValue),c._currentValue=b,v!==null)if(bn(v.value,b)){if(v.children===p.children&&!Ir.current){i=as(n,i,l);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var T=v.dependencies;if(T!==null){b=v.child;for(var O=T.firstContext;O!==null;){if(O.context===c){if(v.tag===1){O=os(-1,l&-l),O.tag=2;var $=v.updateQueue;if($!==null){$=$.shared;var ie=$.pending;ie===null?O.next=O:(O.next=ie.next,ie.next=O),$.pending=O}}v.lanes|=l,O=v.alternate,O!==null&&(O.lanes|=l),xd(v.return,l,i),T.lanes|=l;break}O=O.next}}else if(v.tag===10)b=v.type===i.type?null:v.child;else if(v.tag===18){if(b=v.return,b===null)throw Error(r(341));b.lanes|=l,T=b.alternate,T!==null&&(T.lanes|=l),xd(b,l,i),b=v.sibling}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===i){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}kr(n,i,p.children,l),i=i.child}return i;case 9:return p=i.type,c=i.pendingProps.children,Ji(i,l),p=un(p),c=c(p),i.flags|=1,kr(n,i,c,l),i.child;case 14:return c=i.type,p=_n(c,i.pendingProps),p=_n(c.type,p),hg(n,i,c,p,l);case 15:return pg(n,i,i.type,i.pendingProps,l);case 17:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:_n(c,p),Hl(n,i),i.tag=1,Ar(c)?(n=!0,Pl(i)):n=!1,Ji(i,l),ig(i,c,p),Ad(i,c,p,l),zd(null,i,c,!0,n,l);case 19:return Sg(n,i,l);case 22:return mg(n,i,l)}throw Error(r(156,i.tag))};function Hg(n,i){return ol(n,i)}function PS(n,i,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(n,i,l,c){return new PS(n,i,l,c)}function of(n){return n=n.prototype,!(!n||!n.isReactComponent)}function NS(n){if(typeof n=="function")return of(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Z)return 11;if(n===Ce)return 14}return 2}function Fs(n,i){var l=n.alternate;return l===null?(l=fn(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function nu(n,i,l,c,p,v){var b=2;if(c=n,typeof n=="function")of(n)&&(b=1);else if(typeof n=="string")b=5;else e:switch(n){case B:return gi(l.children,p,v,i);case J:b=8,p|=8;break;case Q:return n=fn(12,l,i,p|2),n.elementType=Q,n.lanes=v,n;case te:return n=fn(13,l,i,p),n.elementType=te,n.lanes=v,n;case Y:return n=fn(19,l,i,p),n.elementType=Y,n.lanes=v,n;case we:return su(l,p,v,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:b=10;break e;case ee:b=9;break e;case Z:b=11;break e;case Ce:b=14;break e;case ce:b=16,c=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=fn(b,l,i,p),i.elementType=n,i.type=c,i.lanes=v,i}function gi(n,i,l,c){return n=fn(7,n,c,i),n.lanes=l,n}function su(n,i,l,c){return n=fn(22,n,c,i),n.elementType=we,n.lanes=l,n.stateNode={isHidden:!1},n}function af(n,i,l){return n=fn(6,n,null,i),n.lanes=l,n}function lf(n,i,l){return i=fn(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function OS(n,i,l,c,p){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ic(0),this.expirationTimes=Ic(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ic(0),this.identifierPrefix=c,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function uf(n,i,l,c,p,v,b,T,O){return n=new OS(n,i,l,T,O),i===1?(i=1,v===!0&&(i|=8)):i=0,v=fn(3,null,null,i),n.current=v,v.stateNode=n,v.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},bd(v),n}function jS(n,i,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:c==null?null:""+c,children:n,containerInfo:i,implementation:l}}function Qg(n){if(!n)return Ns;n=n._reactInternals;e:{if(ke(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Ar(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(Ar(l))return bm(n,l,i)}return i}function Kg(n,i,l,c,p,v,b,T,O){return n=uf(l,c,!0,n,p,v,b,T,O),n.context=Qg(null),l=n.current,c=Er(),p=Ms(l),v=os(c,p),v.callback=i??null,Rs(l,v,p),n.current.lanes=p,Ao(n,p,c),Fr(n,c),n}function iu(n,i,l,c){var p=i.current,v=Er(),b=Ms(p);return l=Qg(l),i.context===null?i.context=l:i.pendingContext=l,i=os(v,b),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=Rs(p,i,b),n!==null&&(En(n,p,b,v),Ml(n,p,b)),b}function ou(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function Gg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function cf(n,i){Gg(n,i),(n=n.alternate)&&Gg(n,i)}function RS(){return null}var Zg=typeof reportError=="function"?reportError:function(n){console.error(n)};function df(n){this._internalRoot=n}au.prototype.render=df.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));iu(n,i,null,null)},au.prototype.unmount=df.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;hi(function(){iu(null,n,null,null)}),i[ts]=null}};function au(n){this._internalRoot=n}au.prototype.unstable_scheduleHydration=function(n){if(n){var i=Dp();n={blockedOn:null,target:n,priority:i};for(var l=0;l<Cs.length&&i!==0&&i<Cs[l].priority;l++);Cs.splice(l,0,n),l===0&&Mp(n)}};function ff(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function lu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Yg(){}function DS(n,i,l,c,p){if(p){if(typeof c=="function"){var v=c;c=function(){var $=ou(b);v.call($)}}var b=Kg(i,c,n,0,null,!1,!1,"",Yg);return n._reactRootContainer=b,n[ts]=b.current,Go(n.nodeType===8?n.parentNode:n),hi(),b}for(;p=n.lastChild;)n.removeChild(p);if(typeof c=="function"){var T=c;c=function(){var $=ou(O);T.call($)}}var O=uf(n,0,!1,null,null,!1,!1,"",Yg);return n._reactRootContainer=O,n[ts]=O.current,Go(n.nodeType===8?n.parentNode:n),hi(function(){iu(i,O,l,c)}),O}function uu(n,i,l,c,p){var v=l._reactRootContainer;if(v){var b=v;if(typeof p=="function"){var T=p;p=function(){var O=ou(b);T.call(O)}}iu(i,b,n,p)}else b=DS(l,i,n,p,c);return ou(b)}jp=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var l=Ur(i.pendingLanes);l!==0&&(Ac(i,l|1),Fr(i,Dt()),(pt&6)===0&&(so=Dt()+500,Os()))}break;case 13:hi(function(){var c=is(n,1);if(c!==null){var p=Er();En(c,n,1,p)}}),cf(n,1)}},Mc=function(n){if(n.tag===13){var i=is(n,134217728);if(i!==null){var l=Er();En(i,n,134217728,l)}cf(n,134217728)}},Rp=function(n){if(n.tag===13){var i=Ms(n),l=is(n,i);if(l!==null){var c=Er();En(l,n,i,c)}cf(n,i)}},Dp=function(){return bt},Ip=function(n,i){var l=bt;try{return bt=n,i()}finally{bt=l}},De=function(n,i,l){switch(i){case"input":if($r(n,l),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==n&&c.form===n.form){var p=El(c);if(!p)throw Error(r(90));Bt(c),$r(c,p)}}}break;case"textarea":K(n,l);break;case"select":i=l.value,i!=null&&nr(n,!!l.multiple,i,!1)}},wt=rf,ht=hi;var IS={usingClientEntryPoint:!1,Events:[Xo,Wi,El,st,ft,rf]},fa={findFiberByHostInstance:ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AS={bundleType:fa.bundleType,version:fa.version,rendererPackageName:fa.rendererPackageName,rendererConfig:fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Ro(n),n===null?null:n.stateNode},findFiberByHostInstance:fa.findFiberByHostInstance||RS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{si=cu.inject(AS),on=cu}catch{}}return zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IS,zr.createPortal=function(n,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ff(i))throw Error(r(200));return jS(n,i,null,l)},zr.createRoot=function(n,i){if(!ff(n))throw Error(r(299));var l=!1,c="",p=Zg;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=uf(n,1,!1,null,null,l,!1,c,p),n[ts]=i.current,Go(n.nodeType===8?n.parentNode:n),new df(i)},zr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Ro(i),n=n===null?null:n.stateNode,n},zr.flushSync=function(n){return hi(n)},zr.hydrate=function(n,i,l){if(!lu(i))throw Error(r(200));return uu(null,n,i,!0,l)},zr.hydrateRoot=function(n,i,l){if(!ff(n))throw Error(r(405));var c=l!=null&&l.hydratedSources||null,p=!1,v="",b=Zg;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),i=Kg(i,null,n,1,l??null,p,!1,v,b),n[ts]=i.current,Go(n),c)for(n=0;n<c.length;n++)l=c[n],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new au(i)},zr.render=function(n,i,l){if(!lu(i))throw Error(r(200));return uu(null,n,i,!1,l)},zr.unmountComponentAtNode=function(n){if(!lu(n))throw Error(r(40));return n._reactRootContainer?(hi(function(){uu(null,null,n,!1,function(){n._reactRootContainer=null,n[ts]=null})}),!0):!1},zr.unstable_batchedUpdates=rf,zr.unstable_renderSubtreeIntoContainer=function(n,i,l,c){if(!lu(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return uu(n,i,l,!1,c)},zr.version="18.3.1-next-f1338f8080-20240426",zr}var iv;function t0(){if(iv)return mf.exports;iv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mf.exports=US(),mf.exports}var ov;function qS(){if(ov)return du;ov=1;var t=t0();return du.createRoot=t.createRoot,du.hydrateRoot=t.hydrateRoot,du}var WS=qS();function HS(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,s,o,a,u=[],d="",h=t.split("/");for(h[0]||h.shift();o=h.shift();)r=o[0],r==="*"?(u.push(r),d+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=o.indexOf("?",1),a=o.indexOf(".",1),u.push(o.substring(1,~s?s:~a?a:o.length)),d+=~s&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(d+=(~s?"?":"")+"\\"+o.substring(a))):d+="/"+o;return{keys:u,pattern:new RegExp("^"+d+(e?"(?=$|/)":"/?$"),"i")}}var w=nc();const Je=e0(w),r0=LS({__proto__:null,default:Je},[w]);var yf={exports:{}},xf={};var av;function QS(){if(av)return xf;av=1;var t=nc();function e(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var r=typeof Object.is=="function"?Object.is:e,s=t.useState,o=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function d(y,x){var S=x(),k=s({inst:{value:S,getSnapshot:x}}),_=k[0].inst,C=k[1];return a(function(){_.value=S,_.getSnapshot=x,h(_)&&C({inst:_})},[y,S,x]),o(function(){return h(_)&&C({inst:_}),y(function(){h(_)&&C({inst:_})})},[y]),u(S),S}function h(y){var x=y.getSnapshot;y=y.value;try{var S=x();return!r(y,S)}catch{return!0}}function m(y,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return xf.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,xf}var lv;function KS(){return lv||(lv=1,yf.exports=QS()),yf.exports}var GS=KS();const ZS=r0.useInsertionEffect,YS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n0=YS?w.useLayoutEffect:w.useEffect,XS=ZS||n0,Ah=t=>{const e=w.useRef([t,(...r)=>e[0](...r)]).current;return XS(()=>{e[0]=t}),e[1]},JS="popstate",Mh="pushState",Lh="replaceState",e2="hashchange",uv=[JS,Mh,Lh,e2],t2=t=>{for(const e of uv)addEventListener(e,t);return()=>{for(const e of uv)removeEventListener(e,t)}},s0=(t,e)=>GS.useSyncExternalStore(t2,t,e),r2=()=>location.search,n2=({ssrSearch:t=""}={})=>s0(r2,()=>t),cv=()=>location.pathname,s2=({ssrPath:t}={})=>s0(cv,t?()=>t:cv),i2=(t,{replace:e=!1,state:r=null}={})=>history[e?Lh:Mh](r,"",t),o2=(t={})=>[s2(t),i2],dv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[dv]>"u"){for(const t of[Mh,Lh]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),s=new Event(t);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,dv,{value:!0})}const a2=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",i0=(t="")=>t==="/"?"":t,l2=(t,e)=>t[0]==="~"?t.slice(1):i0(e)+t,u2=(t="",e)=>a2(fv(i0(t)),fv(e)),fv=t=>{try{return decodeURI(t)}catch{return t}},o0={hook:o2,searchHook:n2,parser:HS,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},a0=w.createContext(o0),el=()=>w.useContext(a0),l0={},u0=w.createContext(l0),c0=()=>w.useContext(u0),sc=t=>{const[e,r]=t.hook(t);return[u2(t.base,e),Ah((s,o)=>r(l2(s,t.base),o))]},Ii=()=>sc(el()),d0=(t,e,r,s)=>{const{pattern:o,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",s),u=o.exec(r)||[],[d,...h]=u;return d!==void 0?[!0,(()=>{const m=a!==!1?Object.fromEntries(a.map((y,x)=>[y,h[x]])):u.groups;let g={...h};return m&&Object.assign(g,m),g})(),...s?[d]:[]]:[!1,null]},c2=({children:t,...e})=>{const r=el(),s=e.hook?o0:r;let o=s;const[a,u]=e.ssrPath?.split("?")??[];u&&(e.ssrSearch=u,e.ssrPath=a),e.hrefs=e.hrefs??e.hook?.hrefs;let d=w.useRef({}),h=d.current,m=h;for(let g in s){const y=g==="base"?s[g]+(e[g]||""):e[g]||s[g];h===m&&y!==m[g]&&(d.current=m={...m}),m[g]=y,y!==s[g]&&(o=m)}return w.createElement(a0.Provider,{value:o,children:t})},hv=({children:t,component:e},r)=>e?w.createElement(e,{params:r}):typeof t=="function"?t(r):t,d2=t=>{let e=w.useRef(l0),r=e.current;for(const s in t)t[s]!==r[s]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},oo=({path:t,nest:e,match:r,...s})=>{const o=el(),[a]=sc(o),[u,d,h]=r??d0(o.parser,t,a,e),m=d2({...c0(),...d});if(!u)return null;const g=h?w.createElement(c2,{base:h},hv(s,m)):hv(s,m);return w.createElement(u0.Provider,{value:m,children:g})},ao=w.forwardRef((t,e)=>{const r=el(),[s,o]=sc(r),{to:a="",href:u=a,onClick:d,asChild:h,children:m,className:g,replace:y,state:x,...S}=t,k=Ah(C=>{C.ctrlKey||C.metaKey||C.altKey||C.shiftKey||C.button!==0||(d?.(C),C.defaultPrevented||(C.preventDefault(),o(u,t)))}),_=r.hrefs(u[0]==="~"?u.slice(1):r.base+u,r);return h&&w.isValidElement(m)?w.cloneElement(m,{onClick:k,href:_}):w.createElement("a",{...S,onClick:k,href:_,className:g?.call?g(s===u):g,children:m,ref:e})}),f0=t=>Array.isArray(t)?t.flatMap(e=>f0(e&&e.type===w.Fragment?e.props.children:e)):[t],f2=({children:t,location:e})=>{const r=el(),[s]=sc(r);for(const o of f0(t)){let a=0;if(w.isValidElement(o)&&(a=d0(r.parser,o.props.path,e||s,o.props.nest))[0])return w.cloneElement(o,{match:a})}return null},h0=t=>{const{to:e,href:r=e}=t,[,s]=Ii(),o=Ah(()=>s(e||r,t));return n0(()=>{o()},[]),null};var To=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ki=typeof window>"u"||"Deno"in globalThis;function pn(){}function h2(t,e){return typeof t=="function"?t(e):t}function Kf(t){return typeof t=="number"&&t>=0&&t!==1/0}function p0(t,e){return Math.max(t+(e||0)-Date.now(),0)}function po(t,e){return typeof t=="function"?t(e):t}function Nn(t,e){return typeof t=="function"?t(e):t}function pv(t,e){const{type:r="all",exact:s,fetchStatus:o,predicate:a,queryKey:u,stale:d}=t;if(u){if(s){if(e.queryHash!==Fh(u,e.options))return!1}else if(!Ia(e.queryKey,u))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||a&&!a(e))}function mv(t,e){const{exact:r,status:s,predicate:o,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Ei(e.options.mutationKey)!==Ei(a))return!1}else if(!Ia(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||o&&!o(e))}function Fh(t,e){return(e?.queryKeyHashFn||Ei)(t)}function Ei(t){return JSON.stringify(t,(e,r)=>Gf(r)?Object.keys(r).sort().reduce((s,o)=>(s[o]=r[o],s),{}):r)}function Ia(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Ia(t[r],e[r])):!1}function m0(t,e){if(t===e)return t;const r=gv(t)&&gv(e);if(r||Gf(t)&&Gf(e)){const s=r?t:Object.keys(t),o=s.length,a=r?e:Object.keys(e),u=a.length,d=r?[]:{};let h=0;for(let m=0;m<u;m++){const g=r?m:a[m];(!r&&s.includes(g)||r)&&t[g]===void 0&&e[g]===void 0?(d[g]=void 0,h++):(d[g]=m0(t[g],e[g]),d[g]===t[g]&&t[g]!==void 0&&h++)}return o===u&&h===o?t:d}return e}function ju(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function gv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Gf(t){if(!vv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!vv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function vv(t){return Object.prototype.toString.call(t)==="[object Object]"}function p2(t){return new Promise(e=>{setTimeout(e,t)})}function Zf(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?m0(t,e):e}function m2(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function g2(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var zh=Symbol();function g0(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===zh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var v2=class extends To{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!ki&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},$h=new v2,y2=class extends To{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!ki&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Ru=new y2;function Yf(){let t,e;const r=new Promise((o,a)=>{t=o,e=a});r.status="pending",r.catch(()=>{});function s(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{s({status:"fulfilled",value:o}),t(o)},r.reject=o=>{s({status:"rejected",reason:o}),e(o)},r}function x2(t){return Math.min(1e3*2**t,3e4)}function v0(t){return(t??"online")==="online"?Ru.isOnline():!0}var y0=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function wf(t){return t instanceof y0}function x0(t){let e=!1,r=0,s=!1,o;const a=Yf(),u=_=>{s||(x(new y0(_)),t.abort?.())},d=()=>{e=!0},h=()=>{e=!1},m=()=>$h.isFocused()&&(t.networkMode==="always"||Ru.isOnline())&&t.canRun(),g=()=>v0(t.networkMode)&&t.canRun(),y=_=>{s||(s=!0,t.onSuccess?.(_),o?.(),a.resolve(_))},x=_=>{s||(s=!0,t.onError?.(_),o?.(),a.reject(_))},S=()=>new Promise(_=>{o=C=>{(s||m())&&_(C)},t.onPause?.()}).then(()=>{o=void 0,s||t.onContinue?.()}),k=()=>{if(s)return;let _;const C=r===0?t.initialPromise:void 0;try{_=C??t.fn()}catch(P){_=Promise.reject(P)}Promise.resolve(_).then(y).catch(P=>{if(s)return;const E=t.retry??(ki?0:3),D=t.retryDelay??x2,A=typeof D=="function"?D(r,P):D,V=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,P);if(e||!V){x(P);return}r++,t.onFail?.(r,P),p2(A).then(()=>m()?void 0:S()).then(()=>{e?x(P):k()})})};return{promise:a,cancel:u,continue:()=>(o?.(),a),cancelRetry:d,continueRetry:h,canStart:g,start:()=>(g()?k():S().then(k),a)}}function w2(){let t=[],e=0,r=d=>{d()},s=d=>{d()},o=d=>setTimeout(d,0);const a=d=>{e?t.push(d):o(()=>{r(d)})},u=()=>{const d=t;t=[],d.length&&o(()=>{s(()=>{d.forEach(h=>{r(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||u()}return h},batchCalls:d=>(...h)=>{a(()=>{d(...h)})},schedule:a,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{o=d}}}var tr=w2(),w0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kf(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ki?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},b2=class extends w0{#e;#t;#n;#r;#o;#i;constructor(t){super(),this.#i=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=S2(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const r=Zf(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(pn).catch(pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Nn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!p0(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#i?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},o=()=>{const d=g0(this.options,e),h={queryKey:this.queryKey,meta:this.meta};return s(h),this.#i=!1,this.options.persister?this.options.persister(d,h,this):d(h)},a={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta});const u=d=>{wf(d)&&d.silent||this.#s({type:"error",error:d}),wf(d)||(this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#r=x0({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(h){u(h);return}this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:u,onFail:(d,h)=>{this.#s({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...b0(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return wf(s)&&s.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),tr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function b0(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:v0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function S2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var _2=class extends To{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const s=e.queryKey,o=e.queryHash??Fh(s,e);let a=this.get(o);return a||(a=new b2({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>pv(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>pv(t,r)):e}notify(t){tr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){tr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){tr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},C2=class extends w0{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||S0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=x0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#r({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:r})}const s=await this.#n.start();return await this.#t.config.onSuccess?.(s,t,this.state.context,this),await this.options.onSuccess?.(s,t,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,t,this.state.context),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,t,this.state.context,this),await this.options.onError?.(s,t,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,t,this.state.context),s}finally{this.#r({type:"error",error:s})}}finally{this.#t.runNext(this)}}#r(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),tr.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function S0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var k2=class extends To{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){const s=new C2({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(s),s}add(t){const e=fu(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=fu(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter(s=>s!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(fu(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(fu(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){tr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(r=>mv(e,r))}findAll(t={}){return this.getAll().filter(e=>mv(t,e))}notify(t){tr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return tr.batch(()=>Promise.all(t.map(e=>e.continue().catch(pn))))}};function fu(t){return t.options.scope?.id??String(t.mutationId)}function yv(t){return{onFetch:(e,r)=>{const s=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const m=async()=>{let g=!1;const y=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=g0(e.options,e.fetchOptions),S=async(k,_,C)=>{if(g)return Promise.reject();if(_==null&&k.pages.length)return Promise.resolve(k);const P={queryKey:e.queryKey,pageParam:_,direction:C?"backward":"forward",meta:e.options.meta};y(P);const E=await x(P),{maxPages:D}=e.options,A=C?g2:m2;return{pages:A(k.pages,E,D),pageParams:A(k.pageParams,_,D)}};if(o&&a.length){const k=o==="backward",_=k?E2:xv,C={pages:a,pageParams:u},P=_(s,C);d=await S(C,P,k)}else{const k=t??a.length;do{const _=h===0?u[0]??s.initialPageParam:xv(s,d);if(h>0&&_==null)break;d=await S(d,_),h++}while(h<k)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function xv(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function E2(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var T2=class{#e;#t;#n;#r;#o;#i;#s;#a;constructor(t={}){this.#e=t.queryCache||new _2,this.#t=t.mutationCache||new k2,this.#n=t.defaultOptions||{},this.#r=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=$h.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Ru.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),s=this.#e.build(this,r);return t.revalidateIfStale&&s.isStaleByTime(po(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(s.queryHash)?.state.data,u=h2(e,a);if(u!==void 0)return this.#e.build(this,s).setData(u,{...r,manual:!0})}setQueriesData(t,e,r){return tr.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;tr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e,s={type:"active",...t};return tr.batch(()=>(r.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},s=tr.batch(()=>this.#e.findAll(t).map(o=>o.cancel(r)));return Promise.all(s).then(pn).catch(pn)}invalidateQueries(t={},e={}){return tr.batch(()=>{if(this.#e.findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:e?.cancelRefetch??!0},s=tr.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(pn)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(pn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(po(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(pn).catch(pn)}fetchInfiniteQuery(t){return t.behavior=yv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(pn).catch(pn)}ensureInfiniteQueryData(t){return t.behavior=yv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ru.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Ei(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()];let r={};return e.forEach(s=>{Ia(t,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(t,e){this.#o.set(Ei(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#o.values()];let r={};return e.forEach(s=>{Ia(t,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Fh(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===zh&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},P2=class extends To{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#s=Yf(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#o;#i;#s;#a;#m;#f;#h;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),wv(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#t.removeObserver(this)}setOptions(t,e){const r=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),r._defaulted&&!ju(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&bv(this.#t,s,this.options,r)&&this.#d(),this.updateResult(e),o&&(this.#t!==s||Nn(this.options.enabled,this.#t)!==Nn(r.enabled,this.#t)||po(this.options.staleTime,this.#t)!==po(r.staleTime,this.#t))&&this.#g();const a=this.#v();o&&(this.#t!==s||Nn(this.options.enabled,this.#t)!==Nn(r.enabled,this.#t)||a!==this.#l)&&this.#y(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return O2(this,r)&&(this.#r=r,this.#i=this.options,this.#o=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(t,e){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),e?.(s),t[s])})}),r}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(pn)),e}#g(){this.#w();const t=po(this.options.staleTime,this.#t);if(ki||this.#r.isStale||!Kf(t))return;const r=p0(this.#r.dataUpdatedAt,t)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#b(),this.#l=t,!(ki||Nn(this.options.enabled,this.#t)===!1||!Kf(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||$h.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#w(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#b(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const r=this.#t,s=this.options,o=this.#r,a=this.#o,u=this.#i,h=t!==r?t.state:this.#n,{state:m}=t;let g={...m},y=!1,x;if(e._optimisticResults){const B=this.hasListeners(),J=!B&&wv(t,e),Q=B&&bv(t,r,e,s);(J||Q)&&(g={...g,...b0(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:S,errorUpdatedAt:k,status:_}=g;if(e.select&&g.data!==void 0)if(o&&g.data===a?.data&&e.select===this.#m)x=this.#f;else try{this.#m=e.select,x=e.select(g.data),x=Zf(o?.data,x,e),this.#f=x,this.#a=null}catch(B){this.#a=B}else x=g.data;if(e.placeholderData!==void 0&&x===void 0&&_==="pending"){let B;if(o?.isPlaceholderData&&e.placeholderData===u?.placeholderData)B=o.data;else if(B=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,e.select&&B!==void 0)try{B=e.select(B),this.#a=null}catch(J){this.#a=J}B!==void 0&&(_="success",x=Zf(o?.data,B,e),y=!0)}this.#a&&(S=this.#a,x=this.#f,k=Date.now(),_="error");const C=g.fetchStatus==="fetching",P=_==="pending",E=_==="error",D=P&&C,A=x!==void 0,G={status:_,fetchStatus:g.fetchStatus,isPending:P,isSuccess:_==="success",isError:E,isInitialLoading:D,isLoading:D,data:x,dataUpdatedAt:g.dataUpdatedAt,error:S,errorUpdatedAt:k,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:C,isRefetching:C&&!P,isLoadingError:E&&!A,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:E&&A,isStale:Vh(t,e),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const B=U=>{G.status==="error"?U.reject(G.error):G.data!==void 0&&U.resolve(G.data)},J=()=>{const U=this.#s=G.promise=Yf();B(U)},Q=this.#s;switch(Q.status){case"pending":t.queryHash===r.queryHash&&B(Q);break;case"fulfilled":(G.status==="error"||G.data!==Q.value)&&J();break;case"rejected":(G.status!=="error"||G.error!==Q.reason)&&J();break}}return G}updateResult(t){const e=this.#r,r=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#i=this.options,this.#o.data!==void 0&&(this.#h=this.#t),ju(r,e))return;this.#r=r;const s={},o=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,u=typeof a=="function"?a():a;if(u==="all"||!u&&!this.#p.size)return!0;const d=new Set(u??this.#p);return this.options.throwOnError&&d.add("error"),Object.keys(this.#r).some(h=>{const m=h;return this.#r[m]!==e[m]&&d.has(m)})};t?.listeners!==!1&&o()&&(s.listeners=!0),this.#_({...s,...t})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#_(t){tr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function N2(t,e){return Nn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function wv(t,e){return N2(t,e)||t.state.data!==void 0&&Xf(t,e,e.refetchOnMount)}function Xf(t,e,r){if(Nn(e.enabled,t)!==!1){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&Vh(t,e)}return!1}function bv(t,e,r,s){return(t!==e||Nn(s.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Vh(t,r)}function Vh(t,e){return Nn(e.enabled,t)!==!1&&t.isStaleByTime(po(e.staleTime,t))}function O2(t,e){return!ju(t.getCurrentResult(),e)}var j2=class extends To{#e;#t=void 0;#n;#r;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),ju(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ei(r.mutationKey)!==Ei(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#o(),this.#i()}mutate(e,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#o(){const e=this.#n?.state??S0();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){tr.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,r,s),this.#r.onSettled?.(e.data,null,r,s)):e?.type==="error"&&(this.#r.onError?.(e.error,r,s),this.#r.onSettled?.(void 0,e.error,r,s))}this.listeners.forEach(r=>{r(this.#t)})})}},_0=w.createContext(void 0),ic=t=>{const e=w.useContext(_0);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},R2=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(_0.Provider,{value:t,children:e})),C0=w.createContext(!1),D2=()=>w.useContext(C0);C0.Provider;function I2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var A2=w.createContext(I2()),M2=()=>w.useContext(A2);function k0(t,e){return typeof t=="function"?t(...e):!!t}function Jf(){}var L2=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},F2=t=>{w.useEffect(()=>{t.clearReset()},[t])},z2=({result:t,errorResetBoundary:e,throwOnError:r,query:s})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&k0(r,[t.error,s]),$2=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},V2=(t,e)=>t.isLoading&&t.isFetching&&!e,B2=(t,e)=>t?.suspense&&e.isPending,Sv=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function U2(t,e,r){const s=ic(),o=D2(),a=M2(),u=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=o?"isRestoring":"optimistic",$2(u),L2(u,a),F2(a);const d=!s.getQueryCache().get(u.queryHash),[h]=w.useState(()=>new e(s,u)),m=h.getOptimisticResult(u);if(w.useSyncExternalStore(w.useCallback(g=>{const y=o?Jf:h.subscribe(tr.batchCalls(g));return h.updateResult(),y},[h,o]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),w.useEffect(()=>{h.setOptions(u,{listeners:!1})},[u,h]),B2(u,m))throw Sv(u,h,a);if(z2({result:m,errorResetBoundary:a,throwOnError:u.throwOnError,query:s.getQueryCache().get(u.queryHash)}))throw m.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(u,m),u.experimental_prefetchInRender&&!ki&&V2(m,o)&&(d?Sv(u,h,a):s.getQueryCache().get(u.queryHash)?.promise)?.catch(Jf).finally(()=>{h.updateResult()}),u.notifyOnChangeProps?m:h.trackResult(m)}function Du(t,e){return U2(t,P2)}function bf(t,e){const r=ic(),[s]=w.useState(()=>new j2(r,t));w.useEffect(()=>{s.setOptions(t)},[s,t]);const o=w.useSyncExternalStore(w.useCallback(u=>s.subscribe(tr.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=w.useCallback((u,d)=>{s.mutate(u,d).catch(Jf)},[s]);if(o.error&&k0(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}const q2={},W2="auth_token";function H2(t){const e=t.trim();return e?/^https?:\/\//i.test(e)?e.replace(/\/+$/g,""):/^\/\//.test(e)?`https:${e.replace(/\/+$/g,"")}`:e.startsWith("/")?e.replace(/\/+$/g,""):`https://${e.replace(/\/+$/g,"")}`:""}function Q2(){const t=q2?.VITE_API_BASE_URL,r=t?H2(t):"https://chesspro-api.longnononpro.workers.dev";return r||""}const _r=Q2();function K2(){try{return localStorage.getItem(W2)}catch{return null}}function G2(t){const e=K2();return e?{...t,Authorization:`Bearer ${e}`}:t}async function Z2(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const Y2=({on401:t})=>async({queryKey:e})=>{const r=await fetch(_r+e.join("/"),{headers:G2({})});return await Z2(r),await r.json()},X2=new T2({defaultOptions:{queries:{queryFn:Y2({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),J2=1,e_=1e6;let Sf=0;function t_(){return Sf=(Sf+1)%Number.MAX_SAFE_INTEGER,Sf.toString()}const _f=new Map,_v=t=>{if(_f.has(t))return;const e=setTimeout(()=>{_f.delete(t),Na({type:"REMOVE_TOAST",toastId:t})},e_);_f.set(t,e)},r_=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,J2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?_v(r):t.toasts.forEach(s=>{_v(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},_u=[];let Cu={toasts:[]};function Na(t){Cu=r_(Cu,t),_u.forEach(e=>{e(Cu)})}function n_({...t}){const e=t_(),r=o=>Na({type:"UPDATE_TOAST",toast:{...o,id:e}}),s=()=>Na({type:"DISMISS_TOAST",toastId:e});return Na({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:o=>{o||s()}}}),{id:e,dismiss:s,update:r}}function Ai(){const[t,e]=w.useState(Cu);return w.useEffect(()=>(_u.push(e),()=>{const r=_u.indexOf(e);r>-1&&_u.splice(r,1)}),[t]),{...t,toast:n_,dismiss:r=>Na({type:"DISMISS_TOAST",toastId:r})}}var oc=t0();const s_=e0(oc);function lt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}function Cv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function E0(...t){return e=>{let r=!1;const s=t.map(o=>{const a=Cv(o,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():Cv(t[o],null)}}}}function lr(...t){return w.useCallback(E0(...t),t)}function ti(t,e=[]){let r=[];function s(a,u){const d=w.createContext(u),h=r.length;r=[...r,u];const m=y=>{const{scope:x,children:S,...k}=y,_=x?.[t]?.[h]||d,C=w.useMemo(()=>k,Object.values(k));return f.jsx(_.Provider,{value:C,children:S})};m.displayName=a+"Provider";function g(y,x){const S=x?.[t]?.[h]||d,k=w.useContext(S);if(k)return k;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[m,g]}const o=()=>{const a=r.map(u=>w.createContext(u));return function(d){const h=d?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return o.scopeName=t,[s,i_(o,...e)]}function i_(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=s.reduce((d,{useScope:h,scopeName:m})=>{const y=h(a)[`__scope${m}`];return{...d,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return r.scopeName=e.scopeName,r}function Iu(t){const e=o_(t),r=w.forwardRef((s,o)=>{const{children:a,...u}=s,d=w.Children.toArray(a),h=d.find(l_);if(h){const m=h.props.children,g=d.map(y=>y===h?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:y);return f.jsx(e,{...u,ref:o,children:w.isValidElement(m)?w.cloneElement(m,void 0,g):null})}return f.jsx(e,{...u,ref:o,children:a})});return r.displayName=`${t}.Slot`,r}var T0=Iu("Slot");function o_(t){const e=w.forwardRef((r,s)=>{const{children:o,...a}=r;if(w.isValidElement(o)){const u=c_(o),d=u_(a,o.props);return o.type!==w.Fragment&&(d.ref=s?E0(s,u):u),w.cloneElement(o,d)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var P0=Symbol("radix.slottable");function a_(t){const e=({children:r})=>f.jsx(f.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=P0,e}function l_(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===P0}function u_(t,e){const r={...e};for(const s in e){const o=t[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?r[s]=(...d)=>{a(...d),o(...d)}:o&&(r[s]=o):s==="style"?r[s]={...o,...a}:s==="className"&&(r[s]=[o,a].filter(Boolean).join(" "))}return{...t,...r}}function c_(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function N0(t){const e=t+"CollectionProvider",[r,s]=ti(e),[o,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),u=_=>{const{scope:C,children:P}=_,E=Je.useRef(null),D=Je.useRef(new Map).current;return f.jsx(o,{scope:C,itemMap:D,collectionRef:E,children:P})};u.displayName=e;const d=t+"CollectionSlot",h=Iu(d),m=Je.forwardRef((_,C)=>{const{scope:P,children:E}=_,D=a(d,P),A=lr(C,D.collectionRef);return f.jsx(h,{ref:A,children:E})});m.displayName=d;const g=t+"CollectionItemSlot",y="data-radix-collection-item",x=Iu(g),S=Je.forwardRef((_,C)=>{const{scope:P,children:E,...D}=_,A=Je.useRef(null),V=lr(C,A),G=a(g,P);return Je.useEffect(()=>(G.itemMap.set(A,{ref:A,...D}),()=>{G.itemMap.delete(A)})),f.jsx(x,{[y]:"",ref:V,children:E})});S.displayName=g;function k(_){const C=a(t+"CollectionConsumer",_);return Je.useCallback(()=>{const E=C.collectionRef.current;if(!E)return[];const D=Array.from(E.querySelectorAll(`[${y}]`));return Array.from(C.itemMap.values()).sort((G,B)=>D.indexOf(G.ref.current)-D.indexOf(B.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:u,Slot:m,ItemSlot:S},k,s]}var d_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],_t=d_.reduce((t,e)=>{const r=Iu(`Primitive.${e}`),s=w.forwardRef((o,a)=>{const{asChild:u,...d}=o,h=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...d,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function O0(t,e){t&&oc.flushSync(()=>t.dispatchEvent(e))}function rr(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...r)=>e.current?.(...r),[])}function f_(t,e=globalThis?.document){const r=rr(t);w.useEffect(()=>{const s=o=>{o.key==="Escape"&&r(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[r,e])}var h_="DismissableLayer",eh="dismissableLayer.update",p_="dismissableLayer.pointerDownOutside",m_="dismissableLayer.focusOutside",kv,j0=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bh=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...h}=t,m=w.useContext(j0),[g,y]=w.useState(null),x=g?.ownerDocument??globalThis?.document,[,S]=w.useState({}),k=lr(e,B=>y(B)),_=Array.from(m.layers),[C]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),P=_.indexOf(C),E=g?_.indexOf(g):-1,D=m.layersWithOutsidePointerEventsDisabled.size>0,A=E>=P,V=v_(B=>{const J=B.target,Q=[...m.branches].some(U=>U.contains(J));!A||Q||(o?.(B),u?.(B),B.defaultPrevented||d?.())},x),G=y_(B=>{const J=B.target;[...m.branches].some(U=>U.contains(J))||(a?.(B),u?.(B),B.defaultPrevented||d?.())},x);return f_(B=>{E===m.layers.size-1&&(s?.(B),!B.defaultPrevented&&d&&(B.preventDefault(),d()))},x),w.useEffect(()=>{if(g)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(kv=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Ev(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=kv)}},[g,x,r,m]),w.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Ev())},[g,m]),w.useEffect(()=>{const B=()=>S({});return document.addEventListener(eh,B),()=>document.removeEventListener(eh,B)},[]),f.jsx(_t.div,{...h,ref:k,style:{pointerEvents:D?A?"auto":"none":void 0,...t.style},onFocusCapture:lt(t.onFocusCapture,G.onFocusCapture),onBlurCapture:lt(t.onBlurCapture,G.onBlurCapture),onPointerDownCapture:lt(t.onPointerDownCapture,V.onPointerDownCapture)})});Bh.displayName=h_;var g_="DismissableLayerBranch",R0=w.forwardRef((t,e)=>{const r=w.useContext(j0),s=w.useRef(null),o=lr(e,s);return w.useEffect(()=>{const a=s.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),f.jsx(_t.div,{...t,ref:o})});R0.displayName=g_;function v_(t,e=globalThis?.document){const r=rr(t),s=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const a=d=>{if(d.target&&!s.current){let h=function(){D0(p_,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>s.current=!0}}function y_(t,e=globalThis?.document){const r=rr(t),s=w.useRef(!1);return w.useEffect(()=>{const o=a=>{a.target&&!s.current&&D0(m_,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ev(){const t=new CustomEvent(eh);document.dispatchEvent(t)}function D0(t,e,r,{discrete:s}){const o=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),s?O0(o,a):o.dispatchEvent(a)}var x_=Bh,w_=R0,gn=globalThis?.document?w.useLayoutEffect:()=>{},b_="Portal",I0=w.forwardRef((t,e)=>{const{container:r,...s}=t,[o,a]=w.useState(!1);gn(()=>a(!0),[]);const u=r||o&&globalThis?.document?.body;return u?s_.createPortal(f.jsx(_t.div,{...s,ref:e}),u):null});I0.displayName=b_;function S_(t,e){return w.useReducer((r,s)=>e[r][s]??r,t)}var ri=t=>{const{present:e,children:r}=t,s=__(e),o=typeof r=="function"?r({present:s.isPresent}):w.Children.only(r),a=lr(s.ref,C_(o));return typeof r=="function"||s.isPresent?w.cloneElement(o,{ref:a}):null};ri.displayName="Presence";function __(t){const[e,r]=w.useState(),s=w.useRef({}),o=w.useRef(t),a=w.useRef("none"),u=t?"mounted":"unmounted",[d,h]=S_(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=hu(s.current);a.current=d==="mounted"?m:"none"},[d]),gn(()=>{const m=s.current,g=o.current;if(g!==t){const x=a.current,S=hu(m);t?h("MOUNT"):S==="none"||m?.display==="none"?h("UNMOUNT"):h(g&&x!==S?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,h]),gn(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,y=S=>{const _=hu(s.current).includes(S.animationName);if(S.target===e&&_&&(h("ANIMATION_END"),!o.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},x=S=>{S.target===e&&(a.current=hu(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(m=>{m&&(s.current=getComputedStyle(m)),r(m)},[])}}function hu(t){return t?.animationName||"none"}function C_(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Uh({prop:t,defaultProp:e,onChange:r=()=>{}}){const[s,o]=k_({defaultProp:e,onChange:r}),a=t!==void 0,u=a?t:s,d=rr(r),h=w.useCallback(m=>{if(a){const y=typeof m=="function"?m(t):m;y!==t&&d(y)}else o(m)},[a,t,o,d]);return[u,h]}function k_({defaultProp:t,onChange:e}){const r=w.useState(t),[s]=r,o=w.useRef(s),a=rr(e);return w.useEffect(()=>{o.current!==s&&(a(s),o.current=s)},[s,o,a]),r}var E_="VisuallyHidden",ac=w.forwardRef((t,e)=>f.jsx(_t.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ac.displayName=E_;var T_=ac,qh="ToastProvider",[Wh,P_,N_]=N0("Toast"),[A0]=ti("Toast",[N_]),[O_,lc]=A0(qh),M0=t=>{const{__scopeToast:e,label:r="Notification",duration:s=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:u}=t,[d,h]=w.useState(null),[m,g]=w.useState(0),y=w.useRef(!1),x=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${qh}\`. Expected non-empty \`string\`.`),f.jsx(Wh.Provider,{scope:e,children:f.jsx(O_,{scope:e,label:r,duration:s,swipeDirection:o,swipeThreshold:a,toastCount:m,viewport:d,onViewportChange:h,onToastAdd:w.useCallback(()=>g(S=>S+1),[]),onToastRemove:w.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:x,children:u})})};M0.displayName=qh;var L0="ToastViewport",j_=["F8"],th="toast.viewportPause",rh="toast.viewportResume",F0=w.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:s=j_,label:o="Notifications ({hotkey})",...a}=t,u=lc(L0,r),d=P_(r),h=w.useRef(null),m=w.useRef(null),g=w.useRef(null),y=w.useRef(null),x=lr(e,y,u.onViewportChange),S=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=u.toastCount>0;w.useEffect(()=>{const C=P=>{s.length!==0&&s.every(D=>P[D]||P.code===D)&&y.current?.focus()};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[s]),w.useEffect(()=>{const C=h.current,P=y.current;if(k&&C&&P){const E=()=>{if(!u.isClosePausedRef.current){const G=new CustomEvent(th);P.dispatchEvent(G),u.isClosePausedRef.current=!0}},D=()=>{if(u.isClosePausedRef.current){const G=new CustomEvent(rh);P.dispatchEvent(G),u.isClosePausedRef.current=!1}},A=G=>{!C.contains(G.relatedTarget)&&D()},V=()=>{C.contains(document.activeElement)||D()};return C.addEventListener("focusin",E),C.addEventListener("focusout",A),C.addEventListener("pointermove",E),C.addEventListener("pointerleave",V),window.addEventListener("blur",E),window.addEventListener("focus",D),()=>{C.removeEventListener("focusin",E),C.removeEventListener("focusout",A),C.removeEventListener("pointermove",E),C.removeEventListener("pointerleave",V),window.removeEventListener("blur",E),window.removeEventListener("focus",D)}}},[k,u.isClosePausedRef]);const _=w.useCallback(({tabbingDirection:C})=>{const E=d().map(D=>{const A=D.ref.current,V=[A,...q_(A)];return C==="forwards"?V:V.reverse()});return(C==="forwards"?E.reverse():E).flat()},[d]);return w.useEffect(()=>{const C=y.current;if(C){const P=E=>{const D=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!D){const V=document.activeElement,G=E.shiftKey;if(E.target===C&&G){m.current?.focus();return}const Q=_({tabbingDirection:G?"backwards":"forwards"}),U=Q.findIndex(ee=>ee===V);Cf(Q.slice(U+1))?E.preventDefault():G?m.current?.focus():g.current?.focus()}};return C.addEventListener("keydown",P),()=>C.removeEventListener("keydown",P)}},[d,_]),f.jsxs(w_,{ref:h,role:"region","aria-label":o.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&f.jsx(nh,{ref:m,onFocusFromOutsideViewport:()=>{const C=_({tabbingDirection:"forwards"});Cf(C)}}),f.jsx(Wh.Slot,{scope:r,children:f.jsx(_t.ol,{tabIndex:-1,...a,ref:x})}),k&&f.jsx(nh,{ref:g,onFocusFromOutsideViewport:()=>{const C=_({tabbingDirection:"backwards"});Cf(C)}})]})});F0.displayName=L0;var z0="ToastFocusProxy",nh=w.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...o}=t,a=lc(z0,r);return f.jsx(ac,{"aria-hidden":!0,tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:u=>{const d=u.relatedTarget;!a.viewport?.contains(d)&&s()}})});nh.displayName=z0;var uc="Toast",R_="toast.swipeStart",D_="toast.swipeMove",I_="toast.swipeCancel",A_="toast.swipeEnd",$0=w.forwardRef((t,e)=>{const{forceMount:r,open:s,defaultOpen:o,onOpenChange:a,...u}=t,[d=!0,h]=Uh({prop:s,defaultProp:o,onChange:a});return f.jsx(ri,{present:r||d,children:f.jsx(F_,{open:d,...u,ref:e,onClose:()=>h(!1),onPause:rr(t.onPause),onResume:rr(t.onResume),onSwipeStart:lt(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:lt(t.onSwipeMove,m=>{const{x:g,y}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:lt(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:lt(t.onSwipeEnd,m=>{const{x:g,y}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),h(!1)})})})});$0.displayName=uc;var[M_,L_]=A0(uc,{onClose(){}}),F_=w.forwardRef((t,e)=>{const{__scopeToast:r,type:s="foreground",duration:o,open:a,onClose:u,onEscapeKeyDown:d,onPause:h,onResume:m,onSwipeStart:g,onSwipeMove:y,onSwipeCancel:x,onSwipeEnd:S,...k}=t,_=lc(uc,r),[C,P]=w.useState(null),E=lr(e,Y=>P(Y)),D=w.useRef(null),A=w.useRef(null),V=o||_.duration,G=w.useRef(0),B=w.useRef(V),J=w.useRef(0),{onToastAdd:Q,onToastRemove:U}=_,ee=rr(()=>{C?.contains(document.activeElement)&&_.viewport?.focus(),u()}),Z=w.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(J.current),G.current=new Date().getTime(),J.current=window.setTimeout(ee,Y))},[ee]);w.useEffect(()=>{const Y=_.viewport;if(Y){const Ce=()=>{Z(B.current),m?.()},ce=()=>{const we=new Date().getTime()-G.current;B.current=B.current-we,window.clearTimeout(J.current),h?.()};return Y.addEventListener(th,ce),Y.addEventListener(rh,Ce),()=>{Y.removeEventListener(th,ce),Y.removeEventListener(rh,Ce)}}},[_.viewport,V,h,m,Z]),w.useEffect(()=>{a&&!_.isClosePausedRef.current&&Z(V)},[a,V,_.isClosePausedRef,Z]),w.useEffect(()=>(Q(),()=>U()),[Q,U]);const te=w.useMemo(()=>C?Q0(C):null,[C]);return _.viewport?f.jsxs(f.Fragment,{children:[te&&f.jsx(z_,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:te}),f.jsx(M_,{scope:r,onClose:ee,children:oc.createPortal(f.jsx(Wh.ItemSlot,{scope:r,children:f.jsx(x_,{asChild:!0,onEscapeKeyDown:lt(d,()=>{_.isFocusedToastEscapeKeyDownRef.current||ee(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(_t.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":_.swipeDirection,...k,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:lt(t.onKeyDown,Y=>{Y.key==="Escape"&&(d?.(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,ee()))}),onPointerDown:lt(t.onPointerDown,Y=>{Y.button===0&&(D.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:lt(t.onPointerMove,Y=>{if(!D.current)return;const Ce=Y.clientX-D.current.x,ce=Y.clientY-D.current.y,we=!!A.current,q=["left","right"].includes(_.swipeDirection),le=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,ue=q?le(0,Ce):0,j=q?0:le(0,ce),X=Y.pointerType==="touch"?10:2,Oe={x:ue,y:j},ge={originalEvent:Y,delta:Oe};we?(A.current=Oe,pu(D_,y,ge,{discrete:!1})):Tv(Oe,_.swipeDirection,X)?(A.current=Oe,pu(R_,g,ge,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(Ce)>X||Math.abs(ce)>X)&&(D.current=null)}),onPointerUp:lt(t.onPointerUp,Y=>{const Ce=A.current,ce=Y.target;if(ce.hasPointerCapture(Y.pointerId)&&ce.releasePointerCapture(Y.pointerId),A.current=null,D.current=null,Ce){const we=Y.currentTarget,q={originalEvent:Y,delta:Ce};Tv(Ce,_.swipeDirection,_.swipeThreshold)?pu(A_,S,q,{discrete:!0}):pu(I_,x,q,{discrete:!0}),we.addEventListener("click",le=>le.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),z_=t=>{const{__scopeToast:e,children:r,...s}=t,o=lc(uc,e),[a,u]=w.useState(!1),[d,h]=w.useState(!1);return B_(()=>u(!0)),w.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:f.jsx(I0,{asChild:!0,children:f.jsx(ac,{...s,children:a&&f.jsxs(f.Fragment,{children:[o.label," ",r]})})})},$_="ToastTitle",V0=w.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return f.jsx(_t.div,{...s,ref:e})});V0.displayName=$_;var V_="ToastDescription",B0=w.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return f.jsx(_t.div,{...s,ref:e})});B0.displayName=V_;var U0="ToastAction",q0=w.forwardRef((t,e)=>{const{altText:r,...s}=t;return r.trim()?f.jsx(H0,{altText:r,asChild:!0,children:f.jsx(Hh,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${U0}\`. Expected non-empty \`string\`.`),null)});q0.displayName=U0;var W0="ToastClose",Hh=w.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t,o=L_(W0,r);return f.jsx(H0,{asChild:!0,children:f.jsx(_t.button,{type:"button",...s,ref:e,onClick:lt(t.onClick,o.onClose)})})});Hh.displayName=W0;var H0=w.forwardRef((t,e)=>{const{__scopeToast:r,altText:s,...o}=t;return f.jsx(_t.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...o,ref:e})});function Q0(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),U_(s)){const o=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const u=s.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...Q0(s))}}),e}function pu(t,e,r,{discrete:s}){const o=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),s?O0(o,a):o.dispatchEvent(a)}var Tv=(t,e,r=0)=>{const s=Math.abs(t.x),o=Math.abs(t.y),a=s>o;return e==="left"||e==="right"?a&&s>r:!a&&o>r};function B_(t=()=>{}){const e=rr(t);gn(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[e])}function U_(t){return t.nodeType===t.ELEMENT_NODE}function q_(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Cf(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var W_=M0,K0=F0,G0=$0,Z0=V0,Y0=B0,X0=q0,J0=Hh;function ex(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=ex(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function tx(){for(var t,e,r=0,s="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=ex(t))&&(s&&(s+=" "),s+=e);return s}const Pv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Nv=tx,Qh=(t,e)=>r=>{var s;if(e?.variants==null)return Nv(t,r?.class,r?.className);const{variants:o,defaultVariants:a}=e,u=Object.keys(o).map(m=>{const g=r?.[m],y=a?.[m];if(g===null)return null;const x=Pv(g)||Pv(y);return o[m][x]}),d=r&&Object.entries(r).reduce((m,g)=>{let[y,x]=g;return x===void 0||(m[y]=x),m},{}),h=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((m,g)=>{let{class:y,className:x,...S}=g;return Object.entries(S).every(k=>{let[_,C]=k;return Array.isArray(C)?C.includes({...a,...d}[_]):{...a,...d}[_]===C})?[...m,y,x]:m},[]);return Nv(t,u,h,r?.class,r?.className)};const H_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rx=(...t)=>t.filter((e,r,s)=>!!e&&s.indexOf(e)===r).join(" ");var Q_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const K_=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:u,...d},h)=>w.createElement("svg",{ref:h,...Q_,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:rx("lucide",o),...d},[...u.map(([m,g])=>w.createElement(m,g)),...Array.isArray(a)?a:[a]]));const Ct=(t,e)=>{const r=w.forwardRef(({className:s,...o},a)=>w.createElement(K_,{ref:a,iconNode:e,className:rx(`lucide-${H_(t)}`,s),...o}));return r.displayName=`${t}`,r};const G_=Ct("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const _a=Ct("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Z_=Ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Y_=Ct("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const X_=Ct("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const cc=Ct("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const J_=Ct("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const eC=Ct("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const nx=Ct("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const ku=Ct("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const sh=Ct("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const tC=Ct("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const rC=Ct("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);const nC=Ct("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);const sC=Ct("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const iC=Ct("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const sx=Ct("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Ov=Ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const oC=Ct("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const ix=Ct("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);const dc=Ct("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const jv=Ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const aC=Ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const lC=Ct("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);const uC=Ct("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);const cC=Ct("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const dC=Ct("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const fC=Ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const hC=Ct("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Kh="-",pC=t=>{const e=gC(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{const d=u.split(Kh);return d[0]===""&&d.length!==1&&d.shift(),ox(d,e)||mC(u)},getConflictingClassGroupIds:(u,d)=>{const h=r[u]||[];return d&&s[u]?[...h,...s[u]]:h}}},ox=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),o=s?ox(t.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(Kh);return e.validators.find(({validator:u})=>u(a))?.classGroupId},Rv=/^\[(.+)\]$/,mC=t=>{if(Rv.test(t)){const e=Rv.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},gC=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return yC(Object.entries(t.classGroups),r).forEach(([a,u])=>{ih(u,s,a,e)}),s},ih=(t,e,r,s)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:Dv(e,o);a.classGroupId=r;return}if(typeof o=="function"){if(vC(o)){ih(o(s),e,r,s);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,u])=>{ih(u,Dv(e,a),r,s)})})},Dv=(t,e)=>{let r=t;return e.split(Kh).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},vC=t=>t.isThemeGetter,yC=(t,e)=>e?t.map(([r,s])=>{const o=s.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,d])=>[e+u,d])):a);return[r,o]}):t,xC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const o=(a,u)=>{r.set(a,u),e++,e>t&&(e=0,s=r,r=new Map)};return{get(a){let u=r.get(a);if(u!==void 0)return u;if((u=s.get(a))!==void 0)return o(a,u),u},set(a,u){r.has(a)?r.set(a,u):o(a,u)}}},ax="!",wC=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,o=e[0],a=e.length,u=d=>{const h=[];let m=0,g=0,y;for(let C=0;C<d.length;C++){let P=d[C];if(m===0){if(P===o&&(s||d.slice(C,C+a)===e)){h.push(d.slice(g,C)),g=C+a;continue}if(P==="/"){y=C;continue}}P==="["?m++:P==="]"&&m--}const x=h.length===0?d:d.substring(g),S=x.startsWith(ax),k=S?x.substring(1):x,_=y&&y>g?y-g:void 0;return{modifiers:h,hasImportantModifier:S,baseClassName:k,maybePostfixModifierPosition:_}};return r?d=>r({className:d,parseClassName:u}):u},bC=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},SC=t=>({cache:xC(t.cacheSize),parseClassName:wC(t),...pC(t)}),_C=/\s+/,CC=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:o}=e,a=[],u=t.trim().split(_C);let d="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{modifiers:g,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:S}=r(m);let k=!!S,_=s(k?x.substring(0,S):x);if(!_){if(!k){d=m+(d.length>0?" "+d:d);continue}if(_=s(x),!_){d=m+(d.length>0?" "+d:d);continue}k=!1}const C=bC(g).join(":"),P=y?C+ax:C,E=P+_;if(a.includes(E))continue;a.push(E);const D=o(_,k);for(let A=0;A<D.length;++A){const V=D[A];a.push(P+V)}d=m+(d.length>0?" "+d:d)}return d};function kC(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=lx(e))&&(s&&(s+=" "),s+=r);return s}const lx=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=lx(t[s]))&&(r&&(r+=" "),r+=e);return r};function EC(t,...e){let r,s,o,a=u;function u(h){const m=e.reduce((g,y)=>y(g),t());return r=SC(m),s=r.cache.get,o=r.cache.set,a=d,d(h)}function d(h){const m=s(h);if(m)return m;const g=CC(h,r);return o(h,g),g}return function(){return a(kC.apply(null,arguments))}}const Ot=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},ux=/^\[(?:([a-z-]+):)?(.+)\]$/i,TC=/^\d+\/\d+$/,PC=new Set(["px","full","screen"]),NC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,RC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,us=t=>mo(t)||PC.has(t)||TC.test(t),$s=t=>Po(t,"length",VC),mo=t=>!!t&&!Number.isNaN(Number(t)),kf=t=>Po(t,"number",mo),pa=t=>!!t&&Number.isInteger(Number(t)),IC=t=>t.endsWith("%")&&mo(t.slice(0,-1)),tt=t=>ux.test(t),Vs=t=>NC.test(t),AC=new Set(["length","size","percentage"]),MC=t=>Po(t,AC,cx),LC=t=>Po(t,"position",cx),FC=new Set(["image","url"]),zC=t=>Po(t,FC,UC),$C=t=>Po(t,"",BC),ma=()=>!0,Po=(t,e,r)=>{const s=ux.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},VC=t=>OC.test(t)&&!jC.test(t),cx=()=>!1,BC=t=>RC.test(t),UC=t=>DC.test(t),qC=()=>{const t=Ot("colors"),e=Ot("spacing"),r=Ot("blur"),s=Ot("brightness"),o=Ot("borderColor"),a=Ot("borderRadius"),u=Ot("borderSpacing"),d=Ot("borderWidth"),h=Ot("contrast"),m=Ot("grayscale"),g=Ot("hueRotate"),y=Ot("invert"),x=Ot("gap"),S=Ot("gradientColorStops"),k=Ot("gradientColorStopPositions"),_=Ot("inset"),C=Ot("margin"),P=Ot("opacity"),E=Ot("padding"),D=Ot("saturate"),A=Ot("scale"),V=Ot("sepia"),G=Ot("skew"),B=Ot("space"),J=Ot("translate"),Q=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",tt,e],Z=()=>[tt,e],te=()=>["",us,$s],Y=()=>["auto",mo,tt],Ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ce=()=>["solid","dashed","dotted","double","none"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],le=()=>["","0",tt],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>[mo,tt];return{cacheSize:500,separator:":",theme:{colors:[ma],spacing:[us,$s],blur:["none","",Vs,tt],brightness:j(),borderColor:[t],borderRadius:["none","","full",Vs,tt],borderSpacing:Z(),borderWidth:te(),contrast:j(),grayscale:le(),hueRotate:j(),invert:le(),gap:Z(),gradientColorStops:[t],gradientColorStopPositions:[IC,$s],inset:ee(),margin:ee(),opacity:j(),padding:Z(),saturate:j(),scale:j(),sepia:le(),skew:j(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[Vs]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ce(),tt]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pa,tt]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:le()}],shrink:[{shrink:le()}],order:[{order:["first","last","none",pa,tt]}],"grid-cols":[{"grid-cols":[ma]}],"col-start-end":[{col:["auto",{span:["full",pa,tt]},tt]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[ma]}],"row-start-end":[{row:["auto",{span:[pa,tt]},tt]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,e]}],"min-w":[{"min-w":[tt,e,"min","max","fit"]}],"max-w":[{"max-w":[tt,e,"none","full","min","max","fit","prose",{screen:[Vs]},Vs]}],h:[{h:[tt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Vs,$s]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kf]}],"font-family":[{font:[ma]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",mo,kf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",us,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",us,$s]}],"underline-offset":[{"underline-offset":["auto",us,tt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ce(),LC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",MC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zC]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...ce(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:ce()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...ce()]}],"outline-offset":[{"outline-offset":[us,tt]}],"outline-w":[{outline:[us,$s]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[us,$s]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Vs,$C]}],"shadow-color":[{shadow:[ma]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...we(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":we()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Vs,tt]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[D]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[D]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[pa,tt]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[us,$s,kf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},WC=EC(qC);function at(...t){return WC(tx(t))}const HC=W_,dx=w.forwardRef(({className:t,...e},r)=>f.jsx(K0,{ref:r,className:at("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));dx.displayName=K0.displayName;const QC=Qh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),fx=w.forwardRef(({className:t,variant:e,...r},s)=>f.jsx(G0,{ref:s,className:at(QC({variant:e}),t),...r}));fx.displayName=G0.displayName;const KC=w.forwardRef(({className:t,...e},r)=>f.jsx(X0,{ref:r,className:at("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));KC.displayName=X0.displayName;const hx=w.forwardRef(({className:t,...e},r)=>f.jsx(J0,{ref:r,className:at("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(fC,{className:"h-4 w-4"})}));hx.displayName=J0.displayName;const px=w.forwardRef(({className:t,...e},r)=>f.jsx(Z0,{ref:r,className:at("text-sm font-semibold",t),...e}));px.displayName=Z0.displayName;const mx=w.forwardRef(({className:t,...e},r)=>f.jsx(Y0,{ref:r,className:at("text-sm opacity-90",t),...e}));mx.displayName=Y0.displayName;function GC(){const{toasts:t}=Ai();return f.jsxs(HC,{children:[t.map(function({id:e,title:r,description:s,action:o,...a}){return f.jsxs(fx,{...a,children:[f.jsxs("div",{className:"grid gap-1",children:[r&&f.jsx(px,{children:r}),s&&f.jsx(mx,{children:s})]}),o,f.jsx(hx,{})]},e)}),f.jsx(dx,{})]})}var ZC=r0[" useId ".trim().toString()]||(()=>{}),YC=0;function gx(t){const[e,r]=w.useState(ZC());return gn(()=>{r(s=>s??String(YC++))},[t]),e?`radix-${e}`:""}const XC=["top","right","bottom","left"],Ks=Math.min,Zr=Math.max,Au=Math.round,mu=Math.floor,Hn=t=>({x:t,y:t}),JC={left:"right",right:"left",bottom:"top",top:"bottom"},ek={start:"end",end:"start"};function oh(t,e,r){return Zr(t,Ks(e,r))}function gs(t,e){return typeof t=="function"?t(e):t}function vs(t){return t.split("-")[0]}function No(t){return t.split("-")[1]}function Gh(t){return t==="x"?"y":"x"}function Zh(t){return t==="y"?"height":"width"}function Gs(t){return["top","bottom"].includes(vs(t))?"y":"x"}function Yh(t){return Gh(Gs(t))}function tk(t,e,r){r===void 0&&(r=!1);const s=No(t),o=Yh(t),a=Zh(o);let u=o==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Mu(u)),[u,Mu(u)]}function rk(t){const e=Mu(t);return[ah(t),e,ah(e)]}function ah(t){return t.replace(/start|end/g,e=>ek[e])}function nk(t,e,r){const s=["left","right"],o=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return r?e?o:s:e?s:o;case"left":case"right":return e?a:u;default:return[]}}function sk(t,e,r,s){const o=No(t);let a=nk(vs(t),r==="start",s);return o&&(a=a.map(u=>u+"-"+o),e&&(a=a.concat(a.map(ah)))),a}function Mu(t){return t.replace(/left|right|bottom|top/g,e=>JC[e])}function ik(t){return{top:0,right:0,bottom:0,left:0,...t}}function vx(t){return typeof t!="number"?ik(t):{top:t,right:t,bottom:t,left:t}}function Lu(t){const{x:e,y:r,width:s,height:o}=t;return{width:s,height:o,top:r,left:e,right:e+s,bottom:r+o,x:e,y:r}}function Iv(t,e,r){let{reference:s,floating:o}=t;const a=Gs(e),u=Yh(e),d=Zh(u),h=vs(e),m=a==="y",g=s.x+s.width/2-o.width/2,y=s.y+s.height/2-o.height/2,x=s[d]/2-o[d]/2;let S;switch(h){case"top":S={x:g,y:s.y-o.height};break;case"bottom":S={x:g,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y};break;case"left":S={x:s.x-o.width,y};break;default:S={x:s.x,y:s.y}}switch(No(e)){case"start":S[u]-=x*(r&&m?-1:1);break;case"end":S[u]+=x*(r&&m?-1:1);break}return S}const ok=async(t,e,r)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:u}=r,d=a.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:o}),{x:g,y}=Iv(m,s,h),x=s,S={},k=0;for(let _=0;_<d.length;_++){const{name:C,fn:P}=d[_],{x:E,y:D,data:A,reset:V}=await P({x:g,y,initialPlacement:s,placement:x,strategy:o,middlewareData:S,rects:m,platform:u,elements:{reference:t,floating:e}});g=E??g,y=D??y,S={...S,[C]:{...S[C],...A}},V&&k<=50&&(k++,typeof V=="object"&&(V.placement&&(x=V.placement),V.rects&&(m=V.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:o}):V.rects),{x:g,y}=Iv(m,x,h)),_=-1)}return{x:g,y,placement:x,strategy:o,middlewareData:S}};async function Aa(t,e){var r;e===void 0&&(e={});const{x:s,y:o,platform:a,rects:u,elements:d,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:x=!1,padding:S=0}=gs(e,t),k=vx(S),C=d[x?y==="floating"?"reference":"floating":y],P=Lu(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(C)))==null||r?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:m,rootBoundary:g,strategy:h})),E=y==="floating"?{x:s,y:o,width:u.floating.width,height:u.floating.height}:u.reference,D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),A=await(a.isElement==null?void 0:a.isElement(D))?await(a.getScale==null?void 0:a.getScale(D))||{x:1,y:1}:{x:1,y:1},V=Lu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:E,offsetParent:D,strategy:h}):E);return{top:(P.top-V.top+k.top)/A.y,bottom:(V.bottom-P.bottom+k.bottom)/A.y,left:(P.left-V.left+k.left)/A.x,right:(V.right-P.right+k.right)/A.x}}const ak=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:s,placement:o,rects:a,platform:u,elements:d,middlewareData:h}=e,{element:m,padding:g=0}=gs(t,e)||{};if(m==null)return{};const y=vx(g),x={x:r,y:s},S=Yh(o),k=Zh(S),_=await u.getDimensions(m),C=S==="y",P=C?"top":"left",E=C?"bottom":"right",D=C?"clientHeight":"clientWidth",A=a.reference[k]+a.reference[S]-x[S]-a.floating[k],V=x[S]-a.reference[S],G=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let B=G?G[D]:0;(!B||!await(u.isElement==null?void 0:u.isElement(G)))&&(B=d.floating[D]||a.floating[k]);const J=A/2-V/2,Q=B/2-_[k]/2-1,U=Ks(y[P],Q),ee=Ks(y[E],Q),Z=U,te=B-_[k]-ee,Y=B/2-_[k]/2+J,Ce=oh(Z,Y,te),ce=!h.arrow&&No(o)!=null&&Y!==Ce&&a.reference[k]/2-(Y<Z?U:ee)-_[k]/2<0,we=ce?Y<Z?Y-Z:Y-te:0;return{[S]:x[S]+we,data:{[S]:Ce,centerOffset:Y-Ce-we,...ce&&{alignmentOffset:we}},reset:ce}}}),lk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,s;const{placement:o,middlewareData:a,rects:u,initialPlacement:d,platform:h,elements:m}=e,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:_=!0,...C}=gs(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const P=vs(o),E=Gs(d),D=vs(d)===d,A=await(h.isRTL==null?void 0:h.isRTL(m.floating)),V=x||(D||!_?[Mu(d)]:rk(d)),G=k!=="none";!x&&G&&V.push(...sk(d,_,k,A));const B=[d,...V],J=await Aa(e,C),Q=[];let U=((s=a.flip)==null?void 0:s.overflows)||[];if(g&&Q.push(J[P]),y){const Y=tk(o,u,A);Q.push(J[Y[0]],J[Y[1]])}if(U=[...U,{placement:o,overflows:Q}],!Q.every(Y=>Y<=0)){var ee,Z;const Y=(((ee=a.flip)==null?void 0:ee.index)||0)+1,Ce=B[Y];if(Ce)return{data:{index:Y,overflows:U},reset:{placement:Ce}};let ce=(Z=U.filter(we=>we.overflows[0]<=0).sort((we,q)=>we.overflows[1]-q.overflows[1])[0])==null?void 0:Z.placement;if(!ce)switch(S){case"bestFit":{var te;const we=(te=U.filter(q=>{if(G){const le=Gs(q.placement);return le===E||le==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(le=>le>0).reduce((le,ue)=>le+ue,0)]).sort((q,le)=>q[1]-le[1])[0])==null?void 0:te[0];we&&(ce=we);break}case"initialPlacement":ce=d;break}if(o!==ce)return{reset:{placement:ce}}}return{}}}};function Av(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Mv(t){return XC.some(e=>t[e]>=0)}const uk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:s="referenceHidden",...o}=gs(t,e);switch(s){case"referenceHidden":{const a=await Aa(e,{...o,elementContext:"reference"}),u=Av(a,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Mv(u)}}}case"escaped":{const a=await Aa(e,{...o,altBoundary:!0}),u=Av(a,r.floating);return{data:{escapedOffsets:u,escaped:Mv(u)}}}default:return{}}}}};async function ck(t,e){const{placement:r,platform:s,elements:o}=t,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),u=vs(r),d=No(r),h=Gs(r)==="y",m=["left","top"].includes(u)?-1:1,g=a&&h?-1:1,y=gs(e,t);let{mainAxis:x,crossAxis:S,alignmentAxis:k}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof k=="number"&&(S=d==="end"?k*-1:k),h?{x:S*g,y:x*m}:{x:x*m,y:S*g}}const dk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,s;const{x:o,y:a,placement:u,middlewareData:d}=e,h=await ck(e,t);return u===((r=d.offset)==null?void 0:r.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+h.x,y:a+h.y,data:{...h,placement:u}}}}},fk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:s,placement:o}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:d={fn:C=>{let{x:P,y:E}=C;return{x:P,y:E}}},...h}=gs(t,e),m={x:r,y:s},g=await Aa(e,h),y=Gs(vs(o)),x=Gh(y);let S=m[x],k=m[y];if(a){const C=x==="y"?"top":"left",P=x==="y"?"bottom":"right",E=S+g[C],D=S-g[P];S=oh(E,S,D)}if(u){const C=y==="y"?"top":"left",P=y==="y"?"bottom":"right",E=k+g[C],D=k-g[P];k=oh(E,k,D)}const _=d.fn({...e,[x]:S,[y]:k});return{..._,data:{x:_.x-r,y:_.y-s,enabled:{[x]:a,[y]:u}}}}}},hk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:s,placement:o,rects:a,middlewareData:u}=e,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=gs(t,e),g={x:r,y:s},y=Gs(o),x=Gh(y);let S=g[x],k=g[y];const _=gs(d,e),C=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const D=x==="y"?"height":"width",A=a.reference[x]-a.floating[D]+C.mainAxis,V=a.reference[x]+a.reference[D]-C.mainAxis;S<A?S=A:S>V&&(S=V)}if(m){var P,E;const D=x==="y"?"width":"height",A=["top","left"].includes(vs(o)),V=a.reference[y]-a.floating[D]+(A&&((P=u.offset)==null?void 0:P[y])||0)+(A?0:C.crossAxis),G=a.reference[y]+a.reference[D]+(A?0:((E=u.offset)==null?void 0:E[y])||0)-(A?C.crossAxis:0);k<V?k=V:k>G&&(k=G)}return{[x]:S,[y]:k}}}},pk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,s;const{placement:o,rects:a,platform:u,elements:d}=e,{apply:h=()=>{},...m}=gs(t,e),g=await Aa(e,m),y=vs(o),x=No(o),S=Gs(o)==="y",{width:k,height:_}=a.floating;let C,P;y==="top"||y==="bottom"?(C=y,P=x===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(P=y,C=x==="end"?"top":"bottom");const E=_-g.top-g.bottom,D=k-g.left-g.right,A=Ks(_-g[C],E),V=Ks(k-g[P],D),G=!e.middlewareData.shift;let B=A,J=V;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(J=D),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(B=E),G&&!x){const U=Zr(g.left,0),ee=Zr(g.right,0),Z=Zr(g.top,0),te=Zr(g.bottom,0);S?J=k-2*(U!==0||ee!==0?U+ee:Zr(g.left,g.right)):B=_-2*(Z!==0||te!==0?Z+te:Zr(g.top,g.bottom))}await h({...e,availableWidth:J,availableHeight:B});const Q=await u.getDimensions(d.floating);return k!==Q.width||_!==Q.height?{reset:{rects:!0}}:{}}}};function fc(){return typeof window<"u"}function Oo(t){return yx(t)?(t.nodeName||"").toLowerCase():"#document"}function Xr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Yn(t){var e;return(e=(yx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function yx(t){return fc()?t instanceof Node||t instanceof Xr(t).Node:!1}function In(t){return fc()?t instanceof Element||t instanceof Xr(t).Element:!1}function Kn(t){return fc()?t instanceof HTMLElement||t instanceof Xr(t).HTMLElement:!1}function Lv(t){return!fc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Xr(t).ShadowRoot}function tl(t){const{overflow:e,overflowX:r,overflowY:s,display:o}=An(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!["inline","contents"].includes(o)}function mk(t){return["table","td","th"].includes(Oo(t))}function hc(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Xh(t){const e=Jh(),r=In(t)?An(t):t;return["transform","translate","scale","rotate","perspective"].some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function gk(t){let e=Zs(t);for(;Kn(e)&&!wo(e);){if(Xh(e))return e;if(hc(e))return null;e=Zs(e)}return null}function Jh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wo(t){return["html","body","#document"].includes(Oo(t))}function An(t){return Xr(t).getComputedStyle(t)}function pc(t){return In(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zs(t){if(Oo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Lv(t)&&t.host||Yn(t);return Lv(e)?e.host:e}function xx(t){const e=Zs(t);return wo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Kn(e)&&tl(e)?e:xx(e)}function Ma(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=xx(t),a=o===((s=t.ownerDocument)==null?void 0:s.body),u=Xr(o);if(a){const d=lh(u);return e.concat(u,u.visualViewport||[],tl(o)?o:[],d&&r?Ma(d):[])}return e.concat(o,Ma(o,[],r))}function lh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function wx(t){const e=An(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=Kn(t),a=o?t.offsetWidth:r,u=o?t.offsetHeight:s,d=Au(r)!==a||Au(s)!==u;return d&&(r=a,s=u),{width:r,height:s,$:d}}function ep(t){return In(t)?t:t.contextElement}function go(t){const e=ep(t);if(!Kn(e))return Hn(1);const r=e.getBoundingClientRect(),{width:s,height:o,$:a}=wx(e);let u=(a?Au(r.width):r.width)/s,d=(a?Au(r.height):r.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const vk=Hn(0);function bx(t){const e=Xr(t);return!Jh()||!e.visualViewport?vk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yk(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Xr(t)?!1:e}function Ti(t,e,r,s){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),a=ep(t);let u=Hn(1);e&&(s?In(s)&&(u=go(s)):u=go(t));const d=yk(a,r,s)?bx(a):Hn(0);let h=(o.left+d.x)/u.x,m=(o.top+d.y)/u.y,g=o.width/u.x,y=o.height/u.y;if(a){const x=Xr(a),S=s&&In(s)?Xr(s):s;let k=x,_=lh(k);for(;_&&s&&S!==k;){const C=go(_),P=_.getBoundingClientRect(),E=An(_),D=P.left+(_.clientLeft+parseFloat(E.paddingLeft))*C.x,A=P.top+(_.clientTop+parseFloat(E.paddingTop))*C.y;h*=C.x,m*=C.y,g*=C.x,y*=C.y,h+=D,m+=A,k=Xr(_),_=lh(k)}}return Lu({width:g,height:y,x:h,y:m})}function tp(t,e){const r=pc(t).scrollLeft;return e?e.left+r:Ti(Yn(t)).left+r}function Sx(t,e,r){r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=s.left+e.scrollLeft-(r?0:tp(t,s)),a=s.top+e.scrollTop;return{x:o,y:a}}function xk(t){let{elements:e,rect:r,offsetParent:s,strategy:o}=t;const a=o==="fixed",u=Yn(s),d=e?hc(e.floating):!1;if(s===u||d&&a)return r;let h={scrollLeft:0,scrollTop:0},m=Hn(1);const g=Hn(0),y=Kn(s);if((y||!y&&!a)&&((Oo(s)!=="body"||tl(u))&&(h=pc(s)),Kn(s))){const S=Ti(s);m=go(s),g.x=S.x+s.clientLeft,g.y=S.y+s.clientTop}const x=u&&!y&&!a?Sx(u,h,!0):Hn(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-h.scrollLeft*m.x+g.x+x.x,y:r.y*m.y-h.scrollTop*m.y+g.y+x.y}}function wk(t){return Array.from(t.getClientRects())}function bk(t){const e=Yn(t),r=pc(t),s=t.ownerDocument.body,o=Zr(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=Zr(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-r.scrollLeft+tp(t);const d=-r.scrollTop;return An(s).direction==="rtl"&&(u+=Zr(e.clientWidth,s.clientWidth)-o),{width:o,height:a,x:u,y:d}}function Sk(t,e){const r=Xr(t),s=Yn(t),o=r.visualViewport;let a=s.clientWidth,u=s.clientHeight,d=0,h=0;if(o){a=o.width,u=o.height;const m=Jh();(!m||m&&e==="fixed")&&(d=o.offsetLeft,h=o.offsetTop)}return{width:a,height:u,x:d,y:h}}function _k(t,e){const r=Ti(t,!0,e==="fixed"),s=r.top+t.clientTop,o=r.left+t.clientLeft,a=Kn(t)?go(t):Hn(1),u=t.clientWidth*a.x,d=t.clientHeight*a.y,h=o*a.x,m=s*a.y;return{width:u,height:d,x:h,y:m}}function Fv(t,e,r){let s;if(e==="viewport")s=Sk(t,r);else if(e==="document")s=bk(Yn(t));else if(In(e))s=_k(e,r);else{const o=bx(t);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Lu(s)}function _x(t,e){const r=Zs(t);return r===e||!In(r)||wo(r)?!1:An(r).position==="fixed"||_x(r,e)}function Ck(t,e){const r=e.get(t);if(r)return r;let s=Ma(t,[],!1).filter(d=>In(d)&&Oo(d)!=="body"),o=null;const a=An(t).position==="fixed";let u=a?Zs(t):t;for(;In(u)&&!wo(u);){const d=An(u),h=Xh(u);!h&&d.position==="fixed"&&(o=null),(a?!h&&!o:!h&&d.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||tl(u)&&!h&&_x(t,u))?s=s.filter(g=>g!==u):o=d,u=Zs(u)}return e.set(t,s),s}function kk(t){let{element:e,boundary:r,rootBoundary:s,strategy:o}=t;const u=[...r==="clippingAncestors"?hc(e)?[]:Ck(e,this._c):[].concat(r),s],d=u[0],h=u.reduce((m,g)=>{const y=Fv(e,g,o);return m.top=Zr(y.top,m.top),m.right=Ks(y.right,m.right),m.bottom=Ks(y.bottom,m.bottom),m.left=Zr(y.left,m.left),m},Fv(e,d,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function Ek(t){const{width:e,height:r}=wx(t);return{width:e,height:r}}function Tk(t,e,r){const s=Kn(e),o=Yn(e),a=r==="fixed",u=Ti(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const h=Hn(0);if(s||!s&&!a)if((Oo(e)!=="body"||tl(o))&&(d=pc(e)),s){const x=Ti(e,!0,a,e);h.x=x.x+e.clientLeft,h.y=x.y+e.clientTop}else o&&(h.x=tp(o));const m=o&&!s&&!a?Sx(o,d):Hn(0),g=u.left+d.scrollLeft-h.x-m.x,y=u.top+d.scrollTop-h.y-m.y;return{x:g,y,width:u.width,height:u.height}}function Ef(t){return An(t).position==="static"}function zv(t,e){if(!Kn(t)||An(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Yn(t)===r&&(r=r.ownerDocument.body),r}function Cx(t,e){const r=Xr(t);if(hc(t))return r;if(!Kn(t)){let o=Zs(t);for(;o&&!wo(o);){if(In(o)&&!Ef(o))return o;o=Zs(o)}return r}let s=zv(t,e);for(;s&&mk(s)&&Ef(s);)s=zv(s,e);return s&&wo(s)&&Ef(s)&&!Xh(s)?r:s||gk(t)||r}const Pk=async function(t){const e=this.getOffsetParent||Cx,r=this.getDimensions,s=await r(t.floating);return{reference:Tk(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Nk(t){return An(t).direction==="rtl"}const Ok={convertOffsetParentRelativeRectToViewportRelativeRect:xk,getDocumentElement:Yn,getClippingRect:kk,getOffsetParent:Cx,getElementRects:Pk,getClientRects:wk,getDimensions:Ek,getScale:go,isElement:In,isRTL:Nk};function kx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function jk(t,e){let r=null,s;const o=Yn(t);function a(){var d;clearTimeout(s),(d=r)==null||d.disconnect(),r=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),a();const m=t.getBoundingClientRect(),{left:g,top:y,width:x,height:S}=m;if(d||e(),!x||!S)return;const k=mu(y),_=mu(o.clientWidth-(g+x)),C=mu(o.clientHeight-(y+S)),P=mu(g),D={rootMargin:-k+"px "+-_+"px "+-C+"px "+-P+"px",threshold:Zr(0,Ks(1,h))||1};let A=!0;function V(G){const B=G[0].intersectionRatio;if(B!==h){if(!A)return u();B?u(!1,B):s=setTimeout(()=>{u(!1,1e-7)},1e3)}B===1&&!kx(m,t.getBoundingClientRect())&&u(),A=!1}try{r=new IntersectionObserver(V,{...D,root:o.ownerDocument})}catch{r=new IntersectionObserver(V,D)}r.observe(t)}return u(!0),a}function Rk(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,m=ep(t),g=o||a?[...m?Ma(m):[],...Ma(e)]:[];g.forEach(P=>{o&&P.addEventListener("scroll",r,{passive:!0}),a&&P.addEventListener("resize",r)});const y=m&&d?jk(m,r):null;let x=-1,S=null;u&&(S=new ResizeObserver(P=>{let[E]=P;E&&E.target===m&&S&&(S.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var D;(D=S)==null||D.observe(e)})),r()}),m&&!h&&S.observe(m),S.observe(e));let k,_=h?Ti(t):null;h&&C();function C(){const P=Ti(t);_&&!kx(_,P)&&r(),_=P,k=requestAnimationFrame(C)}return r(),()=>{var P;g.forEach(E=>{o&&E.removeEventListener("scroll",r),a&&E.removeEventListener("resize",r)}),y?.(),(P=S)==null||P.disconnect(),S=null,h&&cancelAnimationFrame(k)}}const Dk=dk,Ik=fk,Ak=lk,Mk=pk,Lk=uk,$v=ak,Fk=hk,zk=(t,e,r)=>{const s=new Map,o={platform:Ok,...r},a={...o.platform,_c:s};return ok(t,e,{...o,platform:a})};var Eu=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Fu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,s,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(s=r;s--!==0;)if(!Fu(t[s],e[s]))return!1;return!0}if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=r;s--!==0;){const a=o[s];if(!(a==="_owner"&&t.$$typeof)&&!Fu(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function Ex(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Vv(t,e){const r=Ex(t);return Math.round(e*r)/r}function Tf(t){const e=w.useRef(t);return Eu(()=>{e.current=t}),e}function $k(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:u}={},transform:d=!0,whileElementsMounted:h,open:m}=t,[g,y]=w.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[x,S]=w.useState(s);Fu(x,s)||S(s);const[k,_]=w.useState(null),[C,P]=w.useState(null),E=w.useCallback(q=>{q!==G.current&&(G.current=q,_(q))},[]),D=w.useCallback(q=>{q!==B.current&&(B.current=q,P(q))},[]),A=a||k,V=u||C,G=w.useRef(null),B=w.useRef(null),J=w.useRef(g),Q=h!=null,U=Tf(h),ee=Tf(o),Z=Tf(m),te=w.useCallback(()=>{if(!G.current||!B.current)return;const q={placement:e,strategy:r,middleware:x};ee.current&&(q.platform=ee.current),zk(G.current,B.current,q).then(le=>{const ue={...le,isPositioned:Z.current!==!1};Y.current&&!Fu(J.current,ue)&&(J.current=ue,oc.flushSync(()=>{y(ue)}))})},[x,e,r,ee,Z]);Eu(()=>{m===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,y(q=>({...q,isPositioned:!1})))},[m]);const Y=w.useRef(!1);Eu(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Eu(()=>{if(A&&(G.current=A),V&&(B.current=V),A&&V){if(U.current)return U.current(A,V,te);te()}},[A,V,te,U,Q]);const Ce=w.useMemo(()=>({reference:G,floating:B,setReference:E,setFloating:D}),[E,D]),ce=w.useMemo(()=>({reference:A,floating:V}),[A,V]),we=w.useMemo(()=>{const q={position:r,left:0,top:0};if(!ce.floating)return q;const le=Vv(ce.floating,g.x),ue=Vv(ce.floating,g.y);return d?{...q,transform:"translate("+le+"px, "+ue+"px)",...Ex(ce.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:le,top:ue}},[r,d,ce.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:te,refs:Ce,elements:ce,floatingStyles:we}),[g,te,Ce,ce,we])}const Vk=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:o}=typeof t=="function"?t(r):t;return s&&e(s)?s.current!=null?$v({element:s.current,padding:o}).fn(r):{}:s?$v({element:s,padding:o}).fn(r):{}}}},Bk=(t,e)=>({...Dk(t),options:[t,e]}),Uk=(t,e)=>({...Ik(t),options:[t,e]}),qk=(t,e)=>({...Fk(t),options:[t,e]}),Wk=(t,e)=>({...Ak(t),options:[t,e]}),Hk=(t,e)=>({...Mk(t),options:[t,e]}),Qk=(t,e)=>({...Lk(t),options:[t,e]}),Kk=(t,e)=>({...Vk(t),options:[t,e]});var Gk="Arrow",Tx=w.forwardRef((t,e)=>{const{children:r,width:s=10,height:o=5,...a}=t;return f.jsx(_t.svg,{...a,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Tx.displayName=Gk;var Zk=Tx;function Yk(t){const[e,r]=w.useState(void 0);return gn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,d;if("borderBoxSize"in a){const h=a.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,d=m.blockSize}else u=t.offsetWidth,d=t.offsetHeight;r({width:u,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}var Px="Popper",[Nx,Ox]=ti(Px),[qD,jx]=Nx(Px),Rx="PopperAnchor",Dx=w.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:s,...o}=t,a=jx(Rx,r),u=w.useRef(null),d=lr(e,u);return w.useEffect(()=>{a.onAnchorChange(s?.current||u.current)}),s?null:f.jsx(_t.div,{...o,ref:d})});Dx.displayName=Rx;var rp="PopperContent",[Xk,Jk]=Nx(rp),Ix=w.forwardRef((t,e)=>{const{__scopePopper:r,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:x=!1,updatePositionStrategy:S="optimized",onPlaced:k,..._}=t,C=jx(rp,r),[P,E]=w.useState(null),D=lr(e,Qe=>E(Qe)),[A,V]=w.useState(null),G=Yk(A),B=G?.width??0,J=G?.height??0,Q=s+(a!=="center"?"-"+a:""),U=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},ee=Array.isArray(m)?m:[m],Z=ee.length>0,te={padding:U,boundary:ee.filter(tE),altBoundary:Z},{refs:Y,floatingStyles:Ce,placement:ce,isPositioned:we,middlewareData:q}=$k({strategy:"fixed",placement:Q,whileElementsMounted:(...Qe)=>Rk(...Qe,{animationFrame:S==="always"}),elements:{reference:C.anchor},middleware:[Bk({mainAxis:o+J,alignmentAxis:u}),h&&Uk({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?qk():void 0,...te}),h&&Wk({...te}),Hk({...te,apply:({elements:Qe,rects:$e,availableWidth:Ke,availableHeight:Et})=>{const{width:gr,height:Bt}=$e.reference,Rt=Qe.floating.style;Rt.setProperty("--radix-popper-available-width",`${Ke}px`),Rt.setProperty("--radix-popper-available-height",`${Et}px`),Rt.setProperty("--radix-popper-anchor-width",`${gr}px`),Rt.setProperty("--radix-popper-anchor-height",`${Bt}px`)}}),A&&Kk({element:A,padding:d}),rE({arrowWidth:B,arrowHeight:J}),x&&Qk({strategy:"referenceHidden",...te})]}),[le,ue]=Lx(ce),j=rr(k);gn(()=>{we&&j?.()},[we,j]);const X=q.arrow?.x,Oe=q.arrow?.y,ge=q.arrow?.centerOffset!==0,[Ue,We]=w.useState();return gn(()=>{P&&We(window.getComputedStyle(P).zIndex)},[P]),f.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ce,transform:we?Ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(Xk,{scope:r,placedSide:le,onArrowChange:V,arrowX:X,arrowY:Oe,shouldHideArrow:ge,children:f.jsx(_t.div,{"data-side":le,"data-align":ue,..._,ref:D,style:{..._.style,animation:we?void 0:"none"}})})})});Ix.displayName=rp;var Ax="PopperArrow",eE={top:"bottom",right:"left",bottom:"top",left:"right"},Mx=w.forwardRef(function(e,r){const{__scopePopper:s,...o}=e,a=Jk(Ax,s),u=eE[a.placedSide];return f.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:f.jsx(Zk,{...o,ref:r,style:{...o.style,display:"block"}})})});Mx.displayName=Ax;function tE(t){return t!==null}var rE=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:s,middlewareData:o}=e,u=o.arrow?.centerOffset!==0,d=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[m,g]=Lx(r),y={start:"0%",center:"50%",end:"100%"}[g],x=(o.arrow?.x??0)+d/2,S=(o.arrow?.y??0)+h/2;let k="",_="";return m==="bottom"?(k=u?y:`${x}px`,_=`${-h}px`):m==="top"?(k=u?y:`${x}px`,_=`${s.floating.height+h}px`):m==="right"?(k=`${-h}px`,_=u?y:`${S}px`):m==="left"&&(k=`${s.floating.width+h}px`,_=u?y:`${S}px`),{data:{x:k,y:_}}}});function Lx(t){const[e,r="center"]=t.split("-");return[e,r]}var nE=Dx,sE=Ix,iE=Mx,[mc]=ti("Tooltip",[Ox]),np=Ox(),Fx="TooltipProvider",oE=700,Bv="tooltip.open",[aE,zx]=mc(Fx),$x=t=>{const{__scopeTooltip:e,delayDuration:r=oE,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:a}=t,u=w.useRef(!0),d=w.useRef(!1),h=w.useRef(0);return w.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),f.jsx(aE,{scope:e,isOpenDelayedRef:u,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:w.useCallback(m=>{d.current=m},[]),disableHoverableContent:o,children:a})};$x.displayName=Fx;var Vx="Tooltip",[WD,gc]=mc(Vx),uh="TooltipTrigger",lE=w.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,o=gc(uh,r),a=zx(uh,r),u=np(r),d=w.useRef(null),h=lr(e,d,o.onTriggerChange),m=w.useRef(!1),g=w.useRef(!1),y=w.useCallback(()=>m.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),f.jsx(nE,{asChild:!0,...u,children:f.jsx(_t.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:h,onPointerMove:lt(t.onPointerMove,x=>{x.pointerType!=="touch"&&!g.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),g.current=!0)}),onPointerLeave:lt(t.onPointerLeave,()=>{o.onTriggerLeave(),g.current=!1}),onPointerDown:lt(t.onPointerDown,()=>{o.open&&o.onClose(),m.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:lt(t.onFocus,()=>{m.current||o.onOpen()}),onBlur:lt(t.onBlur,o.onClose),onClick:lt(t.onClick,o.onClose)})})});lE.displayName=uh;var uE="TooltipPortal",[HD,cE]=mc(uE,{forceMount:void 0}),bo="TooltipContent",Bx=w.forwardRef((t,e)=>{const r=cE(bo,t.__scopeTooltip),{forceMount:s=r.forceMount,side:o="top",...a}=t,u=gc(bo,t.__scopeTooltip);return f.jsx(ri,{present:s||u.open,children:u.disableHoverableContent?f.jsx(Ux,{side:o,...a,ref:e}):f.jsx(dE,{side:o,...a,ref:e})})}),dE=w.forwardRef((t,e)=>{const r=gc(bo,t.__scopeTooltip),s=zx(bo,t.__scopeTooltip),o=w.useRef(null),a=lr(e,o),[u,d]=w.useState(null),{trigger:h,onClose:m}=r,g=o.current,{onPointerInTransitChange:y}=s,x=w.useCallback(()=>{d(null),y(!1)},[y]),S=w.useCallback((k,_)=>{const C=k.currentTarget,P={x:k.clientX,y:k.clientY},E=gE(P,C.getBoundingClientRect()),D=vE(P,E),A=yE(_.getBoundingClientRect()),V=wE([...D,...A]);d(V),y(!0)},[y]);return w.useEffect(()=>()=>x(),[x]),w.useEffect(()=>{if(h&&g){const k=C=>S(C,g),_=C=>S(C,h);return h.addEventListener("pointerleave",k),g.addEventListener("pointerleave",_),()=>{h.removeEventListener("pointerleave",k),g.removeEventListener("pointerleave",_)}}},[h,g,S,x]),w.useEffect(()=>{if(u){const k=_=>{const C=_.target,P={x:_.clientX,y:_.clientY},E=h?.contains(C)||g?.contains(C),D=!xE(P,u);E?x():D&&(x(),m())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[h,g,u,m,x]),f.jsx(Ux,{...t,ref:a})}),[fE,hE]=mc(Vx,{isInside:!1}),pE=a_("TooltipContent"),Ux=w.forwardRef((t,e)=>{const{__scopeTooltip:r,children:s,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:u,...d}=t,h=gc(bo,r),m=np(r),{onClose:g}=h;return w.useEffect(()=>(document.addEventListener(Bv,g),()=>document.removeEventListener(Bv,g)),[g]),w.useEffect(()=>{if(h.trigger){const y=x=>{x.target?.contains(h.trigger)&&g()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[h.trigger,g]),f.jsx(Bh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:y=>y.preventDefault(),onDismiss:g,children:f.jsxs(sE,{"data-state":h.stateAttribute,...m,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(pE,{children:s}),f.jsx(fE,{scope:r,isInside:!0,children:f.jsx(T_,{id:h.contentId,role:"tooltip",children:o||s})})]})})});Bx.displayName=bo;var qx="TooltipArrow",mE=w.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,o=np(r);return hE(qx,r).isInside?null:f.jsx(iE,{...o,...s,ref:e})});mE.displayName=qx;function gE(t,e){const r=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,s,o,a)){case a:return"left";case o:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function vE(t,e,r=5){const s=[];switch(e){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return s}function yE(t){const{top:e,right:r,bottom:s,left:o}=t;return[{x:o,y:e},{x:r,y:e},{x:r,y:s},{x:o,y:s}]}function xE(t,e){const{x:r,y:s}=t;let o=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const d=e[a].x,h=e[a].y,m=e[u].x,g=e[u].y;h>s!=g>s&&r<(m-d)*(s-h)/(g-h)+d&&(o=!o)}return o}function wE(t){const e=t.slice();return e.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),bE(e)}function bE(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const o=t[s];for(;e.length>=2;){const a=e[e.length-1],u=e[e.length-2];if((a.x-u.x)*(o.y-u.y)>=(a.y-u.y)*(o.x-u.x))e.pop();else break}e.push(o)}e.pop();const r=[];for(let s=t.length-1;s>=0;s--){const o=t[s];for(;r.length>=2;){const a=r[r.length-1],u=r[r.length-2];if((a.x-u.x)*(o.y-u.y)>=(a.y-u.y)*(o.x-u.x))r.pop();else break}r.push(o)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var SE=$x,Wx=Bx;const _E=SE,CE=w.forwardRef(({className:t,sideOffset:e=4,...r},s)=>f.jsx(Wx,{ref:s,sideOffset:e,className:at("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));CE.displayName=Wx.displayName;var ct;(function(t){t.assertEqual=o=>o;function e(o){}t.assertIs=e;function r(o){throw new Error}t.assertNever=r,t.arrayToEnum=o=>{const a={};for(const u of o)a[u]=u;return a},t.getValidEnumValues=o=>{const a=t.objectKeys(o).filter(d=>typeof o[o[d]]!="number"),u={};for(const d of a)u[d]=o[d];return t.objectValues(u)},t.objectValues=o=>t.objectKeys(o).map(function(a){return o[a]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&a.push(u);return a},t.find=(o,a)=>{for(const u of o)if(a(u))return u},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function s(o,a=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(a)}t.joinValues=s,t.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(ct||(ct={}));var ch;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(ch||(ch={}));const _e=ct.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fs=t=>{switch(typeof t){case"undefined":return _e.undefined;case"string":return _e.string;case"number":return isNaN(t)?_e.nan:_e.number;case"boolean":return _e.boolean;case"function":return _e.function;case"bigint":return _e.bigint;case"symbol":return _e.symbol;case"object":return Array.isArray(t)?_e.array:t===null?_e.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?_e.promise:typeof Map<"u"&&t instanceof Map?_e.map:typeof Set<"u"&&t instanceof Set?_e.set:typeof Date<"u"&&t instanceof Date?_e.date:_e.object;default:return _e.unknown}},ae=ct.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),kE=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Jr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},s={_errors:[]},o=a=>{for(const u of a.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)s._errors.push(r(u));else{let d=s,h=0;for(;h<u.path.length;){const m=u.path[h];h===u.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(r(u))):d[m]=d[m]||{_errors:[]},d=d[m],h++}}};return o(this),s}static assert(e){if(!(e instanceof Jr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ct.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(e(o))):s.push(e(o));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}Jr.create=t=>new Jr(t);const So=(t,e)=>{let r;switch(t.code){case ae.invalid_type:t.received===_e.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ae.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ct.jsonStringifyReplacer)}`;break;case ae.unrecognized_keys:r=`Unrecognized key(s) in object: ${ct.joinValues(t.keys,", ")}`;break;case ae.invalid_union:r="Invalid input";break;case ae.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ct.joinValues(t.options)}`;break;case ae.invalid_enum_value:r=`Invalid enum value. Expected ${ct.joinValues(t.options)}, received '${t.received}'`;break;case ae.invalid_arguments:r="Invalid function arguments";break;case ae.invalid_return_type:r="Invalid function return type";break;case ae.invalid_date:r="Invalid date";break;case ae.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ct.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ae.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ae.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ae.custom:r="Invalid input";break;case ae.invalid_intersection_types:r="Intersection results could not be merged";break;case ae.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ae.not_finite:r="Number must be finite";break;default:r=e.defaultError,ct.assertNever(t)}return{message:r}};let Hx=So;function EE(t){Hx=t}function zu(){return Hx}const $u=t=>{const{data:e,path:r,errorMaps:s,issueData:o}=t,a=[...r,...o.path||[]],u={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let d="";const h=s.filter(m=>!!m).slice().reverse();for(const m of h)d=m(u,{data:e,defaultError:d}).message;return{...o,path:a,message:d}},TE=[];function xe(t,e){const r=zu(),s=$u({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===So?void 0:So].filter(o=>!!o)});t.common.issues.push(s)}class Cr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const o of r){if(o.status==="aborted")return Be;o.status==="dirty"&&e.dirty(),s.push(o.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const o of r){const a=await o.key,u=await o.value;s.push({key:a,value:u})}return Cr.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const o of r){const{key:a,value:u}=o;if(a.status==="aborted"||u.status==="aborted")return Be;a.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(s[a.value]=u.value)}return{status:e.value,value:s}}}const Be=Object.freeze({status:"aborted"}),ho=t=>({status:"dirty",value:t}),Nr=t=>({status:"valid",value:t}),dh=t=>t.status==="aborted",fh=t=>t.status==="dirty",Pi=t=>t.status==="valid",La=t=>typeof Promise<"u"&&t instanceof Promise;function Vu(t,e,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Qx(t,e,r,s,o){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Re;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Re||(Re={}));var Ca,ka;class Gn{constructor(e,r,s,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Uv=(t,e)=>{if(Pi(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Jr(t.common.issues);return this._error=r,this._error}}};function et(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:o}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(u,d)=>{var h,m;const{message:g}=t;return u.code==="invalid_enum_value"?{message:g??d.defaultError}:typeof d.data>"u"?{message:(h=g??s)!==null&&h!==void 0?h:d.defaultError}:u.code!=="invalid_type"?{message:d.defaultError}:{message:(m=g??r)!==null&&m!==void 0?m:d.defaultError}},description:o}}class nt{get description(){return this._def.description}_getType(e){return fs(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Cr,ctx:{common:e.parent.common,data:e.data,parsedType:fs(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(La(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){var s;const o={common:{issues:[],async:(s=r?.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fs(e)},a=this._parseSync({data:e,path:o.path,parent:o});return Uv(o,a)}"~validate"(e){var r,s;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fs(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:o});return Pi(a)?{value:a.value}:{issues:o.common.issues}}catch(a){!((s=(r=a?.message)===null||r===void 0?void 0:r.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(a=>Pi(a)?{value:a.value}:{issues:o.common.issues})}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fs(e)},o=this._parse({data:e,path:s.path,parent:s}),a=await(La(o)?o:Promise.resolve(o));return Uv(s,a)}refine(e,r){const s=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,a)=>{const u=e(o),d=()=>a.addIssue({code:ae.custom,...s(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(h=>h?!0:(d(),!1)):u?!0:(d(),!1)})}refinement(e,r){return this._refinement((s,o)=>e(s)?!0:(o.addIssue(typeof r=="function"?r(s,o):r),!1))}_refinement(e){return new Mn({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Qn.create(this,this._def)}nullable(){return ei.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dn.create(this)}promise(){return Co.create(this,this._def)}or(e){return Va.create([this,e],this._def)}and(e){return Ba.create(this,e,this._def)}transform(e){return new Mn({...et(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Qa({...et(this._def),innerType:this,defaultValue:r,typeName:ze.ZodDefault})}brand(){return new sp({typeName:ze.ZodBranded,type:this,...et(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Ka({...et(this._def),innerType:this,catchValue:r,typeName:ze.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return rl.create(this,e)}readonly(){return Ga.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const PE=/^c[^\s-]{8,}$/i,NE=/^[0-9a-z]+$/,OE=/^[0-9A-HJKMNP-TV-Z]{26}$/i,jE=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,RE=/^[a-z0-9_-]{21}$/i,DE=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,IE=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,AE=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ME="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pf;const LE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$E=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VE=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,BE=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Kx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",UE=new RegExp(`^${Kx}$`);function Gx(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function qE(t){return new RegExp(`^${Gx(t)}$`)}function Zx(t){let e=`${Kx}T${Gx(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function WE(t,e){return!!((e==="v4"||!e)&&LE.test(t)||(e==="v6"||!e)&&zE.test(t))}function HE(t,e){if(!DE.test(t))return!1;try{const[r]=t.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(s));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function QE(t,e){return!!((e==="v4"||!e)&&FE.test(t)||(e==="v6"||!e)&&$E.test(t))}class Rn extends nt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_e.string){const a=this._getOrReturnCtx(e);return xe(a,{code:ae.invalid_type,expected:_e.string,received:a.parsedType}),Be}const s=new Cr;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const u=e.data.length>a.value,d=e.data.length<a.value;(u||d)&&(o=this._getOrReturnCtx(e,o),u?xe(o,{code:ae.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):d&&xe(o,{code:ae.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")AE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"email",code:ae.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")Pf||(Pf=new RegExp(ME,"u")),Pf.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"emoji",code:ae.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")jE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"uuid",code:ae.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")RE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"nanoid",code:ae.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")PE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"cuid",code:ae.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")NE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"cuid2",code:ae.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")OE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"ulid",code:ae.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),xe(o,{validation:"url",code:ae.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"regex",code:ae.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?Zx(a).test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?UE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?qE(a).test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?IE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"duration",code:ae.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?WE(e.data,a.version)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"ip",code:ae.invalid_string,message:a.message}),s.dirty()):a.kind==="jwt"?HE(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"jwt",code:ae.invalid_string,message:a.message}),s.dirty()):a.kind==="cidr"?QE(e.data,a.version)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"cidr",code:ae.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?VE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"base64",code:ae.invalid_string,message:a.message}),s.dirty()):a.kind==="base64url"?BE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"base64url",code:ae.invalid_string,message:a.message}),s.dirty()):ct.assertNever(a);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(o=>e.test(o),{validation:r,code:ae.invalid_string,...Re.errToObj(s)})}_addCheck(e){return new Rn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Re.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Re.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Re.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Re.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Re.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Re.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Re.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Re.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Re.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Re.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Re.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Re.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Re.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(s=e?.local)!==null&&s!==void 0?s:!1,...Re.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Re.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Re.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Re.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Re.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Re.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Re.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Re.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Re.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Re.errToObj(r)})}nonempty(e){return this.min(1,Re.errToObj(e))}trim(){return new Rn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Rn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Rn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Rn.create=t=>{var e;return new Rn({checks:[],typeName:ze.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...et(t)})};function KE(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,o=r>s?r:s,a=parseInt(t.toFixed(o).replace(".","")),u=parseInt(e.toFixed(o).replace(".",""));return a%u/Math.pow(10,o)}class Ys extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_e.number){const a=this._getOrReturnCtx(e);return xe(a,{code:ae.invalid_type,expected:_e.number,received:a.parsedType}),Be}let s;const o=new Cr;for(const a of this._def.checks)a.kind==="int"?ct.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?KE(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.not_finite,message:a.message}),o.dirty()):ct.assertNever(a);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Re.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Re.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Re.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Re.toString(r))}setLimit(e,r,s,o){return new Ys({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:Re.toString(o)}]})}_addCheck(e){return new Ys({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Re.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Re.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ct.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Ys.create=t=>new Ys({checks:[],typeName:ze.ZodNumber,coerce:t?.coerce||!1,...et(t)});class Xs extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==_e.bigint)return this._getInvalidInput(e);let s;const o=new Cr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):ct.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return xe(r,{code:ae.invalid_type,expected:_e.bigint,received:r.parsedType}),Be}gte(e,r){return this.setLimit("min",e,!0,Re.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Re.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Re.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Re.toString(r))}setLimit(e,r,s,o){return new Xs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:Re.toString(o)}]})}_addCheck(e){return new Xs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Re.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Xs.create=t=>{var e;return new Xs({checks:[],typeName:ze.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...et(t)})};class Fa extends nt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_e.boolean){const s=this._getOrReturnCtx(e);return xe(s,{code:ae.invalid_type,expected:_e.boolean,received:s.parsedType}),Be}return Nr(e.data)}}Fa.create=t=>new Fa({typeName:ze.ZodBoolean,coerce:t?.coerce||!1,...et(t)});class Ni extends nt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_e.date){const a=this._getOrReturnCtx(e);return xe(a,{code:ae.invalid_type,expected:_e.date,received:a.parsedType}),Be}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return xe(a,{code:ae.invalid_date}),Be}const s=new Cr;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):ct.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ni({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Re.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Re.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ni.create=t=>new Ni({checks:[],coerce:t?.coerce||!1,typeName:ze.ZodDate,...et(t)});class Bu extends nt{_parse(e){if(this._getType(e)!==_e.symbol){const s=this._getOrReturnCtx(e);return xe(s,{code:ae.invalid_type,expected:_e.symbol,received:s.parsedType}),Be}return Nr(e.data)}}Bu.create=t=>new Bu({typeName:ze.ZodSymbol,...et(t)});class za extends nt{_parse(e){if(this._getType(e)!==_e.undefined){const s=this._getOrReturnCtx(e);return xe(s,{code:ae.invalid_type,expected:_e.undefined,received:s.parsedType}),Be}return Nr(e.data)}}za.create=t=>new za({typeName:ze.ZodUndefined,...et(t)});class $a extends nt{_parse(e){if(this._getType(e)!==_e.null){const s=this._getOrReturnCtx(e);return xe(s,{code:ae.invalid_type,expected:_e.null,received:s.parsedType}),Be}return Nr(e.data)}}$a.create=t=>new $a({typeName:ze.ZodNull,...et(t)});class _o extends nt{constructor(){super(...arguments),this._any=!0}_parse(e){return Nr(e.data)}}_o.create=t=>new _o({typeName:ze.ZodAny,...et(t)});class Si extends nt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Nr(e.data)}}Si.create=t=>new Si({typeName:ze.ZodUnknown,...et(t)});class ys extends nt{_parse(e){const r=this._getOrReturnCtx(e);return xe(r,{code:ae.invalid_type,expected:_e.never,received:r.parsedType}),Be}}ys.create=t=>new ys({typeName:ze.ZodNever,...et(t)});class Uu extends nt{_parse(e){if(this._getType(e)!==_e.undefined){const s=this._getOrReturnCtx(e);return xe(s,{code:ae.invalid_type,expected:_e.void,received:s.parsedType}),Be}return Nr(e.data)}}Uu.create=t=>new Uu({typeName:ze.ZodVoid,...et(t)});class Dn extends nt{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),o=this._def;if(r.parsedType!==_e.array)return xe(r,{code:ae.invalid_type,expected:_e.array,received:r.parsedType}),Be;if(o.exactLength!==null){const u=r.data.length>o.exactLength.value,d=r.data.length<o.exactLength.value;(u||d)&&(xe(r,{code:u?ae.too_big:ae.too_small,minimum:d?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),s.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(xe(r,{code:ae.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),s.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(xe(r,{code:ae.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((u,d)=>o.type._parseAsync(new Gn(r,u,r.path,d)))).then(u=>Cr.mergeArray(s,u));const a=[...r.data].map((u,d)=>o.type._parseSync(new Gn(r,u,r.path,d)));return Cr.mergeArray(s,a)}get element(){return this._def.type}min(e,r){return new Dn({...this._def,minLength:{value:e,message:Re.toString(r)}})}max(e,r){return new Dn({...this._def,maxLength:{value:e,message:Re.toString(r)}})}length(e,r){return new Dn({...this._def,exactLength:{value:e,message:Re.toString(r)}})}nonempty(e){return this.min(1,e)}}Dn.create=(t,e)=>new Dn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...et(e)});function fo(t){if(t instanceof Lt){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=Qn.create(fo(s))}return new Lt({...t._def,shape:()=>e})}else return t instanceof Dn?new Dn({...t._def,type:fo(t.element)}):t instanceof Qn?Qn.create(fo(t.unwrap())):t instanceof ei?ei.create(fo(t.unwrap())):t instanceof Zn?Zn.create(t.items.map(e=>fo(e))):t}class Lt extends nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ct.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==_e.object){const m=this._getOrReturnCtx(e);return xe(m,{code:ae.invalid_type,expected:_e.object,received:m.parsedType}),Be}const{status:s,ctx:o}=this._processInputParams(e),{shape:a,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof ys&&this._def.unknownKeys==="strip"))for(const m in o.data)u.includes(m)||d.push(m);const h=[];for(const m of u){const g=a[m],y=o.data[m];h.push({key:{status:"valid",value:m},value:g._parse(new Gn(o,y,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof ys){const m=this._def.unknownKeys;if(m==="passthrough")for(const g of d)h.push({key:{status:"valid",value:g},value:{status:"valid",value:o.data[g]}});else if(m==="strict")d.length>0&&(xe(o,{code:ae.unrecognized_keys,keys:d}),s.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const g of d){const y=o.data[g];h.push({key:{status:"valid",value:g},value:m._parse(new Gn(o,y,o.path,g)),alwaysSet:g in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const g of h){const y=await g.key,x=await g.value;m.push({key:y,value:x,alwaysSet:g.alwaysSet})}return m}).then(m=>Cr.mergeObjectSync(s,m)):Cr.mergeObjectSync(s,h)}get shape(){return this._def.shape()}strict(e){return Re.errToObj,new Lt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var o,a,u,d;const h=(u=(a=(o=this._def).errorMap)===null||a===void 0?void 0:a.call(o,r,s).message)!==null&&u!==void 0?u:s.defaultError;return r.code==="unrecognized_keys"?{message:(d=Re.errToObj(e).message)!==null&&d!==void 0?d:h}:{message:h}}}:{}})}strip(){return new Lt({...this._def,unknownKeys:"strip"})}passthrough(){return new Lt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Lt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Lt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ze.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Lt({...this._def,catchall:e})}pick(e){const r={};return ct.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new Lt({...this._def,shape:()=>r})}omit(e){const r={};return ct.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new Lt({...this._def,shape:()=>r})}deepPartial(){return fo(this)}partial(e){const r={};return ct.objectKeys(this.shape).forEach(s=>{const o=this.shape[s];e&&!e[s]?r[s]=o:r[s]=o.optional()}),new Lt({...this._def,shape:()=>r})}required(e){const r={};return ct.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof Qn;)a=a._def.innerType;r[s]=a}}),new Lt({...this._def,shape:()=>r})}keyof(){return Yx(ct.objectKeys(this.shape))}}Lt.create=(t,e)=>new Lt({shape:()=>t,unknownKeys:"strip",catchall:ys.create(),typeName:ze.ZodObject,...et(e)});Lt.strictCreate=(t,e)=>new Lt({shape:()=>t,unknownKeys:"strict",catchall:ys.create(),typeName:ze.ZodObject,...et(e)});Lt.lazycreate=(t,e)=>new Lt({shape:t,unknownKeys:"strip",catchall:ys.create(),typeName:ze.ZodObject,...et(e)});class Va extends nt{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function o(a){for(const d of a)if(d.result.status==="valid")return d.result;for(const d of a)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const u=a.map(d=>new Jr(d.ctx.common.issues));return xe(r,{code:ae.invalid_union,unionErrors:u}),Be}if(r.common.async)return Promise.all(s.map(async a=>{const u={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:u}),ctx:u}})).then(o);{let a;const u=[];for(const h of s){const m={...r,common:{...r.common,issues:[]},parent:null},g=h._parseSync({data:r.data,path:r.path,parent:m});if(g.status==="valid")return g;g.status==="dirty"&&!a&&(a={result:g,ctx:m}),m.common.issues.length&&u.push(m.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const d=u.map(h=>new Jr(h));return xe(r,{code:ae.invalid_union,unionErrors:d}),Be}}get options(){return this._def.options}}Va.create=(t,e)=>new Va({options:t,typeName:ze.ZodUnion,...et(e)});const ds=t=>t instanceof qa?ds(t.schema):t instanceof Mn?ds(t.innerType()):t instanceof Wa?[t.value]:t instanceof Js?t.options:t instanceof Ha?ct.objectValues(t.enum):t instanceof Qa?ds(t._def.innerType):t instanceof za?[void 0]:t instanceof $a?[null]:t instanceof Qn?[void 0,...ds(t.unwrap())]:t instanceof ei?[null,...ds(t.unwrap())]:t instanceof sp||t instanceof Ga?ds(t.unwrap()):t instanceof Ka?ds(t._def.innerType):[];class vc extends nt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.object)return xe(r,{code:ae.invalid_type,expected:_e.object,received:r.parsedType}),Be;const s=this.discriminator,o=r.data[s],a=this.optionsMap.get(o);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(xe(r,{code:ae.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const o=new Map;for(const a of r){const u=ds(a.shape[e]);if(!u.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of u){if(o.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);o.set(d,a)}}return new vc({typeName:ze.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...et(s)})}}function hh(t,e){const r=fs(t),s=fs(e);if(t===e)return{valid:!0,data:t};if(r===_e.object&&s===_e.object){const o=ct.objectKeys(e),a=ct.objectKeys(t).filter(d=>o.indexOf(d)!==-1),u={...t,...e};for(const d of a){const h=hh(t[d],e[d]);if(!h.valid)return{valid:!1};u[d]=h.data}return{valid:!0,data:u}}else if(r===_e.array&&s===_e.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<t.length;a++){const u=t[a],d=e[a],h=hh(u,d);if(!h.valid)return{valid:!1};o.push(h.data)}return{valid:!0,data:o}}else return r===_e.date&&s===_e.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ba extends nt{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),o=(a,u)=>{if(dh(a)||dh(u))return Be;const d=hh(a.value,u.value);return d.valid?((fh(a)||fh(u))&&r.dirty(),{status:r.value,value:d.data}):(xe(s,{code:ae.invalid_intersection_types}),Be)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,u])=>o(a,u)):o(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Ba.create=(t,e,r)=>new Ba({left:t,right:e,typeName:ze.ZodIntersection,...et(r)});class Zn extends nt{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==_e.array)return xe(s,{code:ae.invalid_type,expected:_e.array,received:s.parsedType}),Be;if(s.data.length<this._def.items.length)return xe(s,{code:ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Be;!this._def.rest&&s.data.length>this._def.items.length&&(xe(s,{code:ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...s.data].map((u,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new Gn(s,u,s.path,d)):null}).filter(u=>!!u);return s.common.async?Promise.all(a).then(u=>Cr.mergeArray(r,u)):Cr.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Zn({...this._def,rest:e})}}Zn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Zn({items:t,typeName:ze.ZodTuple,rest:null,...et(e)})};class Ua extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==_e.object)return xe(s,{code:ae.invalid_type,expected:_e.object,received:s.parsedType}),Be;const o=[],a=this._def.keyType,u=this._def.valueType;for(const d in s.data)o.push({key:a._parse(new Gn(s,d,s.path,d)),value:u._parse(new Gn(s,s.data[d],s.path,d)),alwaysSet:d in s.data});return s.common.async?Cr.mergeObjectAsync(r,o):Cr.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof nt?new Ua({keyType:e,valueType:r,typeName:ze.ZodRecord,...et(s)}):new Ua({keyType:Rn.create(),valueType:e,typeName:ze.ZodRecord,...et(r)})}}class qu extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==_e.map)return xe(s,{code:ae.invalid_type,expected:_e.map,received:s.parsedType}),Be;const o=this._def.keyType,a=this._def.valueType,u=[...s.data.entries()].map(([d,h],m)=>({key:o._parse(new Gn(s,d,s.path,[m,"key"])),value:a._parse(new Gn(s,h,s.path,[m,"value"]))}));if(s.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of u){const m=await h.key,g=await h.value;if(m.status==="aborted"||g.status==="aborted")return Be;(m.status==="dirty"||g.status==="dirty")&&r.dirty(),d.set(m.value,g.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const h of u){const m=h.key,g=h.value;if(m.status==="aborted"||g.status==="aborted")return Be;(m.status==="dirty"||g.status==="dirty")&&r.dirty(),d.set(m.value,g.value)}return{status:r.value,value:d}}}}qu.create=(t,e,r)=>new qu({valueType:e,keyType:t,typeName:ze.ZodMap,...et(r)});class Oi extends nt{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==_e.set)return xe(s,{code:ae.invalid_type,expected:_e.set,received:s.parsedType}),Be;const o=this._def;o.minSize!==null&&s.data.size<o.minSize.value&&(xe(s,{code:ae.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&s.data.size>o.maxSize.value&&(xe(s,{code:ae.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const a=this._def.valueType;function u(h){const m=new Set;for(const g of h){if(g.status==="aborted")return Be;g.status==="dirty"&&r.dirty(),m.add(g.value)}return{status:r.value,value:m}}const d=[...s.data.values()].map((h,m)=>a._parse(new Gn(s,h,s.path,m)));return s.common.async?Promise.all(d).then(h=>u(h)):u(d)}min(e,r){return new Oi({...this._def,minSize:{value:e,message:Re.toString(r)}})}max(e,r){return new Oi({...this._def,maxSize:{value:e,message:Re.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Oi.create=(t,e)=>new Oi({valueType:t,minSize:null,maxSize:null,typeName:ze.ZodSet,...et(e)});class vo extends nt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.function)return xe(r,{code:ae.invalid_type,expected:_e.function,received:r.parsedType}),Be;function s(d,h){return $u({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,zu(),So].filter(m=>!!m),issueData:{code:ae.invalid_arguments,argumentsError:h}})}function o(d,h){return $u({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,zu(),So].filter(m=>!!m),issueData:{code:ae.invalid_return_type,returnTypeError:h}})}const a={errorMap:r.common.contextualErrorMap},u=r.data;if(this._def.returns instanceof Co){const d=this;return Nr(async function(...h){const m=new Jr([]),g=await d._def.args.parseAsync(h,a).catch(S=>{throw m.addIssue(s(h,S)),m}),y=await Reflect.apply(u,this,g);return await d._def.returns._def.type.parseAsync(y,a).catch(S=>{throw m.addIssue(o(y,S)),m})})}else{const d=this;return Nr(function(...h){const m=d._def.args.safeParse(h,a);if(!m.success)throw new Jr([s(h,m.error)]);const g=Reflect.apply(u,this,m.data),y=d._def.returns.safeParse(g,a);if(!y.success)throw new Jr([o(g,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new vo({...this._def,args:Zn.create(e).rest(Si.create())})}returns(e){return new vo({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new vo({args:e||Zn.create([]).rest(Si.create()),returns:r||Si.create(),typeName:ze.ZodFunction,...et(s)})}}class qa extends nt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}qa.create=(t,e)=>new qa({getter:t,typeName:ze.ZodLazy,...et(e)});class Wa extends nt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return xe(r,{received:r.data,code:ae.invalid_literal,expected:this._def.value}),Be}return{status:"valid",value:e.data}}get value(){return this._def.value}}Wa.create=(t,e)=>new Wa({value:t,typeName:ze.ZodLiteral,...et(e)});function Yx(t,e){return new Js({values:t,typeName:ze.ZodEnum,...et(e)})}class Js extends nt{constructor(){super(...arguments),Ca.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return xe(r,{expected:ct.joinValues(s),received:r.parsedType,code:ae.invalid_type}),Be}if(Vu(this,Ca)||Qx(this,Ca,new Set(this._def.values)),!Vu(this,Ca).has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return xe(r,{received:r.data,code:ae.invalid_enum_value,options:s}),Be}return Nr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Js.create(e,{...this._def,...r})}exclude(e,r=this._def){return Js.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}}Ca=new WeakMap;Js.create=Yx;class Ha extends nt{constructor(){super(...arguments),ka.set(this,void 0)}_parse(e){const r=ct.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==_e.string&&s.parsedType!==_e.number){const o=ct.objectValues(r);return xe(s,{expected:ct.joinValues(o),received:s.parsedType,code:ae.invalid_type}),Be}if(Vu(this,ka)||Qx(this,ka,new Set(ct.getValidEnumValues(this._def.values))),!Vu(this,ka).has(e.data)){const o=ct.objectValues(r);return xe(s,{received:s.data,code:ae.invalid_enum_value,options:o}),Be}return Nr(e.data)}get enum(){return this._def.values}}ka=new WeakMap;Ha.create=(t,e)=>new Ha({values:t,typeName:ze.ZodNativeEnum,...et(e)});class Co extends nt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==_e.promise&&r.common.async===!1)return xe(r,{code:ae.invalid_type,expected:_e.promise,received:r.parsedType}),Be;const s=r.parsedType===_e.promise?r.data:Promise.resolve(r.data);return Nr(s.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Co.create=(t,e)=>new Co({type:t,typeName:ze.ZodPromise,...et(e)});class Mn extends nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:u=>{xe(s,u),u.fatal?r.abort():r.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const u=o.transform(s.data,a);if(s.common.async)return Promise.resolve(u).then(async d=>{if(r.value==="aborted")return Be;const h=await this._def.schema._parseAsync({data:d,path:s.path,parent:s});return h.status==="aborted"?Be:h.status==="dirty"||r.value==="dirty"?ho(h.value):h});{if(r.value==="aborted")return Be;const d=this._def.schema._parseSync({data:u,path:s.path,parent:s});return d.status==="aborted"?Be:d.status==="dirty"||r.value==="dirty"?ho(d.value):d}}if(o.type==="refinement"){const u=d=>{const h=o.refinement(d,a);if(s.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(s.common.async===!1){const d=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return d.status==="aborted"?Be:(d.status==="dirty"&&r.dirty(),u(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(d=>d.status==="aborted"?Be:(d.status==="dirty"&&r.dirty(),u(d.value).then(()=>({status:r.value,value:d.value}))))}if(o.type==="transform")if(s.common.async===!1){const u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Pi(u))return u;const d=o.transform(u.value,a);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>Pi(u)?Promise.resolve(o.transform(u.value,a)).then(d=>({status:r.value,value:d})):u);ct.assertNever(o)}}Mn.create=(t,e,r)=>new Mn({schema:t,typeName:ze.ZodEffects,effect:e,...et(r)});Mn.createWithPreprocess=(t,e,r)=>new Mn({schema:e,effect:{type:"preprocess",transform:t},typeName:ze.ZodEffects,...et(r)});class Qn extends nt{_parse(e){return this._getType(e)===_e.undefined?Nr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qn.create=(t,e)=>new Qn({innerType:t,typeName:ze.ZodOptional,...et(e)});class ei extends nt{_parse(e){return this._getType(e)===_e.null?Nr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ei.create=(t,e)=>new ei({innerType:t,typeName:ze.ZodNullable,...et(e)});class Qa extends nt{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===_e.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Qa.create=(t,e)=>new Qa({innerType:t,typeName:ze.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...et(e)});class Ka extends nt{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return La(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Jr(s.common.issues)},input:s.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Jr(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Ka.create=(t,e)=>new Ka({innerType:t,typeName:ze.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...et(e)});class Wu extends nt{_parse(e){if(this._getType(e)!==_e.nan){const s=this._getOrReturnCtx(e);return xe(s,{code:ae.invalid_type,expected:_e.nan,received:s.parsedType}),Be}return{status:"valid",value:e.data}}}Wu.create=t=>new Wu({typeName:ze.ZodNaN,...et(t)});const GE=Symbol("zod_brand");class sp extends nt{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class rl extends nt{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Be:a.status==="dirty"?(r.dirty(),ho(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const o=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?Be:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:s.path,parent:s})}}static create(e,r){return new rl({in:e,out:r,typeName:ze.ZodPipeline})}}class Ga extends nt{_parse(e){const r=this._def.innerType._parse(e),s=o=>(Pi(o)&&(o.value=Object.freeze(o.value)),o);return La(r)?r.then(o=>s(o)):s(r)}unwrap(){return this._def.innerType}}Ga.create=(t,e)=>new Ga({innerType:t,typeName:ze.ZodReadonly,...et(e)});function qv(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Xx(t,e={},r){return t?_o.create().superRefine((s,o)=>{var a,u;const d=t(s);if(d instanceof Promise)return d.then(h=>{var m,g;if(!h){const y=qv(e,s),x=(g=(m=y.fatal)!==null&&m!==void 0?m:r)!==null&&g!==void 0?g:!0;o.addIssue({code:"custom",...y,fatal:x})}});if(!d){const h=qv(e,s),m=(u=(a=h.fatal)!==null&&a!==void 0?a:r)!==null&&u!==void 0?u:!0;o.addIssue({code:"custom",...h,fatal:m})}}):_o.create()}const ZE={object:Lt.lazycreate};var ze;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ze||(ze={}));const YE=(t,e={message:`Input not instance of ${t.name}`})=>Xx(r=>r instanceof t,e),Jx=Rn.create,ew=Ys.create,XE=Wu.create,JE=Xs.create,tw=Fa.create,eT=Ni.create,tT=Bu.create,rT=za.create,nT=$a.create,sT=_o.create,iT=Si.create,oT=ys.create,aT=Uu.create,lT=Dn.create,uT=Lt.create,cT=Lt.strictCreate,dT=Va.create,fT=vc.create,hT=Ba.create,pT=Zn.create,mT=Ua.create,gT=qu.create,vT=Oi.create,yT=vo.create,xT=qa.create,wT=Wa.create,bT=Js.create,ST=Ha.create,_T=Co.create,Wv=Mn.create,CT=Qn.create,kT=ei.create,ET=Mn.createWithPreprocess,TT=rl.create,PT=()=>Jx().optional(),NT=()=>ew().optional(),OT=()=>tw().optional(),jT={string:(t=>Rn.create({...t,coerce:!0})),number:(t=>Ys.create({...t,coerce:!0})),boolean:(t=>Fa.create({...t,coerce:!0})),bigint:(t=>Xs.create({...t,coerce:!0})),date:(t=>Ni.create({...t,coerce:!0}))},RT=Be;var yt=Object.freeze({__proto__:null,defaultErrorMap:So,setErrorMap:EE,getErrorMap:zu,makeIssue:$u,EMPTY_PATH:TE,addIssueToContext:xe,ParseStatus:Cr,INVALID:Be,DIRTY:ho,OK:Nr,isAborted:dh,isDirty:fh,isValid:Pi,isAsync:La,get util(){return ct},get objectUtil(){return ch},ZodParsedType:_e,getParsedType:fs,ZodType:nt,datetimeRegex:Zx,ZodString:Rn,ZodNumber:Ys,ZodBigInt:Xs,ZodBoolean:Fa,ZodDate:Ni,ZodSymbol:Bu,ZodUndefined:za,ZodNull:$a,ZodAny:_o,ZodUnknown:Si,ZodNever:ys,ZodVoid:Uu,ZodArray:Dn,ZodObject:Lt,ZodUnion:Va,ZodDiscriminatedUnion:vc,ZodIntersection:Ba,ZodTuple:Zn,ZodRecord:Ua,ZodMap:qu,ZodSet:Oi,ZodFunction:vo,ZodLazy:qa,ZodLiteral:Wa,ZodEnum:Js,ZodNativeEnum:Ha,ZodPromise:Co,ZodEffects:Mn,ZodTransformer:Mn,ZodOptional:Qn,ZodNullable:ei,ZodDefault:Qa,ZodCatch:Ka,ZodNaN:Wu,BRAND:GE,ZodBranded:sp,ZodPipeline:rl,ZodReadonly:Ga,custom:Xx,Schema:nt,ZodSchema:nt,late:ZE,get ZodFirstPartyTypeKind(){return ze},coerce:jT,any:sT,array:lT,bigint:JE,boolean:tw,date:eT,discriminatedUnion:fT,effect:Wv,enum:bT,function:yT,instanceof:YE,intersection:hT,lazy:xT,literal:wT,map:gT,nan:XE,nativeEnum:ST,never:oT,null:nT,nullable:kT,number:ew,object:uT,oboolean:OT,onumber:NT,optional:CT,ostring:PT,pipeline:TT,preprocess:ET,promise:_T,record:mT,set:vT,strictObject:cT,string:Jx,symbol:tT,transformer:Wv,tuple:pT,undefined:rT,union:dT,unknown:iT,void:aT,NEVER:RT,ZodIssueCode:ae,quotelessJson:kE,ZodError:Jr});const se=Symbol.for("drizzle:entityKind");function mr(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,se))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(se in r&&r[se]===e[se])return!0;r=Object.getPrototypeOf(r)}return!1}class Za{constructor(e,r){this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[se]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class DT{static[se]="ColumnBuilder";config;constructor(e,r,s){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const yo=Symbol.for("drizzle:Name");class IT{static[se]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,r){this.reference=()=>{const{name:s,columns:o,foreignColumns:a}=e();return{name:s,columns:o,foreignTable:a[0].table,foreignColumns:a}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new AT(e,this)}}class AT{constructor(e,r){this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[se]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:r,foreignColumns:s}=this.reference(),o=r.map(d=>d.name),a=s.map(d=>d.name),u=[this.table[yo],...o,s[0].table[yo],...a];return e??`${u.join("_")}_fk`}}function MT(t,...e){return t(...e)}function LT(t,e){return`${t[yo]}_${e.join("_")}_unique`}function Hv(t,e,r){for(let s=e;s<t.length;s++){const o=t[s];if(o==="\\"){s++;continue}if(o==='"')return[t.slice(e,s).replace(/\\/g,""),s+1];if(!r&&(o===","||o==="}"))return[t.slice(e,s).replace(/\\/g,""),s]}return[t.slice(e).replace(/\\/g,""),t.length]}function rw(t,e=0){const r=[];let s=e,o=!1;for(;s<t.length;){const a=t[s];if(a===","){(o||s===e)&&r.push(""),o=!0,s++;continue}if(o=!1,a==="\\"){s+=2;continue}if(a==='"'){const[h,m]=Hv(t,s+1,!0);r.push(h),s=m;continue}if(a==="}")return[r,s+1];if(a==="{"){const[h,m]=rw(t,s+1);r.push(h),s=m;continue}const[u,d]=Hv(t,s,!1);r.push(u),s=d}return[r,s]}function FT(t){const[e]=rw(t,1);return e}function nw(t){return`{${t.map(e=>Array.isArray(e)?nw(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class mt extends DT{foreignKeyConfigs=[];static[se]="PgColumnBuilder";array(e){return new $T(this.config.name,this,e)}references(e,r={}){return this.foreignKeyConfigs.push({ref:e,actions:r}),this}unique(e,r){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,r){return this.foreignKeyConfigs.map(({ref:s,actions:o})=>MT((a,u)=>{const d=new IT(()=>{const h=a();return{columns:[e],foreignColumns:[h]}});return u.onUpdate&&d.onUpdate(u.onUpdate),u.onDelete&&d.onDelete(u.onDelete),d.build(r)},s,o))}buildExtraConfigColumn(e){return new zT(e,this.config)}}class rt extends Za{constructor(e,r){r.uniqueName||(r.uniqueName=LT(e,[r.name])),super(e,r),this.table=e}static[se]="PgColumn"}class zT extends rt{static[se]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class $T extends mt{static[se]="PgArrayBuilder";constructor(e,r,s){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=s}build(e){const r=this.config.baseBuilder.build(e);return new ip(e,this.config,r)}}class ip extends rt{constructor(e,r,s,o){super(e,r),this.baseColumn=s,this.range=o,this.size=r.size}size;static[se]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=FT(e)),e.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(e,r=!1){const s=e.map(o=>o===null?null:mr(this.baseColumn,ip)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return r?s:nw(s)}}const Qv=Symbol.for("drizzle:isPgEnum");function VT(t){return!!t&&typeof t=="function"&&Qv in t&&t[Qv]===!0}class sw{static[se]="Subquery";constructor(e,r,s,o=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:s,isWith:o}}}const BT={startActiveSpan(t,e){return e()}},xo=Symbol.for("drizzle:ViewBaseConfig"),Nf=Symbol.for("drizzle:Schema"),Kv=Symbol.for("drizzle:Columns"),Gv=Symbol.for("drizzle:ExtraConfigColumns"),Of=Symbol.for("drizzle:OriginalName"),jf=Symbol.for("drizzle:BaseName"),Hu=Symbol.for("drizzle:IsAlias"),Zv=Symbol.for("drizzle:ExtraConfigBuilder"),iw=Symbol.for("drizzle:IsDrizzleTable");let Yr=class{static[se]="Table";static Symbol={Name:yo,Schema:Nf,OriginalName:Of,Columns:Kv,ExtraConfigColumns:Gv,BaseName:jf,IsAlias:Hu,ExtraConfigBuilder:Zv};[yo];[Of];[Nf];[Kv];[Gv];[jf];[Hu]=!1;[iw]=!0;[Zv]=void 0;constructor(e,r,s){this[yo]=this[Of]=e,this[Nf]=r,this[jf]=s}};function ow(t){return typeof t=="object"&&t!==null&&iw in t}function UT(t){return t!=null&&typeof t.getSQL=="function"}function qT(t){const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}class Pn{static[se]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new Vt([this])}}class Vt{constructor(e){this.queryChunks=e}static[se]="SQL";decoder=aw;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return BT.startActiveSpan("drizzle.buildSQL",r=>{const s=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(e,r){const s=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:o,escapeName:a,escapeParam:u,prepareTyping:d,inlineParams:h,paramStartIndex:m}=s;return qT(e.map(g=>{if(mr(g,Pn))return{sql:g.value.join(""),params:[]};if(mr(g,ph))return{sql:a(g.value),params:[]};if(g===void 0)return{sql:"",params:[]};if(Array.isArray(g)){const y=[new Pn("(")];for(const[x,S]of g.entries())y.push(S),x<g.length-1&&y.push(new Pn(", "));return y.push(new Pn(")")),this.buildQueryFromSourceParams(y,s)}if(mr(g,Vt))return this.buildQueryFromSourceParams(g.queryChunks,{...s,inlineParams:h||g.shouldInlineParams});if(mr(g,Yr)){const y=g[Yr.Symbol.Schema],x=g[Yr.Symbol.Name];return{sql:y===void 0||g[Hu]?a(x):a(y)+"."+a(x),params:[]}}if(mr(g,Za)){const y=o.getColumnCasing(g);if(r.invokeSource==="indexes")return{sql:a(y),params:[]};const x=g.table[Yr.Symbol.Schema];return{sql:g.table[Hu]||x===void 0?a(g.table[Yr.Symbol.Name])+"."+a(y):a(x)+"."+a(g.table[Yr.Symbol.Name])+"."+a(y),params:[]}}if(mr(g,WT)){const y=g[xo].schema,x=g[xo].name;return{sql:y===void 0||g[xo].isAlias?a(x):a(y)+"."+a(x),params:[]}}if(mr(g,uw)){if(mr(g.value,mh))return{sql:u(m.value++,g),params:[g],typings:["none"]};const y=g.value===null?null:g.encoder.mapToDriverValue(g.value);if(mr(y,Vt))return this.buildQueryFromSourceParams([y],s);if(h)return{sql:this.mapInlineParam(y,s),params:[]};let x=["none"];return d&&(x=[d(g.encoder)]),{sql:u(m.value++,y),params:[y],typings:x}}return mr(g,mh)?{sql:u(m.value++,g),params:[g],typings:["none"]}:mr(g,Vt.Aliased)&&g.fieldAlias!==void 0?{sql:a(g.fieldAlias),params:[]}:mr(g,sw)?g._.isWith?{sql:a(g._.alias),params:[]}:this.buildQueryFromSourceParams([new Pn("("),g._.sql,new Pn(") "),new ph(g._.alias)],s):VT(g)?g.schema?{sql:a(g.schema)+"."+a(g.enumName),params:[]}:{sql:a(g.enumName),params:[]}:UT(g)?g.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([g.getSQL()],s):this.buildQueryFromSourceParams([new Pn("("),g.getSQL(),new Pn(")")],s):h?{sql:this.mapInlineParam(g,s),params:[]}:{sql:u(m.value++,g),params:[g],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const s=e.toString();return r(s==="[object Object]"?JSON.stringify(e):s)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Vt.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class ph{constructor(e){this.value=e}static[se]="Name";brand;getSQL(){return new Vt([this])}}const aw={mapFromDriverValue:t=>t},lw={mapToDriverValue:t=>t};({...aw,...lw});class uw{constructor(e,r=lw){this.value=e,this.encoder=r}static[se]="Param";brand;getSQL(){return new Vt([this])}}function Qu(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new Pn(t[0]));for(const[s,o]of e.entries())r.push(o,new Pn(t[s+1]));return new Vt(r)}(t=>{function e(){return new Vt([])}t.empty=e;function r(h){return new Vt(h)}t.fromList=r;function s(h){return new Vt([new Pn(h)])}t.raw=s;function o(h,m){const g=[];for(const[y,x]of h.entries())y>0&&m!==void 0&&g.push(m),g.push(x);return new Vt(g)}t.join=o;function a(h){return new ph(h)}t.identifier=a;function u(h){return new mh(h)}t.placeholder=u;function d(h,m){return new uw(h,m)}t.param=d})(Qu||(Qu={}));(t=>{class e{constructor(s,o){this.sql=s,this.fieldAlias=o}static[se]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(Vt||(Vt={}));class mh{constructor(e){this.name=e}static[se]="Placeholder";getSQL(){return new Vt([this])}}const cw=Symbol.for("drizzle:IsDrizzleView");class WT{static[se]="View";[xo];[cw]=!0;constructor({name:e,schema:r,selectedFields:s,query:o}){this[xo]={name:e,originalName:e,schema:r,selectedFields:s,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new Vt([this])}}function HT(t){return typeof t=="object"&&t!==null&&cw in t}Za.prototype.getSQL=function(){return new Vt([this])};Yr.prototype.getSQL=function(){return new Vt([this])};sw.prototype.getSQL=function(){return new Vt([this])};function QT(t){return t[Yr.Symbol.Columns]}function KT(t){return t[xo].selectedFields}function ur(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class yc extends mt{static[se]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:r,...s}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...s}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class GT extends yc{static[se]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new ZT(e,this.config)}}class ZT extends rt{static[se]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class YT extends yc{static[se]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new XT(e,this.config)}}class XT extends rt{static[se]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function JT(t,e){const{name:r,config:s}=ur(t,e);return s.mode==="number"?new GT(r):new YT(r)}class eP extends mt{static[se]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new tP(e,this.config)}}class tP extends rt{static[se]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class rP extends mt{static[se]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new nP(e,this.config)}}class nP extends rt{static[se]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function sP(t,e){const{name:r,config:s}=ur(t,e);return s.mode==="number"?new eP(r):new rP(r)}class iP extends mt{static[se]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new oP(e,this.config)}}class oP extends rt{static[se]="PgBoolean";getSQLType(){return"boolean"}}function dw(t){return new iP(t??"")}class aP extends mt{static[se]="PgCharBuilder";constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new lP(e,this.config)}}class lP extends rt{static[se]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function uP(t,e={}){const{name:r,config:s}=ur(t,e);return new aP(r,s)}class cP extends mt{static[se]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new dP(e,this.config)}}class dP extends rt{static[se]="PgCidr";getSQLType(){return"cidr"}}function fP(t){return new cP(t??"")}class hP extends mt{static[se]="PgCustomColumnBuilder";constructor(e,r,s){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=s}build(e){return new pP(e,this.config)}}class pP extends rt{static[se]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,r){super(e,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function mP(t){return(e,r)=>{const{name:s,config:o}=ur(e,r);return new hP(s,o,t)}}class nl extends mt{static[se]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Qu`now()`)}}class gP extends nl{static[se]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new vP(e,this.config)}}class vP extends rt{static[se]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class yP extends nl{static[se]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new xP(e,this.config)}}class xP extends rt{static[se]="PgDateString";getSQLType(){return"date"}}function wP(t,e){const{name:r,config:s}=ur(t,e);return s?.mode==="date"?new gP(r):new yP(r)}class bP extends mt{static[se]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new SP(e,this.config)}}class SP extends rt{static[se]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function _P(t){return new bP(t??"")}class CP extends mt{static[se]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new kP(e,this.config)}}class kP extends rt{static[se]="PgInet";getSQLType(){return"inet"}}function EP(t){return new CP(t??"")}class TP extends yc{static[se]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new PP(e,this.config)}}class PP extends rt{static[se]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function hs(t){return new TP(t??"")}class NP extends mt{static[se]="PgIntervalBuilder";constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new OP(e,this.config)}}class OP extends rt{static[se]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${e}${r}`}}function jP(t,e={}){const{name:r,config:s}=ur(t,e);return new NP(r,s)}class RP extends mt{static[se]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new DP(e,this.config)}}class DP extends rt{static[se]="PgJson";constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function IP(t){return new RP(t??"")}class AP extends mt{static[se]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new MP(e,this.config)}}class MP extends rt{static[se]="PgJsonb";constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function LP(t){return new AP(t??"")}class FP extends mt{static[se]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new zP(e,this.config)}}class zP extends rt{static[se]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[r,s,o]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s),Number.parseFloat(o)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class $P extends mt{static[se]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new VP(e,this.config)}}class VP extends rt{static[se]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[r,s,o]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(s),c:Number.parseFloat(o)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function BP(t,e){const{name:r,config:s}=ur(t,e);return!s?.mode||s.mode==="tuple"?new FP(r):new $P(r)}class UP extends mt{static[se]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new qP(e,this.config)}}class qP extends rt{static[se]="PgMacaddr";getSQLType(){return"macaddr"}}function WP(t){return new UP(t??"")}class HP extends mt{static[se]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new QP(e,this.config)}}class QP extends rt{static[se]="PgMacaddr8";getSQLType(){return"macaddr8"}}function KP(t){return new HP(t??"")}class GP extends mt{static[se]="PgNumericBuilder";constructor(e,r,s){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=s}build(e){return new ZP(e,this.config)}}class ZP extends rt{static[se]="PgNumeric";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function YP(t,e){const{name:r,config:s}=ur(t,e);return new GP(r,s?.precision,s?.scale)}class XP extends mt{static[se]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new JP(e,this.config)}}class JP extends rt{static[se]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,s]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class eN extends mt{static[se]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new tN(e,this.config)}}class tN extends rt{static[se]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,s]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(s)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function rN(t,e){const{name:r,config:s}=ur(t,e);return!s?.mode||s.mode==="tuple"?new XP(r):new eN(r)}function nN(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function Yv(t,e){const r=new ArrayBuffer(8),s=new DataView(r);for(let o=0;o<8;o++)s.setUint8(o,t[e+o]);return s.getFloat64(0,!0)}function fw(t){const e=nN(t);let r=0;const s=e[r];r+=1;const o=new DataView(e.buffer),a=o.getUint32(r,s===1);if(r+=4,a&536870912&&(o.getUint32(r,s===1),r+=4),(a&65535)===1){const u=Yv(e,r);r+=8;const d=Yv(e,r);return r+=8,[u,d]}throw new Error("Unsupported geometry type")}class sN extends mt{static[se]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new iN(e,this.config)}}class iN extends rt{static[se]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return fw(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class oN extends mt{static[se]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new aN(e,this.config)}}class aN extends rt{static[se]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=fw(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function lN(t,e){const{name:r,config:s}=ur(t,e);return!s?.mode||s.mode==="tuple"?new sN(r):new oN(r)}class uN extends mt{static[se]="PgRealBuilder";constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new cN(e,this.config)}}class cN extends rt{static[se]="PgReal";constructor(e,r){super(e,r)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function dN(t){return new uN(t??"")}class fN extends mt{static[se]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new hN(e,this.config)}}class hN extends rt{static[se]="PgSerial";getSQLType(){return"serial"}}function xc(t){return new fN(t??"")}class pN extends yc{static[se]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new mN(e,this.config)}}class mN extends rt{static[se]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function gN(t){return new pN(t??"")}class vN extends mt{static[se]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new yN(e,this.config)}}class yN extends rt{static[se]="PgSmallSerial";getSQLType(){return"smallserial"}}function xN(t){return new vN(t??"")}class wN extends mt{static[se]="PgTextBuilder";constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new bN(e,this.config)}}class bN extends rt{static[se]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function _i(t,e={}){const{name:r,config:s}=ur(t,e);return new wN(r,s)}class SN extends nl{constructor(e,r,s){super(e,"string","PgTime"),this.withTimezone=r,this.precision=s,this.config.withTimezone=r,this.config.precision=s}static[se]="PgTimeBuilder";build(e){return new _N(e,this.config)}}class _N extends rt{static[se]="PgTime";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function CN(t,e={}){const{name:r,config:s}=ur(t,e);return new SN(r,s.withTimezone??!1,s.precision)}class kN extends nl{static[se]="PgTimestampBuilder";constructor(e,r,s){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=s}build(e){return new EN(e,this.config)}}class EN extends rt{static[se]="PgTimestamp";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class TN extends nl{static[se]="PgTimestampStringBuilder";constructor(e,r,s){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=s}build(e){return new PN(e,this.config)}}class PN extends rt{static[se]="PgTimestampString";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Ku(t,e={}){const{name:r,config:s}=ur(t,e);return s?.mode==="string"?new TN(r,s.withTimezone??!1,s.precision):new kN(r,s?.withTimezone??!1,s?.precision)}class NN extends mt{static[se]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Qu`gen_random_uuid()`)}build(e){return new ON(e,this.config)}}class ON extends rt{static[se]="PgUUID";getSQLType(){return"uuid"}}function jN(t){return new NN(t??"")}class RN extends mt{static[se]="PgVarcharBuilder";constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new DN(e,this.config)}}class DN extends rt{static[se]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function IN(t,e={}){const{name:r,config:s}=ur(t,e);return new RN(r,s)}class AN extends mt{static[se]="PgBinaryVectorBuilder";constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new MN(e,this.config)}}class MN extends rt{static[se]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function LN(t,e){const{name:r,config:s}=ur(t,e);return new AN(r,s)}class FN extends mt{static[se]="PgHalfVectorBuilder";constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new zN(e,this.config)}}class zN extends rt{static[se]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function $N(t,e){const{name:r,config:s}=ur(t,e);return new FN(r,s)}class VN extends mt{static[se]="PgSparseVectorBuilder";constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new BN(e,this.config)}}class BN extends rt{static[se]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function UN(t,e){const{name:r,config:s}=ur(t,e);return new VN(r,s)}class qN extends mt{static[se]="PgVectorBuilder";constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new WN(e,this.config)}}class WN extends rt{static[se]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function HN(t,e){const{name:r,config:s}=ur(t,e);return new qN(r,s)}function QN(){return{bigint:JT,bigserial:sP,boolean:dw,char:uP,cidr:fP,customType:mP,date:wP,doublePrecision:_P,inet:EP,integer:hs,interval:jP,json:IP,jsonb:LP,line:BP,macaddr:WP,macaddr8:KP,numeric:YP,point:rN,geometry:lN,real:dN,serial:xc,smallint:gN,smallserial:xN,text:_i,time:CN,timestamp:Ku,uuid:jN,varchar:IN,bit:LN,halfvec:$N,sparsevec:UN,vector:HN}}const gh=Symbol.for("drizzle:PgInlineForeignKeys"),Xv=Symbol.for("drizzle:EnableRLS");class Jv extends Yr{static[se]="PgTable";static Symbol=Object.assign({},Yr.Symbol,{InlineForeignKeys:gh,EnableRLS:Xv});[gh]=[];[Xv]=!1;[Yr.Symbol.ExtraConfigBuilder]=void 0}function KN(t,e,r,s,o=t){const a=new Jv(t,s,o),u=typeof e=="function"?e(QN()):e,d=Object.fromEntries(Object.entries(u).map(([g,y])=>{const x=y;x.setName(g);const S=x.build(a);return a[gh].push(...x.buildForeignKeys(S,a)),[g,S]})),h=Object.fromEntries(Object.entries(u).map(([g,y])=>{const x=y;x.setName(g);const S=x.buildExtraConfigColumn(a);return[g,S]})),m=Object.assign(a,d);return m[Yr.Symbol.Columns]=d,m[Yr.Symbol.ExtraConfigColumns]=h,Object.assign(m,{enableRLS:()=>(m[Jv.Symbol.EnableRLS]=!0,m)})}const op=(t,e,r)=>KN(t,e,r,void 0),Mt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Wt(t,e){return e.includes(t.columnType)}function GN(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const ZN=yt.union([yt.string(),yt.number(),yt.boolean(),yt.null()]),YN=yt.union([ZN,yt.record(yt.any()),yt.array(yt.any())]),XN=yt.custom(t=>t instanceof Buffer);function hw(t,e){const r=e?.zodInstance??yt,s=e?.coerce??{};let o;return GN(t)&&(o=t.enumValues.length?r.enum(t.enumValues):r.string()),o||(Wt(t,["PgGeometry","PgPointTuple"])?o=r.tuple([r.number(),r.number()]):Wt(t,["PgGeometryObject","PgPointObject"])?o=r.object({x:r.number(),y:r.number()}):Wt(t,["PgHalfVector","PgVector"])?(o=r.array(r.number()),o=t.dimensions?o.length(t.dimensions):o):Wt(t,["PgLine"])?o=r.tuple([r.number(),r.number(),r.number()]):Wt(t,["PgLineABC"])?o=r.object({a:r.number(),b:r.number(),c:r.number()}):Wt(t,["PgArray"])?(o=r.array(hw(t.baseColumn,r)),o=t.size?o.length(t.size):o):t.dataType==="array"?o=r.array(r.any()):t.dataType==="number"?o=JN(t,r,s):t.dataType==="bigint"?o=e5(t,r,s):t.dataType==="boolean"?o=s===!0||s.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?o=s===!0||s.date?r.coerce.date():r.date():t.dataType==="string"?o=t5(t,r,s):t.dataType==="json"?o=YN:t.dataType==="custom"?o=r.any():t.dataType==="buffer"&&(o=XN)),o||(o=r.any()),o}function JN(t,e,r){let s=t.getSQLType().includes("unsigned"),o,a,u=!1;Wt(t,["MySqlTinyInt","SingleStoreTinyInt"])?(o=s?0:Mt.INT8_MIN,a=s?Mt.INT8_UNSIGNED_MAX:Mt.INT8_MAX,u=!0):Wt(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=s?0:Mt.INT16_MIN,a=s?Mt.INT16_UNSIGNED_MAX:Mt.INT16_MAX,u=!0):Wt(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=s?0:Mt.INT24_MIN,a=s?Mt.INT24_UNSIGNED_MAX:Mt.INT24_MAX,u=Wt(t,["MySqlMediumInt","SingleStoreMediumInt"])):Wt(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=s?0:Mt.INT32_MIN,a=s?Mt.INT32_UNSIGNED_MAX:Mt.INT32_MAX,u=!0):Wt(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=s?0:Mt.INT48_MIN,a=s?Mt.INT48_UNSIGNED_MAX:Mt.INT48_MAX):Wt(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||Wt(t,["MySqlSerial","SingleStoreSerial"]),o=s?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,u=!0):Wt(t,["MySqlYear","SingleStoreYear"])?(o=1901,a=2155,u=!0):(o=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let d=r===!0||r?.number?e.coerce.number():e.number();return d=d.min(o).max(a),u?d.int():d}function e5(t,e,r){const s=t.getSQLType().includes("unsigned"),o=s?0n:Mt.INT64_MIN,a=s?Mt.INT64_UNSIGNED_MAX:Mt.INT64_MAX;return(r===!0||r?.bigint?e.coerce.bigint():e.bigint()).min(o).max(a)}function t5(t,e,r){if(Wt(t,["PgUUID"]))return e.string().uuid();let s,o,a=!1;Wt(t,["PgVarchar","SQLiteText"])?s=t.length:Wt(t,["MySqlVarChar","SingleStoreVarChar"])?s=t.length??Mt.INT16_UNSIGNED_MAX:Wt(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?s=Mt.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?s=Mt.INT24_UNSIGNED_MAX:t.textType==="text"?s=Mt.INT16_UNSIGNED_MAX:s=Mt.INT8_UNSIGNED_MAX),Wt(t,["PgChar","MySqlChar","SingleStoreChar"])&&(s=t.length,a=!0),Wt(t,["PgBinaryVector"])&&(o=/^[01]+$/,s=t.dimensions);let u=r===!0||r?.string?e.coerce.string():e.string();return u=o?u.regex(o):u,s&&a?u.length(s):s?u.max(s):u}function pw(t){return ow(t)?QT(t):KT(t)}function mw(t,e,r,s){const o={};for(const[a,u]of Object.entries(t)){if(!mr(u,Za)&&!mr(u,Vt)&&!mr(u,Vt.Aliased)&&typeof u=="object"){const y=ow(u)||HT(u)?pw(u):u;o[a]=mw(y,e[a]??{},r,s);continue}const d=e[a];if(d!==void 0&&typeof d!="function"){o[a]=d;continue}const h=mr(u,Za)?u:void 0,m=h?hw(h,s):yt.any(),g=typeof d=="function"?d(m):m;r.never(h)||(o[a]=g,h&&(r.nullable(h)&&(o[a]=o[a].nullable()),r.optional(h)&&(o[a]=o[a].optional())))}return yt.object(o)}const r5={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},n5=(t,e)=>{const r=pw(t);return mw(r,{},r5)},s5=op("users",{id:xc("id").primaryKey(),username:_i("username").notNull().unique(),password:_i("password").notNull(),email:_i("email").unique(),rating:hs("rating").default(0),gamesPlayed:hs("games_played").default(0),wins:hs("wins").default(0),losses:hs("losses").default(0),draws:hs("draws").default(0)});op("games",{id:xc("id").primaryKey(),whitePlayerId:hs("white_player_id"),blackPlayerId:hs("black_player_id"),pgn:_i("pgn"),result:_i("result"),createdAt:Ku("created_at").defaultNow()});op("password_resets",{id:xc("id").primaryKey(),userId:hs("user_id").notNull(),code:_i("code").notNull(),expiresAt:Ku("expires_at").notNull(),used:dw("used").default(!1).notNull(),createdAt:Ku("created_at").defaultNow()});const vh=n5(s5).pick({username:!0,password:!0});yt.object({message:yt.string(),field:yt.string().optional()}),yt.object({message:yt.string()}),yt.object({message:yt.string()});const Tn={users:{login:{method:"POST",path:"/api/login",input:vh,responses:{200:yt.custom(),401:yt.object({message:yt.string()})}},register:{method:"POST",path:"/api/register",input:vh,responses:{201:yt.custom(),400:yt.object({message:yt.string()})}},me:{method:"GET",path:"/api/user",responses:{200:yt.custom(),401:yt.object({message:yt.string()})}}},games:{list:{method:"GET",path:"/api/games",responses:{200:yt.array(yt.custom())}}}},ap="auth_token";function ey(){try{return localStorage.getItem(ap)}catch{return null}}function ty(t){try{localStorage.setItem(ap,t)}catch{}}function i5(){try{localStorage.removeItem(ap)}catch{}}function Mi(){const t=ic(),{toast:e}=Ai(),[,r]=Ii(),{data:s,isLoading:o,error:a}=Du({queryKey:[Tn.users.me.path],queryFn:async()=>{const m=ey(),g=await fetch(_r+Tn.users.me.path,{headers:m?{Authorization:`Bearer ${m}`}:{}});if(g.status===401)return null;if(!g.ok)throw new Error("Khng th ly thng tin ngi dng");return Tn.users.me.responses[200].parse(await g.json())},retry:!1}),u=bf({mutationFn:async m=>{const g=await fetch(_r+Tn.users.login.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!g.ok){if(g.status===401)throw new Error("Sai tn ng nhp hoc mt khu");const y=await g.json();throw new Error(y.message||"ng nhp tht bi")}return Tn.users.login.responses[200].parse(await g.json())},onSuccess:m=>{const g=m?.token;typeof g=="string"&&g&&ty(g),t.setQueryData([Tn.users.me.path],m),e({title:"Cho mng quay li!",description:`ng nhp vi ti khon ${m.username}`,variant:"default"}),r("/")},onError:m=>{e({title:"ng nhp tht bi",description:m.message,variant:"destructive"})}}),d=bf({mutationFn:async m=>{const g=await fetch(_r+Tn.users.register.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!g.ok){const y=await g.json();throw new Error(y.message||"ng k tht bi")}return Tn.users.register.responses[201].parse(await g.json())},onSuccess:m=>{const g=m?.token;typeof g=="string"&&g&&ty(g),t.setQueryData([Tn.users.me.path],m),e({title:"To ti khon thnh cng!",description:`Cho mng n vi ChessPro, ${m.username}!`,variant:"default"}),r("/")},onError:m=>{e({title:"ng k tht bi",description:m.message,variant:"destructive"})}}),h=bf({mutationFn:async()=>{const m=ey();if(!(await fetch(_r+"/api/logout",{method:"POST",headers:m?{Authorization:`Bearer ${m}`}:{}})).ok)throw new Error("ng xut tht bi");i5(),t.setQueryData([Tn.users.me.path],null)},onSuccess:()=>{r("/auth"),e({title:" ng xut",description:"Bn cn ng nhp li  tip tc chi."})},onError:m=>{e({title:"ng xut tht bi",description:m.message,variant:"destructive"})}});return{user:s,isLoading:o,error:a,login:u.mutate,isLoggingIn:u.isPending,register:d.mutate,isRegistering:d.isPending,logout:h.mutate}}const Un=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:at("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Un.displayName="Card";const ps=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:at("flex flex-col space-y-1.5 p-6",t),...e}));ps.displayName="CardHeader";const ms=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:at("text-2xl font-semibold leading-none tracking-tight",t),...e}));ms.displayName="CardTitle";const gw=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:at("text-sm text-muted-foreground",t),...e}));gw.displayName="CardDescription";const qn=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:at("p-6 pt-0",t),...e}));qn.displayName="CardContent";const o5=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:at("flex items-center p-6 pt-0",t),...e}));o5.displayName="CardFooter";function a5(){return f.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:f.jsx(Un,{className:"w-full max-w-md mx-4",children:f.jsxs(qn,{className:"pt-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx(Y_,{className:"h-8 w-8 text-red-500"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),f.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const l5=Qh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),dt=w.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...o},a)=>{const u=s?T0:"button";return f.jsx(u,{className:at(l5({variant:e,size:r,className:t})),ref:a,...o})});dt.displayName="Button";const Bn=w.forwardRef(({className:t,type:e,...r},s)=>f.jsx("input",{type:e,className:at("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r}));Bn.displayName="Input";var sl=t=>t.type==="checkbox",bi=t=>t instanceof Date,Pr=t=>t==null;const vw=t=>typeof t=="object";var Qt=t=>!Pr(t)&&!Array.isArray(t)&&vw(t)&&!bi(t),yw=t=>Qt(t)&&t.target?sl(t.target)?t.target.checked:t.target.value:t,u5=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,xw=(t,e)=>t.has(u5(e)),c5=t=>{const e=t.constructor&&t.constructor.prototype;return Qt(e)&&e.hasOwnProperty("isPrototypeOf")},lp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pr(t){let e;const r=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(lp&&(t instanceof Blob||s))&&(r||Qt(t)))if(e=r?[]:{},!r&&!c5(t))e=t;else for(const o in t)t.hasOwnProperty(o)&&(e[o]=pr(t[o]));else return t;return e}var wc=t=>Array.isArray(t)?t.filter(Boolean):[],Ht=t=>t===void 0,ye=(t,e,r)=>{if(!e||!Qt(t))return r;const s=wc(e.split(/[,[\].]+?/)).reduce((o,a)=>Pr(o)?o:o[a],t);return Ht(s)||s===t?Ht(t[e])?r:t[e]:s},Gr=t=>typeof t=="boolean",up=t=>/^\w*$/.test(t),ww=t=>wc(t.replace(/["|']|\]/g,"").split(/\.|\[/)),xt=(t,e,r)=>{let s=-1;const o=up(e)?[e]:ww(e),a=o.length,u=a-1;for(;++s<a;){const d=o[s];let h=r;if(s!==u){const m=t[d];h=Qt(m)||Array.isArray(m)?m:isNaN(+o[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=h,t=t[d]}};const Gu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},On={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},cs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},bw=Je.createContext(null),bc=()=>Je.useContext(bw),d5=t=>{const{children:e,...r}=t;return Je.createElement(bw.Provider,{value:r},e)};var Sw=(t,e,r,s=!0)=>{const o={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(o,a,{get:()=>{const u=a;return e._proxyFormState[u]!==On.all&&(e._proxyFormState[u]=!s||On.all),r&&(r[u]=!0),t[u]}});return o};function f5(t){const e=bc(),{control:r=e.control,disabled:s,name:o,exact:a}=t||{},[u,d]=Je.useState(r._formState),h=Je.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=Je.useRef(o);return m.current=o,Je.useEffect(()=>r._subscribe({name:m.current,formState:h.current,exact:a,callback:g=>{!s&&d({...r._formState,...g})}}),[r,s,a]),Je.useEffect(()=>{h.current.isValid&&r._setValid(!0)},[r]),Je.useMemo(()=>Sw(u,r,h.current,!1),[u,r])}var Wn=t=>typeof t=="string",_w=(t,e,r,s,o)=>Wn(t)?(s&&e.watch.add(t),ye(r,t,o)):Array.isArray(t)?t.map(a=>(s&&e.watch.add(a),ye(r,a))):(s&&(e.watchAll=!0),r);function h5(t){const e=bc(),{control:r=e.control,name:s,defaultValue:o,disabled:a,exact:u}=t||{},d=Je.useRef(s),h=Je.useRef(o);d.current=s,Je.useEffect(()=>r._subscribe({name:d.current,formState:{values:!0},exact:u,callback:y=>!a&&g(_w(d.current,r._names,y.values||r._formValues,!1,h.current))}),[r,a,u]);const[m,g]=Je.useState(r._getWatch(s,o));return Je.useEffect(()=>r._removeUnmounted()),m}function p5(t){const e=bc(),{name:r,disabled:s,control:o=e.control,shouldUnregister:a}=t,u=xw(o._names.array,r),d=h5({control:o,name:r,defaultValue:ye(o._formValues,r,ye(o._defaultValues,r,t.defaultValue)),exact:!0}),h=f5({control:o,name:r,exact:!0}),m=Je.useRef(t),g=Je.useRef(o.register(r,{...t.rules,value:d,...Gr(t.disabled)?{disabled:t.disabled}:{}})),y=Je.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ye(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!ye(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ye(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ye(h.validatingFields,r)},error:{enumerable:!0,get:()=>ye(h.errors,r)}}),[h,r]),x=Je.useCallback(C=>g.current.onChange({target:{value:yw(C),name:r},type:Gu.CHANGE}),[r]),S=Je.useCallback(()=>g.current.onBlur({target:{value:ye(o._formValues,r),name:r},type:Gu.BLUR}),[r,o._formValues]),k=Je.useCallback(C=>{const P=ye(o._fields,r);P&&C&&(P._f.ref={focus:()=>C.focus(),select:()=>C.select(),setCustomValidity:E=>C.setCustomValidity(E),reportValidity:()=>C.reportValidity()})},[o._fields,r]),_=Je.useMemo(()=>({name:r,value:d,...Gr(s)||h.disabled?{disabled:h.disabled||s}:{},onChange:x,onBlur:S,ref:k}),[r,s,h.disabled,x,S,k,d]);return Je.useEffect(()=>{const C=o._options.shouldUnregister||a;o.register(r,{...m.current.rules,...Gr(m.current.disabled)?{disabled:m.current.disabled}:{}});const P=(E,D)=>{const A=ye(o._fields,E);A&&A._f&&(A._f.mount=D)};if(P(r,!0),C){const E=pr(ye(o._options.defaultValues,r));xt(o._defaultValues,r,E),Ht(ye(o._formValues,r))&&xt(o._formValues,r,E)}return!u&&o.register(r),()=>{(u?C&&!o._state.action:C)?o.unregister(r):P(r,!1)}},[r,o,u,a]),Je.useEffect(()=>{o._setDisabledField({disabled:s,name:r})},[s,r,o]),Je.useMemo(()=>({field:_,formState:h,fieldState:y}),[_,h,y])}const m5=t=>t.render(p5(t));var Cw=(t,e,r,s,o)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:o||!0}}:{},Oa=t=>Array.isArray(t)?t:[t],ry=()=>{let t=[];return{get observers(){return t},next:o=>{for(const a of t)a.next&&a.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(a=>a!==o)}}),unsubscribe:()=>{t=[]}}},yh=t=>Pr(t)||!vw(t);function Hs(t,e){if(yh(t)||yh(e))return t===e;if(bi(t)&&bi(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const o of r){const a=t[o];if(!s.includes(o))return!1;if(o!=="ref"){const u=e[o];if(bi(a)&&bi(u)||Qt(a)&&Qt(u)||Array.isArray(a)&&Array.isArray(u)?!Hs(a,u):a!==u)return!1}}return!0}var Tr=t=>Qt(t)&&!Object.keys(t).length,cp=t=>t.type==="file",jn=t=>typeof t=="function",Zu=t=>{if(!lp)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},kw=t=>t.type==="select-multiple",dp=t=>t.type==="radio",g5=t=>dp(t)||sl(t),Rf=t=>Zu(t)&&t.isConnected;function v5(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=Ht(t)?s++:t[e[s++]];return t}function y5(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ht(t[e]))return!1;return!0}function Jt(t,e){const r=Array.isArray(e)?e:up(e)?[e]:ww(e),s=r.length===1?t:v5(t,r),o=r.length-1,a=r[o];return s&&delete s[a],o!==0&&(Qt(s)&&Tr(s)||Array.isArray(s)&&y5(s))&&Jt(t,r.slice(0,-1)),t}var Ew=t=>{for(const e in t)if(jn(t[e]))return!0;return!1};function Yu(t,e={}){const r=Array.isArray(t);if(Qt(t)||r)for(const s in t)Array.isArray(t[s])||Qt(t[s])&&!Ew(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Yu(t[s],e[s])):Pr(t[s])||(e[s]=!0);return e}function Tw(t,e,r){const s=Array.isArray(t);if(Qt(t)||s)for(const o in t)Array.isArray(t[o])||Qt(t[o])&&!Ew(t[o])?Ht(e)||yh(r[o])?r[o]=Array.isArray(t[o])?Yu(t[o],[]):{...Yu(t[o])}:Tw(t[o],Pr(e)?{}:e[o],r[o]):r[o]=!Hs(t[o],e[o]);return r}var ga=(t,e)=>Tw(t,e,Yu(e));const ny={value:!1,isValid:!1},sy={value:!0,isValid:!0};var Pw=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ht(t[0].attributes.value)?Ht(t[0].value)||t[0].value===""?sy:{value:t[0].value,isValid:!0}:sy:ny}return ny},Nw=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>Ht(t)?t:e?t===""?NaN:t&&+t:r&&Wn(t)?new Date(t):s?s(t):t;const iy={isValid:!1,value:null};var Ow=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,iy):iy;function oy(t){const e=t.ref;return cp(e)?e.files:dp(e)?Ow(t.refs).value:kw(e)?[...e.selectedOptions].map(({value:r})=>r):sl(e)?Pw(t.refs).value:Nw(Ht(e.value)?t.ref.value:e.value,t)}var x5=(t,e,r,s)=>{const o={};for(const a of t){const u=ye(e,a);u&&xt(o,a,u._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:s}},Xu=t=>t instanceof RegExp,va=t=>Ht(t)?t:Xu(t)?t.source:Qt(t)?Xu(t.value)?t.value.source:t.value:t,ay=t=>({isOnSubmit:!t||t===On.onSubmit,isOnBlur:t===On.onBlur,isOnChange:t===On.onChange,isOnAll:t===On.all,isOnTouch:t===On.onTouched});const ly="AsyncFunction";var w5=t=>!!t&&!!t.validate&&!!(jn(t.validate)&&t.validate.constructor.name===ly||Qt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ly)),b5=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),uy=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const ja=(t,e,r,s)=>{for(const o of r||Object.keys(t)){const a=ye(t,o);if(a){const{_f:u,...d}=a;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],o)&&!s)return!0;if(u.ref&&e(u.ref,u.name)&&!s)return!0;if(ja(d,e))break}else if(Qt(d)&&ja(d,e))break}}};function cy(t,e,r){const s=ye(t,r);if(s||up(r))return{error:s,name:r};const o=r.split(".");for(;o.length;){const a=o.join("."),u=ye(e,a),d=ye(t,a);if(u&&!Array.isArray(u)&&r!==a)return{name:r};if(d&&d.type)return{name:a,error:d};o.pop()}return{name:r}}var S5=(t,e,r,s)=>{r(t);const{name:o,...a}=t;return Tr(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(u=>e[u]===(!s||On.all))},_5=(t,e,r)=>!t||!e||t===e||Oa(t).some(s=>s&&(r?s===e:s.startsWith(e)||e.startsWith(s))),C5=(t,e,r,s,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||t):(r?s.isOnBlur:o.isOnBlur)?!t:(r?s.isOnChange:o.isOnChange)?t:!0,k5=(t,e)=>!wc(ye(t,e)).length&&Jt(t,e),E5=(t,e,r)=>{const s=Oa(ye(t,r));return xt(s,"root",e[r]),xt(t,r,s),t},Tu=t=>Wn(t);function dy(t,e,r="validate"){if(Tu(t)||Array.isArray(t)&&t.every(Tu)||Gr(t)&&!t)return{type:r,message:Tu(t)?t:"",ref:e}}var lo=t=>Qt(t)&&!Xu(t)?t:{value:t,message:""},fy=async(t,e,r,s,o,a)=>{const{ref:u,refs:d,required:h,maxLength:m,minLength:g,min:y,max:x,pattern:S,validate:k,name:_,valueAsNumber:C,mount:P}=t._f,E=ye(r,_);if(!P||e.has(_))return{};const D=d?d[0]:u,A=Z=>{o&&D.reportValidity&&(D.setCustomValidity(Gr(Z)?"":Z||""),D.reportValidity())},V={},G=dp(u),B=sl(u),J=G||B,Q=(C||cp(u))&&Ht(u.value)&&Ht(E)||Zu(u)&&u.value===""||E===""||Array.isArray(E)&&!E.length,U=Cw.bind(null,_,s,V),ee=(Z,te,Y,Ce=cs.maxLength,ce=cs.minLength)=>{const we=Z?te:Y;V[_]={type:Z?Ce:ce,message:we,ref:u,...U(Z?Ce:ce,we)}};if(a?!Array.isArray(E)||!E.length:h&&(!J&&(Q||Pr(E))||Gr(E)&&!E||B&&!Pw(d).isValid||G&&!Ow(d).isValid)){const{value:Z,message:te}=Tu(h)?{value:!!h,message:h}:lo(h);if(Z&&(V[_]={type:cs.required,message:te,ref:D,...U(cs.required,te)},!s))return A(te),V}if(!Q&&(!Pr(y)||!Pr(x))){let Z,te;const Y=lo(x),Ce=lo(y);if(!Pr(E)&&!isNaN(E)){const ce=u.valueAsNumber||E&&+E;Pr(Y.value)||(Z=ce>Y.value),Pr(Ce.value)||(te=ce<Ce.value)}else{const ce=u.valueAsDate||new Date(E),we=ue=>new Date(new Date().toDateString()+" "+ue),q=u.type=="time",le=u.type=="week";Wn(Y.value)&&E&&(Z=q?we(E)>we(Y.value):le?E>Y.value:ce>new Date(Y.value)),Wn(Ce.value)&&E&&(te=q?we(E)<we(Ce.value):le?E<Ce.value:ce<new Date(Ce.value))}if((Z||te)&&(ee(!!Z,Y.message,Ce.message,cs.max,cs.min),!s))return A(V[_].message),V}if((m||g)&&!Q&&(Wn(E)||a&&Array.isArray(E))){const Z=lo(m),te=lo(g),Y=!Pr(Z.value)&&E.length>+Z.value,Ce=!Pr(te.value)&&E.length<+te.value;if((Y||Ce)&&(ee(Y,Z.message,te.message),!s))return A(V[_].message),V}if(S&&!Q&&Wn(E)){const{value:Z,message:te}=lo(S);if(Xu(Z)&&!E.match(Z)&&(V[_]={type:cs.pattern,message:te,ref:u,...U(cs.pattern,te)},!s))return A(te),V}if(k){if(jn(k)){const Z=await k(E,r),te=dy(Z,D);if(te&&(V[_]={...te,...U(cs.validate,te.message)},!s))return A(te.message),V}else if(Qt(k)){let Z={};for(const te in k){if(!Tr(Z)&&!s)break;const Y=dy(await k[te](E,r),D,te);Y&&(Z={...Y,...U(te,Y.message)},A(Y.message),s&&(V[_]=Z))}if(!Tr(Z)&&(V[_]={ref:D,...Z},!s))return V}}return A(!0),V};const T5={mode:On.onSubmit,reValidateMode:On.onChange,shouldFocusError:!0};function P5(t={}){let e={...T5,...t},r={submitCount:0,isDirty:!1,isLoading:jn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let o=Qt(e.defaultValues)||Qt(e.values)?pr(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:pr(o),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...g};const x={array:ry(),state:ry()},S=ay(e.mode),k=ay(e.reValidateMode),_=e.criteriaMode===On.all,C=N=>M=>{clearTimeout(m),m=setTimeout(N,M)},P=async N=>{if(!e.disabled&&(g.isValid||y.isValid||N)){const M=e.resolver?Tr((await Q()).errors):await ee(s,!0);M!==r.isValid&&x.state.next({isValid:M})}},E=(N,M)=>{!e.disabled&&(g.isValidating||g.validatingFields||y.isValidating||y.validatingFields)&&((N||Array.from(d.mount)).forEach(K=>{K&&(M?xt(r.validatingFields,K,M):Jt(r.validatingFields,K))}),x.state.next({validatingFields:r.validatingFields,isValidating:!Tr(r.validatingFields)}))},D=(N,M=[],K,me,de=!0,re=!0)=>{if(me&&K&&!e.disabled){if(u.action=!0,re&&Array.isArray(ye(s,N))){const ve=K(ye(s,N),me.argA,me.argB);de&&xt(s,N,ve)}if(re&&Array.isArray(ye(r.errors,N))){const ve=K(ye(r.errors,N),me.argA,me.argB);de&&xt(r.errors,N,ve),k5(r.errors,N)}if((g.touchedFields||y.touchedFields)&&re&&Array.isArray(ye(r.touchedFields,N))){const ve=K(ye(r.touchedFields,N),me.argA,me.argB);de&&xt(r.touchedFields,N,ve)}(g.dirtyFields||y.dirtyFields)&&(r.dirtyFields=ga(o,a)),x.state.next({name:N,isDirty:te(N,M),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xt(a,N,M)},A=(N,M)=>{xt(r.errors,N,M),x.state.next({errors:r.errors})},V=N=>{r.errors=N,x.state.next({errors:r.errors,isValid:!1})},G=(N,M,K,me)=>{const de=ye(s,N);if(de){const re=ye(a,N,Ht(K)?ye(o,N):K);Ht(re)||me&&me.defaultChecked||M?xt(a,N,M?re:oy(de._f)):ce(N,re),u.mount&&P()}},B=(N,M,K,me,de)=>{let re=!1,ve=!1;const Ge={name:N};if(!e.disabled){if(!K||me){(g.isDirty||y.isDirty)&&(ve=r.isDirty,r.isDirty=Ge.isDirty=te(),re=ve!==Ge.isDirty);const Ze=Hs(ye(o,N),M);ve=!!ye(r.dirtyFields,N),Ze?Jt(r.dirtyFields,N):xt(r.dirtyFields,N,!0),Ge.dirtyFields=r.dirtyFields,re=re||(g.dirtyFields||y.dirtyFields)&&ve!==!Ze}if(K){const Ze=ye(r.touchedFields,N);Ze||(xt(r.touchedFields,N,K),Ge.touchedFields=r.touchedFields,re=re||(g.touchedFields||y.touchedFields)&&Ze!==K)}re&&de&&x.state.next(Ge)}return re?Ge:{}},J=(N,M,K,me)=>{const de=ye(r.errors,N),re=(g.isValid||y.isValid)&&Gr(M)&&r.isValid!==M;if(e.delayError&&K?(h=C(()=>A(N,K)),h(e.delayError)):(clearTimeout(m),h=null,K?xt(r.errors,N,K):Jt(r.errors,N)),(K?!Hs(de,K):de)||!Tr(me)||re){const ve={...me,...re&&Gr(M)?{isValid:M}:{},errors:r.errors,name:N};r={...r,...ve},x.state.next(ve)}},Q=async N=>{E(N,!0);const M=await e.resolver(a,e.context,x5(N||d.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return E(N),M},U=async N=>{const{errors:M}=await Q(N);if(N)for(const K of N){const me=ye(M,K);me?xt(r.errors,K,me):Jt(r.errors,K)}else r.errors=M;return M},ee=async(N,M,K={valid:!0})=>{for(const me in N){const de=N[me];if(de){const{_f:re,...ve}=de;if(re){const Ge=d.array.has(re.name),Ze=de._f&&w5(de._f);Ze&&g.validatingFields&&E([me],!0);const gt=await fy(de,d.disabled,a,_,e.shouldUseNativeValidation&&!M,Ge);if(Ze&&g.validatingFields&&E([me]),gt[re.name]&&(K.valid=!1,M))break;!M&&(ye(gt,re.name)?Ge?E5(r.errors,gt,re.name):xt(r.errors,re.name,gt[re.name]):Jt(r.errors,re.name))}!Tr(ve)&&await ee(ve,M,K)}}return K.valid},Z=()=>{for(const N of d.unMount){const M=ye(s,N);M&&(M._f.refs?M._f.refs.every(K=>!Rf(K)):!Rf(M._f.ref))&&Ke(N)}d.unMount=new Set},te=(N,M)=>!e.disabled&&(N&&M&&xt(a,N,M),!Hs(X(),o)),Y=(N,M,K)=>_w(N,d,{...u.mount?a:Ht(M)?o:Wn(N)?{[N]:M}:M},K,M),Ce=N=>wc(ye(u.mount?a:o,N,e.shouldUnregister?ye(o,N,[]):[])),ce=(N,M,K={})=>{const me=ye(s,N);let de=M;if(me){const re=me._f;re&&(!re.disabled&&xt(a,N,Nw(M,re)),de=Zu(re.ref)&&Pr(M)?"":M,kw(re.ref)?[...re.ref.options].forEach(ve=>ve.selected=de.includes(ve.value)):re.refs?sl(re.ref)?re.refs.length>1?re.refs.forEach(ve=>(!ve.defaultChecked||!ve.disabled)&&(ve.checked=Array.isArray(de)?!!de.find(Ge=>Ge===ve.value):de===ve.value)):re.refs[0]&&(re.refs[0].checked=!!de):re.refs.forEach(ve=>ve.checked=ve.value===de):cp(re.ref)?re.ref.value="":(re.ref.value=de,re.ref.type||x.state.next({name:N,values:pr(a)})))}(K.shouldDirty||K.shouldTouch)&&B(N,de,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&j(N)},we=(N,M,K)=>{for(const me in M){const de=M[me],re=`${N}.${me}`,ve=ye(s,re);(d.array.has(N)||Qt(de)||ve&&!ve._f)&&!bi(de)?we(re,de,K):ce(re,de,K)}},q=(N,M,K={})=>{const me=ye(s,N),de=d.array.has(N),re=pr(M);xt(a,N,re),de?(x.array.next({name:N,values:pr(a)}),(g.isDirty||g.dirtyFields||y.isDirty||y.dirtyFields)&&K.shouldDirty&&x.state.next({name:N,dirtyFields:ga(o,a),isDirty:te(N,re)})):me&&!me._f&&!Pr(re)?we(N,re,K):ce(N,re,K),uy(N,d)&&x.state.next({...r}),x.state.next({name:u.mount?N:void 0,values:pr(a)})},le=async N=>{u.mount=!0;const M=N.target;let K=M.name,me=!0;const de=ye(s,K),re=ve=>{me=Number.isNaN(ve)||bi(ve)&&isNaN(ve.getTime())||Hs(ve,ye(a,K,ve))};if(de){let ve,Ge;const Ze=M.type?oy(de._f):yw(N),gt=N.type===Gu.BLUR||N.type===Gu.FOCUS_OUT,Vr=!b5(de._f)&&!e.resolver&&!ye(r.errors,K)&&!de._f.deps||C5(gt,ye(r.touchedFields,K),r.isSubmitted,k,S),Rr=uy(K,d,gt);xt(a,K,Ze),gt?(de._f.onBlur&&de._f.onBlur(N),h&&h(0)):de._f.onChange&&de._f.onChange(N);const tn=B(K,Ze,gt),wn=!Tr(tn)||Rr;if(!gt&&x.state.next({name:K,type:N.type,values:pr(a)}),Vr)return(g.isValid||y.isValid)&&(e.mode==="onBlur"?gt&&P():gt||P()),wn&&x.state.next({name:K,...Rr?{}:tn});if(!gt&&Rr&&x.state.next({...r}),e.resolver){const{errors:rn}=await Q([K]);if(re(Ze),me){const nn=cy(r.errors,s,K),Dr=cy(rn,s,nn.name||K);ve=Dr.error,K=Dr.name,Ge=Tr(rn)}}else E([K],!0),ve=(await fy(de,d.disabled,a,_,e.shouldUseNativeValidation))[K],E([K]),re(Ze),me&&(ve?Ge=!1:(g.isValid||y.isValid)&&(Ge=await ee(s,!0)));me&&(de._f.deps&&j(de._f.deps),J(K,Ge,ve,tn))}},ue=(N,M)=>{if(ye(r.errors,M)&&N.focus)return N.focus(),1},j=async(N,M={})=>{let K,me;const de=Oa(N);if(e.resolver){const re=await U(Ht(N)?N:de);K=Tr(re),me=N?!de.some(ve=>ye(re,ve)):K}else N?(me=(await Promise.all(de.map(async re=>{const ve=ye(s,re);return await ee(ve&&ve._f?{[re]:ve}:ve)}))).every(Boolean),!(!me&&!r.isValid)&&P()):me=K=await ee(s);return x.state.next({...!Wn(N)||(g.isValid||y.isValid)&&K!==r.isValid?{}:{name:N},...e.resolver||!N?{isValid:K}:{},errors:r.errors}),M.shouldFocus&&!me&&ja(s,ue,N?de:d.mount),me},X=N=>{const M={...u.mount?a:o};return Ht(N)?M:Wn(N)?ye(M,N):N.map(K=>ye(M,K))},Oe=(N,M)=>({invalid:!!ye((M||r).errors,N),isDirty:!!ye((M||r).dirtyFields,N),error:ye((M||r).errors,N),isValidating:!!ye(r.validatingFields,N),isTouched:!!ye((M||r).touchedFields,N)}),ge=N=>{N&&Oa(N).forEach(M=>Jt(r.errors,M)),x.state.next({errors:N?r.errors:{}})},Ue=(N,M,K)=>{const me=(ye(s,N,{_f:{}})._f||{}).ref,de=ye(r.errors,N)||{},{ref:re,message:ve,type:Ge,...Ze}=de;xt(r.errors,N,{...Ze,...M,ref:me}),x.state.next({name:N,errors:r.errors,isValid:!1}),K&&K.shouldFocus&&me&&me.focus&&me.focus()},We=(N,M)=>jn(N)?x.state.subscribe({next:K=>N(Y(void 0,M),K)}):Y(N,M,!0),Qe=N=>x.state.subscribe({next:M=>{_5(N.name,M.name,N.exact)&&S5(M,N.formState||g,Or,N.reRenderRoot)&&N.callback({values:{...a},...r,...M})}}).unsubscribe,$e=N=>(u.mount=!0,y={...y,...N.formState},Qe({...N,formState:y})),Ke=(N,M={})=>{for(const K of N?Oa(N):d.mount)d.mount.delete(K),d.array.delete(K),M.keepValue||(Jt(s,K),Jt(a,K)),!M.keepError&&Jt(r.errors,K),!M.keepDirty&&Jt(r.dirtyFields,K),!M.keepTouched&&Jt(r.touchedFields,K),!M.keepIsValidating&&Jt(r.validatingFields,K),!e.shouldUnregister&&!M.keepDefaultValue&&Jt(o,K);x.state.next({values:pr(a)}),x.state.next({...r,...M.keepDirty?{isDirty:te()}:{}}),!M.keepIsValid&&P()},Et=({disabled:N,name:M})=>{(Gr(N)&&u.mount||N||d.disabled.has(M))&&(N?d.disabled.add(M):d.disabled.delete(M))},gr=(N,M={})=>{let K=ye(s,N);const me=Gr(M.disabled)||Gr(e.disabled);return xt(s,N,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:N}},name:N,mount:!0,...M}}),d.mount.add(N),K?Et({disabled:Gr(M.disabled)?M.disabled:e.disabled,name:N}):G(N,!0,M.value),{...me?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:va(M.min),max:va(M.max),minLength:va(M.minLength),maxLength:va(M.maxLength),pattern:va(M.pattern)}:{},name:N,onChange:le,onBlur:le,ref:de=>{if(de){gr(N,M),K=ye(s,N);const re=Ht(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,ve=g5(re),Ge=K._f.refs||[];if(ve?Ge.find(Ze=>Ze===re):re===K._f.ref)return;xt(s,N,{_f:{...K._f,...ve?{refs:[...Ge.filter(Rf),re,...Array.isArray(ye(o,N))?[{}]:[]],ref:{type:re.type,name:N}}:{ref:re}}}),G(N,!1,void 0,re)}else K=ye(s,N,{}),K._f&&(K._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(xw(d.array,N)&&u.action)&&d.unMount.add(N)}}},Bt=()=>e.shouldFocusError&&ja(s,ue,d.mount),Rt=N=>{Gr(N)&&(x.state.next({disabled:N}),ja(s,(M,K)=>{const me=ye(s,K);me&&(M.disabled=me._f.disabled||N,Array.isArray(me._f.refs)&&me._f.refs.forEach(de=>{de.disabled=me._f.disabled||N}))},0,!1))},yn=(N,M)=>async K=>{let me;K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let de=pr(a);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:re,values:ve}=await Q();r.errors=re,de=ve}else await ee(s);if(d.disabled.size)for(const re of d.disabled)xt(de,re,void 0);if(Jt(r.errors,"root"),Tr(r.errors)){x.state.next({errors:{}});try{await N(de,K)}catch(re){me=re}}else M&&await M({...r.errors},K),Bt(),setTimeout(Bt);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Tr(r.errors)&&!me,submitCount:r.submitCount+1,errors:r.errors}),me)throw me},en=(N,M={})=>{ye(s,N)&&(Ht(M.defaultValue)?q(N,pr(ye(o,N))):(q(N,M.defaultValue),xt(o,N,pr(M.defaultValue))),M.keepTouched||Jt(r.touchedFields,N),M.keepDirty||(Jt(r.dirtyFields,N),r.isDirty=M.defaultValue?te(N,pr(ye(o,N))):te()),M.keepError||(Jt(r.errors,N),g.isValid&&P()),x.state.next({...r}))},vr=(N,M={})=>{const K=N?pr(N):o,me=pr(K),de=Tr(N),re=de?o:me;if(M.keepDefaultValues||(o=K),!M.keepValues){if(M.keepDirtyValues){const ve=new Set([...d.mount,...Object.keys(ga(o,a))]);for(const Ge of Array.from(ve))ye(r.dirtyFields,Ge)?xt(re,Ge,ye(a,Ge)):q(Ge,ye(re,Ge))}else{if(lp&&Ht(N))for(const ve of d.mount){const Ge=ye(s,ve);if(Ge&&Ge._f){const Ze=Array.isArray(Ge._f.refs)?Ge._f.refs[0]:Ge._f.ref;if(Zu(Ze)){const gt=Ze.closest("form");if(gt){gt.reset();break}}}}for(const ve of d.mount)q(ve,ye(re,ve))}a=pr(re),x.array.next({values:{...re}}),x.state.next({values:{...re}})}d={mount:M.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!g.isValid||!!M.keepIsValid||!!M.keepDirtyValues,u.watch=!!e.shouldUnregister,x.state.next({submitCount:M.keepSubmitCount?r.submitCount:0,isDirty:de?!1:M.keepDirty?r.isDirty:!!(M.keepDefaultValues&&!Hs(N,o)),isSubmitted:M.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:de?{}:M.keepDirtyValues?M.keepDefaultValues&&a?ga(o,a):r.dirtyFields:M.keepDefaultValues&&N?ga(o,N):M.keepDirty?r.dirtyFields:{},touchedFields:M.keepTouched?r.touchedFields:{},errors:M.keepErrors?r.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},$r=(N,M)=>vr(jn(N)?N(a):N,M),xn=(N,M={})=>{const K=ye(s,N),me=K&&K._f;if(me){const de=me.refs?me.refs[0]:me.ref;de.focus&&(de.focus(),M.shouldSelect&&jn(de.select)&&de.select())}},Or=N=>{r={...r,...N}},nr={control:{register:gr,unregister:Ke,getFieldState:Oe,handleSubmit:yn,setError:Ue,_subscribe:Qe,_runSchema:Q,_getWatch:Y,_getDirty:te,_setValid:P,_setFieldArray:D,_setDisabledField:Et,_setErrors:V,_getFieldArray:Ce,_reset:vr,_resetDefaultValues:()=>jn(e.defaultValues)&&e.defaultValues().then(N=>{$r(N,e.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:Z,_disableForm:Rt,_subjects:x,_proxyFormState:g,get _fields(){return s},get _formValues(){return a},get _state(){return u},set _state(N){u=N},get _defaultValues(){return o},get _names(){return d},set _names(N){d=N},get _formState(){return r},get _options(){return e},set _options(N){e={...e,...N}}},subscribe:$e,trigger:j,register:gr,handleSubmit:yn,watch:We,setValue:q,getValues:X,reset:$r,resetField:en,clearErrors:ge,unregister:Ke,setError:Ue,setFocus:xn,getFieldState:Oe};return{...nr,formControl:nr}}function N5(t={}){const e=Je.useRef(void 0),r=Je.useRef(void 0),[s,o]=Je.useState({isDirty:!1,isValidating:!1,isLoading:jn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:jn(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:P5(t),formState:s},t.formControl&&t.defaultValues&&!jn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,Je.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>o({...a._formState}),reRenderRoot:!0}),[a]),Je.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Je.useEffect(()=>{if(a._proxyFormState.isDirty){const u=a._getDirty();u!==s.isDirty&&a._subjects.state.next({isDirty:u})}},[a,s.isDirty]),Je.useEffect(()=>{t.values&&!Hs(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,o(u=>({...u}))):a._resetDefaultValues()},[t.values,a]),Je.useEffect(()=>{t.errors&&!Tr(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),Je.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Je.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=Sw(s,a),e.current}const hy=(t,e,r)=>{if(t&&"reportValidity"in t){const s=ye(r,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},jw=(t,e)=>{for(const r in e.fields){const s=e.fields[r];s&&s.ref&&"reportValidity"in s.ref?hy(s.ref,r,t):s.refs&&s.refs.forEach(o=>hy(o,r,t))}},O5=(t,e)=>{e.shouldUseNativeValidation&&jw(t,e);const r={};for(const s in t){const o=ye(e.fields,s),a=Object.assign(t[s]||{},{ref:o&&o.ref});if(j5(e.names||Object.keys(t),s)){const u=Object.assign({},ye(r,s));xt(u,"root",a),xt(r,s,u)}else xt(r,s,a)}return r},j5=(t,e)=>t.some(r=>r.startsWith(e+"."));var R5=function(t,e){for(var r={};t.length;){var s=t[0],o=s.code,a=s.message,u=s.path.join(".");if(!r[u])if("unionErrors"in s){var d=s.unionErrors[0].errors[0];r[u]={message:d.message,type:d.code}}else r[u]={message:a,type:o};if("unionErrors"in s&&s.unionErrors.forEach(function(g){return g.errors.forEach(function(y){return t.push(y)})}),e){var h=r[u].types,m=h&&h[s.code];r[u]=Cw(u,e,r,o,m?[].concat(m,s.message):s.message)}t.shift()}return r},D5=function(t,e,r){return r===void 0&&(r={}),function(s,o,a){try{return Promise.resolve((function(u,d){try{var h=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(m){return a.shouldUseNativeValidation&&jw({},a),{errors:{},values:r.raw?s:m}})}catch(m){return d(m)}return h&&h.then?h.then(void 0,d):h})(0,function(u){if((function(d){return Array.isArray(d?.errors)})(u))return{values:{},errors:O5(R5(u.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw u}))}catch(u){return Promise.reject(u)}}},I5="Label",Rw=w.forwardRef((t,e)=>f.jsx(_t.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Rw.displayName=I5;var Dw=Rw;const A5=Qh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Iw=w.forwardRef(({className:t,...e},r)=>f.jsx(Dw,{ref:r,className:at(A5(),t),...e}));Iw.displayName=Dw.displayName;const M5=d5,Aw=w.createContext({}),py=({...t})=>f.jsx(Aw.Provider,{value:{name:t.name},children:f.jsx(m5,{...t})}),Sc=()=>{const t=w.useContext(Aw),e=w.useContext(Mw),{getFieldState:r,formState:s}=bc(),o=r(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...o}},Mw=w.createContext({}),xh=w.forwardRef(({className:t,...e},r)=>{const s=w.useId();return f.jsx(Mw.Provider,{value:{id:s},children:f.jsx("div",{ref:r,className:at("space-y-2",t),...e})})});xh.displayName="FormItem";const wh=w.forwardRef(({className:t,...e},r)=>{const{error:s,formItemId:o}=Sc();return f.jsx(Iw,{ref:r,className:at(s&&"text-destructive",t),htmlFor:o,...e})});wh.displayName="FormLabel";const bh=w.forwardRef(({...t},e)=>{const{error:r,formItemId:s,formDescriptionId:o,formMessageId:a}=Sc();return f.jsx(T0,{ref:e,id:s,"aria-describedby":r?`${o} ${a}`:`${o}`,"aria-invalid":!!r,...t})});bh.displayName="FormControl";const L5=w.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:s}=Sc();return f.jsx("p",{ref:r,id:s,className:at("text-sm text-muted-foreground",t),...e})});L5.displayName="FormDescription";const Sh=w.forwardRef(({className:t,children:e,...r},s)=>{const{error:o,formMessageId:a}=Sc(),u=o?String(o?.message??""):e;return u?f.jsx("p",{ref:s,id:a,className:at("text-sm font-medium text-destructive",t),...r,children:u}):null});Sh.displayName="FormMessage";function F5(){const[t,e]=w.useState(!0),[r,s]=w.useState(!1),[o,a]=w.useState(""),[u,d]=w.useState("request"),[h,m]=w.useState(""),[g,y]=w.useState(""),[x,S]=w.useState(!1),{user:k,login:_,register:C,isLoggingIn:P,isRegistering:E}=Mi(),{toast:D}=Ai(),A=N5({resolver:D5(vh),defaultValues:{username:"",password:""}});if(k)return f.jsx(h0,{to:"/"});const V=U=>{t?_(U):C(U)},G=async U=>{if(U.preventDefault(),!o){D({title:"Li",description:"Vui lng nhp email ca bn",variant:"destructive"});return}try{S(!0);const ee=await fetch(_r+"/api/user/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})});if(!ee.ok){const Z=await ee.json().catch(()=>null);throw new Error(Z?.message||"Gi email t li mt khu tht bi")}D({title:" gi email",description:"Hy kim tra hp th  ly m t li mt khu."}),d("confirm")}catch(ee){const Z=ee instanceof Error?ee.message:"C li xy ra, vui lng th li";D({title:"Li",description:Z,variant:"destructive"})}finally{S(!1)}},B=async U=>{if(U.preventDefault(),!o||!h||!g){D({title:"Thiu thng tin",description:"Vui lng nhp y  email, m v mt khu mi",variant:"destructive"});return}S(!0);try{const ee=await fetch(_r+"/api/user/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,code:h,newPassword:g})});if(!ee.ok){const Z=await ee.json().catch(()=>null);throw new Error(Z?.message||"t li mt khu tht bi")}D({title:"Thnh cng",description:"Mt khu mi  c cp nht, hy ng nhp li."}),s(!1),d("request"),a(""),m(""),y("")}catch(ee){const Z=ee instanceof Error?ee.message:"C li xy ra, vui lng th li";D({title:"Li",description:Z,variant:"destructive"})}finally{S(!1)}},J=()=>{D({title:"ng nhp Google",description:"Tnh nng ng nhp Google s c tch hp ti y.",variant:"default"})},Q=P||E;return r?f.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsx("div",{className:"w-full max-w-md z-10",children:f.jsxs("div",{className:"glass-card p-8 rounded-3xl animate-in zoom-in-95 duration-500",children:[f.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:u==="request"?"Qun mt khu":"Nhp m t li mt khu"}),f.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:u==="request"?"Nhp email  gn vi ti khon  nhn m t li mt khu.":"Kim tra email  ly m, sau  nhp m v mt khu mi bn di."}),u==="request"?f.jsxs("form",{onSubmit:G,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Email"}),f.jsx(Bn,{type:"email",placeholder:"ban@example.com",value:o,onChange:U=>a(U.target.value),className:"glass-input h-12 rounded-xl text-lg font-medium"})]}),f.jsx(dt,{type:"submit",className:"w-full h-12 rounded-xl text-lg font-bold btn-primary",disabled:x,children:x?f.jsx(ku,{className:"w-5 h-5 animate-spin"}):"Gi m v email"}),f.jsx(dt,{type:"button",variant:"ghost",onClick:()=>{s(!1),d("request")},className:"w-full text-slate-400 hover:text-white",children:"Quay li ng nhp"})]}):f.jsxs("form",{onSubmit:B,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Email"}),f.jsx(Bn,{type:"email",placeholder:"ban@example.com",value:o,onChange:U=>a(U.target.value),className:"glass-input h-11 rounded-xl text-base"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"M t li"}),f.jsx(Bn,{placeholder:"Nhp m gm 6 s",value:h,onChange:U=>m(U.target.value),className:"glass-input h-11 rounded-xl text-base"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Mt khu mi"}),f.jsx(Bn,{type:"password",placeholder:"Mt khu mi",value:g,onChange:U=>y(U.target.value),className:"glass-input h-11 rounded-xl text-base"})]}),f.jsx(dt,{type:"submit",className:"w-full h-12 rounded-xl text-lg font-bold btn-primary",disabled:x,children:x?f.jsx(ku,{className:"w-5 h-5 animate-spin"}):"i mt khu"}),f.jsx(dt,{type:"button",variant:"ghost",onClick:()=>{d("request"),m(""),y("")},className:"w-full text-slate-400 hover:text-white",children:"Quay li bc gi m"})]})]})})]}):f.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsxs("div",{className:"w-full max-w-md z-10",children:[f.jsxs("div",{className:"text-center mb-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-600 to-indigo-800 rounded-2xl mx-auto flex items-center justify-center shadow-2xl shadow-indigo-900/40 rotate-12 mb-6",children:f.jsx(cc,{className:"w-8 h-8 text-white"})}),f.jsxs("h1",{className:"text-4xl md:text-5xl font-black italic tracking-tighter text-white drop-shadow-lg mb-1",children:["Chess",f.jsx("span",{className:"text-indigo-500",children:"Pro"})]}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] text-[10px]",children:"c vua ca ngi vit"})]}),f.jsxs("div",{className:"glass-card p-8 rounded-3xl animate-in zoom-in-95 duration-500",children:[f.jsxs("div",{className:"flex w-full mb-8 bg-slate-900/50 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>e(!0),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${t?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"NG NHP"}),f.jsx("button",{onClick:()=>e(!1),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${t?"text-slate-400 hover:text-white":"bg-indigo-600 text-white shadow-lg"}`,children:"NG K"})]}),f.jsx(M5,{...A,children:f.jsxs("form",{onSubmit:A.handleSubmit(V),className:"space-y-4",children:[f.jsx(py,{control:A.control,name:"username",render:({field:U})=>f.jsxs(xh,{children:[f.jsx(wh,{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Tn ng nhp"}),f.jsx(bh,{children:f.jsx(Bn,{placeholder:"Kythu123",...U,className:"glass-input h-12 rounded-xl text-lg font-medium"})}),f.jsx(Sh,{})]})}),f.jsx(py,{control:A.control,name:"password",render:({field:U})=>f.jsxs(xh,{children:[f.jsx(wh,{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Mt khu"}),f.jsx(bh,{children:f.jsx(Bn,{type:"password",placeholder:"",...U,className:"glass-input h-12 rounded-xl text-lg font-medium"})}),f.jsx(Sh,{})]})}),t&&f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"button",onClick:()=>s(!0),className:"text-xs text-indigo-400 hover:text-indigo-300 font-bold",children:"Qun mt khu?"})}),f.jsx(dt,{type:"submit",className:"w-full h-12 rounded-xl text-lg font-bold mt-6 btn-primary",disabled:Q,children:Q?f.jsx(ku,{className:"w-5 h-5 animate-spin"}):f.jsxs(f.Fragment,{children:[f.jsx("span",{children:t?"Bt u chi":"To ti khon"}),f.jsx(_a,{className:"w-5 h-5 ml-2"})]})}),f.jsxs("div",{className:"relative my-6",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("span",{className:"w-full border-t border-slate-700"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-[#0f172a] px-2 text-slate-500",children:"Hoc tip tc vi"})})]}),f.jsxs(dt,{type:"button",variant:"outline",onClick:J,className:"w-full h-12 rounded-xl border-slate-700 bg-slate-800/50 hover:bg-slate-800 text-white font-bold",children:[f.jsx(sh,{className:"w-4 h-4 mr-2 text-red-500"}),"ng nhp bng Gmail"]})]})})]})]})]})}let Lw=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");function z5(){const{user:t,logout:e}=Mi(),[,r]=Ii(),[s,o]=w.useState("");if(!t)return f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(ao,{href:"/auth",children:f.jsx(dt,{children:"ng nhp trc"})})});const a=()=>{const d=Lw(6).toUpperCase();r(`/game/online/${d}`)},u=()=>{s.length>0&&r(`/game/online/${s.toUpperCase()}`)};return f.jsxs("div",{className:"min-h-screen bg-[#020617] text-white relative overflow-x-hidden",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-12 md:py-20 flex flex-col items-center text-center",children:[f.jsxs("div",{className:"mb-12 animate-in fade-in slide-in-from-top-8 duration-700",children:[f.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-[2rem] mx-auto flex items-center justify-center shadow-2xl shadow-indigo-500/30 rotate-12 hover:rotate-6 transition-transform duration-300 mb-6",children:f.jsx(cc,{className:"w-10 h-10 text-white"})}),f.jsxs("h1",{className:"text-5xl md:text-7xl font-black italic tracking-tighter text-white drop-shadow-2xl mb-2",children:["Chess",f.jsx("span",{className:"text-indigo-500",children:"Pro"})]}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] text-xs md:text-sm",children:"c vua ca ngi vit"})]}),f.jsx("div",{className:"w-full max-w-sm mb-12",children:f.jsxs("div",{className:"glass-card p-2 rounded-full flex items-center justify-between pl-6 pr-2",children:[f.jsxs("span",{className:"font-bold text-slate-300",children:["Xin cho, ",t.username]}),f.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>e(),className:"text-red-400 hover:text-red-300 hover:bg-red-950/30 rounded-full px-4",children:"ng xut"})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-4xl animate-in fade-in zoom-in-95 duration-700 delay-150",children:[f.jsxs("div",{className:"glass-card p-8 rounded-[2.5rem] flex flex-col items-center gap-6 group hover:border-indigo-500/30 transition-all duration-300",children:[f.jsx("div",{className:"w-16 h-16 rounded-2xl bg-indigo-500/20 text-indigo-400 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:f.jsx(aC,{className:"w-8 h-8"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-black italic uppercase text-indigo-400 mb-1",children:"nh online"}),f.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"nh xp hng & giao hu"})]}),f.jsxs("div",{className:"w-full space-y-4",children:[f.jsx(ao,{href:"/game/online/random",children:f.jsx(dt,{className:"w-full h-14 text-lg font-bold rounded-xl btn-primary mb-4",children:"Ghp trn nhanh"})}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("span",{className:"w-full border-t border-slate-700"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-[#0f172a] px-2 text-slate-500 font-bold",children:"Hoc chi vi bn b"})})]}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(dt,{onClick:a,className:"flex-1 bg-slate-800 hover:bg-slate-700 text-indigo-400 border border-indigo-500/20 rounded-xl font-bold",children:"To phng"}),f.jsxs("div",{className:"flex-1 flex gap-2",children:[f.jsx("input",{value:s,onChange:d=>o(d.target.value),placeholder:"M PHNG",className:"glass-input w-full rounded-xl text-center font-bold tracking-widest uppercase text-sm"}),f.jsx(dt,{onClick:u,size:"icon",className:"bg-slate-800 hover:bg-slate-700 text-indigo-400 border border-indigo-500/20 rounded-xl font-bold shrink-0",children:f.jsx(_a,{className:"w-4 h-4"})})]})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs(ao,{href:"/game/ai/new",className:"flex-1 glass-card p-6 rounded-[2.5rem] flex items-center gap-6 group hover:border-emerald-500/30 transition-all cursor-pointer",children:[f.jsx("div",{className:"w-16 h-16 rounded-2xl bg-emerald-500/20 text-emerald-400 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:f.jsx(hC,{className:"w-8 h-8"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("h2",{className:"text-3xl font-black italic uppercase text-emerald-400 mb-1",children:"nh vi AI"}),f.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Stockfish 15"})]}),f.jsx(_a,{className:"ml-auto text-emerald-500/50 group-hover:translate-x-1 transition-transform"})]}),f.jsxs(ao,{href:"/game/offline/local",className:"flex-1 glass-card p-6 rounded-[2.5rem] flex items-center gap-6 group hover:border-amber-500/30 transition-all cursor-pointer",children:[f.jsx("div",{className:"w-16 h-16 rounded-2xl bg-amber-500/20 text-amber-400 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:f.jsx(sC,{className:"w-8 h-8"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("h2",{className:"text-3xl font-black italic uppercase text-amber-400 mb-1",children:"Chi trn cng my"}),f.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Chuyn lt & nh lun phin"})]}),f.jsx(_a,{className:"ml-auto text-amber-500/50 group-hover:translate-x-1 transition-transform"})]})]})]}),f.jsxs("div",{className:"mt-12 flex gap-4 w-full max-w-4xl",children:[f.jsxs(ao,{href:"/social",className:"flex-1 glass-card px-8 py-4 rounded-2xl flex items-center justify-between border-indigo-500/10 cursor-pointer hover:bg-white/5 transition-colors group",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx(dc,{className:"w-5 h-5 text-yellow-500 group-hover:scale-110 transition-transform"}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Bng xp hng"}),f.jsx("div",{className:"text-sm font-bold text-white",children:"Xem cao th hng u"})]})]}),f.jsx(_a,{className:"text-slate-500 group-hover:translate-x-1 transition-transform"})]}),f.jsxs(ao,{href:"/profile",className:"glass-card px-8 py-4 rounded-2xl flex items-center gap-6 border-indigo-500/10 cursor-pointer hover:bg-white/5 transition-colors group",children:[f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Elo ca bn"}),f.jsx("div",{className:"text-xl font-black text-white group-hover:text-indigo-400 transition-colors",children:t.rating??0})]}),f.jsx("div",{className:"h-8 w-px bg-white/10 mx-2"}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Vn  chi"}),f.jsx("div",{className:"text-xl font-black text-white group-hover:text-indigo-400 transition-colors",children:t.gamesPlayed||0})]})]})]})]})]})}function $5(t){return t!==null?{comment:t,variations:[]}:{variations:[]}}function V5(t,e,r,s,o){const a={move:t,variations:o};return e&&(a.suffix=e),r&&(a.nag=r),s!==null&&(a.comment=s),a}function B5(...t){const[e,...r]=t;let s=e;for(const o of r)o!==null&&(s.variations=[o,...o.variations],o.variations=[],s=o);return e}function U5(t,e){if(e.marker&&e.marker.comment){let r=e.root;for(;;){const s=r.variations[0];if(!s){r.comment=e.marker.comment;break}r=s}}return{headers:t,root:e.root,result:(e.marker&&e.marker.result)??void 0}}function q5(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}function ko(t,e,r,s){var o=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(o,ko.prototype),o.expected=e,o.found=r,o.location=s,o.name="SyntaxError",o}q5(ko,Error);function Df(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,r+=r.repeat(e),t+r.slice(0,e))}ko.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var r=null,s;for(s=0;s<t.length;s++)if(t[s].source===this.location.source){r=t[s].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,a=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,u=this.location.source+":"+a.line+":"+a.column;if(r){var d=this.location.end,h=Df("",a.line.toString().length," "),m=r[o.line-1],g=o.line===d.line?d.column:m.length+1,y=g-o.column||1;e+=`
 --> `+u+`
`+h+` |
`+a.line+" | "+m+`
`+h+" | "+Df("",o.column-1," ")+Df("",y,"^")}else e+=`
 at `+u}return e};ko.buildMessage=function(t,e){var r={literal:function(m){return'"'+o(m.text)+'"'},class:function(m){var g=m.parts.map(function(y){return Array.isArray(y)?a(y[0])+"-"+a(y[1]):a(y)});return"["+(m.inverted?"^":"")+g.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(m){return m.description}};function s(m){return m.charCodeAt(0).toString(16).toUpperCase()}function o(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+s(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+s(g)})}function a(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+s(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+s(g)})}function u(m){return r[m.type](m)}function d(m){var g=m.map(u),y,x;if(g.sort(),g.length>0){for(y=1,x=1;y<g.length;y++)g[y-1]!==g[y]&&(g[x]=g[y],x++);g.length=x}switch(g.length){case 1:return g[0];case 2:return g[0]+" or "+g[1];default:return g.slice(0,-1).join(", ")+", or "+g[g.length-1]}}function h(m){return m?'"'+o(m)+'"':"end of input"}return"Expected "+d(t)+" but "+h(e)+" found."};function W5(t,e){e=e!==void 0?e:{};var r={},s=e.grammarSource,o={pgn:jo},a=jo,u="[",d='"',h="]",m=".",g="O-O-O",y="O-O",x="0-0-0",S="0-0",k="$",_="{",C="}",P=";",E="(",D=")",A="1-0",V="0-1",G="1/2-1/2",B="*",J=/^[a-zA-Z]/,Q=/^[^"]/,U=/^[0-9]/,ee=/^[.]/,Z=/^[a-zA-Z1-8\-=]/,te=/^[+#]/,Y=/^[!?]/,Ce=/^[^}]/,ce=/^[^\r\n]/,we=/^[ \t\r\n]/,q=Kt("tag pair"),le=be("[",!1),ue=be('"',!1),j=be("]",!1),X=Kt("tag name"),Oe=Ye([["a","z"],["A","Z"]],!1,!1),ge=Kt("tag value"),Ue=Ye(['"'],!0,!1),We=Kt("move number"),Qe=Ye([["0","9"]],!1,!1),$e=be(".",!1),Ke=Ye(["."],!1,!1),Et=Kt("standard algebraic notation"),gr=be("O-O-O",!1),Bt=be("O-O",!1),Rt=be("0-0-0",!1),yn=be("0-0",!1),en=Ye([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),vr=Ye(["+","#"],!1,!1),$r=Kt("suffix annotation"),xn=Ye(["!","?"],!1,!1),Or=Kt("NAG"),jr=be("$",!1),nr=Kt("brace comment"),N=be("{",!1),M=Ye(["}"],!0,!1),K=be("}",!1),me=Kt("rest of line comment"),de=be(";",!1),re=Ye(["\r",`
`],!0,!1),ve=Kt("variation"),Ge=be("(",!1),Ze=be(")",!1),gt=Kt("game termination marker"),Vr=be("1-0",!1),Rr=be("0-1",!1),tn=be("1/2-1/2",!1),wn=be("*",!1),rn=Kt("whitespace"),nn=Ye([" ","	","\r",`
`],!1,!1),Dr=function(I,W){return U5(I,W)},sn=function(I){return Object.fromEntries(I)},De=function(I,W){return[I,W]},pe=function(I,W){return{root:I,marker:W}},Te=function(I,W){return B5($5(I),...W.flat())},Fe=function(I,W,H,Ae,Ie){return V5(I,W,H,Ae,Ie)},st=function(I){return I},ft=function(I){return I.replace(/[\r\n]+/g," ")},wt=function(I){return I.trim()},ht=function(I){return I},kt=function(I,W){return{result:I,comment:W}},L=e.peg$currPos|0,Ft=[{line:1,column:1}],ot=L,zt=e.peg$maxFailExpected||[],fe=e.peg$silentFails|0,Ut;if(e.startRule){if(!(e.startRule in o))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');a=o[e.startRule]}function be(I,W){return{type:"literal",text:I,ignoreCase:W}}function Ye(I,W,H){return{type:"class",parts:I,inverted:W,ignoreCase:H}}function Br(){return{type:"end"}}function Kt(I){return{type:"other",description:I}}function ni(I){var W=Ft[I],H;if(W)return W;if(I>=Ft.length)H=Ft.length-1;else for(H=I;!Ft[--H];);for(W=Ft[H],W={line:W.line,column:W.column};H<I;)t.charCodeAt(H)===10?(W.line++,W.column=1):W.column++,H++;return Ft[I]=W,W}function Li(I,W,H){var Ae=ni(I),Ie=ni(W),ut={source:s,start:{offset:I,line:Ae.line,column:Ae.column},end:{offset:W,line:Ie.line,column:Ie.column}};return ut}function ke(I){L<ot||(L>ot&&(ot=L,zt=[]),zt.push(I))}function Jn(I,W,H){return new ko(ko.buildMessage(I,W),I,W,H)}function jo(){var I,W,H;return I=L,W=Oc(),H=al(),I=Dr(W,H),I}function Oc(){var I,W,H;for(I=L,W=[],H=Ro();H!==r;)W.push(H),H=Ro();return H=cr(),I=sn(W),I}function Ro(){var I,W,H,Ae,Ie,ut,Ur;return fe++,I=L,cr(),t.charCodeAt(L)===91?(W=u,L++):(W=r,fe===0&&ke(le)),W!==r?(cr(),H=il(),H!==r?(cr(),t.charCodeAt(L)===34?(Ae=d,L++):(Ae=r,fe===0&&ke(ue)),Ae!==r?(Ie=ol(),t.charCodeAt(L)===34?(ut=d,L++):(ut=r,fe===0&&ke(ue)),ut!==r?(cr(),t.charCodeAt(L)===93?(Ur=h,L++):(Ur=r,fe===0&&ke(j)),Ur!==r?I=De(H,Ie):(L=I,I=r)):(L=I,I=r)):(L=I,I=r)):(L=I,I=r)):(L=I,I=r),fe--,I===r&&fe===0&&ke(q),I}function il(){var I,W,H;if(fe++,I=L,W=[],H=t.charAt(L),J.test(H)?L++:(H=r,fe===0&&ke(Oe)),H!==r)for(;H!==r;)W.push(H),H=t.charAt(L),J.test(H)?L++:(H=r,fe===0&&ke(Oe));else W=r;return W!==r?I=t.substring(I,L):I=W,fe--,I===r&&(W=r,fe===0&&ke(X)),I}function ol(){var I,W,H;for(fe++,I=L,W=[],H=t.charAt(L),Q.test(H)?L++:(H=r,fe===0&&ke(Ue));H!==r;)W.push(H),H=t.charAt(L),Q.test(H)?L++:(H=r,fe===0&&ke(Ue));return I=t.substring(I,L),fe--,W=r,fe===0&&ke(ge),I}function al(){var I,W,H;return I=L,W=ll(),cr(),H=on(),H===r&&(H=null),cr(),I=pe(W,H),I}function ll(){var I,W,H,Ae;for(I=L,W=ws(),W===r&&(W=null),H=[],Ae=ul();Ae!==r;)H.push(Ae),Ae=ul();return I=Te(W,H),I}function ul(){var I,W,H,Ae,Ie,ut,Ur,es;if(I=L,cr(),Dt(),cr(),W=jc(),W!==r){for(H=Do(),H===r&&(H=null),Ae=[],Ie=Io();Ie!==r;)Ae.push(Ie),Ie=Io();for(Ie=cr(),ut=ws(),ut===r&&(ut=null),Ur=[],es=si();es!==r;)Ur.push(es),es=si();I=Fe(W,H,Ae,ut,Ur)}else L=I,I=r;return I}function Dt(){var I,W,H,Ae,Ie,ut;for(fe++,I=L,W=[],H=t.charAt(L),U.test(H)?L++:(H=r,fe===0&&ke(Qe));H!==r;)W.push(H),H=t.charAt(L),U.test(H)?L++:(H=r,fe===0&&ke(Qe));if(t.charCodeAt(L)===46?(H=m,L++):(H=r,fe===0&&ke($e)),H!==r){for(Ae=cr(),Ie=[],ut=t.charAt(L),ee.test(ut)?L++:(ut=r,fe===0&&ke(Ke));ut!==r;)Ie.push(ut),ut=t.charAt(L),ee.test(ut)?L++:(ut=r,fe===0&&ke(Ke));W=[W,H,Ae,Ie],I=W}else L=I,I=r;return fe--,I===r&&(W=r,fe===0&&ke(We)),I}function jc(){var I,W,H,Ae,Ie,ut;if(fe++,I=L,W=L,t.substr(L,5)===g?(H=g,L+=5):(H=r,fe===0&&ke(gr)),H===r&&(t.substr(L,3)===y?(H=y,L+=3):(H=r,fe===0&&ke(Bt)),H===r&&(t.substr(L,5)===x?(H=x,L+=5):(H=r,fe===0&&ke(Rt)),H===r&&(t.substr(L,3)===S?(H=S,L+=3):(H=r,fe===0&&ke(yn)),H===r))))if(H=L,Ae=t.charAt(L),J.test(Ae)?L++:(Ae=r,fe===0&&ke(Oe)),Ae!==r){if(Ie=[],ut=t.charAt(L),Z.test(ut)?L++:(ut=r,fe===0&&ke(en)),ut!==r)for(;ut!==r;)Ie.push(ut),ut=t.charAt(L),Z.test(ut)?L++:(ut=r,fe===0&&ke(en));else Ie=r;Ie!==r?(Ae=[Ae,Ie],H=Ae):(L=H,H=r)}else L=H,H=r;return H!==r?(Ae=t.charAt(L),te.test(Ae)?L++:(Ae=r,fe===0&&ke(vr)),Ae===r&&(Ae=null),H=[H,Ae],W=H):(L=W,W=r),W!==r?I=t.substring(I,L):I=W,fe--,I===r&&(W=r,fe===0&&ke(Et)),I}function Do(){var I,W,H;for(fe++,I=L,W=[],H=t.charAt(L),Y.test(H)?L++:(H=r,fe===0&&ke(xn));H!==r;)W.push(H),W.length>=2?H=r:(H=t.charAt(L),Y.test(H)?L++:(H=r,fe===0&&ke(xn)));return W.length<1?(L=I,I=r):I=W,fe--,I===r&&(W=r,fe===0&&ke($r)),I}function Io(){var I,W,H,Ae,Ie;if(fe++,I=L,cr(),t.charCodeAt(L)===36?(W=k,L++):(W=r,fe===0&&ke(jr)),W!==r){if(H=L,Ae=[],Ie=t.charAt(L),U.test(Ie)?L++:(Ie=r,fe===0&&ke(Qe)),Ie!==r)for(;Ie!==r;)Ae.push(Ie),Ie=t.charAt(L),U.test(Ie)?L++:(Ie=r,fe===0&&ke(Qe));else Ae=r;Ae!==r?H=t.substring(H,L):H=Ae,H!==r?I=st(H):(L=I,I=r)}else L=I,I=r;return fe--,I===r&&fe===0&&ke(Or),I}function ws(){var I;return I=Rc(),I===r&&(I=cl()),I}function Rc(){var I,W,H,Ae,Ie;if(fe++,I=L,t.charCodeAt(L)===123?(W=_,L++):(W=r,fe===0&&ke(N)),W!==r){for(H=L,Ae=[],Ie=t.charAt(L),Ce.test(Ie)?L++:(Ie=r,fe===0&&ke(M));Ie!==r;)Ae.push(Ie),Ie=t.charAt(L),Ce.test(Ie)?L++:(Ie=r,fe===0&&ke(M));H=t.substring(H,L),t.charCodeAt(L)===125?(Ae=C,L++):(Ae=r,fe===0&&ke(K)),Ae!==r?I=ft(H):(L=I,I=r)}else L=I,I=r;return fe--,I===r&&(W=r,fe===0&&ke(nr)),I}function cl(){var I,W,H,Ae,Ie;if(fe++,I=L,t.charCodeAt(L)===59?(W=P,L++):(W=r,fe===0&&ke(de)),W!==r){for(H=L,Ae=[],Ie=t.charAt(L),ce.test(Ie)?L++:(Ie=r,fe===0&&ke(re));Ie!==r;)Ae.push(Ie),Ie=t.charAt(L),ce.test(Ie)?L++:(Ie=r,fe===0&&ke(re));H=t.substring(H,L),I=wt(H)}else L=I,I=r;return fe--,I===r&&(W=r,fe===0&&ke(me)),I}function si(){var I,W,H,Ae;return fe++,I=L,cr(),t.charCodeAt(L)===40?(W=E,L++):(W=r,fe===0&&ke(Ge)),W!==r?(H=ll(),H!==r?(cr(),t.charCodeAt(L)===41?(Ae=D,L++):(Ae=r,fe===0&&ke(Ze)),Ae!==r?I=ht(H):(L=I,I=r)):(L=I,I=r)):(L=I,I=r),fe--,I===r&&fe===0&&ke(ve),I}function on(){var I,W,H;return fe++,I=L,t.substr(L,3)===A?(W=A,L+=3):(W=r,fe===0&&ke(Vr)),W===r&&(t.substr(L,3)===V?(W=V,L+=3):(W=r,fe===0&&ke(Rr)),W===r&&(t.substr(L,7)===G?(W=G,L+=7):(W=r,fe===0&&ke(tn)),W===r&&(t.charCodeAt(L)===42?(W=B,L++):(W=r,fe===0&&ke(wn))))),W!==r?(cr(),H=ws(),H===r&&(H=null),I=kt(W,H)):(L=I,I=r),fe--,I===r&&(W=r,fe===0&&ke(gt)),I}function cr(){var I,W;for(fe++,I=[],W=t.charAt(L),we.test(W)?L++:(W=r,fe===0&&ke(nn));W!==r;)I.push(W),W=t.charAt(L),we.test(W)?L++:(W=r,fe===0&&ke(nn));return fe--,W=r,fe===0&&ke(rn),I}if(Ut=a(),e.peg$library)return{peg$result:Ut,peg$currPos:L,peg$FAILED:r,peg$maxFailExpected:zt,peg$maxFailPos:ot};if(Ut!==r&&L===t.length)return Ut;throw Ut!==r&&L<t.length&&ke(Br()),Jn(zt,ot<t.length?t.charAt(ot):null,ot<t.length?Li(ot,ot+1):Li(ot,ot))}const Pu=0xffffffffffffffffn;function If(t,e){return(t<<e|t>>64n-e)&0xffffffffffffffffn}function my(t,e){return t*e&Pu}function H5(t){return function(){let e=BigInt(t&Pu),r=BigInt(t>>64n&Pu);const s=my(If(my(e,5n),7n),9n);return r^=e,e=(If(e,24n)^r^r<<16n)&Pu,r=If(r,37n),t=r<<64n|e,s}}const _c=H5(0xa187eb39cdcaed8f31c4b365b102e01en),Q5=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>_c()))),K5=Array.from({length:8},()=>_c()),G5=Array.from({length:16},()=>_c()),Af=_c(),Sr="w",Kr="b",Zt="p",_h="n",Nu="b",Ea="r",Ws="q",er="k",Mf="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class gu{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(e,r){const{color:s,piece:o,from:a,to:u,flags:d,captured:h,promotion:m}=r,g=ar(a),y=ar(u);this.color=s,this.piece=o,this.from=g,this.to=y,this.san=e._moveToSan(r,e._moves({legal:!0})),this.lan=g+y,this.before=e.fen(),e._makeMove(r),this.after=e.fen(),e._undoMove(),this.flags="";for(const x in He)He[x]&d&&(this.flags+=vi[x]);h&&(this.captured=h),m&&(this.promotion=m,this.lan+=m)}isCapture(){return this.flags.indexOf(vi.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(vi.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(vi.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(vi.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(vi.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(vi.BIG_PAWN)>-1}}const hr=-1,vi={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},He={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Ch={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},Z5={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},Y5={...Ch,...Z5},Ve={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Lf={b:[16,32,17,15],w:[-16,-32,-17,-15]},gy={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},X5=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],J5=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],eO={p:1,n:2,b:4,r:8,q:16,k:32},tO="pnbrqkPNBRQK",vy=[_h,Nu,Ea,Ws],rO=7,nO=6,sO=1,iO=0,vu={[er]:He.KSIDE_CASTLE,[Ws]:He.QSIDE_CASTLE},Bs={w:[{square:Ve.a1,flag:He.QSIDE_CASTLE},{square:Ve.h1,flag:He.KSIDE_CASTLE}],b:[{square:Ve.a8,flag:He.QSIDE_CASTLE},{square:Ve.h8,flag:He.KSIDE_CASTLE}]},oO={b:sO,w:nO},Ff="--";function Ci(t){return t>>4}function Ya(t){return t&15}function Fw(t){return"0123456789".indexOf(t)!==-1}function ar(t){const e=Ya(t),r=Ci(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(r,r+1)}function ya(t){return t===Sr?Kr:Sr}function aO(t){const e=t.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const r=parseInt(e[5],10);if(isNaN(r)||r<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const s=parseInt(e[4],10);if(isNaN(s)||s<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const o=e[0].split("/");if(o.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let u=0;u<o.length;u++){let d=0,h=!1;for(let m=0;m<o[u].length;m++)if(Fw(o[u][m])){if(h)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};d+=parseInt(o[u][m],10),h=!0}else{if(!/^[prnbqkPRNBQK]$/.test(o[u][m]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};d+=1,h=!1}if(d!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const a=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:u,regex:d}of a){if(!d.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${u} king`};if((e[0].match(d)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${u} kings`}}return Array.from(o[0]+o[7]).some(u=>u.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function lO(t,e){const r=t.from,s=t.to,o=t.piece;let a=0,u=0,d=0;for(let h=0,m=e.length;h<m;h++){const g=e[h].from,y=e[h].to,x=e[h].piece;o===x&&r!==g&&s===y&&(a++,Ci(r)===Ci(g)&&u++,Ya(r)===Ya(g)&&d++)}return a>0?u>0&&d>0?ar(r):d>0?ar(r).charAt(1):ar(r).charAt(0):""}function Us(t,e,r,s,o,a=void 0,u=He.NORMAL){const d=Ci(s);if(o===Zt&&(d===rO||d===iO))for(let h=0;h<vy.length;h++){const m=vy[h];t.push({color:e,from:r,to:s,piece:o,captured:a,promotion:m,flags:u|He.PROMOTION})}else t.push({color:e,from:r,to:s,piece:o,captured:a,flags:u})}function yy(t){let e=t.charAt(0);return e>="a"&&e<="h"?t.match(/[a-h]\d.*[a-h]\d/)?void 0:Zt:(e=e.toLowerCase(),e==="o"?er:e)}function zf(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class yi{_board=new Array(128);_turn=Sr;_header={};_kings={w:hr,b:hr};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_hash=0n;_positionCount=new Map;constructor(e=Mf,{skipValidation:r=!1}={}){this.load(e,{skipValidation:r})}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:hr,b:hr},this._turn=Sr,this._castling={w:0,b:0},this._epSquare=hr,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{...Y5},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(e,{skipValidation:r=!1,preserveHeaders:s=!1}={}){let o=e.split(/\s+/);if(o.length>=2&&o.length<6){const d=["-","-","0","1"];e=o.concat(d.slice(-(6-o.length))).join(" ")}if(o=e.split(/\s+/),!r){const{ok:d,error:h}=aO(e);if(!d)throw new Error(h)}const a=o[0];let u=0;this.clear({preserveHeaders:s});for(let d=0;d<a.length;d++){const h=a.charAt(d);if(h==="/")u+=8;else if(Fw(h))u+=parseInt(h,10);else{const m=h<"a"?Sr:Kr;this._put({type:h.toLowerCase(),color:m},ar(u)),u++}}this._turn=o[1],o[2].indexOf("K")>-1&&(this._castling.w|=He.KSIDE_CASTLE),o[2].indexOf("Q")>-1&&(this._castling.w|=He.QSIDE_CASTLE),o[2].indexOf("k")>-1&&(this._castling.b|=He.KSIDE_CASTLE),o[2].indexOf("q")>-1&&(this._castling.b|=He.QSIDE_CASTLE),this._epSquare=o[3]==="-"?hr:Ve[o[3]],this._halfMoves=parseInt(o[4],10),this._moveNumber=parseInt(o[5],10),this._hash=this._computeHash(),this._updateSetup(e),this._incPositionCount()}fen({forceEnpassantSquare:e=!1}={}){let r=0,s="";for(let u=Ve.a8;u<=Ve.h1;u++){if(this._board[u]){r>0&&(s+=r,r=0);const{color:d,type:h}=this._board[u];s+=d===Sr?h.toUpperCase():h.toLowerCase()}else r++;u+1&136&&(r>0&&(s+=r),u!==Ve.h1&&(s+="/"),r=0,u+=8)}let o="";this._castling[Sr]&He.KSIDE_CASTLE&&(o+="K"),this._castling[Sr]&He.QSIDE_CASTLE&&(o+="Q"),this._castling[Kr]&He.KSIDE_CASTLE&&(o+="k"),this._castling[Kr]&He.QSIDE_CASTLE&&(o+="q"),o=o||"-";let a="-";if(this._epSquare!==hr)if(e)a=ar(this._epSquare);else{const u=this._epSquare+(this._turn===Sr?16:-16),d=[u+1,u-1];for(const h of d){if(h&136)continue;const m=this._turn;if(this._board[h]?.color===m&&this._board[h]?.type===Zt){this._makeMove({color:m,from:h,to:this._epSquare,piece:Zt,captured:Zt,flags:He.EP_CAPTURE});const g=!this._isKingAttacked(m);if(this._undoMove(),g){a=ar(this._epSquare);break}}}}return[s,this._turn,o,a,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(e){if(!this._board[e])return 0n;const{color:r,type:s}=this._board[e],o={w:0,b:1}[r],a={p:0,n:1,b:2,r:3,q:4,k:5}[s];return Q5[o][a][e]}_epKey(){return this._epSquare===hr?0n:K5[this._epSquare&7]}_castlingKey(){const e=this._castling.w>>5|this._castling.b>>3;return G5[e]}_computeHash(){let e=0n;for(let r=Ve.a8;r<=Ve.h1;r++){if(r&136){r+=7;continue}this._board[r]&&(e^=this._pieceKey(r))}return e^=this._epKey(),e^=this._castlingKey(),this._turn==="b"&&(e^=Af),e}_updateSetup(e){this._history.length>0||(e!==Mf?(this._header.SetUp="1",this._header.FEN=e):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Mf)}get(e){return this._board[Ve[e]]}findPiece(e){const r=[];for(let s=Ve.a8;s<=Ve.h1;s++){if(s&136){s+=7;continue}!this._board[s]||this._board[s]?.color!==e.color||this._board[s].color===e.color&&this._board[s].type===e.type&&r.push(ar(s))}return r}put({type:e,color:r},s){return this._put({type:e,color:r},s)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(e,r){this._hash^=this._pieceKey(e),this._board[e]=r,this._hash^=this._pieceKey(e)}_put({type:e,color:r},s){if(tO.indexOf(e.toLowerCase())===-1||!(s in Ve))return!1;const o=Ve[s];if(e==er&&!(this._kings[r]==hr||this._kings[r]==o))return!1;const a=this._board[o];return a&&a.type===er&&(this._kings[a.color]=hr),this._set(o,{type:e,color:r}),e===er&&(this._kings[r]=o),!0}_clear(e){this._hash^=this._pieceKey(e),delete this._board[e]}remove(e){const r=this.get(e);return this._clear(Ve[e]),r&&r.type===er&&(this._kings[r.color]=hr),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),r}_updateCastlingRights(){this._hash^=this._castlingKey();const e=this._board[Ve.e1]?.type===er&&this._board[Ve.e1]?.color===Sr,r=this._board[Ve.e8]?.type===er&&this._board[Ve.e8]?.color===Kr;(!e||this._board[Ve.a1]?.type!==Ea||this._board[Ve.a1]?.color!==Sr)&&(this._castling.w&=-65),(!e||this._board[Ve.h1]?.type!==Ea||this._board[Ve.h1]?.color!==Sr)&&(this._castling.w&=-33),(!r||this._board[Ve.a8]?.type!==Ea||this._board[Ve.a8]?.color!==Kr)&&(this._castling.b&=-65),(!r||this._board[Ve.h8]?.type!==Ea||this._board[Ve.h8]?.color!==Kr)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){if(this._epSquare===hr)return;const e=this._epSquare+(this._turn===Sr?-16:16),r=this._epSquare+(this._turn===Sr?16:-16),s=[r+1,r-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||this._board[r]?.color!==ya(this._turn)||this._board[r]?.type!==Zt){this._hash^=this._epKey(),this._epSquare=hr;return}const o=a=>!(a&136)&&this._board[a]?.color===this._turn&&this._board[a]?.type===Zt;s.some(o)||(this._hash^=this._epKey(),this._epSquare=hr)}_attacked(e,r,s){const o=[];for(let a=Ve.a8;a<=Ve.h1;a++){if(a&136){a+=7;continue}if(this._board[a]===void 0||this._board[a].color!==e)continue;const u=this._board[a],d=a-r;if(d===0)continue;const h=d+119;if(X5[h]&eO[u.type]){if(u.type===Zt){if(d>0&&u.color===Sr||d<=0&&u.color===Kr)if(s)o.push(ar(a));else return!0;continue}if(u.type==="n"||u.type==="k")if(s){o.push(ar(a));continue}else return!0;const m=J5[h];let g=a+m,y=!1;for(;g!==r;){if(this._board[g]!=null){y=!0;break}g+=m}if(!y)if(s){o.push(ar(a));continue}else return!0}}return s?o:!1}attackers(e,r){return r?this._attacked(r,Ve[e],!0):this._attacked(this._turn,Ve[e],!0)}_isKingAttacked(e){const r=this._kings[e];return r===-1?!1:this._attacked(ya(e),r)}hash(){return this._hash.toString(16)}isAttacked(e,r){return this._attacked(r,Ve[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},r=[];let s=0,o=0;for(let a=Ve.a8;a<=Ve.h1;a++){if(o=(o+1)%2,a&136){a+=7;continue}const u=this._board[a];u&&(e[u.type]=u.type in e?e[u.type]+1:1,u.type===Nu&&r.push(o),s++)}if(s===2)return!0;if(s===3&&(e[Nu]===1||e[_h]===1))return!0;if(s===e[Nu]+2){let a=0;const u=r.length;for(let d=0;d<u;d++)a+=r[d];if(a===0||a===u)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:e=!1,square:r=void 0,piece:s=void 0}={}){const o=this._moves({square:r,piece:s});return e?o.map(a=>new gu(this,a)):o.map(a=>this._moveToSan(a,o))}_moves({legal:e=!0,piece:r=void 0,square:s=void 0}={}){const o=s?s.toLowerCase():void 0,a=r?.toLowerCase(),u=[],d=this._turn,h=ya(d);let m=Ve.a8,g=Ve.h1,y=!1;if(o)if(o in Ve)m=g=Ve[o],y=!0;else return[];for(let S=m;S<=g;S++){if(S&136){S+=7;continue}if(!this._board[S]||this._board[S].color===h)continue;const{type:k}=this._board[S];let _;if(k===Zt){if(a&&a!==k)continue;_=S+Lf[d][0],this._board[_]||(Us(u,d,S,_,Zt),_=S+Lf[d][1],oO[d]===Ci(S)&&!this._board[_]&&Us(u,d,S,_,Zt,void 0,He.BIG_PAWN));for(let C=2;C<4;C++)_=S+Lf[d][C],!(_&136)&&(this._board[_]?.color===h?Us(u,d,S,_,Zt,this._board[_].type,He.CAPTURE):_===this._epSquare&&Us(u,d,S,_,Zt,Zt,He.EP_CAPTURE))}else{if(a&&a!==k)continue;for(let C=0,P=gy[k].length;C<P;C++){const E=gy[k][C];for(_=S;_+=E,!(_&136);){if(!this._board[_])Us(u,d,S,_,k);else{if(this._board[_].color===d)break;Us(u,d,S,_,k,this._board[_].type,He.CAPTURE);break}if(k===_h||k===er)break}}}}if((a===void 0||a===er)&&(!y||g===this._kings[d])){if(this._castling[d]&He.KSIDE_CASTLE){const S=this._kings[d],k=S+2;!this._board[S+1]&&!this._board[k]&&!this._attacked(h,this._kings[d])&&!this._attacked(h,S+1)&&!this._attacked(h,k)&&Us(u,d,this._kings[d],k,er,void 0,He.KSIDE_CASTLE)}if(this._castling[d]&He.QSIDE_CASTLE){const S=this._kings[d],k=S-2;!this._board[S-1]&&!this._board[S-2]&&!this._board[S-3]&&!this._attacked(h,this._kings[d])&&!this._attacked(h,S-1)&&!this._attacked(h,k)&&Us(u,d,this._kings[d],k,er,void 0,He.QSIDE_CASTLE)}}if(!e||this._kings[d]===-1)return u;const x=[];for(let S=0,k=u.length;S<k;S++)this._makeMove(u[S]),this._isKingAttacked(d)||x.push(u[S]),this._undoMove();return x}move(e,{strict:r=!1}={}){let s=null;if(typeof e=="string")s=this._moveFromSan(e,r);else if(e===null)s=this._moveFromSan(Ff,r);else if(typeof e=="object"){const a=this._moves();for(let u=0,d=a.length;u<d;u++)if(e.from===ar(a[u].from)&&e.to===ar(a[u].to)&&(!("promotion"in a[u])||e.promotion===a[u].promotion)){s=a[u];break}}if(!s)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);if(this.isCheck()&&s.flags&He.NULL_MOVE)throw new Error("Null move not allowed when in check");const o=new gu(this,s);return this._makeMove(s),this._incPositionCount(),o}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(e,r){this._hash^=this._pieceKey(e),this._board[r]=this._board[e],delete this._board[e],this._hash^=this._pieceKey(r)}_makeMove(e){const r=this._turn,s=ya(r);if(this._push(e),e.flags&He.NULL_MOVE){r===Kr&&this._moveNumber++,this._halfMoves++,this._turn=s,this._epSquare=hr;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),e.captured&&(this._hash^=this._pieceKey(e.to)),this._movePiece(e.from,e.to),e.flags&He.EP_CAPTURE&&(this._turn===Kr?this._clear(e.to-16):this._clear(e.to+16)),e.promotion&&(this._clear(e.to),this._set(e.to,{type:e.promotion,color:r})),this._board[e.to].type===er){if(this._kings[r]=e.to,e.flags&He.KSIDE_CASTLE){const o=e.to-1,a=e.to+1;this._movePiece(a,o)}else if(e.flags&He.QSIDE_CASTLE){const o=e.to+1,a=e.to-2;this._movePiece(a,o)}this._castling[r]=0}if(this._castling[r]){for(let o=0,a=Bs[r].length;o<a;o++)if(e.from===Bs[r][o].square&&this._castling[r]&Bs[r][o].flag){this._castling[r]^=Bs[r][o].flag;break}}if(this._castling[s]){for(let o=0,a=Bs[s].length;o<a;o++)if(e.to===Bs[s][o].square&&this._castling[s]&Bs[s][o].flag){this._castling[s]^=Bs[s][o].flag;break}}if(this._hash^=this._castlingKey(),e.flags&He.BIG_PAWN){let o;r===Kr?o=e.to-16:o=e.to+16,!(e.to-1&136)&&this._board[e.to-1]?.type===Zt&&this._board[e.to-1]?.color===s||!(e.to+1&136)&&this._board[e.to+1]?.type===Zt&&this._board[e.to+1]?.color===s?(this._epSquare=o,this._hash^=this._epKey()):this._epSquare=hr}else this._epSquare=hr;e.piece===Zt?this._halfMoves=0:e.flags&(He.CAPTURE|He.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,r===Kr&&this._moveNumber++,this._turn=s,this._hash^=Af}undo(){const e=this._hash,r=this._undoMove();if(r){const s=new gu(this,r);return this._decPositionCount(e),s}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const r=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Af;const s=this._turn,o=ya(s);if(r.flags&He.NULL_MOVE)return r;if(this._movePiece(r.to,r.from),r.piece&&(this._clear(r.from),this._set(r.from,{type:r.piece,color:s})),r.captured)if(r.flags&He.EP_CAPTURE){let a;s===Kr?a=r.to-16:a=r.to+16,this._set(a,{type:Zt,color:o})}else this._set(r.to,{type:r.captured,color:o});if(r.flags&(He.KSIDE_CASTLE|He.QSIDE_CASTLE)){let a,u;r.flags&He.KSIDE_CASTLE?(a=r.to+1,u=r.to-1):(a=r.to-2,u=r.to+1),this._movePiece(u,a)}return r}pgn({newline:e=`
`,maxWidth:r=0}={}){const s=[];let o=!1;for(const x in this._header)this._header[x]&&s.push(`[${x} "${this._header[x]}"]`+e),o=!0;o&&this._history.length&&s.push(e);const a=x=>{const S=this._comments[this.fen()];if(typeof S<"u"){const k=x.length>0?" ":"";x=`${x}${k}{${S}}`}return x},u=[];for(;this._history.length>0;)u.push(this._undoMove());const d=[];let h="";for(u.length===0&&d.push(a(""));u.length>0;){h=a(h);const x=u.pop();if(!x)break;if(!this._history.length&&x.color==="b"){const S=`${this._moveNumber}. ...`;h=h?`${h} ${S}`:S}else x.color==="w"&&(h.length&&d.push(h),h=this._moveNumber+".");h=h+" "+this._moveToSan(x,this._moves({legal:!0})),this._makeMove(x)}if(h.length&&d.push(a(h)),d.push(this._header.Result||"*"),r===0)return s.join("")+d.join(" ");const m=function(){return s.length>0&&s[s.length-1]===" "?(s.pop(),!0):!1},g=function(x,S){for(const k of S.split(" "))if(k){if(x+k.length>r){for(;m();)x--;s.push(e),x=0}s.push(k),x+=k.length,s.push(" "),x++}return m()&&x--,x};let y=0;for(let x=0;x<d.length;x++){if(y+d[x].length>r&&d[x].includes("{")){y=g(y,d[x]);continue}y+d[x].length>r&&x!==0?(s[s.length-1]===" "&&s.pop(),s.push(e),y=0):x!==0&&(s.push(" "),y++),s.push(d[x]),y+=d[x].length}return s.join("")}header(...e){for(let r=0;r<e.length;r+=2)typeof e[r]=="string"&&typeof e[r+1]=="string"&&(this._header[e[r]]=e[r+1]);return this._header}setHeader(e,r){return this._header[e]=r??Ch[e]??null,this.getHeaders()}removeHeader(e){return e in this._header?(this._header[e]=Ch[e]||null,!0):!1}getHeaders(){const e={};for(const[r,s]of Object.entries(this._header))s!==null&&(e[r]=s);return e}loadPgn(e,{strict:r=!1,newlineChar:s=`\r?
`}={}){s!==`\r?
`&&(e=e.replace(new RegExp(s,"g"),`
`));const o=W5(e);this.reset();const a=o.headers;let u="";for(const m in a)m.toLowerCase()==="fen"&&(u=a[m]),this.header(m,a[m]);if(!r)u&&this.load(u,{preserveHeaders:!0});else if(a.SetUp==="1"){if(!("FEN"in a))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(a.FEN,{preserveHeaders:!0})}let d=o.root;for(;d;){if(d.move){const m=this._moveFromSan(d.move,r);if(m==null)throw new Error(`Invalid move in PGN: ${d.move}`);this._makeMove(m),this._incPositionCount()}d.comment!==void 0&&(this._comments[this.fen()]=d.comment),d=d.variations[0]}const h=o.result;h&&Object.keys(this._header).length&&this._header.Result!==h&&this.setHeader("Result",h)}_moveToSan(e,r){let s="";if(e.flags&He.KSIDE_CASTLE)s="O-O";else if(e.flags&He.QSIDE_CASTLE)s="O-O-O";else{if(e.flags&He.NULL_MOVE)return Ff;if(e.piece!==Zt){const o=lO(e,r);s+=e.piece.toUpperCase()+o}e.flags&(He.CAPTURE|He.EP_CAPTURE)&&(e.piece===Zt&&(s+=ar(e.from)[0]),s+="x"),s+=ar(e.to),e.promotion&&(s+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?s+="#":s+="+"),this._undoMove(),s}_moveFromSan(e,r=!1){let s=zf(e);if(r||(s==="0-0"?s="O-O":s==="0-0-0"&&(s="O-O-O")),s==Ff)return{color:this._turn,from:0,to:0,piece:"k",flags:He.NULL_MOVE};let o=yy(s),a=this._moves({legal:!0,piece:o});for(let x=0,S=a.length;x<S;x++)if(s===zf(this._moveToSan(a[x],a)))return a[x];if(r)return null;let u,d,h,m,g,y=!1;if(d=s.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),d?(u=d[1],h=d[2],m=d[3],g=d[4],h.length==1&&(y=!0)):(d=s.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),d&&(u=d[1],h=d[2],m=d[3],g=d[4],h.length==1&&(y=!0))),o=yy(s),a=this._moves({legal:!0,piece:u||o}),!m)return null;for(let x=0,S=a.length;x<S;x++)if(h){if((!u||u.toLowerCase()==a[x].piece)&&Ve[h]==a[x].from&&Ve[m]==a[x].to&&(!g||g.toLowerCase()==a[x].promotion))return a[x];if(y){const k=ar(a[x].from);if((!u||u.toLowerCase()==a[x].piece)&&Ve[m]==a[x].to&&(h==k[0]||h==k[1])&&(!g||g.toLowerCase()==a[x].promotion))return a[x]}}else if(s===zf(this._moveToSan(a[x],a)).replace("x",""))return a[x];return null}ascii(){let e=`   +------------------------+
`;for(let r=Ve.a8;r<=Ve.h1;r++){if(Ya(r)===0&&(e+=" "+"87654321"[Ci(r)]+" |"),this._board[r]){const s=this._board[r].type,a=this._board[r].color===Sr?s.toUpperCase():s.toLowerCase();e+=" "+a+" "}else e+=" . ";r+1&136&&(e+=`|
`,r+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const r=this._moves({legal:!1});let s=0;const o=this._turn;for(let a=0,u=r.length;a<u;a++)this._makeMove(r[a]),this._isKingAttacked(o)||(e-1>0?s+=this.perft(e-1):s++),this._undoMove();return s}setTurn(e){return this._turn==e?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const e=[];let r=[];for(let s=Ve.a8;s<=Ve.h1;s++)this._board[s]==null?r.push(null):r.push({square:ar(s),type:this._board[s].type,color:this._board[s].color}),s+1&136&&(e.push(r),r=[],s+=8);return e}squareColor(e){if(e in Ve){const r=Ve[e];return(Ci(r)+Ya(r))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const r=[],s=[];for(;this._history.length>0;)r.push(this._undoMove());for(;;){const o=r.pop();if(!o)break;e?s.push(new gu(this,o)):s.push(this._moveToSan(o,this._moves())),this._makeMove(o)}return s}_getPositionCount(e){return this._positionCount.get(e)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(e){const r=this._positionCount.get(e)??0;r===1?this._positionCount.delete(e):this._positionCount.set(e,r-1)}_pruneComments(){const e=[],r={},s=o=>{o in this._comments&&(r[o]=this._comments[o])};for(;this._history.length>0;)e.push(this._undoMove());for(s(this.fen());;){const o=e.pop();if(!o)break;this._makeMove(o),s(this.fen())}this._comments=r}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const r=this._comments[e];return delete this._comments[e],{fen:e,comment:r}})}setCastlingRights(e,r){for(const o of[er,Ws])r[o]!==void 0&&(r[o]?this._castling[e]|=vu[o]:this._castling[e]&=~vu[o]);this._updateCastlingRights();const s=this.getCastlingRights(e);return(r[er]===void 0||r[er]===s[er])&&(r[Ws]===void 0||r[Ws]===s[Ws])}getCastlingRights(e){return{[er]:(this._castling[e]&vu[er])!==0,[Ws]:(this._castling[e]&vu[Ws])!==0}}moveNumber(){return this._moveNumber}}const uO="https://cdn.jsdelivr.net/npm/stockfish@15.0.0/src/stockfish.min.js";let xa=null;function cO(){return xa||(xa=fetch(uO).then(t=>t.blob()).then(t=>URL.createObjectURL(t)).catch(t=>{throw console.error("Failed to load Stockfish",t),xa=null,t}),xa)}function dO(t,e=10){const[r,s]=w.useState(null),[o,a]=w.useState("0.0"),[u,d]=w.useState(!1),h=w.useRef(null),m=w.useRef("w");w.useEffect(()=>{let y=!1;return cO().then(x=>{if(y)return;const S=new Worker(x);S.onmessage=C=>{const P=C.data;if(typeof P=="string"){if(P.startsWith("bestmove")){const E=P.split(" ")[1];E&&(s(E),d(!1))}else if(P.includes("score cp")){const E=P.match(/score cp (-?\d+)/);if(E){let D=parseInt(E[1])/100;m.current==="b"&&(D=-D),a(D.toFixed(2))}}else if(P.includes("score mate")){const E=P.match(/score mate (-?\d+)/);if(E){let D=parseInt(E[1]);m.current==="b"&&(D=-D),a(D>0?`M${Math.abs(D)}`:`-M${Math.abs(D)}`)}}}};const k=Math.min(4,navigator.hardwareConcurrency||1),_=Math.max(0,Math.min(20,e));S.postMessage("uci"),S.postMessage(`setoption name Threads value ${k}`),S.postMessage("setoption name Hash value 128"),S.postMessage("setoption name MultiPV value 1"),S.postMessage(`setoption name Skill Level value ${_}`),S.postMessage(`setoption name UCI_LimitStrength value ${_<20}`),S.postMessage(`setoption name UCI_Elo value ${_*100+800}`),S.postMessage("setoption name Ponder value false"),S.postMessage("isready"),h.current=S}).catch(x=>console.error("Failed to load Stockfish",x)),()=>{y=!0,h.current?.terminate(),h.current=null}},[]),w.useEffect(()=>{if(h.current){const y=Math.max(0,Math.min(20,e));h.current.postMessage(`setoption name Skill Level value ${y}`),h.current.postMessage(`setoption name UCI_LimitStrength value ${y<20}`),h.current.postMessage(`setoption name UCI_Elo value ${y*100+800}`)}},[e]);const g=w.useCallback(y=>{if(!h.current)return;d(!0),s(null);const x=y.split(" ");x.length>1&&(m.current=x[1]),h.current.postMessage(`position fen ${y}`),h.current.postMessage("go movetime 1500")},[]);return{bestMove:r,evaluation:o,isThinking:u,search:g}}const zw=w.createContext({dragDropManager:void 0});function hn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var xy=typeof Symbol=="function"&&Symbol.observable||"@@observable",wy=function(){return Math.random().toString(36).substring(7).split("").join(".")},by={INIT:"@@redux/INIT"+wy(),REPLACE:"@@redux/REPLACE"+wy()};function $w(t,e,r){var s;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(hn(0));if(typeof e=="function"&&r===void 0&&(r=e,e=void 0),r!==void 0){if(typeof r!="function")throw new Error(hn(1));return r($w)(t,e)}if(typeof t!="function")throw new Error(hn(2));var o=t,a=e,u=[],d=u,h=!1;function m(){d===u&&(d=u.slice())}function g(){if(h)throw new Error(hn(3));return a}function y(S){if(typeof S!="function")throw new Error(hn(4));if(h)throw new Error(hn(5));var k=!0;return m(),d.push(S),function(){if(k){if(h)throw new Error(hn(6));k=!1,m();var _=d.indexOf(S);d.splice(_,1),u=null}}}function x(S){if(!(function(C){if(typeof C!="object"||C===null)return!1;for(var P=C;Object.getPrototypeOf(P)!==null;)P=Object.getPrototypeOf(P);return Object.getPrototypeOf(C)===P})(S))throw new Error(hn(7));if(S.type===void 0)throw new Error(hn(8));if(h)throw new Error(hn(9));try{h=!0,a=o(a,S)}finally{h=!1}for(var k=u=d,_=0;_<k.length;_++)(0,k[_])();return S}return x({type:by.INIT}),(s={dispatch:x,subscribe:y,getState:g,replaceReducer:function(S){if(typeof S!="function")throw new Error(hn(10));o=S,x({type:by.REPLACE})}})[xy]=function(){var S,k=y;return(S={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(hn(11));function C(){_.next&&_.next(g())}return C(),{unsubscribe:k(C)}}})[xy]=function(){return this},S},s}function Xe(t,e,...r){if(typeof process<"u"&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let s;if(e===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;s=new Error(e.replace(/%s/g,(function(){return r[o++]}))),s.name="Invariant Violation"}throw s.framesToPop=1,s}}function Vw(t){return typeof t=="object"}const fp="dnd-core/INIT_COORDS",hp="dnd-core/BEGIN_DRAG",Bw="dnd-core/PUBLISH_DRAG_SOURCE",Cc="dnd-core/HOVER",pp="dnd-core/DROP",mp="dnd-core/END_DRAG";function Sy(t,e){return{type:fp,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const fO={type:fp,payload:{clientOffset:null,sourceClientOffset:null}};function hO(t){return function(e=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:o,getSourceClientOffset:a}=r,u=t.getMonitor(),d=t.getRegistry();t.dispatch(Sy(o)),(function(x,S,k){Xe(!S.isDragging(),"Cannot call beginDrag while dragging."),x.forEach((function(_){Xe(k.getSource(_),"Expected sourceIds to be registered.")}))})(e,u,d);const h=(function(x,S){let k=null;for(let _=x.length-1;_>=0;_--)if(S.canDragSource(x[_])){k=x[_];break}return k})(e,u);if(h==null)return void t.dispatch(fO);let m=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");(function(x){Xe(typeof x=="function","When clientOffset is provided, getSourceClientOffset must be a function.")})(a),m=a(h)}t.dispatch(Sy(o,m));const g=d.getSource(h).beginDrag(u,h);if(g==null)return;(function(x){Xe(Vw(x),"Item must be an object.")})(g),d.pinSource(h);const y=d.getSourceType(h);return{type:hp,payload:{itemType:y,item:g,sourceId:h,clientOffset:o||null,sourceClientOffset:m||null,isSourcePublic:!!s}}}}function pO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})))),s.forEach((function(o){pO(t,o,r[o])}))}return t}function gO(t){return function(e={}){const r=t.getMonitor(),s=t.getRegistry();(function(a){Xe(a.isDragging(),"Cannot call drop while not dragging."),Xe(!a.didDrop(),"Cannot call drop twice during one drag operation.")})(r),(function(a){const u=a.getTargetIds().filter(a.canDropOnTarget,a);return u.reverse(),u})(r).forEach(((a,u)=>{const d=(function(m,g,y,x){const S=y.getTarget(m);let k=S?S.drop(x,m):void 0;return(function(_){Xe(_===void 0||Vw(_),"Drop result must either be an object or undefined.")})(k),k===void 0&&(k=g===0?{}:x.getDropResult()),k})(a,u,s,r),h={type:pp,payload:{dropResult:mO({},e,d)}};t.dispatch(h)}))}}function vO(t){return function(){const e=t.getMonitor(),r=t.getRegistry();(function(o){Xe(o.isDragging(),"Cannot call endDrag while not dragging.")})(e);const s=e.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(e,s),r.unpinSource()),{type:mp}}}function kh(t,e){return e===null?t===null:Array.isArray(t)?t.some((r=>r===e)):t===e}function yO(t){return function(e,{clientOffset:r}={}){(function(u){Xe(Array.isArray(u),"Expected targetIds to be an array.")})(e);const s=e.slice(0),o=t.getMonitor(),a=t.getRegistry();return(function(u,d,h){for(let m=u.length-1;m>=0;m--){const g=u[m];kh(d.getTargetType(g),h)||u.splice(m,1)}})(s,a,o.getItemType()),(function(u,d,h){Xe(d.isDragging(),"Cannot call hover while not dragging."),Xe(!d.didDrop(),"Cannot call hover after drop.");for(let m=0;m<u.length;m++){const g=u[m];Xe(u.lastIndexOf(g)===m,"Expected targetIds to be unique in the passed array."),Xe(h.getTarget(g),"Expected targetIds to be registered.")}})(s,o,a),(function(u,d,h){u.forEach((function(m){h.getTarget(m).hover(d,m)}))})(s,o,a),{type:Cc,payload:{targetIds:s,clientOffset:r||null}}}}function xO(t){return function(){if(t.getMonitor().isDragging())return{type:Bw}}}class wO{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store,s=(function(o){return{beginDrag:hO(o),publishDragSource:xO(o),hover:yO(o),drop:gO(o),endDrag:vO(o)}})(this);return Object.keys(s).reduce(((o,a)=>{const u=s[a];var d;return o[a]=(d=u,(...h)=>{const m=d.apply(e,h);m!==void 0&&r(m)}),o}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const s=this.store.getState().refCount>0;this.backend&&(s&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!s&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function _y(t,e){return{x:t.x-e.x,y:t.y-e.y}}const Ra=[],gp=[];Ra.__IS_NONE__=!0,gp.__IS_ALL__=!0;class bO{subscribeToStateChange(e,r={}){const{handlerIds:s}=r;Xe(typeof e=="function","listener must be a function."),Xe(s===void 0||Array.isArray(s),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;return this.store.subscribe((()=>{const a=this.store.getState(),u=a.stateId;try{u===o||u===o+1&&!(function(h,m){return h!==Ra&&(h===gp||m===void 0||(g=h,m.filter((y=>g.indexOf(y)>-1))).length>0);var g})(a.dirtyHandlerIds,s)||e()}finally{o=u}}))}subscribeToOffsetChange(e){Xe(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;return this.store.subscribe((()=>{const s=this.store.getState().dragOffset;s!==r&&(r=s,e())}))}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return Xe(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);return Xe(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop()?!1:kh(this.registry.getTargetType(e),this.getItemType())&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);return Xe(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic()?!1:this.registry.getSourceType(e)===this.getItemType()&&r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:s}=r;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),a=this.getItemType();if(a&&!kh(o,a))return!1;const u=this.getTargetIds();if(!u.length)return!1;const d=u.indexOf(e);return s?d===u.length-1:d>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return(function(e){const{clientOffset:r,initialClientOffset:s,initialSourceClientOffset:o}=e;return r&&s&&o?_y((u=o,{x:(a=r).x+u.x,y:a.y+u.y}),s):null;var a,u})(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return(function(e){const{clientOffset:r,initialClientOffset:s}=e;return r&&s?_y(r,s):null})(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const Cy=typeof global<"u"?global:self,ky=Cy.MutationObserver||Cy.WebKitMutationObserver;function Uw(t){return function(){const e=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(e),clearInterval(r),t()}}}const SO=typeof ky=="function"?function(t){let e=1;const r=new ky(t),s=document.createTextNode("");return r.observe(s,{characterData:!0}),function(){e=-e,s.data=e}}:Uw;class _O{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}const qw=new class{enqueueTask(t){const{queue:e,requestFlush:r}=this;e.length||(r(),this.flushing=!0),e[e.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const e=this.index;if(this.index++,t[e].call(),this.index>this.capacity){for(let r=0,s=t.length-this.index;r<s;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=SO(this.flush),this.requestErrorThrow=Uw((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},CO=new class{create(t){const e=this.freeTasks,r=e.length?e.pop():new _O(this.onError,(s=>e[e.length]=s));return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}(qw.registerPendingError),vp="dnd-core/ADD_SOURCE",yp="dnd-core/ADD_TARGET",xp="dnd-core/REMOVE_SOURCE",kc="dnd-core/REMOVE_TARGET";function Eh(t,e){e&&Array.isArray(t)?t.forEach((r=>Eh(r,!1))):Xe(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var mn;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(mn||(mn={}));let kO=0;function EO(t){const e=(kO++).toString();switch(t){case mn.SOURCE:return`S${e}`;case mn.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Ey(t){switch(t[0]){case"S":return mn.SOURCE;case"T":return mn.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function Ty(t,e){const r=t.entries();let s=!1;do{const{done:o,value:[,a]}=r.next();if(a===e)return!0;s=!!o}while(!s);return!1}class TO{addSource(e,r){Eh(e),(function(o){Xe(typeof o.canDrag=="function","Expected canDrag to be a function."),Xe(typeof o.beginDrag=="function","Expected beginDrag to be a function."),Xe(typeof o.endDrag=="function","Expected endDrag to be a function.")})(r);const s=this.addHandler(mn.SOURCE,e,r);return this.store.dispatch((function(o){return{type:vp,payload:{sourceId:o}}})(s)),s}addTarget(e,r){Eh(e,!0),(function(o){Xe(typeof o.canDrop=="function","Expected canDrop to be a function."),Xe(typeof o.hover=="function","Expected hover to be a function."),Xe(typeof o.drop=="function","Expected beginDrag to be a function.")})(r);const s=this.addHandler(mn.TARGET,e,r);return this.store.dispatch((function(o){return{type:yp,payload:{targetId:o}}})(s)),s}containsHandler(e){return Ty(this.dragSources,e)||Ty(this.dropTargets,e)}getSource(e,r=!1){return Xe(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Xe(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Xe(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Xe(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Ey(e)===mn.SOURCE}isTargetId(e){return Ey(e)===mn.TARGET}removeSource(e){var r;Xe(this.getSource(e),"Expected an existing source."),this.store.dispatch((function(s){return{type:xp,payload:{sourceId:s}}})(e)),r=()=>{this.dragSources.delete(e),this.types.delete(e)},qw.enqueueTask(CO.create(r))}removeTarget(e){Xe(this.getTarget(e),"Expected an existing target."),this.store.dispatch((function(r){return{type:kc,payload:{targetId:r}}})(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);Xe(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){Xe(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,s){const o=EO(e);return this.types.set(o,r),e===mn.SOURCE?this.dragSources.set(o,s):e===mn.TARGET&&this.dropTargets.set(o,s),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const PO=(t,e)=>t===e;function NO(t=Ra,e){switch(e.type){case Cc:break;case vp:case yp:case kc:case xp:return Ra;default:return gp}const{targetIds:r=[],prevTargetIds:s=[]}=e.payload,o=(function(d,h){const m=new Map,g=x=>{m.set(x,m.has(x)?m.get(x)+1:1)};d.forEach(g),h.forEach(g);const y=[];return m.forEach(((x,S)=>{x===1&&y.push(S)})),y})(r,s);if(!(o.length>0||!(function(d,h,m=PO){if(d.length!==h.length)return!1;for(let g=0;g<d.length;++g)if(!m(d[g],h[g]))return!1;return!0})(r,s)))return Ra;const a=s[s.length-1],u=r[r.length-1];return a!==u&&(a&&o.push(a),u&&o.push(u)),o}function OO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Py={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function jO(t=Py,e){const{payload:r}=e;switch(e.type){case fp:case hp:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Cc:return s=t.clientOffset,o=r.clientOffset,!s&&!o||s&&o&&s.x===o.x&&s.y===o.y?t:(function(a){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{},h=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(d).filter((function(m){return Object.getOwnPropertyDescriptor(d,m).enumerable})))),h.forEach((function(m){OO(a,m,d[m])}))}return a})({},t,{clientOffset:r.clientOffset});case mp:case pp:return Py;default:return t}var s,o}function RO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})))),s.forEach((function(o){RO(t,o,r[o])}))}return t}const DO={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function IO(t=DO,e){const{payload:r}=e;switch(e.type){case hp:return uo({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Bw:return uo({},t,{isSourcePublic:!0});case Cc:return uo({},t,{targetIds:r.targetIds});case kc:return t.targetIds.indexOf(r.targetId)===-1?t:uo({},t,{targetIds:(s=t.targetIds,o=r.targetId,s.filter((a=>a!==o)))});case pp:return uo({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case mp:return uo({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}var s,o}function AO(t=0,e){switch(e.type){case vp:case yp:return t+1;case xp:case kc:return t-1;default:return t}}function MO(t=0){return t+1}function LO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})))),s.forEach((function(o){LO(t,o,r[o])}))}return t}function zO(t={},e){return{dirtyHandlerIds:NO(t.dirtyHandlerIds,{type:e.type,payload:FO({},e.payload,{prevTargetIds:(r=t,s="dragOperation.targetIds",o=[],s.split(".").reduce(((a,u)=>a&&a[u]?a[u]:o||null),r))})}),dragOffset:jO(t.dragOffset,e),refCount:AO(t.refCount,e),dragOperation:IO(t.dragOperation,e),stateId:MO(t.stateId)};var r,s,o}function $O(t,e=void 0,r={},s=!1){const o=(function(h){const m=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return $w(zO,h&&m&&m({name:"dnd-core",instanceId:"dnd-core"}))})(s),a=new bO(o,new TO(o)),u=new wO(o,a),d=t(u,e,r);return u.receiveBackend(d),u}function VO(t,e){if(t==null)return{};var r,s,o=(function(u,d){if(u==null)return{};var h,m,g={},y=Object.keys(u);for(m=0;m<y.length;m++)h=y[m],d.indexOf(h)>=0||(g[h]=u[h]);return g})(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}let Ny=0;const yu=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var BO=w.memo((function(t){var{children:e}=t,r=VO(t,["children"]);const[s,o]=(function(a){if("manager"in a)return[{dragDropManager:a.manager},!1];const u=(function(h,m=Oy(),g,y){const x=m;return x[yu]||(x[yu]={dragDropManager:$O(h,m,g,y)}),x[yu]})(a.backend,a.context,a.options,a.debugMode),d=!a.context;return[u,d]})(r);return w.useEffect((()=>{if(o){const a=Oy();return++Ny,()=>{--Ny==0&&(a[yu]=null)}}}),[]),f.jsx(zw.Provider,{value:s,children:e})}));function Oy(){return typeof global<"u"?global:window}var UO=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,o,a;if(Array.isArray(e)){if((s=e.length)!=r.length)return!1;for(o=s;o--!=0;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((s=(a=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(o=s;o--!=0;)if(!Object.prototype.hasOwnProperty.call(r,a[o]))return!1;for(o=s;o--!=0;){var u=a[o];if(!t(e[u],r[u]))return!1}return!0}return e!=e&&r!=r};const ji=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Ww(t,e,r){const[s,o]=w.useState((()=>e(t))),a=w.useCallback((()=>{const u=e(t);UO(s,u)||(o(u),r&&r())}),[s,t,r]);return ji(a),[s,a]}function Hw(t,e,r){return(function(s,o,a){const[u,d]=Ww(s,o,a);return ji((function(){const h=s.getHandlerId();if(h!=null)return s.subscribeToStateChange(d,{handlerIds:[h]})}),[s,d]),u})(e,t||(()=>({})),(()=>r.reconnect()))}function Qw(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),w.useMemo((()=>typeof t=="function"?t():t),r)}function qO(t){return w.useMemo((()=>t.hooks.dragSource()),[t])}function WO(t){return w.useMemo((()=>t.hooks.dragPreview()),[t])}let $f=!1,Vf=!1;class HO{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Xe(!$f,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return $f=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{$f=!1}}isDragging(){if(!this.sourceId)return!1;Xe(!Vf,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Vf=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Vf=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Bf=!1;class QO{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;Xe(!Bf,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Bf=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Bf=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Th(t,e,r,s){let o;if(o!==void 0)return!!o;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const a=Object.keys(t),u=Object.keys(e);if(a.length!==u.length)return!1;const d=Object.prototype.hasOwnProperty.bind(e);for(let h=0;h<a.length;h++){const m=a[h];if(!d(m))return!1;const g=t[m],y=e[m];if(o=void 0,o===!1||o===void 0&&g!==y)return!1}return!0}function Ph(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function KO(t){return(e=null,r=null)=>{if(!w.isValidElement(e)){const o=e;return t(o,r),o}const s=e;return(function(o){if(typeof o.type=="string")return;const a=o.type.displayName||o.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${a} into a <div>, or turn it into a drag source or a drop target itself.`)})(s),(function(o,a){const u=o.ref;return Xe(typeof u!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),w.cloneElement(o,u?{ref:d=>{jy(u,d),jy(a,d)}}:{ref:a})})(s,r?o=>t(o,r):t)}}function Kw(t){const e={};return Object.keys(t).forEach((r=>{const s=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const o=KO(s);e[r]=()=>o}})),e}function jy(t,e){typeof t=="function"?t(e):t.current=e}class GO{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,s=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();s&&this.disconnectDragPreview(),this.handlerId&&(r?s&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions)):this.lastConnectedDragPreview=r)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Th(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Th(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Kw({dragSource:(r,s)=>{this.clearDragSource(),this.dragSourceOptions=s||null,Ph(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,s)=>{this.clearDragPreview(),this.dragPreviewOptions=s||null,Ph(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class ZO{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;this.handlerId&&(r?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions)):this.lastConnectedDropTarget=r)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Th(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Kw({dropTarget:(r,s)=>{this.clearDropTarget(),this.dropTargetOptions=s,Ph(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Ri(){const{dragDropManager:t}=w.useContext(zw);return Xe(t!=null,"Expected drag drop context"),t}class YO{beginDrag(){const e=this.spec,r=this.monitor;let s=null;return s=typeof e.item=="object"?e.item:typeof e.item=="function"?e.item(r):{},s??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag!="function"||e.canDrag(r)}isDragging(e,r){const s=this.spec,o=this.monitor,{isDragging:a}=s;return a?a(o):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,s=this.connector,{end:o}=e;o&&o(r.getItem(),r),s.reconnect()}constructor(e,r,s){this.spec=e,this.monitor=r,this.connector=s}}function XO(t,e,r){const s=Ri(),o=(function(u,d,h){const m=w.useMemo((()=>new YO(u,d,h)),[d,h]);return w.useEffect((()=>{m.spec=u}),[u]),m})(t,e,r),a=(function(u){return w.useMemo((()=>{const d=u.type;return Xe(d!=null,"spec.type must be defined"),d}),[u])})(t);ji((function(){if(a!=null){const[u,d]=(function(h,m,g){const y=g.getRegistry(),x=y.addSource(h,m);return[x,()=>y.removeSource(x)]})(a,o,s);return e.receiveHandlerId(u),r.receiveHandlerId(u),d}}),[s,e,r,o,a])}function JO(t,e){const r=Qw(t,e);Xe(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const s=(function(){const a=Ri();return w.useMemo((()=>new HO(a)),[a])})(),o=(function(a,u){const d=Ri(),h=w.useMemo((()=>new GO(d.getBackend())),[d]);return ji((()=>(h.dragSourceOptions=a||null,h.reconnect(),()=>h.disconnectDragSource())),[h,a]),ji((()=>(h.dragPreviewOptions=u||null,h.reconnect(),()=>h.disconnectDragPreview())),[h,u]),h})(r.options,r.previewOptions);return XO(r,s,o),[Hw(r.collect,s,o),qO(o),WO(o)]}function ej(t){return w.useMemo((()=>t.hooks.dropTarget()),[t])}class tj{canDrop(){const e=this.spec,r=this.monitor;return!e.canDrop||e.canDrop(r.getItem(),r)}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function rj(t,e,r){const s=Ri(),o=(function(u,d){const h=w.useMemo((()=>new tj(u,d)),[d]);return w.useEffect((()=>{h.spec=u}),[u]),h})(t,e),a=(function(u){const{accept:d}=u;return w.useMemo((()=>(Xe(u.accept!=null,"accept must be defined"),Array.isArray(d)?d:[d])),[d])})(t);ji((function(){const[u,d]=(function(h,m,g){const y=g.getRegistry(),x=y.addTarget(h,m);return[x,()=>y.removeTarget(x)]})(a,o,s);return e.receiveHandlerId(u),r.receiveHandlerId(u),d}),[s,e,o,r,a.map((u=>u.toString())).join("|")])}function nj(t,e){const r=Qw(t,e),s=(function(){const a=Ri();return w.useMemo((()=>new QO(a)),[a])})(),o=(function(a){const u=Ri(),d=w.useMemo((()=>new ZO(u.getBackend())),[u]);return ji((()=>(d.dropTargetOptions=a||null,d.reconnect(),()=>d.disconnectDropTarget())),[a]),d})(r.options);return rj(r,s,o),[Hw(r.collect,s,o),ej(o)]}function Gw(t){let e=null;return()=>(e==null&&(e=t()),e)}class sj{enter(e){const r=this.entered.length;return this.entered=(function(s,o){const a=new Set,u=h=>a.add(h);s.forEach(u),o.forEach(u);const d=[];return a.forEach((h=>d.push(h))),d})(this.entered.filter((s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e)))),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;var s,o;return this.entered=(s=this.entered.filter(this.isNodeInDocument),o=e,s.filter((a=>a!==o))),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class ij{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach((s=>{const o=this.config.exposeProperties[s];o!=null&&(r[s]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Zw="__NATIVE_FILE__",Yw="__NATIVE_URL__",Xw="__NATIVE_TEXT__",Jw="__NATIVE_HTML__";var Ry=Object.freeze({__proto__:null,FILE:Zw,HTML:Jw,TEXT:Xw,URL:Yw});function Uf(t,e,r){const s=e.reduce(((o,a)=>o||t.getData(a)),"");return s??r}const Nh={[Zw]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Jw]:{exposeProperties:{html:(t,e)=>Uf(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Yw]:{exposeProperties:{urls:(t,e)=>Uf(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Xw]:{exposeProperties:{text:(t,e)=>Uf(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function qf(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Nh).filter((r=>{const s=Nh[r];return!!s?.matchesTypes&&s.matchesTypes.some((o=>e.indexOf(o)>-1))}))[0]||null}const oj=Gw((()=>/firefox/i.test(navigator.userAgent))),Dy=Gw((()=>!!window.safari));class Iy{interpolate(e){const{xs:r,ys:s,c1s:o,c2s:a,c3s:u}=this;let d=r.length-1;if(e===r[d])return s[d];let h,m=0,g=u.length-1;for(;m<=g;){h=Math.floor(.5*(m+g));const S=r[h];if(S<e)m=h+1;else{if(!(S>e))return s[h];g=h-1}}d=Math.max(0,g);const y=e-r[d],x=y*y;return s[d]+o[d]*y+a[d]*x+u[d]*y*x}constructor(e,r){const{length:s}=e,o=[];for(let S=0;S<s;S++)o.push(S);o.sort(((S,k)=>e[S]<e[k]?-1:1));const a=[],u=[];let d,h;for(let S=0;S<s-1;S++)d=e[S+1]-e[S],h=r[S+1]-r[S],a.push(d),u.push(h/d);const m=[u[0]];for(let S=0;S<a.length-1;S++){const k=u[S],_=u[S+1];if(k*_<=0)m.push(0);else{d=a[S];const C=a[S+1],P=d+C;m.push(3*P/((P+C)/k+(P+d)/_))}}m.push(u[u.length-1]);const g=[],y=[];let x;for(let S=0;S<m.length-1;S++){x=u[S];const k=m[S],_=1/a[S],C=k+m[S+1]-x-x;g.push((x-k-C)*_),y.push(C*_*_)}this.xs=e,this.ys=r,this.c1s=m,this.c2s=g,this.c3s=y}}const aj=1;function e1(t){const e=t.nodeType===aj?t:t.parentElement;if(!e)return null;const{top:r,left:s}=e.getBoundingClientRect();return{x:s,y:r}}function xu(t){return{x:t.clientX,y:t.clientY}}function lj(t,e,r,s,o){const a=(u=e).nodeName==="IMG"&&(oj()||!(!((d=document.documentElement)===null||d===void 0)&&d.contains(u)));var u,d;const h=e1(a?t:e),m={x:r.x-h.x,y:r.y-h.y},{offsetWidth:g,offsetHeight:y}=t,{anchorX:x,anchorY:S}=s,{dragPreviewWidth:k,dragPreviewHeight:_}=(function(D,A,V,G){let B=D?A.width:V,J=D?A.height:G;return Dy()&&D&&(J/=window.devicePixelRatio,B/=window.devicePixelRatio),{dragPreviewWidth:B,dragPreviewHeight:J}})(a,e,g,y),{offsetX:C,offsetY:P}=o,E=P===0||P;return{x:C===0||C?C:new Iy([0,.5,1],[m.x,m.x/g*k,m.x+k-g]).interpolate(x),y:E?P:(()=>{let D=new Iy([0,.5,1],[m.y,m.y/y*_,m.y+_-y]).interpolate(S);return Dy()&&a&&(D+=(window.devicePixelRatio-1)*_),D})()}}let wu;function uj(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ay(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})))),s.forEach((function(o){uj(t,o,r[o])}))}return t}class cj{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var r;e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&((r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,r,s){return this.sourcePreviewNodeOptions.set(e,s),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,s){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,s);const o=u=>this.handleDragStart(u,e),a=u=>this.handleSelectStart(u);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",o),r.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",o),r.removeEventListener("selectstart",a),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const s=u=>this.handleDragEnter(u,e),o=u=>this.handleDragOver(u,e),a=u=>this.handleDrop(u,e);return r.addEventListener("dragenter",s),r.addEventListener("dragover",o),r.addEventListener("drop",a),()=>{r.removeEventListener("dragenter",s),r.removeEventListener("dragover",o),r.removeEventListener("drop",a)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return Ay({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return Ay({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Ry).some((r=>Ry[r]===e))}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=(function(s,o){const a=Nh[s];if(!a)throw new Error(`native type ${s} has no configuration`);const u=new ij(a);return u.loadDataTransfer(o),u})(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;return this.currentDragSourceNode=null,this.rootElement&&((e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,s){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const a=this.sourceNodes.get(o);return a&&e1(a)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:a}=this;this.dragStartSourceIds=null;const u=xu(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:u});const{dataTransfer:d}=o,h=qf(d);if(this.monitor.isDragging()){if(d&&typeof d.setDragImage=="function"){const g=this.monitor.getSourceId(),y=this.sourceNodes.get(g),x=this.sourcePreviewNodes.get(g)||y;if(x){const{anchorX:S,anchorY:k,offsetX:_,offsetY:C}=this.getCurrentSourcePreviewNodeOptions(),P=lj(y,x,u,{anchorX:S,anchorY:k},{offsetX:_,offsetY:C});d.setDragImage(x,P.x,P.y)}}try{d?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:m}=this.getCurrentSourcePreviewNodeOptions();m?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(h)this.beginDragNativeItem(h);else{if(d&&!d.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{var a;if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()&&((a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)),!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:u}=o,d=qf(u);d&&this.beginDragNativeItem(d,u)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:a}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=o.altKey,a.length>0&&this.actions.hover(a,{clientOffset:xu(o)}),a.some((u=>this.monitor.canDropOnTarget(u)))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=o=>{var a;this.dragOverTargetIds=[],this.isDraggingNativeItem()&&((a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer))},this.handleTopDragOver=o=>{const{dragOverTargetIds:a}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return o.preventDefault(),void(o.dataTransfer&&(o.dataTransfer.dropEffect="none"));this.altKeyPressed=o.altKey,this.lastClientOffset=xu(o),this.scheduleHover(a),(a||[]).some((u=>this.monitor.canDropOnTarget(u)))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=o=>{var a;this.dropTargetIds=[],this.isDraggingNativeItem()?(o.preventDefault(),(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)):qf(o.dataTransfer)&&o.preventDefault(),this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:a}=this;this.dropTargetIds=[],this.actions.hover(a,{clientOffset:xu(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const a=o.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(o.preventDefault(),a.dragDrop()))},this.options=new class{get window(){return this.globalContext?this.globalContext:typeof window<"u"?window:void 0}get document(){var o;return!((o=this.globalContext)===null||o===void 0)&&o.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var o;return((o=this.optionsArgs)===null||o===void 0?void 0:o.rootElement)||this.window}constructor(o,a){this.ownerDocument=null,this.globalContext=o,this.optionsArgs=a}}(r,s),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new sj(this.isNodeInDocument)}}const dj=function(t,e,r){return new cj(t,e,r)};var Qs;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(Qs||(Qs={}));class fj{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0&&e}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0&&e}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0&&e}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0&&e}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)===null||e===void 0||e}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,r,s,o;return(o=(s=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&s!==void 0?s:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&o!==void 0?o:0}get delayMouseStart(){var e,r,s,o;return(o=(s=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&s!==void 0?s:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&o!==void 0?o:0}get window(){return this.context&&this.context.window?this.context.window:typeof window<"u"?window:void 0}get document(){var e;return!((e=this.context)===null||e===void 0)&&e.document?this.context.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,r){this.args=e,this.context=r}}const hj=1,pj=0;function Wf(t){return t.button===void 0||t.button===pj}function t1(t){return!!t.targetTouches}function Ju(t,e){return t1(t)?(function(r,s){return r.targetTouches.length===1?Ju(r.targetTouches[0]):s&&r.touches.length===1&&r.touches[0].target===s.target?Ju(r.touches[0]):void 0})(t,e):{x:t.clientX,y:t.clientY}}const My=(()=>{let t=!1;try{addEventListener("test",(()=>{}),Object.defineProperty({},"passive",{get:()=>(t=!0,!0)}))}catch{}return t})(),wa={[Qs.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Qs.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Qs.keyboard]:{keydown:"keydown"}};class Da{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(Xe(!Da.isSetUp,"Cannot have two Touch backends at the same time."),Da.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(Da.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,r,s,o=!1){const a=My?{capture:o,passive:!1}:o;this.listenerTypes.forEach((function(u){const d=wa[u][r];d&&e.addEventListener(d,s,a)}))}removeEventListener(e,r,s,o=!1){const a=My?{capture:o,passive:!1}:o;this.listenerTypes.forEach((function(u){const d=wa[u][r];d&&e.removeEventListener(d,s,a)}))}connectDragSource(e,r){const s=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,r),this.addEventListener(r,"start",s),()=>{this.sourceNodes.delete(e),this.removeEventListener(r,"start",s)}}connectDragPreview(e,r,s){return this.sourcePreviewNodeOptions.set(e,s),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,r){const s=this.options.rootElement;if(!this.document||!s)return()=>{};const o=a=>{if(!this.document||!s||!this.monitor.isDragging())return;let u;switch(a.type){case wa.mouse.move:u={x:a.clientX,y:a.clientY};break;case wa.touch.move:var d,h;u={x:((d=a.touches[0])===null||d===void 0?void 0:d.clientX)||0,y:((h=a.touches[0])===null||h===void 0?void 0:h.clientY)||0}}const m=u!=null?this.document.elementFromPoint(u.x,u.y):void 0,g=m&&r.contains(m);return m===r||g?this.handleMove(a,e):void 0};return this.addEventListener(this.document.body,"move",o),this.targetNodes.set(e,r),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",o))}}getTopMoveStartHandler(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver((()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())})),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,r,s){this.getSourceClientOffset=o=>{const a=this.sourceNodes.get(o);return a&&(function(u){const d=u.nodeType===1?u:u.parentElement;if(!d)return;const{top:h,left:m}=d.getBoundingClientRect();return{x:m,y:h}})(a)},this.handleTopMoveStartCapture=o=>{Wf(o)&&(this.moveStartSourceIds=[])},this.handleMoveStart=o=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(o)},this.handleTopMoveStart=o=>{if(!Wf(o))return;const a=Ju(o);a&&(t1(o)&&(this.lastTargetTouchFallback=o.targetTouches[0]),this._mouseClientOffset=a),this.waitingForDelay=!1},this.handleTopMoveStartDelay=o=>{if(!Wf(o))return;const a=o.type===wa.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,o),a),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(o,a)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(a)},this.handleTopMove=o=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:a,dragOverTargetIds:u}=this,d=this.options.enableHoverOutsideTarget,h=Ju(o,this.lastTargetTouchFallback);if(!h)return;if(this._isScrolling||!this.monitor.isDragging()&&(function(E,D,A,V,G){if(!G)return!1;const B=180*Math.atan2(V-D,A-E)/Math.PI+180;for(let J=0;J<G.length;++J){const Q=G[J];if(Q&&(Q.start==null||B>=Q.start)&&(Q.end==null||B<=Q.end))return!0}return!1})(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,h.x,h.y,this.options.scrollAngleRanges))return void(this._isScrolling=!0);var m,g,y,x;if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&a&&(m=this._mouseClientOffset.x||0,g=this._mouseClientOffset.y||0,y=h.x,x=h.y,Math.sqrt(Math.pow(Math.abs(y-m),2)+Math.pow(Math.abs(x-g),2))>(this.options.touchSlop?this.options.touchSlop:0))&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(a,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const S=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(S),this.actions.publishDragSource(),o.cancelable&&o.preventDefault();const k=(u||[]).map((E=>this.targetNodes.get(E))).filter((E=>!!E)),_=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(h.x,h.y,k):this.document.elementsFromPoint(h.x,h.y),C=[];for(const E in _){if(!_.hasOwnProperty(E))continue;let D=_[E];for(D!=null&&C.push(D);D;)D=D.parentElement,D&&C.indexOf(D)===-1&&C.push(D)}const P=C.filter((E=>k.indexOf(E)>-1)).map((E=>this._getDropTargetId(E))).filter((E=>!!E)).filter(((E,D,A)=>A.indexOf(E)===D));if(d)for(const E in this.targetNodes){const D=this.targetNodes.get(E);if(S&&D&&D.contains(S)&&P.indexOf(E)===-1){P.unshift(E);break}}P.reverse(),this.actions.hover(P,{clientOffset:h})},this._getDropTargetId=o=>{const a=this.targetNodes.keys();let u=a.next();for(;u.done===!1;){const d=u.value;if(o===this.targetNodes.get(d))return d;u=a.next()}},this.handleTopMoveEndCapture=o=>{this._isScrolling=!1,this.lastTargetTouchFallback=void 0,(function(a){return a.buttons===void 0||(a.buttons&hj)==0})(o)&&(this.monitor.isDragging()&&!this.monitor.didDrop()?(o.cancelable&&o.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()):this.moveStartSourceIds=void 0)},this.handleCancelOnEscape=o=>{o.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new fj(s,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Qs.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Qs.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Qs.keyboard)}}const mj=function(t,e={},r={}){return new Da(t,e,r)},Xa="abcdefgh".split(""),Ou={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},gj={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},vj={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},yj=[7,6,5,4,3,2,1,0],xj=[0,1,2,3,4,5,6,7],Ly={wP:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),f.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),f.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),f.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),f.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[f.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),f.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),f.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),f.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[f.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),f.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),f.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),f.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),f.jsx("circle",{cx:"6",cy:"12",r:"2"}),f.jsx("circle",{cx:"14",cy:"9",r:"2"}),f.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),f.jsx("circle",{cx:"31",cy:"9",r:"2"}),f.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),f.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),f.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),f.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),f.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),f.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[f.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),f.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),f.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),f.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[f.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),f.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),f.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),f.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),f.jsx("circle",{cx:"6",cy:"12",r:"2"}),f.jsx("circle",{cx:"14",cy:"9",r:"2"}),f.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),f.jsx("circle",{cx:"31",cy:"9",r:"2"}),f.jsx("circle",{cx:"39",cy:"12",r:"2"}),f.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),f.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[f.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),f.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),f.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),f.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),f.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),f.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Oh(t,e,r){const s=e/8,o=t==="white"?yj:xj;return{x:(t==="white"?gj:vj)[r[0]]*s+s/2,y:o[parseInt(r[1],10)-1]*s+s/2}}function Fy(t){let e=!1;return Object.keys(Ou).forEach((r=>{t[r]!==Ou[r]&&(e=!0)})),Object.keys(t).forEach((r=>{Ou[r]!==t[r]&&(e=!0)})),e}function zy(t){return t==="start"?Ou:typeof t=="string"?(function(e){if(!(function(a){a=a.replace(/ .+$/,""),a=(function(d){return d.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")})(a);const u=a.split("/");if(u.length!==8)return!1;for(let d=0;d<8;d++)if(u[d].length!==8||u[d].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0})(e))return{};const r=(e=e.replace(/ .+$/,"")).split("/"),s={};let o=8;for(let a=0;a<8;a++){const u=r[a].split("");let d=0;for(let h=0;h<u.length;h++)u[h].search(/[1-8]/)!==-1?d+=parseInt(u[h],10):(s[Xa[d]+o]=wj(u[h]),d+=1);o-=1}return s})(t):t}function wj(t){return t.toLowerCase()===t?"b"+t.toUpperCase():"w"+t.toUpperCase()}const r1=w.createContext({}),xs=()=>w.useContext(r1),bj=w.forwardRef((({allowDragOutsideBoard:t=!0,animationDuration:e=300,areArrowsAllowed:r=!0,arePiecesDraggable:s=!0,arePremovesAllowed:o=!1,autoPromoteToQueen:a=!1,boardOrientation:u="white",boardWidth:d,children:h,clearPremovesOnRightClick:m=!0,customArrows:g,customArrowColor:y="rgb(255,170,0)",customBoardStyle:x,customDarkSquareStyle:S={backgroundColor:"#B58863"},customDropSquareStyle:k={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:_={backgroundColor:"#F0D9B5"},customPieces:C,customPremoveDarkSquareStyle:P={backgroundColor:"#A42323"},customPremoveLightSquareStyle:E={backgroundColor:"#BD2828"},customSquare:D="div",customSquareStyles:A,dropOffBoardAction:V="snapback",id:G=0,isDraggablePiece:B=(()=>!0),getPositionObject:J=(()=>{}),onArrowsChange:Q=(()=>{}),onDragOverSquare:U=(()=>{}),onMouseOutSquare:ee=(()=>{}),onMouseOverSquare:Z=(()=>{}),onPieceClick:te=(()=>{}),onPieceDragBegin:Y=(()=>{}),onPieceDragEnd:Ce=(()=>{}),onPieceDrop:ce=(()=>!0),onPromotionCheck:we=(($e,Ke,Et)=>(Et==="wP"&&$e[1]==="7"&&Ke[1]==="8"||Et==="bP"&&$e[1]==="2"&&Ke[1]==="1")&&Math.abs($e.charCodeAt(0)-Ke.charCodeAt(0))<=1),onPromotionPieceSelect:q,onSquareClick:le=(()=>{}),onSquareRightClick:ue=(()=>{}),position:j="start",promotionDialogVariant:X="default",promotionToSquare:Oe=null,showBoardNotation:ge=!0,showPromotionDialog:Ue=!1,snapToCursor:We=!0},Qe)=>{const[$e,Ke]=w.useState(zy(j)),[Et,gr]=w.useState({removed:{},added:{}}),[Bt,Rt]=w.useState(void 0),[yn,en]=w.useState(Ue&&!a),[vr,$r]=w.useState(null),[xn,Or]=w.useState(Oe),[jr,nr]=w.useState([]),N=w.useRef(jr),[M,K]=w.useState(),[me,de]=w.useState(Object.assign(Object.assign({},Ly),C)),[re,ve]=w.useState(!1),[Ge,Ze]=w.useState(),[gt,Vr]=w.useState(!1);w.useImperativeHandle(Qe,(()=>({clearPremoves(Te=!0){sn(Te)}}))),w.useEffect((()=>{de(Object.assign(Object.assign({},Ly),C))}),[C]),w.useEffect((()=>{en(Ue),Or(Oe)}),[Oe,Ue]),w.useEffect((()=>{var Te,Fe,st;De();const ft=zy(j),wt=(function(kt,L){const Ft={removed:{},added:{}};return Object.keys(kt).forEach((ot=>{L[ot]!==kt[ot]&&(Ft.removed[ot]=kt[ot])})),Object.keys(L).forEach((ot=>{kt[ot]!==L[ot]&&(Ft.added[ot]=L[ot])})),Ft})($e,ft),ht=((Te=Object.keys(wt.added))===null||Te===void 0?void 0:Te.length)<=2?(st=(Fe=Object.entries(wt.added))===null||Fe===void 0?void 0:Fe[0])===null||st===void 0?void 0:st[1][0]:void 0;if(gt)Ke(ft),Vr(!1),o&&Dr(ht),Ge&&clearTimeout(Ge);else if(re)Ke(ft),Vr(!1),o&&Dr(ht);else{Fy(ft)&&Bt!==void 0?Rt(ht):Fy(ft)?Rt(void 0):Rt("b"),gr(wt),Vr(!0);const kt=setTimeout((()=>{Ke(ft),Vr(!1),o&&Dr(ht)}),e);Ze(kt)}return ve(!1),J(ft),wn(),()=>{clearTimeout(Ge)}}),[j]);const{arrows:Rr,newArrow:tn,clearArrows:wn,drawNewArrow:rn,onArrowDrawEnd:nn}=((Te,Fe=!0,st,ft)=>{const[wt,ht]=w.useState([]),[kt,L]=w.useState([]),[Ft,ot]=w.useState();w.useEffect((()=>{Array.isArray(Te)&&ht(Te?.filter((fe=>fe[0]!==fe[1])))}),[Te]),w.useEffect((()=>{st?.(kt)}),[kt]);const zt=[...kt,...wt];return{arrows:zt,newArrow:Ft,clearArrows:function(){L([]),ot(void 0)},drawNewArrow:(fe,Ut)=>{Fe&&ot([fe,Ut,ft])},setArrows:L,onArrowDrawEnd:(fe,Ut)=>{if(fe===Ut||!Fe)return;let be;const Ye=[fe,Ut,ft];be=zt.every((([Br,Kt])=>!(Br===fe&&Kt===Ut)))?[...kt,Ye]:kt.filter((([Br,Kt])=>!(Br===fe&&Kt===Ut))),ot(void 0),L(be)}}})(g,r,Q,y);function Dr(Te){if(N.current.length===0)return;const Fe=N.current[0];if(Fe.piece[0]!==void 0&&Fe.piece[0]!==Te&&ce.length)if(Rt(Fe.piece[0]),ve(!0),ce(Fe.sourceSq,Fe.targetSq,Fe.piece)){const st=[...N.current];st.shift(),N.current=st,nr([...st])}else sn()}function sn(Te=!0){Te&&Rt(void 0),N.current=[],nr([])}function De(){$r(null),Or(null),en(!1)}const pe={animationDuration:e,arePiecesDraggable:s,arePremovesAllowed:o,boardOrientation:u,boardWidth:d,customArrowColor:y,customBoardStyle:x,customDarkSquareStyle:S,customDropSquareStyle:k,customLightSquareStyle:_,customPremoveDarkSquareStyle:P,customPremoveLightSquareStyle:E,customSquare:D,customSquareStyles:A,id:G,isDraggablePiece:B,onDragOverSquare:U,onMouseOutSquare:ee,onMouseOverSquare:Z,onPieceClick:te,onPieceDragBegin:Y,onPieceDragEnd:Ce,onPieceDrop:ce,onPromotionCheck:we,onPromotionPieceSelect:q,onSquareClick:le,showBoardNotation:ge,snapToCursor:We,promotionDialogVariant:X,allowDragOutsideBoard:t,arrows:Rr,newArrow:tn,onArrowDrawEnd:nn,chessPieces:me,clearArrows:wn,drawNewArrow:rn,clearCurrentRightClickDown:function(){K(void 0)},currentPosition:$e,handleSetPosition:function(Te,Fe,st,ft){if(Te===Fe)return;if(wn(),o&&gt||o&&(Bt===st[0]||N.current.filter((ht=>ht.piece[0]===st[0])).length>0)){const ht=[...N.current];return ht.push({sourceSq:Te,targetSq:Fe,piece:st}),N.current=ht,nr([...ht]),void De()}if(!o&&gt)return;const wt=Object.assign({},$e);ve(!!ft),Rt(st[0]),ce.length?ce(Te,Fe,st)||sn():(V!=="trash"||Fe||delete wt[Te],delete wt[Te],wt[Fe]=st,Ke(wt)),De(),J(wt)},isWaitingForAnimation:gt,lastPieceColour:Bt,onRightClickDown:function(Te){K(Te)},onRightClickUp:function(Te){if(M){if(M===Te)return K(void 0),m&&sn(!1),void ue(Te)}else K(void 0)},positionDifferences:Et,promoteFromSquare:vr,promoteToSquare:xn,premoves:jr,setPromoteFromSquare:$r,setPromoteToSquare:Or,setShowPromoteDialog:en,showPromoteDialog:yn,autoPromoteToQueen:a,currentRightClickDown:M};return f.jsx(r1.Provider,Object.assign({value:pe},{children:h}))}));function Sj({row:t,col:e}){const{boardOrientation:r,boardWidth:s,customDarkSquareStyle:o,customLightSquareStyle:a}=xs(),u=a.backgroundColor,d=o.backgroundColor,h=e===0,m=t===7;function g(){return r==="white"?8-t:t+1}function y(){return r==="black"?Xa[7-e]:Xa[e]}return h&&m?f.jsxs(f.Fragment,{children:[f.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:u}),Vy(s))},{children:g()})),f.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:u}),$y(s))},{children:y()}))]}):m?f.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:e%2!=0?d:u}),$y(s))},{children:y()})):h?f.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:t%2==0?d:u}),Vy(s))},{children:g()})):null}const $y=t=>({alignSelf:"flex-end",paddingLeft:t/8-t/48,fontSize:t/48}),Vy=t=>({alignSelf:"flex-start",paddingRight:t/8-t/48,fontSize:t/48});function By({isPremovedPiece:t=!1,piece:e,square:r,squares:s}){const{animationDuration:o,arePiecesDraggable:a,arePremovesAllowed:u,boardWidth:d,boardOrientation:h,chessPieces:m,currentPosition:g,id:y,isDraggablePiece:x,isWaitingForAnimation:S,onPieceClick:k,onPieceDragBegin:_,onPieceDragEnd:C,positionDifferences:P,premoves:E,onPromotionCheck:D}=xs(),[A,V]=w.useState({opacity:1,zIndex:5,touchAction:"none",cursor:a&&x({piece:e,sourceSquare:r})?"-webkit-grab":"default"}),[{canDrag:G,isDragging:B},J,Q]=JO((()=>({type:"piece",item:()=>(_(e,r),{piece:e,square:r,id:y}),end:()=>C(e,r),collect:U=>({canDrag:x({piece:e,sourceSquare:r}),isDragging:!!U.isDragging()})})),[e,r,g,y]);return Q((wu||(wu=new Image,wu.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),wu),{captureDraggingState:!0}),w.useEffect((()=>{V((U=>Object.assign(Object.assign({},U),{opacity:B?0:1})))}),[B]),w.useEffect((()=>{if(!u)return;let U=!1;!t&&E.find((ee=>ee.targetSq===r))&&(U=!0),E.find((ee=>ee.sourceSq===r&&ee.piece===e))&&(U=!0),V((ee=>Object.assign(Object.assign({},ee),{display:U?"none":"unset"})))}),[g,E]),w.useEffect((()=>{var U;const ee=(U=P.removed)===null||U===void 0?void 0:U[r];if(!P.added||!ee)return;const Z=Object.entries(P.added).find((([te,Y])=>Y===ee||D(r,te,ee)));if(S&&ee&&Z&&!t){const te=r,Y=Z[0];if(te&&Y){const Ce=d/8;V((ce=>Object.assign(Object.assign({},ce),{transform:`translate(${(h==="black"?-1:1)*(Y.charCodeAt(0)-te.charCodeAt(0))*Ce}px, ${(h==="black"?-1:1)*(Number(te[1])-Number(Y[1]))*Ce}px)`,transition:`transform ${o}ms`,zIndex:6})))}}}),[P]),w.useEffect((()=>{const{sourceSq:U}={sourceSq:s[r]};U&&V((ee=>Object.assign(Object.assign({},ee),{transform:"translate(0px, 0px)",transition:"transform 0ms"})))}),[g]),w.useEffect((()=>{V((U=>Object.assign(Object.assign({},U),{cursor:a&&x({piece:e,sourceSquare:r})?"-webkit-grab":"default"})))}),[r,g,a]),f.jsx("div",Object.assign({ref:a&&G?J:null,onClick:()=>k(e),"data-piece":e,style:A},{children:typeof m[e]=="function"?m[e]({squareWidth:d/8,isDragging:B,square:r}):f.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:d/8,height:d/8},{children:f.jsx("g",{children:m[e]})}))}))}function _j({square:t,squareColor:e,setSquares:r,squareHasPremove:s,children:o}){const a=w.useRef(null),{autoPromoteToQueen:u,boardWidth:d,boardOrientation:h,clearArrows:m,currentPosition:g,currentRightClickDown:y,customBoardStyle:x,customDarkSquareStyle:S,customDropSquareStyle:k,customLightSquareStyle:_,customPremoveDarkSquareStyle:C,customPremoveLightSquareStyle:P,customSquare:E,customSquareStyles:D,drawNewArrow:A,handleSetPosition:V,isWaitingForAnimation:G,lastPieceColour:B,onArrowDrawEnd:J,onDragOverSquare:Q,onMouseOutSquare:U,onMouseOverSquare:ee,onPieceDrop:Z,onPromotionCheck:te,onRightClickDown:Y,onRightClickUp:Ce,onSquareClick:ce,setPromoteFromSquare:we,setPromoteToSquare:q,setShowPromoteDialog:le}=xs(),[{isOver:ue},j]=nj((()=>({accept:"piece",drop:X,collect:ge=>({isOver:!!ge.isOver()})})),[t,g,Z,G,B]);function X(ge){te(ge.square,t,ge.piece)?u?V(ge.square,t,ge.piece[0]==="w"?"wQ":"bQ"):(we(ge.square),q(t),le(!0)):V(ge.square,t,ge.piece,!0)}w.useEffect((()=>{if(a.current){const{x:ge,y:Ue}=a.current.getBoundingClientRect();r((We=>Object.assign(Object.assign({},We),{[t]:{x:ge,y:Ue}})))}}),[d,h]);const Oe=Object.assign(Object.assign(Object.assign(Object.assign({},Cj(t,h,x)),e==="black"?S:_),s&&(e==="black"?C:P)),ue&&k);return f.jsx("div",Object.assign({ref:j,style:Oe,"data-square-color":e,"data-square":t,onMouseOver:ge=>{ge.buttons===2&&y&&A(y,t),ge.relatedTarget&&ge.currentTarget.contains(ge.relatedTarget)||ee(t)},onMouseOut:ge=>{ge.relatedTarget&&ge.currentTarget.contains(ge.relatedTarget)||U(t)},onMouseDown:ge=>{ge.button===2&&Y(t)},onMouseUp:ge=>{ge.button===2&&(y&&J(y,t),Ce(t))},onDragEnter:()=>Q(t),onClick:()=>{ce(t),m()},onContextMenu:ge=>{ge.preventDefault()}},{children:f.jsx(E,typeof E=="string"?Object.assign({ref:a,style:Object.assign(Object.assign(Object.assign({},qy(d)),Uy),!s&&D?.[t])},{children:o}):Object.assign({ref:a,square:t,squareColor:e,style:Object.assign(Object.assign(Object.assign({},qy(d)),Uy),!s&&D?.[t])},{children:o}))}))}const Uy={display:"flex",justifyContent:"center"},qy=t=>({width:t/8,height:t/8}),Cj=(t,e,r)=>r?.borderRadius?t==="a1"?e==="white"?{borderBottomLeftRadius:r.borderRadius}:{borderTopRightRadius:r.borderRadius}:t==="a8"?e==="white"?{borderTopLeftRadius:r.borderRadius}:{borderBottomRightRadius:r.borderRadius}:t==="h1"?e==="white"?{borderBottomRightRadius:r.borderRadius}:{borderTopLeftRadius:r.borderRadius}:t==="h8"?e==="white"?{borderTopRightRadius:r.borderRadius}:{borderBottomLeftRadius:r.borderRadius}:{}:{};function kj(){const[t,e]=w.useState({}),{boardOrientation:r,boardWidth:s,currentPosition:o,id:a,premoves:u,showBoardNotation:d}=xs();return f.jsx("div",Object.assign({"data-boardid":a},{children:[...Array(8)].map(((h,m)=>f.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:s}},{children:[...Array(8)].map(((g,y)=>{const x=r==="black"?Xa[7-y]+(m+1):Xa[y]+(8-m),S=y%2==m%2?"white":"black",k=u.find((C=>C.sourceSq===x||C.targetSq===x)),_=u.find((C=>C.targetSq===x));return f.jsxs(_j,Object.assign({square:x,squareColor:S,setSquares:e,squareHasPremove:!!k},{children:[o[x]&&f.jsx(By,{piece:o[x],square:x,squares:t}),_&&f.jsx(By,{isPremovedPiece:!0,piece:_.piece,square:x,squares:t}),d&&f.jsx(Sj,{row:m,col:y})]}),`${y}${m}`)}))}),m.toString())))}))}const Ej=()=>{const{arrows:t,newArrow:e,boardOrientation:r,boardWidth:s,customArrowColor:o}=xs(),a=[...t,e].filter(Boolean);return f.jsx("svg",Object.assign({width:s,height:s,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:a.map(((u,d)=>{const[h,m,g]=u;if(h===m)return null;const y=Oh(r,s,h),x=Oh(r,s,m);let S=s/32;const k=d===t.length;t.some((D=>D[0]!==h&&D[1]===m))&&!k&&(S=s/16);const _=x.x-y.x,C=x.y-y.y,P=Math.hypot(C,_),E={x:y.x+_*(P-S)/P,y:y.y+C*(P-S)/P};return f.jsxs(w.Fragment,{children:[f.jsx("marker",Object.assign({id:`arrowhead-${d}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:f.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:g??o})})),f.jsx("line",{x1:y.x,y1:y.y,x2:E.x,y2:E.y,opacity:k?"0.5":"0.65",stroke:g??o,strokeWidth:k?.9*s/40:s/40,markerEnd:`url(#arrowhead-${d})`})]},`${h}-${m}${k?"-active":""}`)}))}))};function Tj({option:t}){const[e,r]=w.useState(!1),{boardWidth:s,chessPieces:o,customDarkSquareStyle:a,customLightSquareStyle:u,handleSetPosition:d,onPromotionPieceSelect:h,promoteFromSquare:m,promoteToSquare:g,promotionDialogVariant:y}=xs(),x=()=>{switch(t[1]){case"Q":return a.backgroundColor;case"R":return u.backgroundColor;case"N":return y==="default"?u.backgroundColor:a.backgroundColor;case"B":return y==="default"?a.backgroundColor:u.backgroundColor}};return f.jsx("div",Object.assign({onClick:()=>{h?.length?h(t):d(m,g,t,!0)},onMouseOver:()=>r(!0),onMouseOut:()=>r(!1),"data-piece":t,style:{cursor:"pointer",backgroundColor:e?x():`${x()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof o[t]=="function"?f.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:o[t]({squareWidth:s/8,isDragging:!1})})):f.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:s/8,height:s/8,style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:f.jsx("g",{children:o[t]})}))}))}function Pj(){const{boardOrientation:t,boardWidth:e,promotionDialogVariant:r,promoteToSquare:s}=xs(),o=s?.[1]==="1"?"b":"w",a=[`${o??"w"}Q`,`${o??"w"}R`,`${o??"w"}N`,`${o??"w"}B`],u={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-e/8}px, ${-e/8}px)`},vertical:{transform:`translate(${-e/16}px, ${-e/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*e/8}px)`,width:"100%",height:e/4+"px",top:0,backgroundColor:"white",left:0}},d=Oh(t,e,s||"a8");return f.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${d?.y}px`,left:`${d?.x}px`,zIndex:1e3},u[r]),title:"Choose promotion piece"},{children:a.map((h=>f.jsx(Tj,{option:h},h)))}))}const Nj={whiteKing:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:f.jsx("g",{children:f.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function Oj({children:t}){try{return f.jsx(f.Fragment,{children:t})}catch(e){return console.log(e),f.jsx(n1,{showError:!0})}}function n1({showError:t=!1}){return f.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[f.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:Nj.whiteKing})),t&&f.jsx("h1",{children:"Something went wrong"})]}))}function jj(){const t=w.useRef(null),{boardWidth:e,clearCurrentRightClickDown:r,onPromotionPieceSelect:s,setShowPromoteDialog:o,showPromoteDialog:a,customBoardStyle:u}=xs();return w.useEffect((()=>{function d(h){t.current&&!t.current.contains(h.target)&&r()}return document.addEventListener("mouseup",d),()=>{document.removeEventListener("mouseup",d)}}),[]),e?f.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:f.jsxs("div",Object.assign({ref:t,style:Object.assign(Object.assign({position:"relative"},Rj(e)),u)},{children:[f.jsx(kj,{}),f.jsx(Ej,{}),a&&f.jsxs(f.Fragment,{children:[f.jsx("div",{onClick:()=>{o(!1),s?.()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:e,height:e}}),f.jsx(Pj,{})]})]}))})):f.jsx(n1,{})}const Rj=t=>({cursor:"default",height:t,width:t});function Dj({boardContainer:t}){const{boardWidth:e,chessPieces:r,id:s,snapToCursor:o,allowDragOutsideBoard:a}=xs(),u=(function(x){const S=Ri().getMonitor(),[k,_]=Ww(S,x);return w.useEffect((()=>S.subscribeToOffsetChange(_))),w.useEffect((()=>S.subscribeToStateChange(_))),k})((x=>({item:x.getItem(),clientOffset:x.getClientOffset(),sourceClientOffset:x.getSourceClientOffset(),isDragging:x.isDragging()}))),{isDragging:d,item:h,clientOffset:m,sourceClientOffset:g}=u,y=w.useCallback(((x,S)=>{if(!x||!S)return{display:"none"};let{x:k,y:_}=o?x:S;const C=e/8/2;if(o&&(k-=C,_-=C),!a){const{left:E,top:D}=t,A=E-C,V=D-C,G=E+e-C,B=D+e-C;k=Math.max(A,Math.min(k,G)),_=Math.max(V,Math.min(_,B))}const P=`translate(${k}px, ${_}px)`;return{transform:P,WebkitTransform:P,touchAction:"none"}}),[e,a,o,t]);return d&&h.id===s?f.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:f.jsx("div",Object.assign({style:y(m,g)},{children:typeof r[h.piece]=="function"?r[h.piece]({squareWidth:e/8,isDragging:!0}):f.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:e/8,height:e/8},{children:f.jsx("g",{children:r[h.piece]})}))}))})):null}const Ij=w.forwardRef(((t,e)=>{var r;const{customDndBackend:s,customDndBackendOptions:o}=t,a=(function(A,V){var G={};for(var B in A)Object.prototype.hasOwnProperty.call(A,B)&&V.indexOf(B)<0&&(G[B]=A[B]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function"){var J=0;for(B=Object.getOwnPropertySymbols(A);J<B.length;J++)V.indexOf(B[J])<0&&Object.prototype.propertyIsEnumerable.call(A,B[J])&&(G[B[J]]=A[B[J]])}return G})(t,["customDndBackend","customDndBackendOptions"]),[u,d]=w.useState(),[h,m]=w.useState(!1),[g,y]=w.useState(!1),[x,S]=w.useState(t.boardWidth),k=w.useRef(null),_=w.useRef(null),[C,P]=w.useState({left:0,top:0}),E=(r=k.current)===null||r===void 0?void 0:r.getBoundingClientRect();w.useEffect((()=>{P({left:E?.left?E?.left:0,top:E?.top?E?.top:0})}),[E]),w.useEffect((()=>{y("ontouchstart"in window),m(!0),d(window)}),[]),w.useEffect((()=>{var A;if(t.boardWidth===void 0&&(!((A=k.current)===null||A===void 0)&&A.offsetWidth)){const V=new ResizeObserver((()=>{var G;S((G=k.current)===null||G===void 0?void 0:G.offsetWidth)}));return V.observe(k.current),()=>{V.disconnect()}}}),[k.current,u]);const D=s||(g?mj:dj);return h&&u?f.jsx(Oj,{children:f.jsxs("div",Object.assign({ref:_,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[f.jsx("div",{ref:k,style:{width:"100%"}}),f.jsx(BO,Object.assign({backend:D,context:u,options:s?o:void 0},{children:x&&f.jsxs(bj,Object.assign({boardWidth:x},a,{ref:e},{children:[f.jsx(Dj,{boardContainer:C}),f.jsx(jj,{})]}))}))]}))}):null})),Aj=w.memo(function({game:e,onMove:r,orientation:s="white",isThinking:o=!1,disabled:a=!1,lastMove:u,onReset:d}){const h=w.useRef(null),[m,g]=w.useState(320),[y,x]=w.useState(null),[S,k]=w.useState({}),[_,C]=w.useState({}),[P,E]=w.useState(null);w.useEffect(()=>{const Q=()=>{if(h.current){const ee=Math.min(h.current.clientWidth,600);g(ee)}},U=new ResizeObserver(Q);return h.current&&U.observe(h.current),Q(),()=>U.disconnect()},[]),w.useEffect(()=>{if(e.inCheck()){const Q=e.board();let U="";const ee="abcdefgh";for(let Z=0;Z<8;Z++){for(let te=0;te<8;te++){const Y=Q[Z][te];if(Y&&Y.type==="k"&&Y.color===e.turn()){const Ce=ee[te],ce=8-Z;U=`${Ce}${ce}`;break}}if(U)break}if(U){C({[U]:{background:"radial-gradient(circle, rgba(255,0,0,0.8) 0%, transparent 80%)",boxShadow:"inset 0 0 10px 2px rgba(255,0,0,0.8)"}});return}}C({})},[e]);function D(Q){const U=e.moves({square:Q,verbose:!0});if(U.length===0)return;const ee={};U.forEach(Z=>{const te=e.get(Z.to),Y=e.get(Q);ee[Z.to]={background:te&&Y&&te.color!==Y.color?"radial-gradient(circle, rgba(255, 215, 0, 0.6) 40%, transparent 40%)":"radial-gradient(circle, rgba(255, 215, 0, 0.3) 25%, transparent 25%)",borderRadius:"50%"}}),ee[Q]={background:"rgba(255, 215, 0, 0.4)"},k(ee)}function A(Q){if(P&&!a){if(Q){const U=Q[1]?.toLowerCase();if(!U||!"qrbn".includes(U)||!r(P.from,P.to,U))return}E(null),x(null),k({})}}function V(Q){if(!(a||o||e.isGameOver()))if(y){if(y===Q){x(null),k({});return}const U=e.get(y);if(U?.type==="p"&&(U.color==="w"&&Q[1]==="8"||U.color==="b"&&Q[1]==="1")&&e.moves({square:y,verbose:!0}).find(ce=>ce.to===Q)){E({from:y,to:Q});return}if(r(y,Q)){x(null),k({});return}const te=e.get(Q);if(te&&te.color===e.turn()){x(Q),D(Q);return}x(null),k({})}else{const U=e.get(Q);U&&U.color===e.turn()&&(x(Q),D(Q))}}const G={...u?{[u.from]:{background:"rgba(255, 215, 0, 0.3)"},[u.to]:{background:"rgba(255, 215, 0, 0.3)"}}:{},...S,..._},B=e.isGameOver(),J=B?e.isCheckmate()?e.turn()==="w"?"en thng":"Trng thng":"Ha":"";return f.jsxs("div",{ref:h,className:`
        w-full aspect-square max-w-[680px] mx-auto 
        bg-slate-900 rounded-lg shadow-2xl overflow-hidden 
        border-[6px] border-slate-800
        transition-all duration-300
        ${o?"ring-4 ring-indigo-500/30":""}
        relative
      `,children:[f.jsx(Ij,{position:e.fen(),onPieceDrop:(Q,U,ee)=>{if(a||o||e.isGameOver())return!1;if(ee[1]==="P"&&Q[1]==="7"&&U[1]==="8"||ee[1]==="p"&&Q[1]==="2"&&U[1]==="1")return a||E({from:Q,to:U}),!1;const te=r(Q,U);return te&&(x(null),k({})),te},onSquareClick:V,customSquareStyles:G,boardOrientation:s,boardWidth:m,customDarkSquareStyle:{backgroundColor:"#312e81"},customLightSquareStyle:{backgroundColor:"#e2e8f0"},customDropSquareStyle:{boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.2)"},animationDuration:300}),P&&f.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm rounded-lg",children:f.jsxs("div",{className:"bg-slate-800 p-4 rounded-2xl flex flex-col gap-4 shadow-2xl border border-white/10 animate-in zoom-in-95",children:[f.jsx("div",{className:"text-white text-sm font-bold text-center uppercase tracking-widest opacity-50",children:"Select Promotion"}),f.jsx("div",{className:"flex gap-3",children:["q","r","b","n"].map(Q=>f.jsx("div",{className:"w-16 h-16 cursor-pointer bg-slate-700 hover:bg-indigo-600 rounded-xl p-2 transition-all hover:scale-110 active:scale-95",onClick:()=>A(`${e.turn()}${Q.toUpperCase()}`),children:f.jsx("img",{src:`https://images.chesscomfiles.com/chess-themes/pieces/neo/150/${e.turn()}${Q}.png`,alt:Q,className:"w-full h-full object-contain"})},Q))}),f.jsx(dt,{variant:"ghost",className:"text-slate-400 hover:text-white hover:bg-white/5",onClick:()=>A(void 0),children:"Cancel"})]})}),B&&f.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/70 backdrop-blur-md animate-in fade-in duration-500",children:f.jsxs("div",{className:"text-center p-8",children:[f.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl shadow-indigo-500/50 animate-bounce",children:f.jsx(dc,{className:"w-10 h-10 text-white"})}),f.jsx("h2",{className:"text-4xl font-black italic text-white mb-2 tracking-tighter",children:"GAME OVER"}),f.jsx("div",{className:"text-xl font-bold text-indigo-400 uppercase tracking-[0.2em] mb-8",children:J}),f.jsx("div",{className:"flex gap-4 justify-center",children:f.jsxs(dt,{onClick:d,className:"bg-white text-black hover:bg-slate-200 font-bold px-8 h-12 rounded-xl",children:[f.jsx(sx,{className:"w-4 h-4 mr-2"}),"Play Again"]})})]})})]})});function Mj({onFlip:t,onResign:e,onDraw:r,onReset:s,gameMode:o,disabled:a=!1}){return f.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[f.jsx(dt,{variant:"secondary",size:"icon",onClick:t,className:"bg-slate-800 hover:bg-slate-700 text-slate-200 border border-white/10",title:"Flip Board",children:f.jsx(iC,{className:"w-5 h-5"})}),o==="ai"&&f.jsxs(dt,{variant:"secondary",onClick:s,className:"bg-emerald-600/20 hover:bg-emerald-600/30 text-emerald-400 border border-emerald-500/20",children:[f.jsx(sx,{className:"w-4 h-4 mr-2"}),"Vn mi"]}),o==="online"&&f.jsxs(f.Fragment,{children:[f.jsxs(dt,{variant:"destructive",onClick:e,disabled:a,className:"bg-red-500/10 hover:bg-red-500/20 text-red-500 border border-red-500/20",children:[f.jsx(J_,{className:"w-4 h-4 mr-2"}),"Xin thua"]}),f.jsxs(dt,{variant:"secondary",onClick:r,disabled:a,className:"bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20",children:[f.jsx(tC,{className:"w-4 h-4 mr-2"}),"Xin ha"]})]})]})}var Lj=w.createContext(void 0);function wp(t){const e=w.useContext(Lj);return t||e||"ltr"}function Fj(t,[e,r]){return Math.min(r,Math.max(e,t))}function zj(t,e){return w.useReducer((r,s)=>e[r][s]??r,t)}var bp="ScrollArea",[s1]=ti(bp),[$j,vn]=s1(bp),i1=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:s="hover",dir:o,scrollHideDelay:a=600,...u}=t,[d,h]=w.useState(null),[m,g]=w.useState(null),[y,x]=w.useState(null),[S,k]=w.useState(null),[_,C]=w.useState(null),[P,E]=w.useState(0),[D,A]=w.useState(0),[V,G]=w.useState(!1),[B,J]=w.useState(!1),Q=lr(e,ee=>h(ee)),U=wp(o);return f.jsx($j,{scope:r,type:s,dir:U,scrollHideDelay:a,scrollArea:d,viewport:m,onViewportChange:g,content:y,onContentChange:x,scrollbarX:S,onScrollbarXChange:k,scrollbarXEnabled:V,onScrollbarXEnabledChange:G,scrollbarY:_,onScrollbarYChange:C,scrollbarYEnabled:B,onScrollbarYEnabledChange:J,onCornerWidthChange:E,onCornerHeightChange:A,children:f.jsx(_t.div,{dir:U,...u,ref:Q,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":D+"px",...t.style}})})});i1.displayName=bp;var o1="ScrollAreaViewport",a1=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:s,nonce:o,...a}=t,u=vn(o1,r),d=w.useRef(null),h=lr(e,d,u.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),f.jsx(_t.div,{"data-radix-scroll-area-viewport":"",...a,ref:h,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:f.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});a1.displayName=o1;var Xn="ScrollAreaScrollbar",Sp=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,o=vn(Xn,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:u}=o,d=t.orientation==="horizontal";return w.useEffect(()=>(d?a(!0):u(!0),()=>{d?a(!1):u(!1)}),[d,a,u]),o.type==="hover"?f.jsx(Vj,{...s,ref:e,forceMount:r}):o.type==="scroll"?f.jsx(Bj,{...s,ref:e,forceMount:r}):o.type==="auto"?f.jsx(l1,{...s,ref:e,forceMount:r}):o.type==="always"?f.jsx(_p,{...s,ref:e}):null});Sp.displayName=Xn;var Vj=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,o=vn(Xn,t.__scopeScrollArea),[a,u]=w.useState(!1);return w.useEffect(()=>{const d=o.scrollArea;let h=0;if(d){const m=()=>{window.clearTimeout(h),u(!0)},g=()=>{h=window.setTimeout(()=>u(!1),o.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",g)}}},[o.scrollArea,o.scrollHideDelay]),f.jsx(ri,{present:r||a,children:f.jsx(l1,{"data-state":a?"visible":"hidden",...s,ref:e})})}),Bj=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,o=vn(Xn,t.__scopeScrollArea),a=t.orientation==="horizontal",u=Tc(()=>h("SCROLL_END"),100),[d,h]=zj("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>h("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,o.scrollHideDelay,h]),w.useEffect(()=>{const m=o.viewport,g=a?"scrollLeft":"scrollTop";if(m){let y=m[g];const x=()=>{const S=m[g];y!==S&&(h("SCROLL"),u()),y=S};return m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[o.viewport,a,h,u]),f.jsx(ri,{present:r||d!=="hidden",children:f.jsx(_p,{"data-state":d==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:lt(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:lt(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),l1=w.forwardRef((t,e)=>{const r=vn(Xn,t.__scopeScrollArea),{forceMount:s,...o}=t,[a,u]=w.useState(!1),d=t.orientation==="horizontal",h=Tc(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,g=r.viewport.offsetHeight<r.viewport.scrollHeight;u(d?m:g)}},10);return Eo(r.viewport,h),Eo(r.content,h),f.jsx(ri,{present:s||a,children:f.jsx(_p,{"data-state":a?"visible":"hidden",...o,ref:e})})}),_p=w.forwardRef((t,e)=>{const{orientation:r="vertical",...s}=t,o=vn(Xn,t.__scopeScrollArea),a=w.useRef(null),u=w.useRef(0),[d,h]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=h1(d.viewport,d.content),g={...s,sizes:d,onSizesChange:h,hasThumb:m>0&&m<1,onThumbChange:x=>a.current=x,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:x=>u.current=x};function y(x,S){return Kj(x,u.current,d,S)}return r==="horizontal"?f.jsx(Uj,{...g,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const x=o.viewport.scrollLeft,S=Wy(x,d,o.dir);a.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollLeft=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollLeft=y(x,o.dir))}}):r==="vertical"?f.jsx(qj,{...g,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const x=o.viewport.scrollTop,S=Wy(x,d);a.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollTop=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollTop=y(x))}}):null}),Uj=w.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...o}=t,a=vn(Xn,t.__scopeScrollArea),[u,d]=w.useState(),h=w.useRef(null),m=lr(e,h,a.onScrollbarXChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),f.jsx(c1,{"data-orientation":"horizontal",...o,ref:m,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ec(r)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.x),onDragScroll:g=>t.onDragScroll(g.x),onWheelScroll:(g,y)=>{if(a.viewport){const x=a.viewport.scrollLeft+g.deltaX;t.onWheelScroll(x),m1(x,y)&&g.preventDefault()}},onResize:()=>{h.current&&a.viewport&&u&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:tc(u.paddingLeft),paddingEnd:tc(u.paddingRight)}})}})}),qj=w.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...o}=t,a=vn(Xn,t.__scopeScrollArea),[u,d]=w.useState(),h=w.useRef(null),m=lr(e,h,a.onScrollbarYChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),f.jsx(c1,{"data-orientation":"vertical",...o,ref:m,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ec(r)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.y),onDragScroll:g=>t.onDragScroll(g.y),onWheelScroll:(g,y)=>{if(a.viewport){const x=a.viewport.scrollTop+g.deltaY;t.onWheelScroll(x),m1(x,y)&&g.preventDefault()}},onResize:()=>{h.current&&a.viewport&&u&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:tc(u.paddingTop),paddingEnd:tc(u.paddingBottom)}})}})}),[Wj,u1]=s1(Xn),c1=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:o,onThumbChange:a,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:m,onWheelScroll:g,onResize:y,...x}=t,S=vn(Xn,r),[k,_]=w.useState(null),C=lr(e,Q=>_(Q)),P=w.useRef(null),E=w.useRef(""),D=S.viewport,A=s.content-s.viewport,V=rr(g),G=rr(h),B=Tc(y,10);function J(Q){if(P.current){const U=Q.clientX-P.current.left,ee=Q.clientY-P.current.top;m({x:U,y:ee})}}return w.useEffect(()=>{const Q=U=>{const ee=U.target;k?.contains(ee)&&V(U,A)};return document.addEventListener("wheel",Q,{passive:!1}),()=>document.removeEventListener("wheel",Q,{passive:!1})},[D,k,A,V]),w.useEffect(G,[s,G]),Eo(k,B),Eo(S.content,B),f.jsx(Wj,{scope:r,scrollbar:k,hasThumb:o,onThumbChange:rr(a),onThumbPointerUp:rr(u),onThumbPositionChange:G,onThumbPointerDown:rr(d),children:f.jsx(_t.div,{...x,ref:C,style:{position:"absolute",...x.style},onPointerDown:lt(t.onPointerDown,Q=>{Q.button===0&&(Q.target.setPointerCapture(Q.pointerId),P.current=k.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),J(Q))}),onPointerMove:lt(t.onPointerMove,J),onPointerUp:lt(t.onPointerUp,Q=>{const U=Q.target;U.hasPointerCapture(Q.pointerId)&&U.releasePointerCapture(Q.pointerId),document.body.style.webkitUserSelect=E.current,S.viewport&&(S.viewport.style.scrollBehavior=""),P.current=null})})})}),ec="ScrollAreaThumb",d1=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,o=u1(ec,t.__scopeScrollArea);return f.jsx(ri,{present:r||o.hasThumb,children:f.jsx(Hj,{ref:e,...s})})}),Hj=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:s,...o}=t,a=vn(ec,r),u=u1(ec,r),{onThumbPositionChange:d}=u,h=lr(e,y=>u.onThumbChange(y)),m=w.useRef(void 0),g=Tc(()=>{m.current&&(m.current(),m.current=void 0)},100);return w.useEffect(()=>{const y=a.viewport;if(y){const x=()=>{if(g(),!m.current){const S=Gj(y,d);m.current=S,d()}};return d(),y.addEventListener("scroll",x),()=>y.removeEventListener("scroll",x)}},[a.viewport,g,d]),f.jsx(_t.div,{"data-state":u.hasThumb?"visible":"hidden",...o,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:lt(t.onPointerDownCapture,y=>{const S=y.target.getBoundingClientRect(),k=y.clientX-S.left,_=y.clientY-S.top;u.onThumbPointerDown({x:k,y:_})}),onPointerUp:lt(t.onPointerUp,u.onThumbPointerUp)})});d1.displayName=ec;var Cp="ScrollAreaCorner",f1=w.forwardRef((t,e)=>{const r=vn(Cp,t.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?f.jsx(Qj,{...t,ref:e}):null});f1.displayName=Cp;var Qj=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,...s}=t,o=vn(Cp,r),[a,u]=w.useState(0),[d,h]=w.useState(0),m=!!(a&&d);return Eo(o.scrollbarX,()=>{const g=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(g),h(g)}),Eo(o.scrollbarY,()=>{const g=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(g),u(g)}),m?f.jsx(_t.div,{...s,ref:e,style:{width:a,height:d,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function tc(t){return t?parseInt(t,10):0}function h1(t,e){const r=t/e;return isNaN(r)?0:r}function Ec(t){const e=h1(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-r)*e;return Math.max(s,18)}function Kj(t,e,r,s="ltr"){const o=Ec(r),a=o/2,u=e||a,d=o-u,h=r.scrollbar.paddingStart+u,m=r.scrollbar.size-r.scrollbar.paddingEnd-d,g=r.content-r.viewport,y=s==="ltr"?[0,g]:[g*-1,0];return p1([h,m],y)(t)}function Wy(t,e,r="ltr"){const s=Ec(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-o,u=e.content-e.viewport,d=a-s,h=r==="ltr"?[0,u]:[u*-1,0],m=Fj(t,h);return p1([0,u],[0,d])(m)}function p1(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(r-t[0])}}function m1(t,e){return t>0&&t<e}var Gj=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},s=0;return(function o(){const a={left:t.scrollLeft,top:t.scrollTop},u=r.left!==a.left,d=r.top!==a.top;(u||d)&&e(),r=a,s=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(s)};function Tc(t,e){const r=rr(t),s=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),w.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,e)},[r,e])}function Eo(t,e){const r=rr(e);gn(()=>{let s=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return o.observe(t),()=>{window.cancelAnimationFrame(s),o.unobserve(t)}}},[t,r])}var g1=i1,Zj=a1,Yj=f1;const kp=w.forwardRef(({className:t,children:e,...r},s)=>f.jsxs(g1,{ref:s,className:at("relative overflow-hidden",t),...r,children:[f.jsx(Zj,{className:"h-full w-full rounded-[inherit]",children:e}),f.jsx(v1,{}),f.jsx(Yj,{})]}));kp.displayName=g1.displayName;const v1=w.forwardRef(({className:t,orientation:e="vertical",...r},s)=>f.jsx(Sp,{ref:s,orientation:e,className:at("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:f.jsx(d1,{className:"relative flex-1 rounded-full bg-border"})}));v1.displayName=Sp.displayName;function Xj({history:t}){const e=w.useRef(null);w.useEffect(()=>{if(e.current){const s=e.current.querySelector("[data-radix-scroll-area-viewport]");s&&(s.scrollTop=s.scrollHeight)}},[t]);const r=[];for(let s=0;s<t.length;s+=2)r.push({number:Math.floor(s/2)+1,white:t[s],black:t[s+1]||""});return f.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden flex flex-col h-full shadow-lg",children:[f.jsxs("div",{className:"px-4 py-3 bg-white/5 border-b border-white/5 flex justify-between items-center",children:[f.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-slate-400",children:"Move History"}),f.jsxs("span",{className:"text-[10px] bg-indigo-500/20 text-indigo-300 px-2 py-0.5 rounded-full font-mono",children:[t.length," moves"]})]}),f.jsx(kp,{className:"flex-1 p-4 h-[200px]",ref:e,children:f.jsx("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-y-1 gap-x-2 text-sm font-medium",children:r.map((s,o)=>f.jsxs("div",{className:"contents group",children:[f.jsxs("div",{className:"text-slate-600 font-mono py-1 text-right pr-1 group-hover:text-slate-400 transition-colors",children:[s.number,"."]}),f.jsx("div",{className:"bg-indigo-500/5 text-indigo-200 py-1 px-2 rounded hover:bg-indigo-500/10 transition-colors cursor-default text-center",children:s.white}),f.jsx("div",{className:`py-1 px-2 rounded transition-colors text-center cursor-default ${s.black?"bg-indigo-500/5 text-indigo-200 hover:bg-indigo-500/10":""}`,children:s.black})]},o))})})]})}function Hy({messages:t,onSendMessage:e,disabled:r}){const[s,o]=w.useState(""),a=w.useRef(null);w.useEffect(()=>{if(a.current){const d=a.current.querySelector("[data-radix-scroll-area-viewport]");d&&(d.scrollTop=d.scrollHeight)}},[t]);const u=d=>{d.preventDefault(),s.trim()&&(e(s),o(""))};return f.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden flex flex-col h-[300px] lg:h-full",children:[f.jsx("div",{className:"px-4 py-3 bg-white/5 border-b border-white/5",children:f.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-indigo-400",children:"Tr chuyn trc tip"})}),f.jsx(kp,{className:"flex-1 p-4",ref:a,children:f.jsxs("div",{className:"space-y-4",children:[t.length===0&&f.jsx("div",{className:"text-center text-slate-600 text-xs mt-4 italic",children:"Cha c tin nhn no. Hy ni xin cho!"}),t.map((d,h)=>f.jsxs("div",{className:`flex flex-col ${d.isMe?"items-end":"items-start"}`,children:[!d.isMe&&f.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 ml-1",children:d.sender}),f.jsx("div",{className:`
                  px-3 py-2 rounded-xl text-sm max-w-[85%] shadow-sm
                  ${d.isMe?"bg-indigo-600 text-white rounded-tr-sm":"bg-slate-800 text-slate-200 border border-white/5 rounded-tl-sm"}
                `,children:d.text})]},h))]})}),f.jsxs("form",{onSubmit:u,className:"p-3 bg-slate-900/50 border-t border-white/5 flex gap-2",children:[f.jsx(Bn,{value:s,onChange:d=>o(d.target.value),placeholder:"Nhp tin nhn...",className:"bg-slate-800 border-none focus-visible:ring-indigo-500/50",disabled:r}),f.jsx(dt,{type:"submit",size:"icon",disabled:r||!s.trim(),className:"bg-indigo-600 hover:bg-indigo-500",children:f.jsx(oC,{className:"w-4 h-4"})})]})]})}function Jj({evaluation:t,orientation:e}){const[r,s]=w.useState(50);w.useEffect(()=>{let a=0;if(t.startsWith("M")||t.startsWith("-M"))a=!t.startsWith("-")?100:-100;else{const d=parseFloat(t);isNaN(d)||(a=d)}let u=50+a*5;t.includes("M")&&(t.startsWith("-")?u=0:u=100),u=Math.max(2,Math.min(98,u)),s(u)},[t]);const o=e==="white";return f.jsxs("div",{className:"w-6 h-[400px] md:h-[500px] bg-slate-700 rounded-sm overflow-hidden flex flex-col relative border border-slate-600 shadow-inner",children:[f.jsx("div",{className:"absolute inset-0 bg-[#403d39] w-full h-full"}),f.jsx("div",{className:"absolute w-full bg-white transition-all duration-700 ease-in-out",style:{height:`${r}%`,[o?"bottom":"top"]:0}}),f.jsx("div",{className:`absolute w-full text-center text-[10px] font-bold z-10 
          ${o?r>50?"bottom-1 text-slate-800":"top-1 text-white":r>50?"top-1 text-slate-800":"bottom-1 text-white"}
      `,children:t})]})}class eR{constructor(e){this.ws=null,this.eventHandlers=new Map,this.pendingQueue=[],this.id="connecting",this.shouldReconnect=!0,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.url=e,this.connect()}connect(){let e=window.location.host,r=window.location.protocol==="https:"?"wss:":"ws:";if(_r)try{const o=new URL(_r);e=o.host,r=o.protocol==="https:"?"wss:":"ws:"}catch(o){console.error("Invalid API_BASE_URL",o)}const s=`${r}//${e}${this.url}`;console.log("Connecting to WS:",s),this.ws=new WebSocket(s),this.ws.onopen=()=>{for(console.log("WS Connected to",this.url),this.id="connected",this.reconnectAttempts=0,this.trigger("connect",{});this.pendingQueue.length>0;){const o=this.pendingQueue.shift();o&&this.ws?.send(o)}},this.ws.onmessage=o=>{try{const a=JSON.parse(o.data),{type:u,...d}=a;this.trigger(u,d)}catch(a){console.error("WS Parse Error",a)}},this.ws.onclose=()=>{console.log("WS Closed"),this.trigger("disconnect",{}),this.shouldReconnect&&this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,setTimeout(()=>this.connect(),1e3*this.reconnectAttempts))},this.ws.onerror=o=>{console.error("WS Error",o),this.trigger("connect_error",o)}}on(e,r){return this.eventHandlers.has(e)||this.eventHandlers.set(e,[]),this.eventHandlers.get(e)?.push(r),this}off(e,r){if(!r){this.eventHandlers.delete(e);return}const s=this.eventHandlers.get(e);s&&this.eventHandlers.set(e,s.filter(o=>o!==r))}emit(e,r){const s=JSON.stringify({type:e,data:r});this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(s):this.pendingQueue.push(s)}disconnect(){this.shouldReconnect=!1,this.ws&&this.ws.close()}trigger(e,r){const s=this.eventHandlers.get(e);s&&s.forEach(o=>o(r))}}class tR{constructor(){this.socket=null,this.currentTarget=null}connect(e="lobby"){if(this.socket&&this.currentTarget===e)return this.socket;this.socket&&this.socket.disconnect();const r=e==="lobby"?"/api/socket/lobby":`/api/socket/game/${e}`;return this.socket=new eR(r),this.currentTarget=e,this.socket}getSocket(){return this.socket?this.socket:this.connect("lobby")}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.currentTarget=null)}}const xi=new tR;function rR(){const{mode:t,id:e}=c0(),[r,s]=Ii(),{user:o}=Mi(),{toast:a}=Ai(),[u,d]=w.useState(new yi),[h,m]=w.useState(u.fen()),[g,y]=w.useState([]),[x,S]=w.useState("white"),[k,_]=w.useState(null),[C,P]=w.useState([]),[E,D]=w.useState(!1),[A,V]=w.useState(!0),[G,B]=w.useState(null),[J,Q]=w.useState(!1),[U,ee]=w.useState(null),[Z,te]=w.useState(t==="online"),[Y,Ce]=w.useState(null),[ce,we]=w.useState(null),[q,le]=w.useState(!1),[ue,j]=w.useState(!1),[X,Oe]=w.useState(!1),[ge,Ue]=w.useState(e!=="random"?e:null),[We,Qe]=w.useState(6e5),[$e,Ke]=w.useState(6e5),[Et,gr]=w.useState(null),[Bt,Rt]=w.useState(!1),[yn,en]=w.useState(null),{bestMove:vr,evaluation:$r,isThinking:xn,search:Or}=dO(),[jr,nr]=w.useState(t==="online"&&e==="random"),N=w.useRef(0),M=w.useRef(null),K=w.useRef(null),me=w.useRef(null),de=w.useRef(null),re=w.useRef(null);w.useEffect(()=>{if(t!=="online"||!q||J)return;let De,pe=performance.now();const Te=()=>{const Fe=performance.now(),st=Fe-pe;pe=Fe,u.turn()==="w"?Qe(wt=>Math.max(0,wt-st)):Ke(wt=>Math.max(0,wt-st)),De=requestAnimationFrame(Te)};return De=requestAnimationFrame(Te),()=>{cancelAnimationFrame(De)}},[t,q,J,u]),w.useEffect(()=>{if(t!=="online"||!o)return;const De=e==="random"||!e?"lobby":e,pe=xi.connect(De);pe.emit("identify",{userId:o.id,username:o.username,rating:o.rating});const Te=()=>Rt(!0),Fe=()=>Rt(!1),st=()=>{nr(!0),te(!0)},ft=be=>{nr(!1),te(!1),le(!0),_(be.color),S(be.color==="w"?"white":"black"),we(be.opponent),e==="random"&&s(`/game/online/${be.roomId}`,{replace:!0}),a({title:"Tm thy i th!",description:`Bn ang u vi ${be.opponent.username}`}),Ze("start",!0)},wt=be=>{if(be.white&&be.black&&le(!0),be.fen){const Ye=new yi(be.fen);d(Ye),m(be.fen)}be.white?.userId===o.id?(_("w"),S("white"),we(be.black)):be.black?.userId===o.id&&(_("b"),S("black"),we(be.white))},ht=be=>{const Ye=new yi(be.fen);d(Ye),m(be.fen),B({from:be.move.from,to:be.move.to}),Ye.isGameOver()?Ze("end"):Ye.inCheck()?Ze("check"):be.move.captured?Ze("capture"):Ze("move")},kt=be=>{Q(!0),ee(be.result),Ze("end");let Ye="Ha!";be.winnerColor&&(Ye=be.winnerColor===k?"Bn thng!":"Bn thua!"),a({title:"Kt thc vn u",description:`${Ye} (${be.result})`})},L=()=>{a({title:"i th mt kt ni",description:"Bn s c x thng nu h khng quay li.",variant:"destructive"})},Ft=be=>{P(Ye=>[...Ye,{sender:be.sender,text:be.text,isMe:be.sender===o.username}])},ot=be=>{const Ye=new yi(be.fen);d(Ye),m(be.fen)},zt=be=>{a({title:"Li",description:be.message,variant:"destructive"})},fe=be=>{le(!0),Ze("start",!0),we(k==="w"?be.black:be.white)},Ut=be=>{if(A&&!(o&&be.fromUserId&&be.fromUserId===o.id))try{const Ye=ve();if(!Ye)return;const Br=be.samples||[],Kt=be.sampleRate||Ye.sampleRate,ni=Ye.createBuffer(1,Br.length,Kt),Li=ni.getChannelData(0);for(let Jn=0;Jn<Br.length;Jn++)Li[Jn]=Br[Jn]/32767;const ke=Ye.createBufferSource();ke.buffer=ni,ke.connect(Ye.destination),ke.start()}catch(Ye){console.error("Voice playback error",Ye)}};return pe.on("connect",Te),pe.on("disconnect",Fe),pe.on("waiting_for_match",st),pe.on("match_found",ft),pe.on("room_state",wt),pe.on("game_start",fe),pe.on("move_made",ht),pe.on("game_over",kt),pe.on("player_disconnected",L),pe.on("chat_message",Ft),pe.on("sync_board",ot),pe.on("error",zt),pe.on("voice_chunk",Ut),pe.on("draw_offer",be=>{const Ye=ge||(e!=="random"?e:null);a({title:"i th mi ha",description:"Bn c chp nhn khng?",action:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(dt,{size:"sm",onClick:()=>{Ye&&(pe.emit("draw_response",{roomId:Ye,accepted:!0}),a({title:" chp nhn ha"}))},children:"Chp nhn"}),f.jsx(dt,{size:"sm",variant:"outline",onClick:()=>{Ye&&(pe.emit("draw_response",{roomId:Ye,accepted:!1}),a({title:" t chi"}))},children:"T chi"})]}),duration:1e4})}),e==="random"?pe.emit("join_random"):pe.emit("join_room",e),()=>{pe.off("connect",Te),pe.off("disconnect",Fe),pe.off("waiting_for_match",st),pe.off("match_found",ft),pe.off("room_state",wt),pe.off("game_start"),pe.off("move_made",ht),pe.off("game_over",kt),pe.off("player_disconnected",L),pe.off("chat_message",Ft),pe.off("sync_board",ot),pe.off("error",zt),pe.off("voice_chunk",Ut),pe.off("draw_offer"),e!=="random"&&pe.emit("leave_room",e)}},[t,e,o,k,A]);const ve=w.useCallback(()=>{if(M.current&&M.current.state==="running")return M.current;const De=window.AudioContext||window.webkitAudioContext;if(!De)return null;M.current||(M.current=new De);const pe=M.current;return pe&&pe.state==="suspended"&&pe.resume().catch(()=>{}),pe},[]);w.useEffect(()=>{const De=()=>{ve(),window.removeEventListener("click",De),window.removeEventListener("keydown",De)};return window.addEventListener("click",De),window.addEventListener("keydown",De),()=>{window.removeEventListener("click",De),window.removeEventListener("keydown",De),M.current&&(M.current.close().catch(console.error),M.current=null)}},[ve]),w.useEffect(()=>{if(!E||t!=="online"){re.current&&(re.current.disconnect(),re.current.onaudioprocess=null,re.current=null),de.current&&(de.current.disconnect(),de.current=null),me.current&&(me.current.getTracks().forEach(Te=>Te.stop()),me.current=null);return}let De=!1;return(async()=>{try{const Te=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0}});if(De){Te.getTracks().forEach(wt=>wt.stop());return}me.current=Te;const Fe=ve();if(!Fe)return;const st=Fe.createMediaStreamSource(Te),ft=Fe.createScriptProcessor(2048,1,1);de.current=st,re.current=ft,ft.onaudioprocess=wt=>{const ht=wt.inputBuffer.getChannelData(0),kt=new Int16Array(ht.length);for(let ot=0;ot<ht.length;ot++){let zt=ht[ot];zt>1?zt=1:zt<-1&&(zt=-1),kt[ot]=zt*32767}const L=Array.from(kt);xi.getSocket().emit("voice_chunk",{samples:L,sampleRate:wt.inputBuffer.sampleRate})},st.connect(ft),ft.connect(Fe.destination)}catch(Te){console.error("Voice capture error",Te)}})(),()=>{De=!0,re.current&&(re.current.disconnect(),re.current.onaudioprocess=null,re.current=null),de.current&&(de.current.disconnect(),de.current=null),me.current&&(me.current.getTracks().forEach(Te=>Te.stop()),me.current=null)}},[E,t,ve]);const Ge=w.useCallback(De=>{try{const pe=ve();if(!pe)return;const Te=pe.createOscillator(),Fe=pe.createGain();let st=1040,ft=.12;switch(De){case"capture":st=720;break;case"check":st=1280,ft=.2;break;case"start":st=960,ft=.3;break;case"end":st=560,ft=.5;break;default:st=1040}Te.frequency.value=st,Fe.gain.value=.3,Fe.gain.setValueAtTime(0,pe.currentTime),Fe.gain.linearRampToValueAtTime(.3,pe.currentTime+.02),Fe.gain.exponentialRampToValueAtTime(.01,pe.currentTime+ft),Te.connect(Fe),Fe.connect(pe.destination),Te.start(pe.currentTime),Te.stop(pe.currentTime+ft+.1)}catch(pe){console.error("Audio playback failed",pe)}},[ve]),Ze=w.useCallback((De,pe=!1)=>{const Te=typeof performance<"u"?performance.now():Date.now();!pe&&Te-N.current<200||(N.current=Te,!(!A&&!pe)&&Ge(De))},[A,Ge]),gt=De=>{const pe=Math.max(0,Math.floor(De/1e3)),Te=Math.floor(pe/60).toString().padStart(2,"0"),Fe=(pe%60).toString().padStart(2,"0");return`${Te}:${Fe}`},Vr=w.useCallback(()=>{const De=new yi;d(De),m(De.fen()),y([]),B(null),Q(!1),ee(null),Qe(6e5),Ke(6e5),gr(Date.now()),j(!1),K.current=null,N.current=0},[]),Rr=w.useCallback((De,pe,Te="q")=>{try{const Fe=u.fen();if(!new yi(Fe).moves({verbose:!0}).some(L=>L.from===De&&L.to===pe&&(L.promotion?L.promotion===Te:!0)))return!1;const ht=new yi(Fe),kt=ht.move({from:De,to:pe,promotion:Te});if(!kt)return!1;if(d(ht),m(ht.fen()),y(L=>[...L,`${De}-${pe}`]),B({from:De,to:pe}),t==="online"){const L=xi.getSocket();e!=="random"&&L.emit("make_move",{roomId:e,move:kt,fen:ht.fen()})}if(ht.isGameOver()){if(t!=="online"){Q(!0);let L="Ha";ht.isCheckmate()&&(L=ht.turn()==="w"?"en thng":"Trng thng"),ee(L),Ze("end")}}else ht.inCheck()?Ze("check"):kt.captured?Ze("capture"):Ze("move");return!0}catch(Fe){return console.error("Li khi thc hin nc i:",Fe),!1}},[u,Ze,t,a,s,e]);w.useEffect(()=>{!o&&t==="online"&&s("/auth")},[o,t,s]),w.useEffect(()=>{t==="ai"&&(_("w"),te(!1),le(!0))},[t]),w.useEffect(()=>{t==="ai"&&u.turn()==="b"&&!J&&Or(u.fen())},[t,u,J,Or]),w.useEffect(()=>{if(t==="ai"&&vr&&u.turn()==="b"&&!J){const De=vr.slice(0,2),pe=vr.slice(2,4),Te=vr.length>4?vr[4]:"q";setTimeout(()=>{Rr(De,pe,Te)},500)}},[vr,t,u,J,Rr]);const tn=()=>{if(t==="online"){if(confirm("Bn c chc chn mun xin thua?")){const De=ge||(e!=="random"?e:null);De&&xi.getSocket().emit("resign",De)}}else Q(!0),ee("Resignation")},wn=()=>{if(t==="online"){const De=ge||(e!=="random"?e:null);De&&(xi.getSocket().emit("offer_draw",De),j(!0),a({title:" gi yu cu ha"}))}},rn=ce?.username||"Opponent",nn=o?.username||"You",Dr=k==="w"?$e:k==="b"?We:$e,sn=k==="w"?We:k==="b"?$e:We;return f.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-indigo-500/30",children:[f.jsxs("div",{className:"h-16 border-b border-slate-800 bg-slate-900/50 backdrop-blur-md fixed top-0 w-full z-50 flex items-center px-4 lg:px-8 justify-between shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>s("/"),className:"text-slate-400 hover:text-white hover:bg-white/5 rounded-full",children:f.jsx(nx,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg shadow-indigo-500/20",children:f.jsx(cc,{className:"w-5 h-5 text-white"})}),f.jsx("h1",{className:"font-bold text-xl tracking-tight hidden sm:block bg-gradient-to-r from-white to-slate-400 bg-clip-text text-transparent",children:"Chess Master"})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[t==="online"&&f.jsxs("div",{className:`px-3 py-1.5 rounded-full text-xs font-medium flex items-center gap-2 border ${Bt?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-rose-500/10 text-rose-400 border-rose-500/20"}`,children:[Bt?f.jsx(dC,{className:"w-3.5 h-3.5"}):f.jsx(cC,{className:"w-3.5 h-3.5"}),f.jsx("span",{className:"hidden sm:inline",children:Bt?"Online":"Offline"})]}),f.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>D(!E),className:E?"text-emerald-400":"text-slate-600",children:E?f.jsx(nC,{className:"w-5 h-5"}):f.jsx(rC,{className:"w-5 h-5"})}),f.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>V(!A),className:A?"text-indigo-400":"text-slate-600",children:A?f.jsx(lC,{className:"w-5 h-5"}):f.jsx(uC,{className:"w-5 h-5"})})]})]}),f.jsxs("div",{className:"pt-24 pb-4 px-4 max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-[1fr_auto_1fr] gap-6 lg:gap-8 lg:h-[calc(100vh-6rem)]",children:[f.jsxs("div",{className:"hidden lg:flex flex-col gap-4 min-w-[300px]",children:[f.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-800 flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-xl font-bold text-slate-500",children:ce?.username?.[0]?.toUpperCase()||"?"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-lg",children:ce?.username||(jr?"ang tm...":"Waiting...")}),f.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Rating: ",ce?.rating||1200]})]})]}),f.jsxs("div",{className:"flex-1 bg-slate-900/50 rounded-xl border border-slate-800 overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"p-3 border-b border-slate-800 font-medium text-slate-400 flex items-center gap-2",children:[f.jsx(X_,{className:"w-4 h-4"})," Lch s nc i"]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:f.jsx(Xj,{history:g})})]})]}),f.jsx("div",{className:"flex flex-col items-center justify-center gap-6",children:jr?f.jsxs("div",{className:"flex flex-col items-center justify-center p-12 bg-slate-900/50 rounded-2xl border border-slate-800 animate-in fade-in zoom-in",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mb-6"}),f.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"ang tm i th..."}),f.jsx("p",{className:"text-slate-400",children:"H thng ang ghp cp ngu nhin cho bn"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full flex justify-between text-slate-400 text-sm px-2",children:[f.jsx("span",{children:rn}),f.jsx("span",{className:"font-mono text-xl text-white",children:gt(Dr)})]}),f.jsxs("div",{className:"flex gap-4 items-stretch",children:[f.jsx("div",{className:"hidden sm:block pt-2 pb-2",children:f.jsx(Jj,{evaluation:$r||"0.0",orientation:x})}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl blur opacity-25 group-hover:opacity-50 transition duration-1000"}),f.jsx(Aj,{game:u,onMove:Rr,orientation:x,isThinking:xn,disabled:t==="online"&&(!q||k===null),lastMove:G,onReset:Vr})]})]}),f.jsxs("div",{className:"w-full flex justify-between text-slate-400 text-sm px-2",children:[f.jsx("span",{children:nn}),f.jsx("span",{className:"font-mono text-xl text-white",children:gt(sn)})]}),f.jsx("div",{className:"w-full flex justify-center",children:f.jsx(Mj,{onFlip:()=>S(De=>De==="white"?"black":"white"),onResign:tn,onDraw:wn,onReset:Vr,gameMode:t==="online"?"online":t==="ai"?"ai":"offline",disabled:J||t==="online"&&(!q||k===null)})})]})}),f.jsxs("div",{className:"hidden lg:flex flex-col gap-4 min-w-[300px]",children:[f.jsx("div",{className:"flex-1 bg-slate-900/50 rounded-xl border border-slate-800 overflow-hidden",children:f.jsx(Hy,{messages:C,onSendMessage:De=>{if(t==="online"){const pe=ge||(e!=="random"?e:null);pe&&xi.getSocket().emit("chat_message",{roomId:pe,message:De})}}})}),f.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800",children:[f.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider font-bold mb-3",children:"Game Info"}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[f.jsxs("div",{className:"bg-slate-800/50 p-2 rounded",children:[f.jsx("div",{className:"text-slate-500",children:"Room ID"}),f.jsx("div",{className:"font-mono text-indigo-400 truncate",title:e,children:e==="random"?"---":e})]}),f.jsxs("div",{className:"bg-slate-800/50 p-2 rounded",children:[f.jsx("div",{className:"text-slate-500",children:"Status"}),f.jsx("div",{className:Bt?"text-emerald-400":"text-rose-400",children:Bt?"Connected":"Disconnected"})]})]})]})]})]}),t==="online"&&f.jsxs("div",{className:"lg:hidden px-4 pb-6 space-y-4",children:[f.jsx("div",{className:"bg-slate-900/50 rounded-xl border border-slate-800 overflow-hidden",children:f.jsx(Hy,{messages:C,onSendMessage:De=>{const pe=ge||(e!=="random"?e:null);pe&&xi.getSocket().emit("chat_message",{roomId:pe,message:De})}})}),f.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-xl border border-slate-800 flex items-center justify-between text-xs",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-slate-500",children:"Room"}),f.jsx("div",{className:"font-mono text-indigo-400 truncate max-w-[160px]",title:e,children:e==="random"?"---":e})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-slate-500",children:"Trng thi"}),f.jsx("div",{className:Bt?"text-emerald-400":"text-rose-400",children:Bt?"Connected":"Disconnected"})]})]})]})]})}var Hf="rovingFocusGroup.onEntryFocus",nR={bubbles:!1,cancelable:!0},Pc="RovingFocusGroup",[jh,y1,sR]=N0(Pc),[iR,x1]=ti(Pc,[sR]),[oR,aR]=iR(Pc),w1=w.forwardRef((t,e)=>f.jsx(jh.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(jh.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(lR,{...t,ref:e})})}));w1.displayName=Pc;var lR=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:o=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...y}=t,x=w.useRef(null),S=lr(e,x),k=wp(a),[_=null,C]=Uh({prop:u,defaultProp:d,onChange:h}),[P,E]=w.useState(!1),D=rr(m),A=y1(r),V=w.useRef(!1),[G,B]=w.useState(0);return w.useEffect(()=>{const J=x.current;if(J)return J.addEventListener(Hf,D),()=>J.removeEventListener(Hf,D)},[D]),f.jsx(oR,{scope:r,orientation:s,dir:k,loop:o,currentTabStopId:_,onItemFocus:w.useCallback(J=>C(J),[C]),onItemShiftTab:w.useCallback(()=>E(!0),[]),onFocusableItemAdd:w.useCallback(()=>B(J=>J+1),[]),onFocusableItemRemove:w.useCallback(()=>B(J=>J-1),[]),children:f.jsx(_t.div,{tabIndex:P||G===0?-1:0,"data-orientation":s,...y,ref:S,style:{outline:"none",...t.style},onMouseDown:lt(t.onMouseDown,()=>{V.current=!0}),onFocus:lt(t.onFocus,J=>{const Q=!V.current;if(J.target===J.currentTarget&&Q&&!P){const U=new CustomEvent(Hf,nR);if(J.currentTarget.dispatchEvent(U),!U.defaultPrevented){const ee=A().filter(ce=>ce.focusable),Z=ee.find(ce=>ce.active),te=ee.find(ce=>ce.id===_),Ce=[Z,te,...ee].filter(Boolean).map(ce=>ce.ref.current);_1(Ce,g)}}V.current=!1}),onBlur:lt(t.onBlur,()=>E(!1))})})}),b1="RovingFocusGroupItem",S1=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:o=!1,tabStopId:a,...u}=t,d=gx(),h=a||d,m=aR(b1,r),g=m.currentTabStopId===h,y=y1(r),{onFocusableItemAdd:x,onFocusableItemRemove:S}=m;return w.useEffect(()=>{if(s)return x(),()=>S()},[s,x,S]),f.jsx(jh.ItemSlot,{scope:r,id:h,focusable:s,active:o,children:f.jsx(_t.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:lt(t.onMouseDown,k=>{s?m.onItemFocus(h):k.preventDefault()}),onFocus:lt(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:lt(t.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){m.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const _=dR(k,m.orientation,m.dir);if(_!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let P=y().filter(E=>E.focusable).map(E=>E.ref.current);if(_==="last")P.reverse();else if(_==="prev"||_==="next"){_==="prev"&&P.reverse();const E=P.indexOf(k.currentTarget);P=m.loop?fR(P,E+1):P.slice(E+1)}setTimeout(()=>_1(P))}})})})});S1.displayName=b1;var uR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cR(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function dR(t,e,r){const s=cR(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return uR[s]}function _1(t,e=!1){const r=document.activeElement;for(const s of t)if(s===r||(s.focus({preventScroll:e}),document.activeElement!==r))return}function fR(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var hR=w1,pR=S1,Ep="Tabs",[mR]=ti(Ep,[x1]),C1=x1(),[gR,Tp]=mR(Ep),k1=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,onValueChange:o,defaultValue:a,orientation:u="horizontal",dir:d,activationMode:h="automatic",...m}=t,g=wp(d),[y,x]=Uh({prop:s,onChange:o,defaultProp:a});return f.jsx(gR,{scope:r,baseId:gx(),value:y,onValueChange:x,orientation:u,dir:g,activationMode:h,children:f.jsx(_t.div,{dir:g,"data-orientation":u,...m,ref:e})})});k1.displayName=Ep;var E1="TabsList",T1=w.forwardRef((t,e)=>{const{__scopeTabs:r,loop:s=!0,...o}=t,a=Tp(E1,r),u=C1(r);return f.jsx(hR,{asChild:!0,...u,orientation:a.orientation,dir:a.dir,loop:s,children:f.jsx(_t.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});T1.displayName=E1;var P1="TabsTrigger",N1=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,disabled:o=!1,...a}=t,u=Tp(P1,r),d=C1(r),h=R1(u.baseId,s),m=D1(u.baseId,s),g=s===u.value;return f.jsx(pR,{asChild:!0,...d,focusable:!o,active:g,children:f.jsx(_t.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...a,ref:e,onMouseDown:lt(t.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?u.onValueChange(s):y.preventDefault()}),onKeyDown:lt(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(s)}),onFocus:lt(t.onFocus,()=>{const y=u.activationMode!=="manual";!g&&!o&&y&&u.onValueChange(s)})})})});N1.displayName=P1;var O1="TabsContent",j1=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,forceMount:o,children:a,...u}=t,d=Tp(O1,r),h=R1(d.baseId,s),m=D1(d.baseId,s),g=s===d.value,y=w.useRef(g);return w.useEffect(()=>{const x=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(x)},[]),f.jsx(ri,{present:o||g,children:({present:x})=>f.jsx(_t.div,{"data-state":g?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:m,tabIndex:0,...u,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:x&&a})})});j1.displayName=O1;function R1(t,e){return`${t}-trigger-${e}`}function D1(t,e){return`${t}-content-${e}`}var vR=k1,I1=T1,A1=N1,M1=j1;const yR=vR,L1=w.forwardRef(({className:t,...e},r)=>f.jsx(I1,{ref:r,className:at("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));L1.displayName=I1.displayName;const Rh=w.forwardRef(({className:t,...e},r)=>f.jsx(A1,{ref:r,className:at("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Rh.displayName=A1.displayName;const Dh=w.forwardRef(({className:t,...e},r)=>f.jsx(M1,{ref:r,className:at("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Dh.displayName=M1.displayName;const F1=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:r,className:at("w-full caption-bottom text-sm",t),...e})}));F1.displayName="Table";const z1=w.forwardRef(({className:t,...e},r)=>f.jsx("thead",{ref:r,className:at("[&_tr]:border-b",t),...e}));z1.displayName="TableHeader";const $1=w.forwardRef(({className:t,...e},r)=>f.jsx("tbody",{ref:r,className:at("[&_tr:last-child]:border-0",t),...e}));$1.displayName="TableBody";const xR=w.forwardRef(({className:t,...e},r)=>f.jsx("tfoot",{ref:r,className:at("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));xR.displayName="TableFooter";const Ih=w.forwardRef(({className:t,...e},r)=>f.jsx("tr",{ref:r,className:at("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ih.displayName="TableRow";const Ta=w.forwardRef(({className:t,...e},r)=>f.jsx("th",{ref:r,className:at("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ta.displayName="TableHead";const Pa=w.forwardRef(({className:t,...e},r)=>f.jsx("td",{ref:r,className:at("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Pa.displayName="TableCell";const wR=w.forwardRef(({className:t,...e},r)=>f.jsx("caption",{ref:r,className:at("mt-4 text-sm text-muted-foreground",t),...e}));wR.displayName="TableCaption";var Pp="Avatar",[bR]=ti(Pp),[SR,V1]=bR(Pp),B1=w.forwardRef((t,e)=>{const{__scopeAvatar:r,...s}=t,[o,a]=w.useState("idle");return f.jsx(SR,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:f.jsx(_t.span,{...s,ref:e})})});B1.displayName=Pp;var U1="AvatarImage",q1=w.forwardRef((t,e)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:o=()=>{},...a}=t,u=V1(U1,r),d=_R(s,a),h=rr(m=>{o(m),u.onImageLoadingStatusChange(m)});return gn(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?f.jsx(_t.img,{...a,ref:e,src:s}):null});q1.displayName=U1;var W1="AvatarFallback",H1=w.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:s,...o}=t,a=V1(W1,r),[u,d]=w.useState(s===void 0);return w.useEffect(()=>{if(s!==void 0){const h=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(h)}},[s]),u&&a.imageLoadingStatus!=="loaded"?f.jsx(_t.span,{...o,ref:e}):null});H1.displayName=W1;function Qy(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function _R(t,{referrerPolicy:e,crossOrigin:r}){const s=kR(),o=w.useRef(null),a=s?(o.current||(o.current=new window.Image),o.current):null,[u,d]=w.useState(()=>Qy(a,t));return gn(()=>{d(Qy(a,t))},[a,t]),gn(()=>{const h=y=>()=>{d(y)};if(!a)return;const m=h("loaded"),g=h("error");return a.addEventListener("load",m),a.addEventListener("error",g),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",m),a.removeEventListener("error",g)}},[a,r,e]),u}function CR(){return()=>{}}function kR(){return w.useSyncExternalStore(CR,()=>!0,()=>!1)}var Q1=B1,K1=q1,G1=H1;const Z1=w.forwardRef(({className:t,...e},r)=>f.jsx(Q1,{ref:r,className:at(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Z1.displayName=Q1.displayName;const ER=w.forwardRef(({className:t,...e},r)=>f.jsx(K1,{ref:r,className:at("aspect-square h-full w-full",t),...e}));ER.displayName=K1.displayName;const Y1=w.forwardRef(({className:t,...e},r)=>f.jsx(G1,{ref:r,className:at("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Y1.displayName=G1.displayName;const TR="auth_token";function PR(){try{return localStorage.getItem(TR)}catch{return null}}function NR(){const{user:t}=Mi(),{toast:e}=Ai(),[r,s]=Ii(),[o,a]=w.useState(""),[u,d]=w.useState(null),{data:h,isLoading:m}=Du({queryKey:["/api/leaderboard"]}),{data:g}=Du({queryKey:["/api/users/search",o],queryFn:async()=>o?(await fetch(`${_r}/api/users/search?q=${encodeURIComponent(o)}`)).json():[],enabled:o.length>0});return f.jsxs("div",{className:"min-h-screen bg-[#020617] text-white relative p-6",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[f.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>s("/"),children:f.jsx(G_,{className:"w-6 h-6"})}),f.jsxs("h1",{className:"text-3xl font-black italic tracking-tighter",children:["Cng ng",f.jsx("span",{className:"text-indigo-500",children:"Hub"})]})]}),u&&f.jsxs(Un,{className:"bg-indigo-600/10 border-indigo-500/30 backdrop-blur-md mb-8",children:[f.jsxs(ps,{className:"flex flex-row items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 rounded-2xl bg-indigo-500/20 flex items-center justify-center border border-indigo-500/30",children:f.jsx(jv,{className:"w-8 h-8 text-indigo-400"})}),f.jsxs("div",{children:[f.jsx(ms,{className:"text-2xl text-white",children:u.username}),f.jsxs(gw,{className:"text-indigo-300",children:["Hng: ",u.rating," Elo"]})]})]}),f.jsx(dt,{variant:"outline",size:"sm",onClick:()=>d(null),children:"ng"})]}),f.jsxs(qn,{children:[f.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10 text-center",children:[f.jsx("div",{className:"text-sm text-slate-400",children:"Thng"}),f.jsx("div",{className:"text-xl font-bold text-emerald-400",children:u.wins||0})]}),f.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10 text-center",children:[f.jsx("div",{className:"text-sm text-slate-400",children:"Thua"}),f.jsx("div",{className:"text-xl font-bold text-red-400",children:u.losses||0})]}),f.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10 text-center",children:[f.jsx("div",{className:"text-sm text-slate-400",children:"Ha"}),f.jsx("div",{className:"text-xl font-bold text-amber-400",children:u.draws||0})]})]}),f.jsxs(dt,{className:"w-full bg-indigo-500 hover:bg-indigo-600",onClick:async()=>{const y=Lw(6).toUpperCase();try{const x=PR();(await fetch(`${_r}/api/invite`,{method:"POST",headers:x?{"Content-Type":"application/json",Authorization:`Bearer ${x}`}:{"Content-Type":"application/json"},body:JSON.stringify({toUserId:u.id,roomId:y})})).ok&&(e({title:" gi li mi",description:`ang ch ${u.username} chp nhn...`}),s(`/game/online/${y}`))}catch(x){console.error("Send invite failed",x)}},children:[f.jsx(ix,{className:"w-4 h-4 mr-2"}),"Gi li mi thch u"]})]})]}),f.jsxs(yR,{defaultValue:"leaderboard",className:"w-full",children:[f.jsxs(L1,{className:"grid w-full grid-cols-2 bg-slate-900/50 p-1 rounded-xl mb-8",children:[f.jsxs(Rh,{value:"leaderboard",className:"rounded-lg data-[state=active]:bg-indigo-600 data-[state=active]:text-white",children:[f.jsx(dc,{className:"w-4 h-4 mr-2"}),"Bng xp hng"]}),f.jsxs(Rh,{value:"search",className:"rounded-lg data-[state=active]:bg-indigo-600 data-[state=active]:text-white",children:[f.jsx(Ov,{className:"w-4 h-4 mr-2"}),"Tm ngi chi"]})]}),f.jsx(Dh,{value:"leaderboard",children:f.jsxs(Un,{className:"glass-card border-none text-slate-200",children:[f.jsx(ps,{children:f.jsxs(ms,{className:"flex items-center gap-2",children:[f.jsx(cc,{className:"w-6 h-6 text-yellow-500"}),"Cao th hng u"]})}),f.jsx(qn,{children:m?f.jsx("div",{className:"text-center py-8 text-slate-500",children:"ang ti..."}):f.jsxs(F1,{children:[f.jsx(z1,{children:f.jsxs(Ih,{className:"hover:bg-transparent border-white/10",children:[f.jsx(Ta,{className:"text-slate-400",children:"Hng"}),f.jsx(Ta,{className:"text-slate-400",children:"Ngi chi"}),f.jsx(Ta,{className:"text-right text-slate-400",children:"Elo"}),f.jsx(Ta,{className:"text-right text-slate-400",children:"Vn"})]})}),f.jsx($1,{children:h?.map((y,x)=>f.jsxs(Ih,{className:"hover:bg-white/5 border-white/5 cursor-pointer",onClick:()=>d(y),children:[f.jsxs(Pa,{className:"font-bold",children:[x===0&&f.jsx("span",{className:"text-yellow-500",children:""}),x===1&&f.jsx("span",{className:"text-slate-400",children:""}),x===2&&f.jsx("span",{className:"text-amber-700",children:""}),x>2&&f.jsxs("span",{className:"text-slate-500",children:["#",x+1]})]}),f.jsx(Pa,{className:"font-medium text-indigo-300",children:f.jsxs("div",{className:"flex items-center gap-2",children:[y.username,y.id!==t?.id&&f.jsx(dt,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:S=>{S.stopPropagation(),d(y)},children:f.jsx(jv,{className:"w-3 h-3"})})]})}),f.jsx(Pa,{className:"text-right font-mono font-bold",children:y.rating}),f.jsx(Pa,{className:"text-right text-slate-500",children:y.gamesPlayed})]},y.id))})]})})]})}),f.jsx(Dh,{value:"search",children:f.jsxs(Un,{className:"glass-card border-none text-slate-200",children:[f.jsxs(ps,{children:[f.jsx(ms,{children:"Tm ngi chi"}),f.jsxs("div",{className:"relative",children:[f.jsx(Ov,{className:"absolute left-3 top-3 h-4 w-4 text-slate-500"}),f.jsx(Bn,{placeholder:"Tm theo tn ti khon...",className:"pl-10 bg-slate-900/50 border-white/10 text-white",value:o,onChange:y=>a(y.target.value)})]})]}),f.jsx(qn,{children:f.jsxs("div",{className:"space-y-4",children:[g?.map(y=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-900/30 rounded-xl border border-white/5 cursor-pointer hover:border-indigo-500/50 transition-all",onClick:()=>d(y),children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Z1,{children:f.jsx(Y1,{className:"bg-indigo-600 text-white",children:y.username.substring(0,2).toUpperCase()})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-white",children:y.username}),f.jsxs("div",{className:"text-xs text-slate-500",children:["Elo: ",y.rating]})]})]}),f.jsx("div",{className:"flex gap-2",children:f.jsx(dt,{size:"sm",variant:"secondary",className:"bg-white/10 hover:bg-white/20",onClick:x=>{x.stopPropagation(),d(y)},children:"Xem Profile"})})]},y.id)),o&&g?.length===0&&f.jsx("div",{className:"text-center text-slate-500 py-8",children:"Khng tm thy ngi chi no"})]})})]})})]})]})]})}function Ln(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Di(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const X1=6048e5,OR=864e5;let jR={};function Nc(){return jR}function Ja(t,e){const r=Nc(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Ln(t),a=o.getDay(),u=(a<s?7:0)+a-s;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function rc(t){return Ja(t,{weekStartsOn:1})}function J1(t){const e=Ln(t),r=e.getFullYear(),s=Di(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=rc(s),a=Di(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const u=rc(a);return e.getTime()>=o.getTime()?r+1:e.getTime()>=u.getTime()?r:r-1}function Ky(t){const e=Ln(t);return e.setHours(0,0,0,0),e}function Gy(t){const e=Ln(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function RR(t,e){const r=Ky(t),s=Ky(e),o=+r-Gy(r),a=+s-Gy(s);return Math.round((o-a)/OR)}function DR(t){const e=J1(t),r=Di(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),rc(r)}function IR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function AR(t){if(!IR(t)&&typeof t!="number")return!1;const e=Ln(t);return!isNaN(Number(e))}function MR(t){const e=Ln(t),r=Di(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const LR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},FR=(t,e,r)=>{let s;const o=LR[t];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Qf(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const zR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$R={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BR={date:Qf({formats:zR,defaultWidth:"full"}),time:Qf({formats:$R,defaultWidth:"full"}),dateTime:Qf({formats:VR,defaultWidth:"full"})},UR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qR=(t,e,r,s)=>UR[t];function ba(t){return(e,r)=>{const s=r?.context?String(r.context):"standalone";let o;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,d=r?.width?String(r.width):u;o=t.formattingValues[d]||t.formattingValues[u]}else{const u=t.defaultWidth,d=r?.width?String(r.width):t.defaultWidth;o=t.values[d]||t.values[u]}const a=t.argumentCallback?t.argumentCallback(e):e;return o[a]}}const WR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},HR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},QR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},GR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YR=(t,e)=>{const r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},XR={ordinalNumber:YR,era:ba({values:WR,defaultWidth:"wide"}),quarter:ba({values:HR,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ba({values:QR,defaultWidth:"wide"}),day:ba({values:KR,defaultWidth:"wide"}),dayPeriod:ba({values:GR,defaultWidth:"wide",formattingValues:ZR,defaultFormattingWidth:"wide"})};function Sa(t){return(e,r={})=>{const s=r.width,o=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],a=e.match(o);if(!a)return null;const u=a[0],d=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?eD(d,y=>y.test(u)):JR(d,y=>y.test(u));let m;m=t.valueCallback?t.valueCallback(h):h,m=r.valueCallback?r.valueCallback(m):m;const g=e.slice(u.length);return{value:m,rest:g}}}function JR(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function eD(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function tD(t){return(e,r={})=>{const s=e.match(t.matchPattern);if(!s)return null;const o=s[0],a=e.match(t.parsePattern);if(!a)return null;let u=t.valueCallback?t.valueCallback(a[0]):a[0];u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}const rD=/^(\d+)(th|st|nd|rd)?/i,nD=/\d+/i,sD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iD={any:[/^b/i,/^(a|c)/i]},oD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aD={any:[/1/i,/2/i,/3/i,/4/i]},lD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pD={ordinalNumber:tD({matchPattern:rD,parsePattern:nD,valueCallback:t=>parseInt(t,10)}),era:Sa({matchPatterns:sD,defaultMatchWidth:"wide",parsePatterns:iD,defaultParseWidth:"any"}),quarter:Sa({matchPatterns:oD,defaultMatchWidth:"wide",parsePatterns:aD,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Sa({matchPatterns:lD,defaultMatchWidth:"wide",parsePatterns:uD,defaultParseWidth:"any"}),day:Sa({matchPatterns:cD,defaultMatchWidth:"wide",parsePatterns:dD,defaultParseWidth:"any"}),dayPeriod:Sa({matchPatterns:fD,defaultMatchWidth:"any",parsePatterns:hD,defaultParseWidth:"any"})},mD={code:"en-US",formatDistance:FR,formatLong:BR,formatRelative:qR,localize:XR,match:pD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gD(t){const e=Ln(t);return RR(e,MR(e))+1}function vD(t){const e=Ln(t),r=+rc(e)-+DR(e);return Math.round(r/X1)+1}function eb(t,e){const r=Ln(t),s=r.getFullYear(),o=Nc(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=Di(t,0);u.setFullYear(s+1,0,a),u.setHours(0,0,0,0);const d=Ja(u,e),h=Di(t,0);h.setFullYear(s,0,a),h.setHours(0,0,0,0);const m=Ja(h,e);return r.getTime()>=d.getTime()?s+1:r.getTime()>=m.getTime()?s:s-1}function yD(t,e){const r=Nc(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=eb(t,e),a=Di(t,0);return a.setFullYear(o,0,s),a.setHours(0,0,0,0),Ja(a,e)}function xD(t,e){const r=Ln(t),s=+Ja(r,e)-+yD(r,e);return Math.round(s/X1)+1}function St(t,e){const r=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return r+s}const qs={y(t,e){const r=t.getFullYear(),s=r>0?r:1-r;return St(e==="yy"?s%100:s,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):St(r+1,2)},d(t,e){return St(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(t,e){return St(t.getHours()%12||12,e.length)},H(t,e){return St(t.getHours(),e.length)},m(t,e){return St(t.getMinutes(),e.length)},s(t,e){return St(t.getSeconds(),e.length)},S(t,e){const r=e.length,s=t.getMilliseconds(),o=Math.trunc(s*Math.pow(10,r-3));return St(o,e.length)}},co={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Zy={G:function(t,e,r){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});default:return r.era(s,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const s=t.getFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return qs.y(t,e)},Y:function(t,e,r,s){const o=eb(t,s),a=o>0?o:1-o;if(e==="YY"){const u=a%100;return St(u,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):St(a,e.length)},R:function(t,e){const r=J1(t);return St(r,e.length)},u:function(t,e){const r=t.getFullYear();return St(r,e.length)},Q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return St(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return St(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,r){const s=t.getMonth();switch(e){case"M":case"MM":return qs.M(t,e);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,r){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return St(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,r,s){const o=xD(t,s);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):St(o,e.length)},I:function(t,e,r){const s=vD(t);return e==="Io"?r.ordinalNumber(s,{unit:"week"}):St(s,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):qs.d(t,e)},D:function(t,e,r){const s=gD(t);return e==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):St(s,e.length)},E:function(t,e,r){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,r,s){const o=t.getDay(),a=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return St(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,s){const o=t.getDay(),a=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return St(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){const s=t.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return St(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,r){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,r){const s=t.getHours();let o;switch(s===12?o=co.noon:s===0?o=co.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,r){const s=t.getHours();let o;switch(s>=17?o=co.evening:s>=12?o=co.afternoon:s>=4?o=co.morning:o=co.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return qs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):qs.H(t,e)},K:function(t,e,r){const s=t.getHours()%12;return e==="Ko"?r.ordinalNumber(s,{unit:"hour"}):St(s,e.length)},k:function(t,e,r){let s=t.getHours();return s===0&&(s=24),e==="ko"?r.ordinalNumber(s,{unit:"hour"}):St(s,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):qs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):qs.s(t,e)},S:function(t,e){return qs.S(t,e)},X:function(t,e,r){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Xy(s);case"XXXX":case"XX":return wi(s);default:return wi(s,":")}},x:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"x":return Xy(s);case"xxxx":case"xx":return wi(s);default:return wi(s,":")}},O:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Yy(s,":");default:return"GMT"+wi(s,":")}},z:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Yy(s,":");default:return"GMT"+wi(s,":")}},t:function(t,e,r){const s=Math.trunc(t.getTime()/1e3);return St(s,e.length)},T:function(t,e,r){const s=t.getTime();return St(s,e.length)}};function Yy(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),o=Math.trunc(s/60),a=s%60;return a===0?r+String(o):r+String(o)+e+St(a,2)}function Xy(t,e){return t%60===0?(t>0?"-":"+")+St(Math.abs(t)/60,2):wi(t,e)}function wi(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),o=St(Math.trunc(s/60),2),a=St(s%60,2);return r+o+e+a}const Jy=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},tb=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},wD=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return Jy(t,e);let a;switch(s){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Jy(s,e)).replace("{{time}}",tb(o,e))},bD={p:tb,P:wD},SD=/^D+$/,_D=/^Y+$/,CD=["D","DD","YY","YYYY"];function kD(t){return SD.test(t)}function ED(t){return _D.test(t)}function TD(t,e,r){const s=PD(t,e,r);if(console.warn(s),CD.includes(t))throw new RangeError(s)}function PD(t,e,r){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ND=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jD=/^'([^]*?)'?$/,RD=/''/g,DD=/[a-zA-Z]/;function ID(t,e,r){const s=Nc(),o=s.locale??mD,a=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,d=Ln(t);if(!AR(d))throw new RangeError("Invalid time value");let h=e.match(OD).map(g=>{const y=g[0];if(y==="p"||y==="P"){const x=bD[y];return x(g,o.formatLong)}return g}).join("").match(ND).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:AD(g)};if(Zy[y])return{isToken:!0,value:g};if(y.match(DD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});o.localize.preprocessor&&(h=o.localize.preprocessor(d,h));const m={firstWeekContainsDate:a,weekStartsOn:u,locale:o};return h.map(g=>{if(!g.isToken)return g.value;const y=g.value;(ED(y)||kD(y))&&TD(y,e,String(t));const x=Zy[y[0]];return x(d,y,o.localize,m)}).join("")}function AD(t){const e=t.match(jD);return e?e[1].replace(RD,"'"):t}const MD="auth_token";function bu(){try{return localStorage.getItem(MD)}catch{return null}}function LD(){const{user:t}=Mi(),e=ic(),[,r]=Ii(),{toast:s}=Ai(),[o,a]=w.useState(""),[u,d]=w.useState(!1),[h,m]=w.useState(!1),[g,y]=w.useState([]),{data:x,isLoading:S}=Du({queryKey:[`/api/games/${t?.id}`],enabled:!!t?.id});if(w.useEffect(()=>{t?.email&&a(t.email)},[t?.email]),w.useEffect(()=>{(async()=>{if(t){m(!0);try{const C=bu(),P=await fetch(`${_r}/api/inbox`,{headers:C?{Authorization:`Bearer ${C}`}:{}});if(P.ok){const E=await P.json();y(E||[])}}catch(C){console.error("Failed to load inbox",C)}finally{m(!1)}}})()},[t]),!t)return null;const k=async()=>{if(!o){s({title:"Li",description:"Vui lng nhp email",variant:"destructive"});return}d(!0);try{const _=bu(),C=await fetch(_r+"/api/user/email",{method:"POST",headers:_?{"Content-Type":"application/json",Authorization:`Bearer ${_}`}:{"Content-Type":"application/json"},body:JSON.stringify({email:o})});if(!C.ok){const P=await C.json().catch(()=>null);throw new Error(P?.message||"Lu email tht bi")}e.setQueryData([Tn.users.me.path],P=>P&&{...P,email:o}),s({title:" lu email",description:"Email s dng  t li mt khu khi qun."})}catch(_){const C=_ instanceof Error?_.message:"C li xy ra, vui lng th li";s({title:"Li",description:C,variant:"destructive"})}finally{d(!1)}};return f.jsxs("div",{className:"min-h-screen bg-[#020617] text-white p-4 md:p-8 relative overflow-hidden",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[f.jsx("header",{className:"flex items-center justify-between mb-8",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(dt,{variant:"ghost",size:"icon",onClick:()=>r("/"),className:"hover:bg-white/10 rounded-xl",children:f.jsx(nx,{className:"w-5 h-5 text-slate-400"})}),f.jsxs("h1",{className:"text-3xl font-black italic tracking-tighter",children:["H s ",f.jsx("span",{className:"text-indigo-500",children:"ngi chi"})]})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsxs(Un,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md",children:[f.jsxs(ps,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(ms,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"im Elo"}),f.jsx(dc,{className:"w-4 h-4 text-yellow-500"})]}),f.jsxs(qn,{children:[f.jsx("div",{className:"text-4xl font-black text-white",children:t.rating||0}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Elo hin ti"})]})]}),f.jsxs(Un,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md md:col-span-3",children:[f.jsx(ps,{className:"flex flex-row items-center justify-between pb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(sh,{className:"w-4 h-4 text-indigo-400"}),f.jsx(ms,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"Email ti khon"})]})}),f.jsxs(qn,{children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-stretch md:items-center",children:[f.jsx(Bn,{type:"email",placeholder:"ban@example.com",value:o,onChange:_=>a(_.target.value),className:"glass-input h-11 rounded-xl text-sm md:text-base"}),f.jsx(dt,{onClick:k,disabled:u,className:"md:w-auto w-full h-11 rounded-xl font-bold",children:u?"ang lu...":"Lu email"})]}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Email dng  nhn m khi bn bm qun mt khu."})]})]}),f.jsxs(Un,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md",children:[f.jsxs(ps,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(ms,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"S vn  chi"}),f.jsx(ix,{className:"w-4 h-4 text-indigo-500"})]}),f.jsxs(qn,{children:[f.jsx("div",{className:"text-4xl font-black text-white",children:t.gamesPlayed||0}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Tng s vn"})]})]}),f.jsxs(Un,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md",children:[f.jsxs(ps,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(ms,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"Tham gia t"}),f.jsx(Z_,{className:"w-4 h-4 text-emerald-500"})]}),f.jsxs(qn,{children:[f.jsx("div",{className:"text-xl font-bold text-white",children:"Hm nay"}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Va tham gia"})]})]}),f.jsxs(Un,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md md:col-span-3",children:[f.jsx(ps,{className:"flex flex-row items-center justify-between pb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(sh,{className:"w-4 h-4 text-indigo-400"}),f.jsx(ms,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"Hm th li mi u"})]})}),f.jsx(qn,{children:h?f.jsx("div",{className:"text-sm text-slate-500",children:"ang ti li mi..."}):g.length===0?f.jsx("div",{className:"text-sm text-slate-500",children:"Cha c li mi no."}):f.jsx("div",{className:"space-y-3",children:g.map(_=>f.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-slate-900/60 px-4 py-3",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-sm font-bold text-white",children:[_.fromUsername," mi bn u c"]}),f.jsxs("div",{className:"text-[11px] text-slate-500",children:["M phng: ",_.roomId]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(dt,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 rounded-lg",onClick:async()=>{try{const C=bu(),P=await fetch(`${_r}/api/invite/${_.id}/respond`,{method:"POST",headers:C?{"Content-Type":"application/json",Authorization:`Bearer ${C}`}:{"Content-Type":"application/json"},body:JSON.stringify({action:"accept"})});if(P.ok){const E=await P.json();y(D=>D.filter(A=>A.id!==_.id)),E.roomId&&r(`/game/online/${E.roomId}`)}}catch(C){console.error("Accept invite failed",C)}},children:"Chp nhn"}),f.jsx(dt,{size:"sm",variant:"outline",className:"rounded-lg border-red-500/40 text-red-400",onClick:async()=>{try{const C=bu();(await fetch(`${_r}/api/invite/${_.id}/respond`,{method:"POST",headers:C?{"Content-Type":"application/json",Authorization:`Bearer ${C}`}:{"Content-Type":"application/json"},body:JSON.stringify({action:"decline"})})).ok&&y(E=>E.filter(D=>D.id!==_.id))}catch(C){console.error("Decline invite failed",C)}},children:"T chi"})]})]},_.id))})})]})]}),f.jsxs("div",{className:"bg-slate-900/50 border border-white/10 rounded-3xl overflow-hidden backdrop-blur-md",children:[f.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center gap-2",children:[f.jsx(eC,{className:"w-5 h-5 text-indigo-400"}),f.jsx("h2",{className:"text-xl font-bold text-white",children:"Lch s thi u"})]}),f.jsx("div",{className:"divide-y divide-white/5",children:S?f.jsx("div",{className:"p-8 text-center text-slate-500",children:"ang ti lch s..."}):x&&x.length>0?x.map(_=>{const C=_.whitePlayerId===t.id,P=_.result||"",E=P.includes("Trng thng")?"w":P.includes("en thng")?"b":P.includes("Ha")?"draw":null,V=E===(C?"w":"b")?"bg-emerald-500":E==="draw"?"bg-slate-500":"bg-red-500",G=C?"Cm qun Trng":"Cm qun en",B=P||"Kt qu cha xc nh",J=_.createdAt?ID(new Date(_.createdAt),"MMM d, HH:mm"):"-";return f.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-white/5 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-2 h-12 rounded-full ${V}`}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-white",children:B}),f.jsx("div",{className:"text-sm text-slate-400",children:G})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-sm font-mono text-slate-500",children:J}),f.jsxs("div",{className:"text-xs text-indigo-400 mt-1",children:["ID: ",_.id]})]})]},_.id)}):f.jsx("div",{className:"p-8 text-center text-slate-500",children:"Cha c vn no. Hy bt u mt vn u!"})})]})]})]})}const FD="auth_token";function zD(){try{return localStorage.getItem(FD)}catch{return null}}function $D(){const{user:t}=Mi(),{toast:e}=Ai(),[,r]=Ii(),s=w.useRef(null);return w.useEffect(()=>{if(!t)return;let o=!1;s.current||(s.current=new Set);const a=async()=>{try{const d=zD(),h=await fetch(`${_r}/api/inbox`,{headers:d?{Authorization:`Bearer ${d}`}:{}});if(!h.ok)return;const m=await h.json();if(o||!Array.isArray(m))return;const g=s.current;m.forEach(y=>{g.has(y.id)||(g.add(y.id),e({title:"Li mi thch u mi",description:`${y.fromUsername} mun thch u vi bn!`,action:f.jsx("div",{className:"flex gap-2",children:f.jsx(dt,{size:"sm",onClick:()=>r(`/game/online/${y.roomId}`),children:"Chp nhn"})}),duration:1e4}))})}catch{}};a();const u=window.setInterval(a,1e4);return()=>{o=!0,window.clearInterval(u)}},[t,e,r]),null}function Su({component:t,...e}){const{user:r,isLoading:s}=Mi();return s?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#020617]",children:f.jsx(ku,{className:"w-10 h-10 animate-spin text-indigo-500"})}):r?f.jsx(t,{...e}):f.jsx(h0,{to:"/auth"})}function VD(){return f.jsxs(f.Fragment,{children:[f.jsx($D,{}),f.jsxs(f2,{children:[f.jsx(oo,{path:"/auth",component:F5}),f.jsx(oo,{path:"/",children:()=>f.jsx(Su,{component:z5})}),f.jsx(oo,{path:"/game/:mode/:id",children:()=>f.jsx(Su,{component:rR})}),f.jsx(oo,{path:"/social",children:()=>f.jsx(Su,{component:NR})}),f.jsx(oo,{path:"/profile",children:()=>f.jsx(Su,{component:LD})}),f.jsx(oo,{component:a5})]})]})}function BD(){return f.jsx(R2,{client:X2,children:f.jsxs(_E,{children:[f.jsx(GC,{}),f.jsx(VD,{})]})})}window.addEventListener("unhandledrejection",t=>{t.preventDefault(),console.warn("Unhandled promise rejected:",t.reason)});WS.createRoot(document.getElementById("root")).render(f.jsx(BD,{}));
