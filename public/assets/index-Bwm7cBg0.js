function VS(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();function ry(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ff={exports:{}},ua={},hf={exports:{}},st={};var Yg;function BS(){if(Yg)return st;Yg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,_={};function k(j,X,Ne){this.props=j,this.context=X,this.refs=_,this.updater=Ne||S}k.prototype.isReactComponent={},k.prototype.setState=function(j,X){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,X,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function N(){}N.prototype=k.prototype;function T(j,X,Ne){this.props=j,this.context=X,this.refs=_,this.updater=Ne||S}var R=T.prototype=new N;R.constructor=T,C(R,k.prototype),R.isPureReactComponent=!0;var M=Array.isArray,$=Object.prototype.hasOwnProperty,K={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function J(j,X,Ne){var ve,Me={},Ke=null,Ve=null;if(X!=null)for(ve in X.ref!==void 0&&(Ve=X.ref),X.key!==void 0&&(Ke=""+X.key),X)$.call(X,ve)&&!B.hasOwnProperty(ve)&&(Me[ve]=X[ve]);var We=arguments.length-2;if(We===1)Me.children=Ne;else if(1<We){for(var Le=Array(We),xt=0;xt<We;xt++)Le[xt]=arguments[xt+2];Me.children=Le}if(j&&j.defaultProps)for(ve in We=j.defaultProps,We)Me[ve]===void 0&&(Me[ve]=We[ve]);return{$$typeof:t,type:j,key:Ke,ref:Ve,props:Me,_owner:K.current}}function q(j,X){return{$$typeof:t,type:j.type,key:X,ref:j.ref,props:j.props,_owner:j._owner}}function U(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function te(j){var X={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Ne){return X[Ne]})}var Z=/\/+/g;function ee(j,X){return typeof j=="object"&&j!==null&&j.key!=null?te(""+j.key):X.toString(36)}function Y(j,X,Ne,ve,Me){var Ke=typeof j;(Ke==="undefined"||Ke==="boolean")&&(j=null);var Ve=!1;if(j===null)Ve=!0;else switch(Ke){case"string":case"number":Ve=!0;break;case"object":switch(j.$$typeof){case t:case e:Ve=!0}}if(Ve)return Ve=j,Me=Me(Ve),j=ve===""?"."+ee(Ve,0):ve,M(Me)?(Ne="",j!=null&&(Ne=j.replace(Z,"$&/")+"/"),Y(Me,X,Ne,"",function(xt){return xt})):Me!=null&&(U(Me)&&(Me=q(Me,Ne+(!Me.key||Ve&&Ve.key===Me.key?"":(""+Me.key).replace(Z,"$&/")+"/")+j)),X.push(Me)),1;if(Ve=0,ve=ve===""?".":ve+":",M(j))for(var We=0;We<j.length;We++){Ke=j[We];var Le=ve+ee(Ke,We);Ve+=Y(Ke,X,Ne,Le,Me)}else if(Le=x(j),typeof Le=="function")for(j=Le.call(j),We=0;!(Ke=j.next()).done;)Ke=Ke.value,Le=ve+ee(Ke,We++),Ve+=Y(Ke,X,Ne,Le,Me);else if(Ke==="object")throw X=String(j),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ve}function _e(j,X,Ne){if(j==null)return j;var ve=[],Me=0;return Y(j,ve,"","",function(Ke){return X.call(Ne,Ke,Me++)}),ve}function de(j){if(j._status===-1){var X=j._result;X=X(),X.then(function(Ne){(j._status===0||j._status===-1)&&(j._status=1,j._result=Ne)},function(Ne){(j._status===0||j._status===-1)&&(j._status=2,j._result=Ne)}),j._status===-1&&(j._status=0,j._result=X)}if(j._status===1)return j._result.default;throw j._result}var be={current:null},W={transition:null},ce={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:W,ReactCurrentOwner:K};function oe(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:_e,forEach:function(j,X,Ne){_e(j,function(){X.apply(this,arguments)},Ne)},count:function(j){var X=0;return _e(j,function(){X++}),X},toArray:function(j){return _e(j,function(X){return X})||[]},only:function(j){if(!U(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},st.Component=k,st.Fragment=r,st.Profiler=o,st.PureComponent=T,st.StrictMode=s,st.Suspense=h,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,st.act=oe,st.cloneElement=function(j,X,Ne){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var ve=C({},j.props),Me=j.key,Ke=j.ref,Ve=j._owner;if(X!=null){if(X.ref!==void 0&&(Ke=X.ref,Ve=K.current),X.key!==void 0&&(Me=""+X.key),j.type&&j.type.defaultProps)var We=j.type.defaultProps;for(Le in X)$.call(X,Le)&&!B.hasOwnProperty(Le)&&(ve[Le]=X[Le]===void 0&&We!==void 0?We[Le]:X[Le])}var Le=arguments.length-2;if(Le===1)ve.children=Ne;else if(1<Le){We=Array(Le);for(var xt=0;xt<Le;xt++)We[xt]=arguments[xt+2];ve.children=We}return{$$typeof:t,type:j.type,key:Me,ref:Ke,props:ve,_owner:Ve}},st.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},st.createElement=J,st.createFactory=function(j){var X=J.bind(null,j);return X.type=j,X},st.createRef=function(){return{current:null}},st.forwardRef=function(j){return{$$typeof:d,render:j}},st.isValidElement=U,st.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:de}},st.memo=function(j,X){return{$$typeof:m,type:j,compare:X===void 0?null:X}},st.startTransition=function(j){var X=W.transition;W.transition={};try{j()}finally{W.transition=X}},st.unstable_act=oe,st.useCallback=function(j,X){return be.current.useCallback(j,X)},st.useContext=function(j){return be.current.useContext(j)},st.useDebugValue=function(){},st.useDeferredValue=function(j){return be.current.useDeferredValue(j)},st.useEffect=function(j,X){return be.current.useEffect(j,X)},st.useId=function(){return be.current.useId()},st.useImperativeHandle=function(j,X,Ne){return be.current.useImperativeHandle(j,X,Ne)},st.useInsertionEffect=function(j,X){return be.current.useInsertionEffect(j,X)},st.useLayoutEffect=function(j,X){return be.current.useLayoutEffect(j,X)},st.useMemo=function(j,X){return be.current.useMemo(j,X)},st.useReducer=function(j,X,Ne){return be.current.useReducer(j,X,Ne)},st.useRef=function(j){return be.current.useRef(j)},st.useState=function(j){return be.current.useState(j)},st.useSyncExternalStore=function(j,X,Ne){return be.current.useSyncExternalStore(j,X,Ne)},st.useTransition=function(){return be.current.useTransition()},st.version="18.3.1",st}var Xg;function rc(){return Xg||(Xg=1,hf.exports=BS()),hf.exports}var Jg;function US(){if(Jg)return ua;Jg=1;var t=rc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var g,y={},x=null,S=null;m!==void 0&&(x=""+m),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)s.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:d,key:x,ref:S,props:y,_owner:o.current}}return ua.Fragment=r,ua.jsx=u,ua.jsxs=u,ua}var ev;function qS(){return ev||(ev=1,ff.exports=US()),ff.exports}var f=qS(),cu={},pf={exports:{}},Ur={},mf={exports:{}},gf={};var tv;function WS(){return tv||(tv=1,(function(t){function e(W,ce){var oe=W.length;W.push(ce);e:for(;0<oe;){var j=oe-1>>>1,X=W[j];if(0<o(X,ce))W[j]=ce,W[oe]=X,oe=j;else break e}}function r(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ce=W[0],oe=W.pop();if(oe!==ce){W[0]=oe;e:for(var j=0,X=W.length,Ne=X>>>1;j<Ne;){var ve=2*(j+1)-1,Me=W[ve],Ke=ve+1,Ve=W[Ke];if(0>o(Me,oe))Ke<X&&0>o(Ve,Me)?(W[j]=Ve,W[Ke]=oe,j=Ke):(W[j]=Me,W[ve]=oe,j=ve);else if(Ke<X&&0>o(Ve,oe))W[j]=Ve,W[Ke]=oe,j=Ke;else break e}}return ce}function o(W,ce){var oe=W.sortIndex-ce.sortIndex;return oe!==0?oe:W.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],g=1,y=null,x=3,S=!1,C=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(W){for(var ce=r(m);ce!==null;){if(ce.callback===null)s(m);else if(ce.startTime<=W)s(m),ce.sortIndex=ce.expirationTime,e(h,ce);else break;ce=r(m)}}function M(W){if(_=!1,R(W),!C)if(r(h)!==null)C=!0,de($);else{var ce=r(m);ce!==null&&be(M,ce.startTime-W)}}function $(W,ce){C=!1,_&&(_=!1,N(J),J=-1),S=!0;var oe=x;try{for(R(ce),y=r(h);y!==null&&(!(y.expirationTime>ce)||W&&!te());){var j=y.callback;if(typeof j=="function"){y.callback=null,x=y.priorityLevel;var X=j(y.expirationTime<=ce);ce=t.unstable_now(),typeof X=="function"?y.callback=X:y===r(h)&&s(h),R(ce)}else s(h);y=r(h)}if(y!==null)var Ne=!0;else{var ve=r(m);ve!==null&&be(M,ve.startTime-ce),Ne=!1}return Ne}finally{y=null,x=oe,S=!1}}var K=!1,B=null,J=-1,q=5,U=-1;function te(){return!(t.unstable_now()-U<q)}function Z(){if(B!==null){var W=t.unstable_now();U=W;var ce=!0;try{ce=B(!0,W)}finally{ce?ee():(K=!1,B=null)}}else K=!1}var ee;if(typeof T=="function")ee=function(){T(Z)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,_e=Y.port2;Y.port1.onmessage=Z,ee=function(){_e.postMessage(null)}}else ee=function(){k(Z,0)};function de(W){B=W,K||(K=!0,ee())}function be(W,ce){J=k(function(){W(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){C||S||(C=!0,de($))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(W){switch(x){case 1:case 2:case 3:var ce=3;break;default:ce=x}var oe=x;x=ce;try{return W()}finally{x=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,ce){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var oe=x;x=W;try{return ce()}finally{x=oe}},t.unstable_scheduleCallback=function(W,ce,oe){var j=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?j+oe:j):oe=j,W){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=oe+X,W={id:g++,callback:ce,priorityLevel:W,startTime:oe,expirationTime:X,sortIndex:-1},oe>j?(W.sortIndex=oe,e(m,W),r(h)===null&&W===r(m)&&(_?(N(J),J=-1):_=!0,be(M,oe-j))):(W.sortIndex=X,e(h,W),C||S||(C=!0,de($))),W},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(W){var ce=x;return function(){var oe=x;x=ce;try{return W.apply(this,arguments)}finally{x=oe}}}})(gf)),gf}var rv;function HS(){return rv||(rv=1,mf.exports=WS()),mf.exports}var nv;function QS(){if(nv)return Ur;nv=1;var t=rc(),e=HS();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function x(n){return h.call(y,n)?!0:h.call(g,n)?!1:m.test(n)?y[n]=!0:(g[n]=!0,!1)}function S(n,i,l,c){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function C(n,i,l,c){if(i===null||typeof i>"u"||S(n,i,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function _(n,i,l,c,p,v,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=n,this.type=i,this.sanitizeURL=v,this.removeEmptyString=b}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){k[n]=new _(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];k[i]=new _(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){k[n]=new _(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){k[n]=new _(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){k[n]=new _(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){k[n]=new _(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){k[n]=new _(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){k[n]=new _(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){k[n]=new _(n,5,!1,n.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function T(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(N,T);k[i]=new _(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(N,T);k[i]=new _(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(N,T);k[i]=new _(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){k[n]=new _(n,1,!1,n.toLowerCase(),null,!1,!1)}),k.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){k[n]=new _(n,1,!1,n.toLowerCase(),null,!0,!0)});function R(n,i,l,c){var p=k.hasOwnProperty(i)?k[i]:null;(p!==null?p.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(C(i,l,p,c)&&(l=null),c||p===null?x(i)&&(l===null?n.removeAttribute(i):n.setAttribute(i,""+l)):p.mustUseProperty?n[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,c=p.attributeNamespace,l===null?n.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,c?n.setAttributeNS(c,i,l):n.setAttribute(i,l))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),K=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),te=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),W=Symbol.iterator;function ce(n){return n===null||typeof n!="object"?null:(n=W&&n[W]||n["@@iterator"],typeof n=="function"?n:null)}var oe=Object.assign,j;function X(n){if(j===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||""}return`
`+j+n}var Ne=!1;function ve(n,i){if(!n||Ne)return"";Ne=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(V){var c=V}Reflect.construct(n,[],i)}else{try{i.call()}catch(V){c=V}n.call(i.prototype)}else{try{throw Error()}catch(V){c=V}n()}}catch(V){if(V&&c&&typeof V.stack=="string"){for(var p=V.stack.split(`
`),v=c.stack.split(`
`),b=p.length-1,E=v.length-1;1<=b&&0<=E&&p[b]!==v[E];)E--;for(;1<=b&&0<=E;b--,E--)if(p[b]!==v[E]){if(b!==1||E!==1)do if(b--,E--,0>E||p[b]!==v[E]){var O=`
`+p[b].replace(" at new "," at ");return n.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",n.displayName)),O}while(1<=b&&0<=E);break}}}finally{Ne=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?X(n):""}function Me(n){switch(n.tag){case 5:return X(n.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return n=ve(n.type,!1),n;case 11:return n=ve(n.type.render,!1),n;case 1:return n=ve(n.type,!0),n;default:return""}}function Ke(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case K:return"Portal";case q:return"Profiler";case J:return"StrictMode";case ee:return"Suspense";case Y:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case te:return(n.displayName||"Context")+".Consumer";case U:return(n._context.displayName||"Context")+".Provider";case Z:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _e:return i=n.displayName||null,i!==null?i:Ke(n.type)||"Memo";case de:i=n._payload,n=n._init;try{return Ke(n(i))}catch{}}return null}function Ve(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ke(i);case 8:return i===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function We(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Le(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xt(n){var i=Le(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return p.call(this)},set:function(b){c=""+b,v.call(this,b)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function dr(n){n._valueTracker||(n._valueTracker=xt(n))}function Qt(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return n&&(c=Le(n)?n.checked?"true":"false":n.value),n=c,n!==l?(i.setValue(n),!0):!1}function Ot(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function br(n,i){var l=i.checked;return oe({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function qr(n,i){var l=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;l=We(i.value!=null?i.value:l),n._wrapperState={initialChecked:c,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function mt(n,i){i=i.checked,i!=null&&R(n,"checked",i,!1)}function Te(n,i){mt(n,i);var l=We(i.value),c=i.type;if(l!=null)c==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Sr(n,i.type,l):i.hasOwnProperty("defaultValue")&&Sr(n,i.type,We(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function kt(n,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,l||i===n.value||(n.value=i),n.defaultValue=i}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function Sr(n,i,l){(i!=="number"||Ot(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var Or=Array.isArray;function rr(n,i,l,c){if(n=n.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<n.length;l++)p=i.hasOwnProperty("$"+n[l].value),n[l].selected!==p&&(n[l].selected=p),p&&c&&(n[l].defaultSelected=!0)}else{for(l=""+We(l),i=null,p=0;p<n.length;p++){if(n[p].value===l){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}i!==null||n[p].disabled||(i=n[p])}i!==null&&(i.selected=!0)}}function P(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return oe({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function F(n,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(r(92));if(Or(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),l=i}n._wrapperState={initialValue:We(l)}}function G(n,i){var l=We(i.value),c=We(i.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),i.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),c!=null&&(n.defaultValue=""+c)}function ge(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function pe(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ie(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?pe(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ye,Ge=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,c,p){MSApp.execUnsafeLocalFunction(function(){return n(i,l,c,p)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(ye=ye||document.createElement("div"),ye.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ye.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function lt(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jr=["Webkit","ms","Moz","O"];Object.keys(ft).forEach(function(n){jr.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),ft[i]=ft[n]})});function Wr(n,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||ft.hasOwnProperty(n)&&ft[n]?(""+i).trim():i+"px"}function Tt(n,i){n=n.style;for(var l in i)if(i.hasOwnProperty(l)){var c=l.indexOf("--")===0,p=Wr(l,i[l],c);l==="float"&&(l="cssFloat"),c?n.setProperty(l,p):n[l]=p}}var sn=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fr(n,i){if(i){if(sn[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function _r(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lr=null;function on(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var an=null,hr=null,it=null;function Ct(n){if(n=Ko(n)){if(typeof an!="function")throw Error(r(280));var i=n.stateNode;i&&(i=kl(i),an(n.stateNode,n.type,i))}}function Et(n){hr?it?it.push(n):it=[n]:hr=n}function fe(){if(hr){var n=hr,i=it;if(it=hr=null,Ct(n),i)for(n=0;n<i.length;n++)Ct(i[n])}}function me(n,i){return n(i)}function Ae(){}var Be=!1;function A(n,i,l){if(Be)return n(i,l);Be=!0;try{return me(n,i,l)}finally{Be=!1,(hr!==null||it!==null)&&(Ae(),fe())}}function nt(n,i){var l=n.stateNode;if(l===null)return null;var c=kl(l);if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var rt=!1;if(d)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){rt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch{rt=!1}function le(n,i,l,c,p,v,b,E,O){var V=Array.prototype.slice.call(arguments,3);try{i.apply(l,V)}catch(se){this.onError(se)}}var nr=!1,Nt=null,pr=!1,Xn=null,sr={onError:function(n){nr=!0,Nt=n}};function tl(n,i,l,c,p,v,b,E,O){nr=!1,Nt=null,le.apply(sr,arguments)}function rl(n,i,l,c,p,v,b,E,O){if(tl.apply(this,arguments),nr){if(nr){var V=Nt;nr=!1,Nt=null}else throw Error(r(198));pr||(pr=!0,Xn=V)}}function Pe(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function nl(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function Eo(n){if(Pe(n)!==n)throw Error(r(188))}function Pc(n){var i=n.alternate;if(!i){if(i=Pe(n),i===null)throw Error(r(188));return i!==n?null:n}for(var l=n,c=i;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return Eo(p),n;if(v===c)return Eo(p),i;v=v.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=v;else{for(var b=!1,E=p.child;E;){if(E===l){b=!0,l=p,c=v;break}if(E===c){b=!0,c=p,l=v;break}E=E.sibling}if(!b){for(E=v.child;E;){if(E===l){b=!0,l=v,c=p;break}if(E===c){b=!0,c=v,l=p;break}E=E.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:i}function No(n){return n=Pc(n),n!==null?sl(n):null}function sl(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=sl(n);if(i!==null)return i;n=n.sibling}return null}var il=e.unstable_scheduleCallback,ol=e.unstable_cancelCallback,al=e.unstable_shouldYield,ll=e.unstable_requestPaint,At=e.unstable_now,Oc=e.unstable_getCurrentPriorityLevel,Po=e.unstable_ImmediatePriority,Oo=e.unstable_UserBlockingPriority,xs=e.unstable_NormalPriority,jc=e.unstable_LowPriority,ul=e.unstable_IdlePriority,ni=null,ln=null;function mr(n){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(ni,n,void 0,(n.current.flags&128)===128)}catch{}}var I=Math.clz32?Math.clz32:Ie,H=Math.log,Q=Math.LN2;function Ie(n){return n>>>=0,n===0?32:31-(H(n)/Q|0)|0}var Re=64,ct=4194304;function Hr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Jn(n,i){var l=n.pendingLanes;if(l===0)return 0;var c=0,p=n.suspendedLanes,v=n.pingedLanes,b=l&268435455;if(b!==0){var E=b&~p;E!==0?c=Hr(E):(v&=b,v!==0&&(c=Hr(v)))}else b=l&~p,b!==0?c=Hr(b):v!==0&&(c=Hr(v));if(c===0)return 0;if(i!==0&&i!==c&&(i&p)===0&&(p=c&-c,v=i&-i,p>=v||p===16&&(v&4194240)!==0))return i;if((c&4)!==0&&(c|=l&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)l=31-I(i),p=1<<l,c|=n[l],i&=~p;return c}function ob(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ab(n,i){for(var l=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,v=n.pendingLanes;0<v;){var b=31-I(v),E=1<<b,O=p[b];O===-1?((E&l)===0||(E&c)!==0)&&(p[b]=ob(E,i)):O<=i&&(n.expiredLanes|=E),v&=~E}}function Dc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Np(){var n=Re;return Re<<=1,(Re&4194240)===0&&(Re=64),n}function Rc(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function jo(n,i,l){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-I(i),n[i]=l}function lb(n,i){var l=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<l;){var p=31-I(l),v=1<<p;i[p]=0,c[p]=-1,n[p]=-1,l&=~v}}function Ic(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var c=31-I(l),p=1<<c;p&i|n[c]&i&&(n[c]|=i),l&=~p}}var wt=0;function Pp(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Op,Ac,jp,Dp,Rp,Mc=!1,cl=[],ws=null,bs=null,Ss=null,Do=new Map,Ro=new Map,_s=[],ub="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ip(n,i){switch(n){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Do.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(i.pointerId)}}function Io(n,i,l,c,p,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[p]},i!==null&&(i=Ko(i),i!==null&&Ac(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),n)}function cb(n,i,l,c,p){switch(i){case"focusin":return ws=Io(ws,n,i,l,c,p),!0;case"dragenter":return bs=Io(bs,n,i,l,c,p),!0;case"mouseover":return Ss=Io(Ss,n,i,l,c,p),!0;case"pointerover":var v=p.pointerId;return Do.set(v,Io(Do.get(v)||null,n,i,l,c,p)),!0;case"gotpointercapture":return v=p.pointerId,Ro.set(v,Io(Ro.get(v)||null,n,i,l,c,p)),!0}return!1}function Ap(n){var i=si(n.target);if(i!==null){var l=Pe(i);if(l!==null){if(i=l.tag,i===13){if(i=nl(l),i!==null){n.blockedOn=i,Rp(n.priority,function(){jp(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function dl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=Fc(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);Lr=c,l.target.dispatchEvent(c),Lr=null}else return i=Ko(l),i!==null&&Ac(i),n.blockedOn=l,!1;i.shift()}return!0}function Mp(n,i,l){dl(n)&&l.delete(i)}function db(){Mc=!1,ws!==null&&dl(ws)&&(ws=null),bs!==null&&dl(bs)&&(bs=null),Ss!==null&&dl(Ss)&&(Ss=null),Do.forEach(Mp),Ro.forEach(Mp)}function Ao(n,i){n.blockedOn===i&&(n.blockedOn=null,Mc||(Mc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,db)))}function Mo(n){function i(p){return Ao(p,n)}if(0<cl.length){Ao(cl[0],n);for(var l=1;l<cl.length;l++){var c=cl[l];c.blockedOn===n&&(c.blockedOn=null)}}for(ws!==null&&Ao(ws,n),bs!==null&&Ao(bs,n),Ss!==null&&Ao(Ss,n),Do.forEach(i),Ro.forEach(i),l=0;l<_s.length;l++)c=_s[l],c.blockedOn===n&&(c.blockedOn=null);for(;0<_s.length&&(l=_s[0],l.blockedOn===null);)Ap(l),l.blockedOn===null&&_s.shift()}var Ri=M.ReactCurrentBatchConfig,fl=!0;function fb(n,i,l,c){var p=wt,v=Ri.transition;Ri.transition=null;try{wt=1,Lc(n,i,l,c)}finally{wt=p,Ri.transition=v}}function hb(n,i,l,c){var p=wt,v=Ri.transition;Ri.transition=null;try{wt=4,Lc(n,i,l,c)}finally{wt=p,Ri.transition=v}}function Lc(n,i,l,c){if(fl){var p=Fc(n,i,l,c);if(p===null)td(n,i,c,hl,l),Ip(n,c);else if(cb(p,n,i,l,c))c.stopPropagation();else if(Ip(n,c),i&4&&-1<ub.indexOf(n)){for(;p!==null;){var v=Ko(p);if(v!==null&&Op(v),v=Fc(n,i,l,c),v===null&&td(n,i,c,hl,l),v===p)break;p=v}p!==null&&c.stopPropagation()}else td(n,i,c,null,l)}}var hl=null;function Fc(n,i,l,c){if(hl=null,n=on(c),n=si(n),n!==null)if(i=Pe(n),i===null)n=null;else if(l=i.tag,l===13){if(n=nl(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return hl=n,null}function Lp(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oc()){case Po:return 1;case Oo:return 4;case xs:case jc:return 16;case ul:return 536870912;default:return 16}default:return 16}}var Cs=null,zc=null,pl=null;function Fp(){if(pl)return pl;var n,i=zc,l=i.length,c,p="value"in Cs?Cs.value:Cs.textContent,v=p.length;for(n=0;n<l&&i[n]===p[n];n++);var b=l-n;for(c=1;c<=b&&i[l-c]===p[v-c];c++);return pl=p.slice(n,1<c?1-c:void 0)}function ml(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function gl(){return!0}function zp(){return!1}function Qr(n){function i(l,c,p,v,b){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(l=n[E],this[E]=l?l(v):v[E]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?gl:zp,this.isPropagationStopped=zp,this}return oe(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gl)},persist:function(){},isPersistent:gl}),i}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$c=Qr(Ii),Lo=oe({},Ii,{view:0,detail:0}),pb=Qr(Lo),Vc,Bc,Fo,vl=oe({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fo&&(Fo&&n.type==="mousemove"?(Vc=n.screenX-Fo.screenX,Bc=n.screenY-Fo.screenY):Bc=Vc=0,Fo=n),Vc)},movementY:function(n){return"movementY"in n?n.movementY:Bc}}),$p=Qr(vl),mb=oe({},vl,{dataTransfer:0}),gb=Qr(mb),vb=oe({},Lo,{relatedTarget:0}),Uc=Qr(vb),yb=oe({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),xb=Qr(yb),wb=oe({},Ii,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),bb=Qr(wb),Sb=oe({},Ii,{data:0}),Vp=Qr(Sb),_b={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tb(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=kb[n])?!!i[n]:!1}function qc(){return Tb}var Eb=oe({},Lo,{key:function(n){if(n.key){var i=_b[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ml(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Cb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qc,charCode:function(n){return n.type==="keypress"?ml(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ml(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Nb=Qr(Eb),Pb=oe({},vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bp=Qr(Pb),Ob=oe({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qc}),jb=Qr(Ob),Db=oe({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rb=Qr(Db),Ib=oe({},vl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ab=Qr(Ib),Mb=[9,13,27,32],Wc=d&&"CompositionEvent"in window,zo=null;d&&"documentMode"in document&&(zo=document.documentMode);var Lb=d&&"TextEvent"in window&&!zo,Up=d&&(!Wc||zo&&8<zo&&11>=zo),qp=" ",Wp=!1;function Hp(n,i){switch(n){case"keyup":return Mb.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ai=!1;function Fb(n,i){switch(n){case"compositionend":return Qp(i);case"keypress":return i.which!==32?null:(Wp=!0,qp);case"textInput":return n=i.data,n===qp&&Wp?null:n;default:return null}}function zb(n,i){if(Ai)return n==="compositionend"||!Wc&&Hp(n,i)?(n=Fp(),pl=zc=Cs=null,Ai=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Up&&i.locale!=="ko"?null:i.data;default:return null}}var $b={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!$b[n.type]:i==="textarea"}function Gp(n,i,l,c){Et(c),i=Sl(i,"onChange"),0<i.length&&(l=new $c("onChange","change",null,l,c),n.push({event:l,listeners:i}))}var $o=null,Vo=null;function Vb(n){hm(n,0)}function yl(n){var i=$i(n);if(Qt(i))return n}function Bb(n,i){if(n==="change")return i}var Zp=!1;if(d){var Hc;if(d){var Qc="oninput"in document;if(!Qc){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),Qc=typeof Yp.oninput=="function"}Hc=Qc}else Hc=!1;Zp=Hc&&(!document.documentMode||9<document.documentMode)}function Xp(){$o&&($o.detachEvent("onpropertychange",Jp),Vo=$o=null)}function Jp(n){if(n.propertyName==="value"&&yl(Vo)){var i=[];Gp(i,Vo,n,on(n)),A(Vb,i)}}function Ub(n,i,l){n==="focusin"?(Xp(),$o=i,Vo=l,$o.attachEvent("onpropertychange",Jp)):n==="focusout"&&Xp()}function qb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yl(Vo)}function Wb(n,i){if(n==="click")return yl(i)}function Hb(n,i){if(n==="input"||n==="change")return yl(i)}function Qb(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var wn=typeof Object.is=="function"?Object.is:Qb;function Bo(n,i){if(wn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!h.call(i,p)||!wn(n[p],i[p]))return!1}return!0}function em(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function tm(n,i){var l=em(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=i&&c>=i)return{node:l,offset:i-n};n=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=em(l)}}function rm(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?rm(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function nm(){for(var n=window,i=Ot();i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=Ot(n.document)}return i}function Kc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Kb(n){var i=nm(),l=n.focusedElem,c=n.selectionRange;if(i!==l&&l&&l.ownerDocument&&rm(l.ownerDocument.documentElement,l)){if(c!==null&&Kc(l)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(n,l.value.length);else if(n=(i=l.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var p=l.textContent.length,v=Math.min(c.start,p);c=c.end===void 0?v:Math.min(c.end,p),!n.extend&&v>c&&(p=c,c=v,v=p),p=tm(l,v);var b=tm(l,c);p&&b&&(n.rangeCount!==1||n.anchorNode!==p.node||n.anchorOffset!==p.offset||n.focusNode!==b.node||n.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),n.removeAllRanges(),v>c?(n.addRange(i),n.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),n.addRange(i)))}}for(i=[],n=l;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)n=i[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Gb=d&&"documentMode"in document&&11>=document.documentMode,Mi=null,Gc=null,Uo=null,Zc=!1;function sm(n,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zc||Mi==null||Mi!==Ot(c)||(c=Mi,"selectionStart"in c&&Kc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Uo&&Bo(Uo,c)||(Uo=c,c=Sl(Gc,"onSelect"),0<c.length&&(i=new $c("onSelect","select",null,i,l),n.push({event:i,listeners:c}),i.target=Mi)))}function xl(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var Li={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionend:xl("Transition","TransitionEnd")},Yc={},im={};d&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function wl(n){if(Yc[n])return Yc[n];if(!Li[n])return n;var i=Li[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in im)return Yc[n]=i[l];return n}var om=wl("animationend"),am=wl("animationiteration"),lm=wl("animationstart"),um=wl("transitionend"),cm=new Map,dm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(n,i){cm.set(n,i),a(i,[n])}for(var Xc=0;Xc<dm.length;Xc++){var Jc=dm[Xc],Zb=Jc.toLowerCase(),Yb=Jc[0].toUpperCase()+Jc.slice(1);ks(Zb,"on"+Yb)}ks(om,"onAnimationEnd"),ks(am,"onAnimationIteration"),ks(lm,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(um,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xb=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function fm(n,i,l){var c=n.type||"unknown-event";n.currentTarget=l,rl(c,i,void 0,n),n.currentTarget=null}function hm(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],p=c.event;c=c.listeners;e:{var v=void 0;if(i)for(var b=c.length-1;0<=b;b--){var E=c[b],O=E.instance,V=E.currentTarget;if(E=E.listener,O!==v&&p.isPropagationStopped())break e;fm(p,E,V),v=O}else for(b=0;b<c.length;b++){if(E=c[b],O=E.instance,V=E.currentTarget,E=E.listener,O!==v&&p.isPropagationStopped())break e;fm(p,E,V),v=O}}}if(pr)throw n=Xn,pr=!1,Xn=null,n}function jt(n,i){var l=i[ad];l===void 0&&(l=i[ad]=new Set);var c=n+"__bubble";l.has(c)||(pm(i,n,2,!1),l.add(c))}function ed(n,i,l){var c=0;i&&(c|=4),pm(l,n,c,i)}var bl="_reactListening"+Math.random().toString(36).slice(2);function Wo(n){if(!n[bl]){n[bl]=!0,s.forEach(function(l){l!=="selectionchange"&&(Xb.has(l)||ed(l,!1,n),ed(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[bl]||(i[bl]=!0,ed("selectionchange",!1,i))}}function pm(n,i,l,c){switch(Lp(i)){case 1:var p=fb;break;case 4:p=hb;break;default:p=Lc}l=p.bind(null,i,l,n),p=void 0,!rt||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(i,l,{capture:!0,passive:p}):n.addEventListener(i,l,!0):p!==void 0?n.addEventListener(i,l,{passive:p}):n.addEventListener(i,l,!1)}function td(n,i,l,c,p){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var E=c.stateNode.containerInfo;if(E===p||E.nodeType===8&&E.parentNode===p)break;if(b===4)for(b=c.return;b!==null;){var O=b.tag;if((O===3||O===4)&&(O=b.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;b=b.return}for(;E!==null;){if(b=si(E),b===null)return;if(O=b.tag,O===5||O===6){c=v=b;continue e}E=E.parentNode}}c=c.return}A(function(){var V=v,se=on(l),ae=[];e:{var re=cm.get(n);if(re!==void 0){var Se=$c,Ee=n;switch(n){case"keypress":if(ml(l)===0)break e;case"keydown":case"keyup":Se=Nb;break;case"focusin":Ee="focus",Se=Uc;break;case"focusout":Ee="blur",Se=Uc;break;case"beforeblur":case"afterblur":Se=Uc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=$p;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=gb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=jb;break;case om:case am:case lm:Se=xb;break;case um:Se=Rb;break;case"scroll":Se=pb;break;case"wheel":Se=Ab;break;case"copy":case"cut":case"paste":Se=bb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=Bp}var Oe=(i&4)!==0,Ut=!Oe&&n==="scroll",L=Oe?re!==null?re+"Capture":null:re;Oe=[];for(var D=V,z;D!==null;){z=D;var he=z.stateNode;if(z.tag===5&&he!==null&&(z=he,L!==null&&(he=nt(D,L),he!=null&&Oe.push(Ho(D,he,z)))),Ut)break;D=D.return}0<Oe.length&&(re=new Se(re,Ee,null,l,se),ae.push({event:re,listeners:Oe}))}}if((i&7)===0){e:{if(re=n==="mouseover"||n==="pointerover",Se=n==="mouseout"||n==="pointerout",re&&l!==Lr&&(Ee=l.relatedTarget||l.fromElement)&&(si(Ee)||Ee[es]))break e;if((Se||re)&&(re=se.window===se?se:(re=se.ownerDocument)?re.defaultView||re.parentWindow:window,Se?(Ee=l.relatedTarget||l.toElement,Se=V,Ee=Ee?si(Ee):null,Ee!==null&&(Ut=Pe(Ee),Ee!==Ut||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(Se=null,Ee=V),Se!==Ee)){if(Oe=$p,he="onMouseLeave",L="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(Oe=Bp,he="onPointerLeave",L="onPointerEnter",D="pointer"),Ut=Se==null?re:$i(Se),z=Ee==null?re:$i(Ee),re=new Oe(he,D+"leave",Se,l,se),re.target=Ut,re.relatedTarget=z,he=null,si(se)===V&&(Oe=new Oe(L,D+"enter",Ee,l,se),Oe.target=z,Oe.relatedTarget=Ut,he=Oe),Ut=he,Se&&Ee)t:{for(Oe=Se,L=Ee,D=0,z=Oe;z;z=Fi(z))D++;for(z=0,he=L;he;he=Fi(he))z++;for(;0<D-z;)Oe=Fi(Oe),D--;for(;0<z-D;)L=Fi(L),z--;for(;D--;){if(Oe===L||L!==null&&Oe===L.alternate)break t;Oe=Fi(Oe),L=Fi(L)}Oe=null}else Oe=null;Se!==null&&mm(ae,re,Se,Oe,!1),Ee!==null&&Ut!==null&&mm(ae,Ut,Ee,Oe,!0)}}e:{if(re=V?$i(V):window,Se=re.nodeName&&re.nodeName.toLowerCase(),Se==="select"||Se==="input"&&re.type==="file")var je=Bb;else if(Kp(re))if(Zp)je=Hb;else{je=qb;var Fe=Ub}else(Se=re.nodeName)&&Se.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(je=Wb);if(je&&(je=je(n,V))){Gp(ae,je,l,se);break e}Fe&&Fe(n,re,V),n==="focusout"&&(Fe=re._wrapperState)&&Fe.controlled&&re.type==="number"&&Sr(re,"number",re.value)}switch(Fe=V?$i(V):window,n){case"focusin":(Kp(Fe)||Fe.contentEditable==="true")&&(Mi=Fe,Gc=V,Uo=null);break;case"focusout":Uo=Gc=Mi=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,sm(ae,l,se);break;case"selectionchange":if(Gb)break;case"keydown":case"keyup":sm(ae,l,se)}var ze;if(Wc)e:{switch(n){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ai?Hp(n,l)&&(He="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(He="onCompositionStart");He&&(Up&&l.locale!=="ko"&&(Ai||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ai&&(ze=Fp()):(Cs=se,zc="value"in Cs?Cs.value:Cs.textContent,Ai=!0)),Fe=Sl(V,He),0<Fe.length&&(He=new Vp(He,n,null,l,se),ae.push({event:He,listeners:Fe}),ze?He.data=ze:(ze=Qp(l),ze!==null&&(He.data=ze)))),(ze=Lb?Fb(n,l):zb(n,l))&&(V=Sl(V,"onBeforeInput"),0<V.length&&(se=new Vp("onBeforeInput","beforeinput",null,l,se),ae.push({event:se,listeners:V}),se.data=ze))}hm(ae,i)})}function Ho(n,i,l){return{instance:n,listener:i,currentTarget:l}}function Sl(n,i){for(var l=i+"Capture",c=[];n!==null;){var p=n,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=nt(n,l),v!=null&&c.unshift(Ho(n,v,p)),v=nt(n,i),v!=null&&c.push(Ho(n,v,p))),n=n.return}return c}function Fi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function mm(n,i,l,c,p){for(var v=i._reactName,b=[];l!==null&&l!==c;){var E=l,O=E.alternate,V=E.stateNode;if(O!==null&&O===c)break;E.tag===5&&V!==null&&(E=V,p?(O=nt(l,v),O!=null&&b.unshift(Ho(l,O,E))):p||(O=nt(l,v),O!=null&&b.push(Ho(l,O,E)))),l=l.return}b.length!==0&&n.push({event:i,listeners:b})}var Jb=/\r\n?/g,eS=/\u0000|\uFFFD/g;function gm(n){return(typeof n=="string"?n:""+n).replace(Jb,`
`).replace(eS,"")}function _l(n,i,l){if(i=gm(i),gm(n)!==i&&l)throw Error(r(425))}function Cl(){}var rd=null,nd=null;function sd(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var id=typeof setTimeout=="function"?setTimeout:void 0,tS=typeof clearTimeout=="function"?clearTimeout:void 0,vm=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof vm<"u"?function(n){return vm.resolve(null).then(n).catch(nS)}:id;function nS(n){setTimeout(function(){throw n})}function od(n,i){var l=i,c=0;do{var p=l.nextSibling;if(n.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(c===0){n.removeChild(p),Mo(i);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=p}while(l);Mo(i)}function Ts(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function ym(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}var zi=Math.random().toString(36).slice(2),Ln="__reactFiber$"+zi,Qo="__reactProps$"+zi,es="__reactContainer$"+zi,ad="__reactEvents$"+zi,sS="__reactListeners$"+zi,iS="__reactHandles$"+zi;function si(n){var i=n[Ln];if(i)return i;for(var l=n.parentNode;l;){if(i=l[es]||l[Ln]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=ym(n);n!==null;){if(l=n[Ln])return l;n=ym(n)}return i}n=l,l=n.parentNode}return null}function Ko(n){return n=n[Ln]||n[es],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function $i(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function kl(n){return n[Qo]||null}var ld=[],Vi=-1;function Es(n){return{current:n}}function Dt(n){0>Vi||(n.current=ld[Vi],ld[Vi]=null,Vi--)}function Pt(n,i){Vi++,ld[Vi]=n.current,n.current=i}var Ns={},Cr=Es(Ns),Fr=Es(!1),ii=Ns;function Bi(n,i){var l=n.type.contextTypes;if(!l)return Ns;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in l)p[v]=i[v];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=p),p}function zr(n){return n=n.childContextTypes,n!=null}function Tl(){Dt(Fr),Dt(Cr)}function xm(n,i,l){if(Cr.current!==Ns)throw Error(r(168));Pt(Cr,i),Pt(Fr,l)}function wm(n,i,l){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var p in c)if(!(p in i))throw Error(r(108,Ve(n)||"Unknown",p));return oe({},l,c)}function El(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ns,ii=Cr.current,Pt(Cr,n),Pt(Fr,Fr.current),!0}function bm(n,i,l){var c=n.stateNode;if(!c)throw Error(r(169));l?(n=wm(n,i,ii),c.__reactInternalMemoizedMergedChildContext=n,Dt(Fr),Dt(Cr),Pt(Cr,n)):Dt(Fr),Pt(Fr,l)}var ts=null,Nl=!1,ud=!1;function Sm(n){ts===null?ts=[n]:ts.push(n)}function oS(n){Nl=!0,Sm(n)}function Ps(){if(!ud&&ts!==null){ud=!0;var n=0,i=wt;try{var l=ts;for(wt=1;n<l.length;n++){var c=l[n];do c=c(!0);while(c!==null)}ts=null,Nl=!1}catch(p){throw ts!==null&&(ts=ts.slice(n+1)),il(Po,Ps),p}finally{wt=i,ud=!1}}return null}var Ui=[],qi=0,Pl=null,Ol=0,un=[],cn=0,oi=null,rs=1,ns="";function ai(n,i){Ui[qi++]=Ol,Ui[qi++]=Pl,Pl=n,Ol=i}function _m(n,i,l){un[cn++]=rs,un[cn++]=ns,un[cn++]=oi,oi=n;var c=rs;n=ns;var p=32-I(c)-1;c&=~(1<<p),l+=1;var v=32-I(i)+p;if(30<v){var b=p-p%5;v=(c&(1<<b)-1).toString(32),c>>=b,p-=b,rs=1<<32-I(i)+p|l<<p|c,ns=v+n}else rs=1<<v|l<<p|c,ns=n}function cd(n){n.return!==null&&(ai(n,1),_m(n,1,0))}function dd(n){for(;n===Pl;)Pl=Ui[--qi],Ui[qi]=null,Ol=Ui[--qi],Ui[qi]=null;for(;n===oi;)oi=un[--cn],un[cn]=null,ns=un[--cn],un[cn]=null,rs=un[--cn],un[cn]=null}var Kr=null,Gr=null,It=!1,bn=null;function Cm(n,i){var l=pn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=n,i=n.deletions,i===null?(n.deletions=[l],n.flags|=16):i.push(l)}function km(n,i){switch(n.tag){case 5:var l=n.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Kr=n,Gr=Ts(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Kr=n,Gr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=oi!==null?{id:rs,overflow:ns}:null,n.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=pn(18,null,null,0),l.stateNode=i,l.return=n,n.child=l,Kr=n,Gr=null,!0):!1;default:return!1}}function fd(n){return(n.mode&1)!==0&&(n.flags&128)===0}function hd(n){if(It){var i=Gr;if(i){var l=i;if(!km(n,i)){if(fd(n))throw Error(r(418));i=Ts(l.nextSibling);var c=Kr;i&&km(n,i)?Cm(c,l):(n.flags=n.flags&-4097|2,It=!1,Kr=n)}}else{if(fd(n))throw Error(r(418));n.flags=n.flags&-4097|2,It=!1,Kr=n}}}function Tm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Kr=n}function jl(n){if(n!==Kr)return!1;if(!It)return Tm(n),It=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!sd(n.type,n.memoizedProps)),i&&(i=Gr)){if(fd(n))throw Em(),Error(r(418));for(;i;)Cm(n,i),i=Ts(i.nextSibling)}if(Tm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(i===0){Gr=Ts(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}n=n.nextSibling}Gr=null}}else Gr=Kr?Ts(n.stateNode.nextSibling):null;return!0}function Em(){for(var n=Gr;n;)n=Ts(n.nextSibling)}function Wi(){Gr=Kr=null,It=!1}function pd(n){bn===null?bn=[n]:bn.push(n)}var aS=M.ReactCurrentBatchConfig;function Go(n,i,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var c=l.stateNode}if(!c)throw Error(r(147,n));var p=c,v=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(b){var E=p.refs;b===null?delete E[v]:E[v]=b},i._stringRef=v,i)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function Dl(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Nm(n){var i=n._init;return i(n._payload)}function Pm(n){function i(L,D){if(n){var z=L.deletions;z===null?(L.deletions=[D],L.flags|=16):z.push(D)}}function l(L,D){if(!n)return null;for(;D!==null;)i(L,D),D=D.sibling;return null}function c(L,D){for(L=new Map;D!==null;)D.key!==null?L.set(D.key,D):L.set(D.index,D),D=D.sibling;return L}function p(L,D){return L=Ls(L,D),L.index=0,L.sibling=null,L}function v(L,D,z){return L.index=z,n?(z=L.alternate,z!==null?(z=z.index,z<D?(L.flags|=2,D):z):(L.flags|=2,D)):(L.flags|=1048576,D)}function b(L){return n&&L.alternate===null&&(L.flags|=2),L}function E(L,D,z,he){return D===null||D.tag!==6?(D=of(z,L.mode,he),D.return=L,D):(D=p(D,z),D.return=L,D)}function O(L,D,z,he){var je=z.type;return je===B?se(L,D,z.props.children,he,z.key):D!==null&&(D.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===de&&Nm(je)===D.type)?(he=p(D,z.props),he.ref=Go(L,D,z),he.return=L,he):(he=ru(z.type,z.key,z.props,null,L.mode,he),he.ref=Go(L,D,z),he.return=L,he)}function V(L,D,z,he){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=af(z,L.mode,he),D.return=L,D):(D=p(D,z.children||[]),D.return=L,D)}function se(L,D,z,he,je){return D===null||D.tag!==7?(D=mi(z,L.mode,he,je),D.return=L,D):(D=p(D,z),D.return=L,D)}function ae(L,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=of(""+D,L.mode,z),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case $:return z=ru(D.type,D.key,D.props,null,L.mode,z),z.ref=Go(L,null,D),z.return=L,z;case K:return D=af(D,L.mode,z),D.return=L,D;case de:var he=D._init;return ae(L,he(D._payload),z)}if(Or(D)||ce(D))return D=mi(D,L.mode,z,null),D.return=L,D;Dl(L,D)}return null}function re(L,D,z,he){var je=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return je!==null?null:E(L,D,""+z,he);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case $:return z.key===je?O(L,D,z,he):null;case K:return z.key===je?V(L,D,z,he):null;case de:return je=z._init,re(L,D,je(z._payload),he)}if(Or(z)||ce(z))return je!==null?null:se(L,D,z,he,null);Dl(L,z)}return null}function Se(L,D,z,he,je){if(typeof he=="string"&&he!==""||typeof he=="number")return L=L.get(z)||null,E(D,L,""+he,je);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case $:return L=L.get(he.key===null?z:he.key)||null,O(D,L,he,je);case K:return L=L.get(he.key===null?z:he.key)||null,V(D,L,he,je);case de:var Fe=he._init;return Se(L,D,z,Fe(he._payload),je)}if(Or(he)||ce(he))return L=L.get(z)||null,se(D,L,he,je,null);Dl(D,he)}return null}function Ee(L,D,z,he){for(var je=null,Fe=null,ze=D,He=D=0,ar=null;ze!==null&&He<z.length;He++){ze.index>He?(ar=ze,ze=null):ar=ze.sibling;var gt=re(L,ze,z[He],he);if(gt===null){ze===null&&(ze=ar);break}n&&ze&&gt.alternate===null&&i(L,ze),D=v(gt,D,He),Fe===null?je=gt:Fe.sibling=gt,Fe=gt,ze=ar}if(He===z.length)return l(L,ze),It&&ai(L,He),je;if(ze===null){for(;He<z.length;He++)ze=ae(L,z[He],he),ze!==null&&(D=v(ze,D,He),Fe===null?je=ze:Fe.sibling=ze,Fe=ze);return It&&ai(L,He),je}for(ze=c(L,ze);He<z.length;He++)ar=Se(ze,L,He,z[He],he),ar!==null&&(n&&ar.alternate!==null&&ze.delete(ar.key===null?He:ar.key),D=v(ar,D,He),Fe===null?je=ar:Fe.sibling=ar,Fe=ar);return n&&ze.forEach(function(Fs){return i(L,Fs)}),It&&ai(L,He),je}function Oe(L,D,z,he){var je=ce(z);if(typeof je!="function")throw Error(r(150));if(z=je.call(z),z==null)throw Error(r(151));for(var Fe=je=null,ze=D,He=D=0,ar=null,gt=z.next();ze!==null&&!gt.done;He++,gt=z.next()){ze.index>He?(ar=ze,ze=null):ar=ze.sibling;var Fs=re(L,ze,gt.value,he);if(Fs===null){ze===null&&(ze=ar);break}n&&ze&&Fs.alternate===null&&i(L,ze),D=v(Fs,D,He),Fe===null?je=Fs:Fe.sibling=Fs,Fe=Fs,ze=ar}if(gt.done)return l(L,ze),It&&ai(L,He),je;if(ze===null){for(;!gt.done;He++,gt=z.next())gt=ae(L,gt.value,he),gt!==null&&(D=v(gt,D,He),Fe===null?je=gt:Fe.sibling=gt,Fe=gt);return It&&ai(L,He),je}for(ze=c(L,ze);!gt.done;He++,gt=z.next())gt=Se(ze,L,He,gt.value,he),gt!==null&&(n&&gt.alternate!==null&&ze.delete(gt.key===null?He:gt.key),D=v(gt,D,He),Fe===null?je=gt:Fe.sibling=gt,Fe=gt);return n&&ze.forEach(function($S){return i(L,$S)}),It&&ai(L,He),je}function Ut(L,D,z,he){if(typeof z=="object"&&z!==null&&z.type===B&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case $:e:{for(var je=z.key,Fe=D;Fe!==null;){if(Fe.key===je){if(je=z.type,je===B){if(Fe.tag===7){l(L,Fe.sibling),D=p(Fe,z.props.children),D.return=L,L=D;break e}}else if(Fe.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===de&&Nm(je)===Fe.type){l(L,Fe.sibling),D=p(Fe,z.props),D.ref=Go(L,Fe,z),D.return=L,L=D;break e}l(L,Fe);break}else i(L,Fe);Fe=Fe.sibling}z.type===B?(D=mi(z.props.children,L.mode,he,z.key),D.return=L,L=D):(he=ru(z.type,z.key,z.props,null,L.mode,he),he.ref=Go(L,D,z),he.return=L,L=he)}return b(L);case K:e:{for(Fe=z.key;D!==null;){if(D.key===Fe)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){l(L,D.sibling),D=p(D,z.children||[]),D.return=L,L=D;break e}else{l(L,D);break}else i(L,D);D=D.sibling}D=af(z,L.mode,he),D.return=L,L=D}return b(L);case de:return Fe=z._init,Ut(L,D,Fe(z._payload),he)}if(Or(z))return Ee(L,D,z,he);if(ce(z))return Oe(L,D,z,he);Dl(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(l(L,D.sibling),D=p(D,z),D.return=L,L=D):(l(L,D),D=of(z,L.mode,he),D.return=L,L=D),b(L)):l(L,D)}return Ut}var Hi=Pm(!0),Om=Pm(!1),Rl=Es(null),Il=null,Qi=null,md=null;function gd(){md=Qi=Il=null}function vd(n){var i=Rl.current;Dt(Rl),n._currentValue=i}function yd(n,i,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===l)break;n=n.return}}function Ki(n,i){Il=n,md=Qi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&($r=!0),n.firstContext=null)}function dn(n){var i=n._currentValue;if(md!==n)if(n={context:n,memoizedValue:i,next:null},Qi===null){if(Il===null)throw Error(r(308));Qi=n,Il.dependencies={lanes:0,firstContext:n}}else Qi=Qi.next=n;return i}var li=null;function xd(n){li===null?li=[n]:li.push(n)}function jm(n,i,l,c){var p=i.interleaved;return p===null?(l.next=l,xd(i)):(l.next=p.next,p.next=l),i.interleaved=l,ss(n,c)}function ss(n,i){n.lanes|=i;var l=n.alternate;for(l!==null&&(l.lanes|=i),l=n,n=n.return;n!==null;)n.childLanes|=i,l=n.alternate,l!==null&&(l.childLanes|=i),l=n,n=n.return;return l.tag===3?l.stateNode:null}var Os=!1;function wd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dm(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function is(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function js(n,i,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(ht&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,ss(n,l)}return p=c.interleaved,p===null?(i.next=i,xd(c)):(i.next=p.next,p.next=i),c.interleaved=i,ss(n,l)}function Al(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,l|=c,i.lanes=l,Ic(n,l)}}function Rm(n,i){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?p=v=b:v=v.next=b,l=l.next}while(l!==null);v===null?p=v=i:v=v.next=i}else p=v=i;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:c.shared,effects:c.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}function Ml(n,i,l,c){var p=n.updateQueue;Os=!1;var v=p.firstBaseUpdate,b=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var O=E,V=O.next;O.next=null,b===null?v=V:b.next=V,b=O;var se=n.alternate;se!==null&&(se=se.updateQueue,E=se.lastBaseUpdate,E!==b&&(E===null?se.firstBaseUpdate=V:E.next=V,se.lastBaseUpdate=O))}if(v!==null){var ae=p.baseState;b=0,se=V=O=null,E=v;do{var re=E.lane,Se=E.eventTime;if((c&re)===re){se!==null&&(se=se.next={eventTime:Se,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var Ee=n,Oe=E;switch(re=i,Se=l,Oe.tag){case 1:if(Ee=Oe.payload,typeof Ee=="function"){ae=Ee.call(Se,ae,re);break e}ae=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Oe.payload,re=typeof Ee=="function"?Ee.call(Se,ae,re):Ee,re==null)break e;ae=oe({},ae,re);break e;case 2:Os=!0}}E.callback!==null&&E.lane!==0&&(n.flags|=64,re=p.effects,re===null?p.effects=[E]:re.push(E))}else Se={eventTime:Se,lane:re,tag:E.tag,payload:E.payload,callback:E.callback,next:null},se===null?(V=se=Se,O=ae):se=se.next=Se,b|=re;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;re=E,E=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);if(se===null&&(O=ae),p.baseState=O,p.firstBaseUpdate=V,p.lastBaseUpdate=se,i=p.shared.interleaved,i!==null){p=i;do b|=p.lane,p=p.next;while(p!==i)}else v===null&&(p.shared.lanes=0);di|=b,n.lanes=b,n.memoizedState=ae}}function Im(n,i,l){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],p=c.callback;if(p!==null){if(c.callback=null,c=l,typeof p!="function")throw Error(r(191,p));p.call(c)}}}var Zo={},Fn=Es(Zo),Yo=Es(Zo),Xo=Es(Zo);function ui(n){if(n===Zo)throw Error(r(174));return n}function bd(n,i){switch(Pt(Xo,i),Pt(Yo,n),Pt(Fn,Zo),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ie(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ie(i,n)}Dt(Fn),Pt(Fn,i)}function Gi(){Dt(Fn),Dt(Yo),Dt(Xo)}function Am(n){ui(Xo.current);var i=ui(Fn.current),l=ie(i,n.type);i!==l&&(Pt(Yo,n),Pt(Fn,l))}function Sd(n){Yo.current===n&&(Dt(Fn),Dt(Yo))}var Mt=Es(0);function Ll(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var _d=[];function Cd(){for(var n=0;n<_d.length;n++)_d[n]._workInProgressVersionPrimary=null;_d.length=0}var Fl=M.ReactCurrentDispatcher,kd=M.ReactCurrentBatchConfig,ci=0,Lt=null,Zt=null,ir=null,zl=!1,Jo=!1,ea=0,lS=0;function kr(){throw Error(r(321))}function Td(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!wn(n[l],i[l]))return!1;return!0}function Ed(n,i,l,c,p,v){if(ci=v,Lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Fl.current=n===null||n.memoizedState===null?fS:hS,n=l(c,p),Jo){v=0;do{if(Jo=!1,ea=0,25<=v)throw Error(r(301));v+=1,ir=Zt=null,i.updateQueue=null,Fl.current=pS,n=l(c,p)}while(Jo)}if(Fl.current=Bl,i=Zt!==null&&Zt.next!==null,ci=0,ir=Zt=Lt=null,zl=!1,i)throw Error(r(300));return n}function Nd(){var n=ea!==0;return ea=0,n}function zn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?Lt.memoizedState=ir=n:ir=ir.next=n,ir}function fn(){if(Zt===null){var n=Lt.alternate;n=n!==null?n.memoizedState:null}else n=Zt.next;var i=ir===null?Lt.memoizedState:ir.next;if(i!==null)ir=i,Zt=n;else{if(n===null)throw Error(r(310));Zt=n,n={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},ir===null?Lt.memoizedState=ir=n:ir=ir.next=n}return ir}function ta(n,i){return typeof i=="function"?i(n):i}function Pd(n){var i=fn(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=Zt,p=c.baseQueue,v=l.pending;if(v!==null){if(p!==null){var b=p.next;p.next=v.next,v.next=b}c.baseQueue=p=v,l.pending=null}if(p!==null){v=p.next,c=c.baseState;var E=b=null,O=null,V=v;do{var se=V.lane;if((ci&se)===se)O!==null&&(O=O.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),c=V.hasEagerState?V.eagerState:n(c,V.action);else{var ae={lane:se,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};O===null?(E=O=ae,b=c):O=O.next=ae,Lt.lanes|=se,di|=se}V=V.next}while(V!==null&&V!==v);O===null?b=c:O.next=E,wn(c,i.memoizedState)||($r=!0),i.memoizedState=c,i.baseState=b,i.baseQueue=O,l.lastRenderedState=c}if(n=l.interleaved,n!==null){p=n;do v=p.lane,Lt.lanes|=v,di|=v,p=p.next;while(p!==n)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function Od(n){var i=fn(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=l.dispatch,p=l.pending,v=i.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do v=n(v,b.action),b=b.next;while(b!==p);wn(v,i.memoizedState)||($r=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,c]}function Mm(){}function Lm(n,i){var l=Lt,c=fn(),p=i(),v=!wn(c.memoizedState,p);if(v&&(c.memoizedState=p,$r=!0),c=c.queue,jd($m.bind(null,l,c,n),[n]),c.getSnapshot!==i||v||ir!==null&&ir.memoizedState.tag&1){if(l.flags|=2048,ra(9,zm.bind(null,l,c,p,i),void 0,null),or===null)throw Error(r(349));(ci&30)!==0||Fm(l,i,p)}return p}function Fm(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=Lt.updateQueue,i===null?(i={lastEffect:null,stores:null},Lt.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function zm(n,i,l,c){i.value=l,i.getSnapshot=c,Vm(i)&&Bm(n)}function $m(n,i,l){return l(function(){Vm(i)&&Bm(n)})}function Vm(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!wn(n,l)}catch{return!0}}function Bm(n){var i=ss(n,1);i!==null&&kn(i,n,1,-1)}function Um(n){var i=zn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:n},i.queue=n,n=n.dispatch=dS.bind(null,Lt,n),[i.memoizedState,n]}function ra(n,i,l,c){return n={tag:n,create:i,destroy:l,deps:c,next:null},i=Lt.updateQueue,i===null?(i={lastEffect:null,stores:null},Lt.updateQueue=i,i.lastEffect=n.next=n):(l=i.lastEffect,l===null?i.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,i.lastEffect=n)),n}function qm(){return fn().memoizedState}function $l(n,i,l,c){var p=zn();Lt.flags|=n,p.memoizedState=ra(1|i,l,void 0,c===void 0?null:c)}function Vl(n,i,l,c){var p=fn();c=c===void 0?null:c;var v=void 0;if(Zt!==null){var b=Zt.memoizedState;if(v=b.destroy,c!==null&&Td(c,b.deps)){p.memoizedState=ra(i,l,v,c);return}}Lt.flags|=n,p.memoizedState=ra(1|i,l,v,c)}function Wm(n,i){return $l(8390656,8,n,i)}function jd(n,i){return Vl(2048,8,n,i)}function Hm(n,i){return Vl(4,2,n,i)}function Qm(n,i){return Vl(4,4,n,i)}function Km(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Gm(n,i,l){return l=l!=null?l.concat([n]):null,Vl(4,4,Km.bind(null,i,n),l)}function Dd(){}function Zm(n,i){var l=fn();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&Td(i,c[1])?c[0]:(l.memoizedState=[n,i],n)}function Ym(n,i){var l=fn();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&Td(i,c[1])?c[0]:(n=n(),l.memoizedState=[n,i],n)}function Xm(n,i,l){return(ci&21)===0?(n.baseState&&(n.baseState=!1,$r=!0),n.memoizedState=l):(wn(l,i)||(l=Np(),Lt.lanes|=l,di|=l,n.baseState=!0),i)}function uS(n,i){var l=wt;wt=l!==0&&4>l?l:4,n(!0);var c=kd.transition;kd.transition={};try{n(!1),i()}finally{wt=l,kd.transition=c}}function Jm(){return fn().memoizedState}function cS(n,i,l){var c=As(n);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},eg(n))tg(i,l);else if(l=jm(n,i,l,c),l!==null){var p=Rr();kn(l,n,c,p),rg(l,i,c)}}function dS(n,i,l){var c=As(n),p={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(eg(n))tg(i,p);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var b=i.lastRenderedState,E=v(b,l);if(p.hasEagerState=!0,p.eagerState=E,wn(E,b)){var O=i.interleaved;O===null?(p.next=p,xd(i)):(p.next=O.next,O.next=p),i.interleaved=p;return}}catch{}l=jm(n,i,p,c),l!==null&&(p=Rr(),kn(l,n,c,p),rg(l,i,c))}}function eg(n){var i=n.alternate;return n===Lt||i!==null&&i===Lt}function tg(n,i){Jo=zl=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function rg(n,i,l){if((l&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,l|=c,i.lanes=l,Ic(n,l)}}var Bl={readContext:dn,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},fS={readContext:dn,useCallback:function(n,i){return zn().memoizedState=[n,i===void 0?null:i],n},useContext:dn,useEffect:Wm,useImperativeHandle:function(n,i,l){return l=l!=null?l.concat([n]):null,$l(4194308,4,Km.bind(null,i,n),l)},useLayoutEffect:function(n,i){return $l(4194308,4,n,i)},useInsertionEffect:function(n,i){return $l(4,2,n,i)},useMemo:function(n,i){var l=zn();return i=i===void 0?null:i,n=n(),l.memoizedState=[n,i],n},useReducer:function(n,i,l){var c=zn();return i=l!==void 0?l(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=cS.bind(null,Lt,n),[c.memoizedState,n]},useRef:function(n){var i=zn();return n={current:n},i.memoizedState=n},useState:Um,useDebugValue:Dd,useDeferredValue:function(n){return zn().memoizedState=n},useTransition:function(){var n=Um(!1),i=n[0];return n=uS.bind(null,n[1]),zn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,l){var c=Lt,p=zn();if(It){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),or===null)throw Error(r(349));(ci&30)!==0||Fm(c,i,l)}p.memoizedState=l;var v={value:l,getSnapshot:i};return p.queue=v,Wm($m.bind(null,c,v,n),[n]),c.flags|=2048,ra(9,zm.bind(null,c,v,l,i),void 0,null),l},useId:function(){var n=zn(),i=or.identifierPrefix;if(It){var l=ns,c=rs;l=(c&~(1<<32-I(c)-1)).toString(32)+l,i=":"+i+"R"+l,l=ea++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=lS++,i=":"+i+"r"+l.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},hS={readContext:dn,useCallback:Zm,useContext:dn,useEffect:jd,useImperativeHandle:Gm,useInsertionEffect:Hm,useLayoutEffect:Qm,useMemo:Ym,useReducer:Pd,useRef:qm,useState:function(){return Pd(ta)},useDebugValue:Dd,useDeferredValue:function(n){var i=fn();return Xm(i,Zt.memoizedState,n)},useTransition:function(){var n=Pd(ta)[0],i=fn().memoizedState;return[n,i]},useMutableSource:Mm,useSyncExternalStore:Lm,useId:Jm,unstable_isNewReconciler:!1},pS={readContext:dn,useCallback:Zm,useContext:dn,useEffect:jd,useImperativeHandle:Gm,useInsertionEffect:Hm,useLayoutEffect:Qm,useMemo:Ym,useReducer:Od,useRef:qm,useState:function(){return Od(ta)},useDebugValue:Dd,useDeferredValue:function(n){var i=fn();return Zt===null?i.memoizedState=n:Xm(i,Zt.memoizedState,n)},useTransition:function(){var n=Od(ta)[0],i=fn().memoizedState;return[n,i]},useMutableSource:Mm,useSyncExternalStore:Lm,useId:Jm,unstable_isNewReconciler:!1};function Sn(n,i){if(n&&n.defaultProps){i=oe({},i),n=n.defaultProps;for(var l in n)i[l]===void 0&&(i[l]=n[l]);return i}return i}function Rd(n,i,l,c){i=n.memoizedState,l=l(c,i),l=l==null?i:oe({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Ul={isMounted:function(n){return(n=n._reactInternals)?Pe(n)===n:!1},enqueueSetState:function(n,i,l){n=n._reactInternals;var c=Rr(),p=As(n),v=is(c,p);v.payload=i,l!=null&&(v.callback=l),i=js(n,v,p),i!==null&&(kn(i,n,p,c),Al(i,n,p))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var c=Rr(),p=As(n),v=is(c,p);v.tag=1,v.payload=i,l!=null&&(v.callback=l),i=js(n,v,p),i!==null&&(kn(i,n,p,c),Al(i,n,p))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=Rr(),c=As(n),p=is(l,c);p.tag=2,i!=null&&(p.callback=i),i=js(n,p,c),i!==null&&(kn(i,n,c,l),Al(i,n,c))}};function ng(n,i,l,c,p,v,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,v,b):i.prototype&&i.prototype.isPureReactComponent?!Bo(l,c)||!Bo(p,v):!0}function sg(n,i,l){var c=!1,p=Ns,v=i.contextType;return typeof v=="object"&&v!==null?v=dn(v):(p=zr(i)?ii:Cr.current,c=i.contextTypes,v=(c=c!=null)?Bi(n,p):Ns),i=new i(l,v),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ul,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=p,n.__reactInternalMemoizedMaskedChildContext=v),i}function ig(n,i,l,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==n&&Ul.enqueueReplaceState(i,i.state,null)}function Id(n,i,l,c){var p=n.stateNode;p.props=l,p.state=n.memoizedState,p.refs={},wd(n);var v=i.contextType;typeof v=="object"&&v!==null?p.context=dn(v):(v=zr(i)?ii:Cr.current,p.context=Bi(n,v)),p.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Rd(n,i,v,l),p.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Ul.enqueueReplaceState(p,p.state,null),Ml(n,l,p,c),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308)}function Zi(n,i){try{var l="",c=i;do l+=Me(c),c=c.return;while(c);var p=l}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:i,stack:p,digest:null}}function Ad(n,i,l){return{value:n,source:null,stack:l??null,digest:i??null}}function Md(n,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var mS=typeof WeakMap=="function"?WeakMap:Map;function og(n,i,l){l=is(-1,l),l.tag=3,l.payload={element:null};var c=i.value;return l.callback=function(){Zl||(Zl=!0,Yd=c),Md(n,i)},l}function ag(n,i,l){l=is(-1,l),l.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var p=i.value;l.payload=function(){return c(p)},l.callback=function(){Md(n,i)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Md(n,i),typeof c!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),l}function lg(n,i,l){var c=n.pingCache;if(c===null){c=n.pingCache=new mS;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(l)||(p.add(l),n=PS.bind(null,n,i,l),i.then(n,n))}function ug(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function cg(n,i,l,c,p){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=is(-1,1),i.tag=2,js(l,i,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=p,n)}var gS=M.ReactCurrentOwner,$r=!1;function Dr(n,i,l,c){i.child=n===null?Om(i,null,l,c):Hi(i,n.child,l,c)}function dg(n,i,l,c,p){l=l.render;var v=i.ref;return Ki(i,p),c=Ed(n,i,l,c,v,p),l=Nd(),n!==null&&!$r?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~p,os(n,i,p)):(It&&l&&cd(i),i.flags|=1,Dr(n,i,c,p),i.child)}function fg(n,i,l,c,p){if(n===null){var v=l.type;return typeof v=="function"&&!sf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=v,hg(n,i,v,c,p)):(n=ru(l.type,null,c,i,i.mode,p),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,(n.lanes&p)===0){var b=v.memoizedProps;if(l=l.compare,l=l!==null?l:Bo,l(b,c)&&n.ref===i.ref)return os(n,i,p)}return i.flags|=1,n=Ls(v,c),n.ref=i.ref,n.return=i,i.child=n}function hg(n,i,l,c,p){if(n!==null){var v=n.memoizedProps;if(Bo(v,c)&&n.ref===i.ref)if($r=!1,i.pendingProps=c=v,(n.lanes&p)!==0)(n.flags&131072)!==0&&($r=!0);else return i.lanes=n.lanes,os(n,i,p)}return Ld(n,i,l,c,p)}function pg(n,i,l){var c=i.pendingProps,p=c.children,v=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Xi,Zr),Zr|=l;else{if((l&1073741824)===0)return n=v!==null?v.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Pt(Xi,Zr),Zr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=v!==null?v.baseLanes:l,Pt(Xi,Zr),Zr|=c}else v!==null?(c=v.baseLanes|l,i.memoizedState=null):c=l,Pt(Xi,Zr),Zr|=c;return Dr(n,i,p,l),i.child}function mg(n,i){var l=i.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Ld(n,i,l,c,p){var v=zr(l)?ii:Cr.current;return v=Bi(i,v),Ki(i,p),l=Ed(n,i,l,c,v,p),c=Nd(),n!==null&&!$r?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~p,os(n,i,p)):(It&&c&&cd(i),i.flags|=1,Dr(n,i,l,p),i.child)}function gg(n,i,l,c,p){if(zr(l)){var v=!0;El(i)}else v=!1;if(Ki(i,p),i.stateNode===null)Wl(n,i),sg(i,l,c),Id(i,l,c,p),c=!0;else if(n===null){var b=i.stateNode,E=i.memoizedProps;b.props=E;var O=b.context,V=l.contextType;typeof V=="object"&&V!==null?V=dn(V):(V=zr(l)?ii:Cr.current,V=Bi(i,V));var se=l.getDerivedStateFromProps,ae=typeof se=="function"||typeof b.getSnapshotBeforeUpdate=="function";ae||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==c||O!==V)&&ig(i,b,c,V),Os=!1;var re=i.memoizedState;b.state=re,Ml(i,c,b,p),O=i.memoizedState,E!==c||re!==O||Fr.current||Os?(typeof se=="function"&&(Rd(i,l,se,c),O=i.memoizedState),(E=Os||ng(i,l,E,c,re,O,V))?(ae||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=O),b.props=c,b.state=O,b.context=V,c=E):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{b=i.stateNode,Dm(n,i),E=i.memoizedProps,V=i.type===i.elementType?E:Sn(i.type,E),b.props=V,ae=i.pendingProps,re=b.context,O=l.contextType,typeof O=="object"&&O!==null?O=dn(O):(O=zr(l)?ii:Cr.current,O=Bi(i,O));var Se=l.getDerivedStateFromProps;(se=typeof Se=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==ae||re!==O)&&ig(i,b,c,O),Os=!1,re=i.memoizedState,b.state=re,Ml(i,c,b,p);var Ee=i.memoizedState;E!==ae||re!==Ee||Fr.current||Os?(typeof Se=="function"&&(Rd(i,l,Se,c),Ee=i.memoizedState),(V=Os||ng(i,l,V,c,re,Ee,O)||!1)?(se||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,Ee,O),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,Ee,O)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===n.memoizedProps&&re===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&re===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=Ee),b.props=c,b.state=Ee,b.context=O,c=V):(typeof b.componentDidUpdate!="function"||E===n.memoizedProps&&re===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&re===n.memoizedState||(i.flags|=1024),c=!1)}return Fd(n,i,l,c,v,p)}function Fd(n,i,l,c,p,v){mg(n,i);var b=(i.flags&128)!==0;if(!c&&!b)return p&&bm(i,l,!1),os(n,i,v);c=i.stateNode,gS.current=i;var E=b&&typeof l.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&b?(i.child=Hi(i,n.child,null,v),i.child=Hi(i,null,E,v)):Dr(n,i,E,v),i.memoizedState=c.state,p&&bm(i,l,!0),i.child}function vg(n){var i=n.stateNode;i.pendingContext?xm(n,i.pendingContext,i.pendingContext!==i.context):i.context&&xm(n,i.context,!1),bd(n,i.containerInfo)}function yg(n,i,l,c,p){return Wi(),pd(p),i.flags|=256,Dr(n,i,l,c),i.child}var zd={dehydrated:null,treeContext:null,retryLane:0};function $d(n){return{baseLanes:n,cachePool:null,transitions:null}}function xg(n,i,l){var c=i.pendingProps,p=Mt.current,v=!1,b=(i.flags&128)!==0,E;if((E=b)||(E=n!==null&&n.memoizedState===null?!1:(p&2)!==0),E?(v=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(p|=1),Pt(Mt,p&1),n===null)return hd(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(b=c.children,n=c.fallback,v?(c=i.mode,v=i.child,b={mode:"hidden",children:b},(c&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=b):v=nu(b,c,0,null),n=mi(n,c,l,null),v.return=i,n.return=i,v.sibling=n,i.child=v,i.child.memoizedState=$d(l),i.memoizedState=zd,n):Vd(i,b));if(p=n.memoizedState,p!==null&&(E=p.dehydrated,E!==null))return vS(n,i,b,c,E,p,l);if(v){v=c.fallback,b=i.mode,p=n.child,E=p.sibling;var O={mode:"hidden",children:c.children};return(b&1)===0&&i.child!==p?(c=i.child,c.childLanes=0,c.pendingProps=O,i.deletions=null):(c=Ls(p,O),c.subtreeFlags=p.subtreeFlags&14680064),E!==null?v=Ls(E,v):(v=mi(v,b,l,null),v.flags|=2),v.return=i,c.return=i,c.sibling=v,i.child=c,c=v,v=i.child,b=n.child.memoizedState,b=b===null?$d(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},v.memoizedState=b,v.childLanes=n.childLanes&~l,i.memoizedState=zd,c}return v=n.child,n=v.sibling,c=Ls(v,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=l),c.return=i,c.sibling=null,n!==null&&(l=i.deletions,l===null?(i.deletions=[n],i.flags|=16):l.push(n)),i.child=c,i.memoizedState=null,c}function Vd(n,i){return i=nu({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function ql(n,i,l,c){return c!==null&&pd(c),Hi(i,n.child,null,l),n=Vd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function vS(n,i,l,c,p,v,b){if(l)return i.flags&256?(i.flags&=-257,c=Ad(Error(r(422))),ql(n,i,b,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(v=c.fallback,p=i.mode,c=nu({mode:"visible",children:c.children},p,0,null),v=mi(v,p,b,null),v.flags|=2,c.return=i,v.return=i,c.sibling=v,i.child=c,(i.mode&1)!==0&&Hi(i,n.child,null,b),i.child.memoizedState=$d(b),i.memoizedState=zd,v);if((i.mode&1)===0)return ql(n,i,b,null);if(p.data==="$!"){if(c=p.nextSibling&&p.nextSibling.dataset,c)var E=c.dgst;return c=E,v=Error(r(419)),c=Ad(v,c,void 0),ql(n,i,b,c)}if(E=(b&n.childLanes)!==0,$r||E){if(c=or,c!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(c.suspendedLanes|b))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,ss(n,p),kn(c,n,p,-1))}return nf(),c=Ad(Error(r(421))),ql(n,i,b,c)}return p.data==="$?"?(i.flags|=128,i.child=n.child,i=OS.bind(null,n),p._reactRetry=i,null):(n=v.treeContext,Gr=Ts(p.nextSibling),Kr=i,It=!0,bn=null,n!==null&&(un[cn++]=rs,un[cn++]=ns,un[cn++]=oi,rs=n.id,ns=n.overflow,oi=i),i=Vd(i,c.children),i.flags|=4096,i)}function wg(n,i,l){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),yd(n.return,i,l)}function Bd(n,i,l,c,p){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=l,v.tailMode=p)}function bg(n,i,l){var c=i.pendingProps,p=c.revealOrder,v=c.tail;if(Dr(n,i,c.children,l),c=Mt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&wg(n,l,i);else if(n.tag===19)wg(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Pt(Mt,c),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)n=l.alternate,n!==null&&Ll(n)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Bd(i,!1,p,l,v);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(n=p.alternate,n!==null&&Ll(n)===null){i.child=p;break}n=p.sibling,p.sibling=l,l=p,p=n}Bd(i,!0,l,null,v);break;case"together":Bd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Wl(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function os(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),di|=i.lanes,(l&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,l=Ls(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=Ls(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function yS(n,i,l){switch(i.tag){case 3:vg(i),Wi();break;case 5:Am(i);break;case 1:zr(i.type)&&El(i);break;case 4:bd(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,p=i.memoizedProps.value;Pt(Rl,c._currentValue),c._currentValue=p;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Pt(Mt,Mt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?xg(n,i,l):(Pt(Mt,Mt.current&1),n=os(n,i,l),n!==null?n.sibling:null);Pt(Mt,Mt.current&1);break;case 19:if(c=(l&i.childLanes)!==0,(n.flags&128)!==0){if(c)return bg(n,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Pt(Mt,Mt.current),c)break;return null;case 22:case 23:return i.lanes=0,pg(n,i,l)}return os(n,i,l)}var Sg,Ud,_g,Cg;Sg=function(n,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Ud=function(){},_g=function(n,i,l,c){var p=n.memoizedProps;if(p!==c){n=i.stateNode,ui(Fn.current);var v=null;switch(l){case"input":p=br(n,p),c=br(n,c),v=[];break;case"select":p=oe({},p,{value:void 0}),c=oe({},c,{value:void 0}),v=[];break;case"textarea":p=P(n,p),c=P(n,c),v=[];break;default:typeof p.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=Cl)}fr(l,c);var b;l=null;for(V in p)if(!c.hasOwnProperty(V)&&p.hasOwnProperty(V)&&p[V]!=null)if(V==="style"){var E=p[V];for(b in E)E.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(o.hasOwnProperty(V)?v||(v=[]):(v=v||[]).push(V,null));for(V in c){var O=c[V];if(E=p?.[V],c.hasOwnProperty(V)&&O!==E&&(O!=null||E!=null))if(V==="style")if(E){for(b in E)!E.hasOwnProperty(b)||O&&O.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in O)O.hasOwnProperty(b)&&E[b]!==O[b]&&(l||(l={}),l[b]=O[b])}else l||(v||(v=[]),v.push(V,l)),l=O;else V==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,E=E?E.__html:void 0,O!=null&&E!==O&&(v=v||[]).push(V,O)):V==="children"?typeof O!="string"&&typeof O!="number"||(v=v||[]).push(V,""+O):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(o.hasOwnProperty(V)?(O!=null&&V==="onScroll"&&jt("scroll",n),v||E===O||(v=[])):(v=v||[]).push(V,O))}l&&(v=v||[]).push("style",l);var V=v;(i.updateQueue=V)&&(i.flags|=4)}},Cg=function(n,i,l,c){l!==c&&(i.flags|=4)};function na(n,i){if(!It)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Tr(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(i)for(var p=n.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&14680064,c|=p.flags&14680064,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=l,i}function xS(n,i,l){var c=i.pendingProps;switch(dd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(i),null;case 1:return zr(i.type)&&Tl(),Tr(i),null;case 3:return c=i.stateNode,Gi(),Dt(Fr),Dt(Cr),Cd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(jl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,bn!==null&&(ef(bn),bn=null))),Ud(n,i),Tr(i),null;case 5:Sd(i);var p=ui(Xo.current);if(l=i.type,n!==null&&i.stateNode!=null)_g(n,i,l,c,p),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(r(166));return Tr(i),null}if(n=ui(Fn.current),jl(i)){c=i.stateNode,l=i.type;var v=i.memoizedProps;switch(c[Ln]=i,c[Qo]=v,n=(i.mode&1)!==0,l){case"dialog":jt("cancel",c),jt("close",c);break;case"iframe":case"object":case"embed":jt("load",c);break;case"video":case"audio":for(p=0;p<qo.length;p++)jt(qo[p],c);break;case"source":jt("error",c);break;case"img":case"image":case"link":jt("error",c),jt("load",c);break;case"details":jt("toggle",c);break;case"input":qr(c,v),jt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!v.multiple},jt("invalid",c);break;case"textarea":F(c,v),jt("invalid",c)}fr(l,v),p=null;for(var b in v)if(v.hasOwnProperty(b)){var E=v[b];b==="children"?typeof E=="string"?c.textContent!==E&&(v.suppressHydrationWarning!==!0&&_l(c.textContent,E,n),p=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(v.suppressHydrationWarning!==!0&&_l(c.textContent,E,n),p=["children",""+E]):o.hasOwnProperty(b)&&E!=null&&b==="onScroll"&&jt("scroll",c)}switch(l){case"input":dr(c),kt(c,v,!0);break;case"textarea":dr(c),ge(c);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(c.onclick=Cl)}c=p,i.updateQueue=c,c!==null&&(i.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=pe(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=b.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=b.createElement(l,{is:c.is}):(n=b.createElement(l),l==="select"&&(b=n,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):n=b.createElementNS(n,l),n[Ln]=i,n[Qo]=c,Sg(n,i,!1,!1),i.stateNode=n;e:{switch(b=_r(l,c),l){case"dialog":jt("cancel",n),jt("close",n),p=c;break;case"iframe":case"object":case"embed":jt("load",n),p=c;break;case"video":case"audio":for(p=0;p<qo.length;p++)jt(qo[p],n);p=c;break;case"source":jt("error",n),p=c;break;case"img":case"image":case"link":jt("error",n),jt("load",n),p=c;break;case"details":jt("toggle",n),p=c;break;case"input":qr(n,c),p=br(n,c),jt("invalid",n);break;case"option":p=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},p=oe({},c,{value:void 0}),jt("invalid",n);break;case"textarea":F(n,c),p=P(n,c),jt("invalid",n);break;default:p=c}fr(l,p),E=p;for(v in E)if(E.hasOwnProperty(v)){var O=E[v];v==="style"?Tt(n,O):v==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Ge(n,O)):v==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&lt(n,O):typeof O=="number"&&lt(n,""+O):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?O!=null&&v==="onScroll"&&jt("scroll",n):O!=null&&R(n,v,O,b))}switch(l){case"input":dr(n),kt(n,c,!1);break;case"textarea":dr(n),ge(n);break;case"option":c.value!=null&&n.setAttribute("value",""+We(c.value));break;case"select":n.multiple=!!c.multiple,v=c.value,v!=null?rr(n,!!c.multiple,v,!1):c.defaultValue!=null&&rr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof p.onClick=="function"&&(n.onclick=Cl)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Tr(i),null;case 6:if(n&&i.stateNode!=null)Cg(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(l=ui(Xo.current),ui(Fn.current),jl(i)){if(c=i.stateNode,l=i.memoizedProps,c[Ln]=i,(v=c.nodeValue!==l)&&(n=Kr,n!==null))switch(n.tag){case 3:_l(c.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&_l(c.nodeValue,l,(n.mode&1)!==0)}v&&(i.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Ln]=i,i.stateNode=c}return Tr(i),null;case 13:if(Dt(Mt),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(It&&Gr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Em(),Wi(),i.flags|=98560,v=!1;else if(v=jl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!v)throw Error(r(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Ln]=i}else Wi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tr(i),v=!1}else bn!==null&&(ef(bn),bn=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(Mt.current&1)!==0?Yt===0&&(Yt=3):nf())),i.updateQueue!==null&&(i.flags|=4),Tr(i),null);case 4:return Gi(),Ud(n,i),n===null&&Wo(i.stateNode.containerInfo),Tr(i),null;case 10:return vd(i.type._context),Tr(i),null;case 17:return zr(i.type)&&Tl(),Tr(i),null;case 19:if(Dt(Mt),v=i.memoizedState,v===null)return Tr(i),null;if(c=(i.flags&128)!==0,b=v.rendering,b===null)if(c)na(v,!1);else{if(Yt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(b=Ll(n),b!==null){for(i.flags|=128,na(v,!1),c=b.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=l,l=i.child;l!==null;)v=l,n=c,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,n=b.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return Pt(Mt,Mt.current&1|2),i.child}n=n.sibling}v.tail!==null&&At()>Ji&&(i.flags|=128,c=!0,na(v,!1),i.lanes=4194304)}else{if(!c)if(n=Ll(b),n!==null){if(i.flags|=128,c=!0,l=n.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),na(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!It)return Tr(i),null}else 2*At()-v.renderingStartTime>Ji&&l!==1073741824&&(i.flags|=128,c=!0,na(v,!1),i.lanes=4194304);v.isBackwards?(b.sibling=i.child,i.child=b):(l=v.last,l!==null?l.sibling=b:i.child=b,v.last=b)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=At(),i.sibling=null,l=Mt.current,Pt(Mt,c?l&1|2:l&1),i):(Tr(i),null);case 22:case 23:return rf(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(Zr&1073741824)!==0&&(Tr(i),i.subtreeFlags&6&&(i.flags|=8192)):Tr(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function wS(n,i){switch(dd(i),i.tag){case 1:return zr(i.type)&&Tl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Gi(),Dt(Fr),Dt(Cr),Cd(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return Sd(i),null;case 13:if(Dt(Mt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Wi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Dt(Mt),null;case 4:return Gi(),null;case 10:return vd(i.type._context),null;case 22:case 23:return rf(),null;case 24:return null;default:return null}}var Hl=!1,Er=!1,bS=typeof WeakSet=="function"?WeakSet:Set,ke=null;function Yi(n,i){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){$t(n,i,c)}else l.current=null}function qd(n,i,l){try{l()}catch(c){$t(n,i,c)}}var kg=!1;function SS(n,i){if(rd=fl,n=nm(),Kc(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var b=0,E=-1,O=-1,V=0,se=0,ae=n,re=null;t:for(;;){for(var Se;ae!==l||p!==0&&ae.nodeType!==3||(E=b+p),ae!==v||c!==0&&ae.nodeType!==3||(O=b+c),ae.nodeType===3&&(b+=ae.nodeValue.length),(Se=ae.firstChild)!==null;)re=ae,ae=Se;for(;;){if(ae===n)break t;if(re===l&&++V===p&&(E=b),re===v&&++se===c&&(O=b),(Se=ae.nextSibling)!==null)break;ae=re,re=ae.parentNode}ae=Se}l=E===-1||O===-1?null:{start:E,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(nd={focusedElem:n,selectionRange:l},fl=!1,ke=i;ke!==null;)if(i=ke,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ke=n;else for(;ke!==null;){i=ke;try{var Ee=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Oe=Ee.memoizedProps,Ut=Ee.memoizedState,L=i.stateNode,D=L.getSnapshotBeforeUpdate(i.elementType===i.type?Oe:Sn(i.type,Oe),Ut);L.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=i.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(he){$t(i,i.return,he)}if(n=i.sibling,n!==null){n.return=i.return,ke=n;break}ke=i.return}return Ee=kg,kg=!1,Ee}function sa(n,i,l){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&n)===n){var v=p.destroy;p.destroy=void 0,v!==void 0&&qd(i,l,v)}p=p.next}while(p!==c)}}function Ql(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&n)===n){var c=l.create;l.destroy=c()}l=l.next}while(l!==i)}}function Wd(n){var i=n.ref;if(i!==null){var l=n.stateNode;n.tag,n=l,typeof i=="function"?i(n):i.current=n}}function Tg(n){var i=n.alternate;i!==null&&(n.alternate=null,Tg(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Ln],delete i[Qo],delete i[ad],delete i[sS],delete i[iS])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Eg(n){return n.tag===5||n.tag===3||n.tag===4}function Ng(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Eg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hd(n,i,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(n,i):l.insertBefore(n,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(n,l)):(i=l,i.appendChild(n)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Cl));else if(c!==4&&(n=n.child,n!==null))for(Hd(n,i,l),n=n.sibling;n!==null;)Hd(n,i,l),n=n.sibling}function Qd(n,i,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Qd(n,i,l),n=n.sibling;n!==null;)Qd(n,i,l),n=n.sibling}var gr=null,_n=!1;function Ds(n,i,l){for(l=l.child;l!==null;)Pg(n,i,l),l=l.sibling}function Pg(n,i,l){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(ni,l)}catch{}switch(l.tag){case 5:Er||Yi(l,i);case 6:var c=gr,p=_n;gr=null,Ds(n,i,l),gr=c,_n=p,gr!==null&&(_n?(n=gr,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):gr.removeChild(l.stateNode));break;case 18:gr!==null&&(_n?(n=gr,l=l.stateNode,n.nodeType===8?od(n.parentNode,l):n.nodeType===1&&od(n,l),Mo(n)):od(gr,l.stateNode));break;case 4:c=gr,p=_n,gr=l.stateNode.containerInfo,_n=!0,Ds(n,i,l),gr=c,_n=p;break;case 0:case 11:case 14:case 15:if(!Er&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){p=c=c.next;do{var v=p,b=v.destroy;v=v.tag,b!==void 0&&((v&2)!==0||(v&4)!==0)&&qd(l,i,b),p=p.next}while(p!==c)}Ds(n,i,l);break;case 1:if(!Er&&(Yi(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(E){$t(l,i,E)}Ds(n,i,l);break;case 21:Ds(n,i,l);break;case 22:l.mode&1?(Er=(c=Er)||l.memoizedState!==null,Ds(n,i,l),Er=c):Ds(n,i,l);break;default:Ds(n,i,l)}}function Og(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new bS),i.forEach(function(c){var p=jS.bind(null,n,c);l.has(c)||(l.add(c),c.then(p,p))})}}function Cn(n,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c];try{var v=n,b=i,E=b;e:for(;E!==null;){switch(E.tag){case 5:gr=E.stateNode,_n=!1;break e;case 3:gr=E.stateNode.containerInfo,_n=!0;break e;case 4:gr=E.stateNode.containerInfo,_n=!0;break e}E=E.return}if(gr===null)throw Error(r(160));Pg(v,b,p),gr=null,_n=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch(V){$t(p,i,V)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)jg(i,n),i=i.sibling}function jg(n,i){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Cn(i,n),$n(n),c&4){try{sa(3,n,n.return),Ql(3,n)}catch(Oe){$t(n,n.return,Oe)}try{sa(5,n,n.return)}catch(Oe){$t(n,n.return,Oe)}}break;case 1:Cn(i,n),$n(n),c&512&&l!==null&&Yi(l,l.return);break;case 5:if(Cn(i,n),$n(n),c&512&&l!==null&&Yi(l,l.return),n.flags&32){var p=n.stateNode;try{lt(p,"")}catch(Oe){$t(n,n.return,Oe)}}if(c&4&&(p=n.stateNode,p!=null)){var v=n.memoizedProps,b=l!==null?l.memoizedProps:v,E=n.type,O=n.updateQueue;if(n.updateQueue=null,O!==null)try{E==="input"&&v.type==="radio"&&v.name!=null&&mt(p,v),_r(E,b);var V=_r(E,v);for(b=0;b<O.length;b+=2){var se=O[b],ae=O[b+1];se==="style"?Tt(p,ae):se==="dangerouslySetInnerHTML"?Ge(p,ae):se==="children"?lt(p,ae):R(p,se,ae,V)}switch(E){case"input":Te(p,v);break;case"textarea":G(p,v);break;case"select":var re=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var Se=v.value;Se!=null?rr(p,!!v.multiple,Se,!1):re!==!!v.multiple&&(v.defaultValue!=null?rr(p,!!v.multiple,v.defaultValue,!0):rr(p,!!v.multiple,v.multiple?[]:"",!1))}p[Qo]=v}catch(Oe){$t(n,n.return,Oe)}}break;case 6:if(Cn(i,n),$n(n),c&4){if(n.stateNode===null)throw Error(r(162));p=n.stateNode,v=n.memoizedProps;try{p.nodeValue=v}catch(Oe){$t(n,n.return,Oe)}}break;case 3:if(Cn(i,n),$n(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Mo(i.containerInfo)}catch(Oe){$t(n,n.return,Oe)}break;case 4:Cn(i,n),$n(n);break;case 13:Cn(i,n),$n(n),p=n.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(Zd=At())),c&4&&Og(n);break;case 22:if(se=l!==null&&l.memoizedState!==null,n.mode&1?(Er=(V=Er)||se,Cn(i,n),Er=V):Cn(i,n),$n(n),c&8192){if(V=n.memoizedState!==null,(n.stateNode.isHidden=V)&&!se&&(n.mode&1)!==0)for(ke=n,se=n.child;se!==null;){for(ae=ke=se;ke!==null;){switch(re=ke,Se=re.child,re.tag){case 0:case 11:case 14:case 15:sa(4,re,re.return);break;case 1:Yi(re,re.return);var Ee=re.stateNode;if(typeof Ee.componentWillUnmount=="function"){c=re,l=re.return;try{i=c,Ee.props=i.memoizedProps,Ee.state=i.memoizedState,Ee.componentWillUnmount()}catch(Oe){$t(c,l,Oe)}}break;case 5:Yi(re,re.return);break;case 22:if(re.memoizedState!==null){Ig(ae);continue}}Se!==null?(Se.return=re,ke=Se):Ig(ae)}se=se.sibling}e:for(se=null,ae=n;;){if(ae.tag===5){if(se===null){se=ae;try{p=ae.stateNode,V?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(E=ae.stateNode,O=ae.memoizedProps.style,b=O!=null&&O.hasOwnProperty("display")?O.display:null,E.style.display=Wr("display",b))}catch(Oe){$t(n,n.return,Oe)}}}else if(ae.tag===6){if(se===null)try{ae.stateNode.nodeValue=V?"":ae.memoizedProps}catch(Oe){$t(n,n.return,Oe)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===n)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===n)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===n)break e;se===ae&&(se=null),ae=ae.return}se===ae&&(se=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Cn(i,n),$n(n),c&4&&Og(n);break;case 21:break;default:Cn(i,n),$n(n)}}function $n(n){var i=n.flags;if(i&2){try{e:{for(var l=n.return;l!==null;){if(Eg(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 5:var p=c.stateNode;c.flags&32&&(lt(p,""),c.flags&=-33);var v=Ng(n);Qd(n,v,p);break;case 3:case 4:var b=c.stateNode.containerInfo,E=Ng(n);Hd(n,E,b);break;default:throw Error(r(161))}}catch(O){$t(n,n.return,O)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function _S(n,i,l){ke=n,Dg(n)}function Dg(n,i,l){for(var c=(n.mode&1)!==0;ke!==null;){var p=ke,v=p.child;if(p.tag===22&&c){var b=p.memoizedState!==null||Hl;if(!b){var E=p.alternate,O=E!==null&&E.memoizedState!==null||Er;E=Hl;var V=Er;if(Hl=b,(Er=O)&&!V)for(ke=p;ke!==null;)b=ke,O=b.child,b.tag===22&&b.memoizedState!==null?Ag(p):O!==null?(O.return=b,ke=O):Ag(p);for(;v!==null;)ke=v,Dg(v),v=v.sibling;ke=p,Hl=E,Er=V}Rg(n)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,ke=v):Rg(n)}}function Rg(n){for(;ke!==null;){var i=ke;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Er||Ql(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Er)if(l===null)c.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:Sn(i.type,l.memoizedProps);c.componentDidUpdate(p,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&Im(i,v,c);break;case 3:var b=i.updateQueue;if(b!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Im(i,b,l)}break;case 5:var E=i.stateNode;if(l===null&&i.flags&4){l=E;var O=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var V=i.alternate;if(V!==null){var se=V.memoizedState;if(se!==null){var ae=se.dehydrated;ae!==null&&Mo(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Er||i.flags&512&&Wd(i)}catch(re){$t(i,i.return,re)}}if(i===n){ke=null;break}if(l=i.sibling,l!==null){l.return=i.return,ke=l;break}ke=i.return}}function Ig(n){for(;ke!==null;){var i=ke;if(i===n){ke=null;break}var l=i.sibling;if(l!==null){l.return=i.return,ke=l;break}ke=i.return}}function Ag(n){for(;ke!==null;){var i=ke;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Ql(4,i)}catch(O){$t(i,l,O)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var p=i.return;try{c.componentDidMount()}catch(O){$t(i,p,O)}}var v=i.return;try{Wd(i)}catch(O){$t(i,v,O)}break;case 5:var b=i.return;try{Wd(i)}catch(O){$t(i,b,O)}}}catch(O){$t(i,i.return,O)}if(i===n){ke=null;break}var E=i.sibling;if(E!==null){E.return=i.return,ke=E;break}ke=i.return}}var CS=Math.ceil,Kl=M.ReactCurrentDispatcher,Kd=M.ReactCurrentOwner,hn=M.ReactCurrentBatchConfig,ht=0,or=null,Kt=null,vr=0,Zr=0,Xi=Es(0),Yt=0,ia=null,di=0,Gl=0,Gd=0,oa=null,Vr=null,Zd=0,Ji=1/0,as=null,Zl=!1,Yd=null,Rs=null,Yl=!1,Is=null,Xl=0,aa=0,Xd=null,Jl=-1,eu=0;function Rr(){return(ht&6)!==0?At():Jl!==-1?Jl:Jl=At()}function As(n){return(n.mode&1)===0?1:(ht&2)!==0&&vr!==0?vr&-vr:aS.transition!==null?(eu===0&&(eu=Np()),eu):(n=wt,n!==0||(n=window.event,n=n===void 0?16:Lp(n.type)),n)}function kn(n,i,l,c){if(50<aa)throw aa=0,Xd=null,Error(r(185));jo(n,l,c),((ht&2)===0||n!==or)&&(n===or&&((ht&2)===0&&(Gl|=l),Yt===4&&Ms(n,vr)),Br(n,c),l===1&&ht===0&&(i.mode&1)===0&&(Ji=At()+500,Nl&&Ps()))}function Br(n,i){var l=n.callbackNode;ab(n,i);var c=Jn(n,n===or?vr:0);if(c===0)l!==null&&ol(l),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(l!=null&&ol(l),i===1)n.tag===0?oS(Lg.bind(null,n)):Sm(Lg.bind(null,n)),rS(function(){(ht&6)===0&&Ps()}),l=null;else{switch(Pp(c)){case 1:l=Po;break;case 4:l=Oo;break;case 16:l=xs;break;case 536870912:l=ul;break;default:l=xs}l=Wg(l,Mg.bind(null,n))}n.callbackPriority=i,n.callbackNode=l}}function Mg(n,i){if(Jl=-1,eu=0,(ht&6)!==0)throw Error(r(327));var l=n.callbackNode;if(eo()&&n.callbackNode!==l)return null;var c=Jn(n,n===or?vr:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=tu(n,c);else{i=c;var p=ht;ht|=2;var v=zg();(or!==n||vr!==i)&&(as=null,Ji=At()+500,hi(n,i));do try{ES();break}catch(E){Fg(n,E)}while(!0);gd(),Kl.current=v,ht=p,Kt!==null?i=0:(or=null,vr=0,i=Yt)}if(i!==0){if(i===2&&(p=Dc(n),p!==0&&(c=p,i=Jd(n,p))),i===1)throw l=ia,hi(n,0),Ms(n,c),Br(n,At()),l;if(i===6)Ms(n,c);else{if(p=n.current.alternate,(c&30)===0&&!kS(p)&&(i=tu(n,c),i===2&&(v=Dc(n),v!==0&&(c=v,i=Jd(n,v))),i===1))throw l=ia,hi(n,0),Ms(n,c),Br(n,At()),l;switch(n.finishedWork=p,n.finishedLanes=c,i){case 0:case 1:throw Error(r(345));case 2:pi(n,Vr,as);break;case 3:if(Ms(n,c),(c&130023424)===c&&(i=Zd+500-At(),10<i)){if(Jn(n,0)!==0)break;if(p=n.suspendedLanes,(p&c)!==c){Rr(),n.pingedLanes|=n.suspendedLanes&p;break}n.timeoutHandle=id(pi.bind(null,n,Vr,as),i);break}pi(n,Vr,as);break;case 4:if(Ms(n,c),(c&4194240)===c)break;for(i=n.eventTimes,p=-1;0<c;){var b=31-I(c);v=1<<b,b=i[b],b>p&&(p=b),c&=~v}if(c=p,c=At()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*CS(c/1960))-c,10<c){n.timeoutHandle=id(pi.bind(null,n,Vr,as),c);break}pi(n,Vr,as);break;case 5:pi(n,Vr,as);break;default:throw Error(r(329))}}}return Br(n,At()),n.callbackNode===l?Mg.bind(null,n):null}function Jd(n,i){var l=oa;return n.current.memoizedState.isDehydrated&&(hi(n,i).flags|=256),n=tu(n,i),n!==2&&(i=Vr,Vr=l,i!==null&&ef(i)),n}function ef(n){Vr===null?Vr=n:Vr.push.apply(Vr,n)}function kS(n){for(var i=n;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var p=l[c],v=p.getSnapshot;p=p.value;try{if(!wn(v(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ms(n,i){for(i&=~Gd,i&=~Gl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var l=31-I(i),c=1<<l;n[l]=-1,i&=~c}}function Lg(n){if((ht&6)!==0)throw Error(r(327));eo();var i=Jn(n,0);if((i&1)===0)return Br(n,At()),null;var l=tu(n,i);if(n.tag!==0&&l===2){var c=Dc(n);c!==0&&(i=c,l=Jd(n,c))}if(l===1)throw l=ia,hi(n,0),Ms(n,i),Br(n,At()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,pi(n,Vr,as),Br(n,At()),null}function tf(n,i){var l=ht;ht|=1;try{return n(i)}finally{ht=l,ht===0&&(Ji=At()+500,Nl&&Ps())}}function fi(n){Is!==null&&Is.tag===0&&(ht&6)===0&&eo();var i=ht;ht|=1;var l=hn.transition,c=wt;try{if(hn.transition=null,wt=1,n)return n()}finally{wt=c,hn.transition=l,ht=i,(ht&6)===0&&Ps()}}function rf(){Zr=Xi.current,Dt(Xi)}function hi(n,i){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,tS(l)),Kt!==null)for(l=Kt.return;l!==null;){var c=l;switch(dd(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Tl();break;case 3:Gi(),Dt(Fr),Dt(Cr),Cd();break;case 5:Sd(c);break;case 4:Gi();break;case 13:Dt(Mt);break;case 19:Dt(Mt);break;case 10:vd(c.type._context);break;case 22:case 23:rf()}l=l.return}if(or=n,Kt=n=Ls(n.current,null),vr=Zr=i,Yt=0,ia=null,Gd=Gl=di=0,Vr=oa=null,li!==null){for(i=0;i<li.length;i++)if(l=li[i],c=l.interleaved,c!==null){l.interleaved=null;var p=c.next,v=l.pending;if(v!==null){var b=v.next;v.next=p,c.next=b}l.pending=c}li=null}return n}function Fg(n,i){do{var l=Kt;try{if(gd(),Fl.current=Bl,zl){for(var c=Lt.memoizedState;c!==null;){var p=c.queue;p!==null&&(p.pending=null),c=c.next}zl=!1}if(ci=0,ir=Zt=Lt=null,Jo=!1,ea=0,Kd.current=null,l===null||l.return===null){Yt=1,ia=i,Kt=null;break}e:{var v=n,b=l.return,E=l,O=i;if(i=vr,E.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var V=O,se=E,ae=se.tag;if((se.mode&1)===0&&(ae===0||ae===11||ae===15)){var re=se.alternate;re?(se.updateQueue=re.updateQueue,se.memoizedState=re.memoizedState,se.lanes=re.lanes):(se.updateQueue=null,se.memoizedState=null)}var Se=ug(b);if(Se!==null){Se.flags&=-257,cg(Se,b,E,v,i),Se.mode&1&&lg(v,V,i),i=Se,O=V;var Ee=i.updateQueue;if(Ee===null){var Oe=new Set;Oe.add(O),i.updateQueue=Oe}else Ee.add(O);break e}else{if((i&1)===0){lg(v,V,i),nf();break e}O=Error(r(426))}}else if(It&&E.mode&1){var Ut=ug(b);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),cg(Ut,b,E,v,i),pd(Zi(O,E));break e}}v=O=Zi(O,E),Yt!==4&&(Yt=2),oa===null?oa=[v]:oa.push(v),v=b;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var L=og(v,O,i);Rm(v,L);break e;case 1:E=O;var D=v.type,z=v.stateNode;if((v.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Rs===null||!Rs.has(z)))){v.flags|=65536,i&=-i,v.lanes|=i;var he=ag(v,E,i);Rm(v,he);break e}}v=v.return}while(v!==null)}Vg(l)}catch(je){i=je,Kt===l&&l!==null&&(Kt=l=l.return);continue}break}while(!0)}function zg(){var n=Kl.current;return Kl.current=Bl,n===null?Bl:n}function nf(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),or===null||(di&268435455)===0&&(Gl&268435455)===0||Ms(or,vr)}function tu(n,i){var l=ht;ht|=2;var c=zg();(or!==n||vr!==i)&&(as=null,hi(n,i));do try{TS();break}catch(p){Fg(n,p)}while(!0);if(gd(),ht=l,Kl.current=c,Kt!==null)throw Error(r(261));return or=null,vr=0,Yt}function TS(){for(;Kt!==null;)$g(Kt)}function ES(){for(;Kt!==null&&!al();)$g(Kt)}function $g(n){var i=qg(n.alternate,n,Zr);n.memoizedProps=n.pendingProps,i===null?Vg(n):Kt=i,Kd.current=null}function Vg(n){var i=n;do{var l=i.alternate;if(n=i.return,(i.flags&32768)===0){if(l=xS(l,i,Zr),l!==null){Kt=l;return}}else{if(l=wS(l,i),l!==null){l.flags&=32767,Kt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Yt=6,Kt=null;return}}if(i=i.sibling,i!==null){Kt=i;return}Kt=i=n}while(i!==null);Yt===0&&(Yt=5)}function pi(n,i,l){var c=wt,p=hn.transition;try{hn.transition=null,wt=1,NS(n,i,l,c)}finally{hn.transition=p,wt=c}return null}function NS(n,i,l,c){do eo();while(Is!==null);if((ht&6)!==0)throw Error(r(327));l=n.finishedWork;var p=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var v=l.lanes|l.childLanes;if(lb(n,v),n===or&&(Kt=or=null,vr=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Yl||(Yl=!0,Wg(xs,function(){return eo(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=hn.transition,hn.transition=null;var b=wt;wt=1;var E=ht;ht|=4,Kd.current=null,SS(n,l),jg(l,n),Kb(nd),fl=!!rd,nd=rd=null,n.current=l,_S(l),ll(),ht=E,wt=b,hn.transition=v}else n.current=l;if(Yl&&(Yl=!1,Is=n,Xl=p),v=n.pendingLanes,v===0&&(Rs=null),mr(l.stateNode),Br(n,At()),i!==null)for(c=n.onRecoverableError,l=0;l<i.length;l++)p=i[l],c(p.value,{componentStack:p.stack,digest:p.digest});if(Zl)throw Zl=!1,n=Yd,Yd=null,n;return(Xl&1)!==0&&n.tag!==0&&eo(),v=n.pendingLanes,(v&1)!==0?n===Xd?aa++:(aa=0,Xd=n):aa=0,Ps(),null}function eo(){if(Is!==null){var n=Pp(Xl),i=hn.transition,l=wt;try{if(hn.transition=null,wt=16>n?16:n,Is===null)var c=!1;else{if(n=Is,Is=null,Xl=0,(ht&6)!==0)throw Error(r(331));var p=ht;for(ht|=4,ke=n.current;ke!==null;){var v=ke,b=v.child;if((ke.flags&16)!==0){var E=v.deletions;if(E!==null){for(var O=0;O<E.length;O++){var V=E[O];for(ke=V;ke!==null;){var se=ke;switch(se.tag){case 0:case 11:case 15:sa(8,se,v)}var ae=se.child;if(ae!==null)ae.return=se,ke=ae;else for(;ke!==null;){se=ke;var re=se.sibling,Se=se.return;if(Tg(se),se===V){ke=null;break}if(re!==null){re.return=Se,ke=re;break}ke=Se}}}var Ee=v.alternate;if(Ee!==null){var Oe=Ee.child;if(Oe!==null){Ee.child=null;do{var Ut=Oe.sibling;Oe.sibling=null,Oe=Ut}while(Oe!==null)}}ke=v}}if((v.subtreeFlags&2064)!==0&&b!==null)b.return=v,ke=b;else e:for(;ke!==null;){if(v=ke,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:sa(9,v,v.return)}var L=v.sibling;if(L!==null){L.return=v.return,ke=L;break e}ke=v.return}}var D=n.current;for(ke=D;ke!==null;){b=ke;var z=b.child;if((b.subtreeFlags&2064)!==0&&z!==null)z.return=b,ke=z;else e:for(b=D;ke!==null;){if(E=ke,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Ql(9,E)}}catch(je){$t(E,E.return,je)}if(E===b){ke=null;break e}var he=E.sibling;if(he!==null){he.return=E.return,ke=he;break e}ke=E.return}}if(ht=p,Ps(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(ni,n)}catch{}c=!0}return c}finally{wt=l,hn.transition=i}}return!1}function Bg(n,i,l){i=Zi(l,i),i=og(n,i,1),n=js(n,i,1),i=Rr(),n!==null&&(jo(n,1,i),Br(n,i))}function $t(n,i,l){if(n.tag===3)Bg(n,n,l);else for(;i!==null;){if(i.tag===3){Bg(i,n,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Rs===null||!Rs.has(c))){n=Zi(l,n),n=ag(i,n,1),i=js(i,n,1),n=Rr(),i!==null&&(jo(i,1,n),Br(i,n));break}}i=i.return}}function PS(n,i,l){var c=n.pingCache;c!==null&&c.delete(i),i=Rr(),n.pingedLanes|=n.suspendedLanes&l,or===n&&(vr&l)===l&&(Yt===4||Yt===3&&(vr&130023424)===vr&&500>At()-Zd?hi(n,0):Gd|=l),Br(n,i)}function Ug(n,i){i===0&&((n.mode&1)===0?i=1:(i=ct,ct<<=1,(ct&130023424)===0&&(ct=4194304)));var l=Rr();n=ss(n,i),n!==null&&(jo(n,i,l),Br(n,l))}function OS(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),Ug(n,l)}function jS(n,i){var l=0;switch(n.tag){case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(i),Ug(n,l)}var qg;qg=function(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps||Fr.current)$r=!0;else{if((n.lanes&l)===0&&(i.flags&128)===0)return $r=!1,yS(n,i,l);$r=(n.flags&131072)!==0}else $r=!1,It&&(i.flags&1048576)!==0&&_m(i,Ol,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Wl(n,i),n=i.pendingProps;var p=Bi(i,Cr.current);Ki(i,l),p=Ed(null,i,c,n,p,l);var v=Nd();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,zr(c)?(v=!0,El(i)):v=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,wd(i),p.updater=Ul,i.stateNode=p,p._reactInternals=i,Id(i,c,n,l),i=Fd(null,i,c,!0,v,l)):(i.tag=0,It&&v&&cd(i),Dr(null,i,p,l),i=i.child),i;case 16:c=i.elementType;e:{switch(Wl(n,i),n=i.pendingProps,p=c._init,c=p(c._payload),i.type=c,p=i.tag=RS(c),n=Sn(c,n),p){case 0:i=Ld(null,i,c,n,l);break e;case 1:i=gg(null,i,c,n,l);break e;case 11:i=dg(null,i,c,n,l);break e;case 14:i=fg(null,i,c,Sn(c.type,n),l);break e}throw Error(r(306,c,""))}return i;case 0:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:Sn(c,p),Ld(n,i,c,p,l);case 1:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:Sn(c,p),gg(n,i,c,p,l);case 3:e:{if(vg(i),n===null)throw Error(r(387));c=i.pendingProps,v=i.memoizedState,p=v.element,Dm(n,i),Ml(i,c,null,l);var b=i.memoizedState;if(c=b.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){p=Zi(Error(r(423)),i),i=yg(n,i,c,l,p);break e}else if(c!==p){p=Zi(Error(r(424)),i),i=yg(n,i,c,l,p);break e}else for(Gr=Ts(i.stateNode.containerInfo.firstChild),Kr=i,It=!0,bn=null,l=Om(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Wi(),c===p){i=os(n,i,l);break e}Dr(n,i,c,l)}i=i.child}return i;case 5:return Am(i),n===null&&hd(i),c=i.type,p=i.pendingProps,v=n!==null?n.memoizedProps:null,b=p.children,sd(c,p)?b=null:v!==null&&sd(c,v)&&(i.flags|=32),mg(n,i),Dr(n,i,b,l),i.child;case 6:return n===null&&hd(i),null;case 13:return xg(n,i,l);case 4:return bd(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Hi(i,null,c,l):Dr(n,i,c,l),i.child;case 11:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:Sn(c,p),dg(n,i,c,p,l);case 7:return Dr(n,i,i.pendingProps,l),i.child;case 8:return Dr(n,i,i.pendingProps.children,l),i.child;case 12:return Dr(n,i,i.pendingProps.children,l),i.child;case 10:e:{if(c=i.type._context,p=i.pendingProps,v=i.memoizedProps,b=p.value,Pt(Rl,c._currentValue),c._currentValue=b,v!==null)if(wn(v.value,b)){if(v.children===p.children&&!Fr.current){i=os(n,i,l);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var E=v.dependencies;if(E!==null){b=v.child;for(var O=E.firstContext;O!==null;){if(O.context===c){if(v.tag===1){O=is(-1,l&-l),O.tag=2;var V=v.updateQueue;if(V!==null){V=V.shared;var se=V.pending;se===null?O.next=O:(O.next=se.next,se.next=O),V.pending=O}}v.lanes|=l,O=v.alternate,O!==null&&(O.lanes|=l),yd(v.return,l,i),E.lanes|=l;break}O=O.next}}else if(v.tag===10)b=v.type===i.type?null:v.child;else if(v.tag===18){if(b=v.return,b===null)throw Error(r(341));b.lanes|=l,E=b.alternate,E!==null&&(E.lanes|=l),yd(b,l,i),b=v.sibling}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===i){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}Dr(n,i,p.children,l),i=i.child}return i;case 9:return p=i.type,c=i.pendingProps.children,Ki(i,l),p=dn(p),c=c(p),i.flags|=1,Dr(n,i,c,l),i.child;case 14:return c=i.type,p=Sn(c,i.pendingProps),p=Sn(c.type,p),fg(n,i,c,p,l);case 15:return hg(n,i,i.type,i.pendingProps,l);case 17:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:Sn(c,p),Wl(n,i),i.tag=1,zr(c)?(n=!0,El(i)):n=!1,Ki(i,l),sg(i,c,p),Id(i,c,p,l),Fd(null,i,c,!0,n,l);case 19:return bg(n,i,l);case 22:return pg(n,i,l)}throw Error(r(156,i.tag))};function Wg(n,i){return il(n,i)}function DS(n,i,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(n,i,l,c){return new DS(n,i,l,c)}function sf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function RS(n){if(typeof n=="function")return sf(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Z)return 11;if(n===_e)return 14}return 2}function Ls(n,i){var l=n.alternate;return l===null?(l=pn(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function ru(n,i,l,c,p,v){var b=2;if(c=n,typeof n=="function")sf(n)&&(b=1);else if(typeof n=="string")b=5;else e:switch(n){case B:return mi(l.children,p,v,i);case J:b=8,p|=8;break;case q:return n=pn(12,l,i,p|2),n.elementType=q,n.lanes=v,n;case ee:return n=pn(13,l,i,p),n.elementType=ee,n.lanes=v,n;case Y:return n=pn(19,l,i,p),n.elementType=Y,n.lanes=v,n;case be:return nu(l,p,v,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:b=10;break e;case te:b=9;break e;case Z:b=11;break e;case _e:b=14;break e;case de:b=16,c=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=pn(b,l,i,p),i.elementType=n,i.type=c,i.lanes=v,i}function mi(n,i,l,c){return n=pn(7,n,c,i),n.lanes=l,n}function nu(n,i,l,c){return n=pn(22,n,c,i),n.elementType=be,n.lanes=l,n.stateNode={isHidden:!1},n}function of(n,i,l){return n=pn(6,n,null,i),n.lanes=l,n}function af(n,i,l){return i=pn(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function IS(n,i,l,c,p){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rc(0),this.expirationTimes=Rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rc(0),this.identifierPrefix=c,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function lf(n,i,l,c,p,v,b,E,O){return n=new IS(n,i,l,E,O),i===1?(i=1,v===!0&&(i|=8)):i=0,v=pn(3,null,null,i),n.current=v,v.stateNode=n,v.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},wd(v),n}function AS(n,i,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:c==null?null:""+c,children:n,containerInfo:i,implementation:l}}function Hg(n){if(!n)return Ns;n=n._reactInternals;e:{if(Pe(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(zr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(zr(l))return wm(n,l,i)}return i}function Qg(n,i,l,c,p,v,b,E,O){return n=lf(l,c,!0,n,p,v,b,E,O),n.context=Hg(null),l=n.current,c=Rr(),p=As(l),v=is(c,p),v.callback=i??null,js(l,v,p),n.current.lanes=p,jo(n,p,c),Br(n,c),n}function su(n,i,l,c){var p=i.current,v=Rr(),b=As(p);return l=Hg(l),i.context===null?i.context=l:i.pendingContext=l,i=is(v,b),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=js(p,i,b),n!==null&&(kn(n,p,b,v),Al(n,p,b)),b}function iu(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function Kg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function uf(n,i){Kg(n,i),(n=n.alternate)&&Kg(n,i)}function MS(){return null}var Gg=typeof reportError=="function"?reportError:function(n){console.error(n)};function cf(n){this._internalRoot=n}ou.prototype.render=cf.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));su(n,i,null,null)},ou.prototype.unmount=cf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;fi(function(){su(null,n,null,null)}),i[es]=null}};function ou(n){this._internalRoot=n}ou.prototype.unstable_scheduleHydration=function(n){if(n){var i=Dp();n={blockedOn:null,target:n,priority:i};for(var l=0;l<_s.length&&i!==0&&i<_s[l].priority;l++);_s.splice(l,0,n),l===0&&Ap(n)}};function df(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function au(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Zg(){}function LS(n,i,l,c,p){if(p){if(typeof c=="function"){var v=c;c=function(){var V=iu(b);v.call(V)}}var b=Qg(i,c,n,0,null,!1,!1,"",Zg);return n._reactRootContainer=b,n[es]=b.current,Wo(n.nodeType===8?n.parentNode:n),fi(),b}for(;p=n.lastChild;)n.removeChild(p);if(typeof c=="function"){var E=c;c=function(){var V=iu(O);E.call(V)}}var O=lf(n,0,!1,null,null,!1,!1,"",Zg);return n._reactRootContainer=O,n[es]=O.current,Wo(n.nodeType===8?n.parentNode:n),fi(function(){su(i,O,l,c)}),O}function lu(n,i,l,c,p){var v=l._reactRootContainer;if(v){var b=v;if(typeof p=="function"){var E=p;p=function(){var O=iu(b);E.call(O)}}su(i,b,n,p)}else b=LS(l,i,n,p,c);return iu(b)}Op=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var l=Hr(i.pendingLanes);l!==0&&(Ic(i,l|1),Br(i,At()),(ht&6)===0&&(Ji=At()+500,Ps()))}break;case 13:fi(function(){var c=ss(n,1);if(c!==null){var p=Rr();kn(c,n,1,p)}}),uf(n,1)}},Ac=function(n){if(n.tag===13){var i=ss(n,134217728);if(i!==null){var l=Rr();kn(i,n,134217728,l)}uf(n,134217728)}},jp=function(n){if(n.tag===13){var i=As(n),l=ss(n,i);if(l!==null){var c=Rr();kn(l,n,i,c)}uf(n,i)}},Dp=function(){return wt},Rp=function(n,i){var l=wt;try{return wt=n,i()}finally{wt=l}},an=function(n,i,l){switch(i){case"input":if(Te(n,l),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==n&&c.form===n.form){var p=kl(c);if(!p)throw Error(r(90));Qt(c),Te(c,p)}}}break;case"textarea":G(n,l);break;case"select":i=l.value,i!=null&&rr(n,!!l.multiple,i,!1)}},me=tf,Ae=fi;var FS={usingClientEntryPoint:!1,Events:[Ko,$i,kl,Et,fe,tf]},la={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zS={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=No(n),n===null?null:n.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||MS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{ni=uu.inject(zS),ln=uu}catch{}}return Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FS,Ur.createPortal=function(n,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!df(i))throw Error(r(200));return AS(n,i,null,l)},Ur.createRoot=function(n,i){if(!df(n))throw Error(r(299));var l=!1,c="",p=Gg;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=lf(n,1,!1,null,null,l,!1,c,p),n[es]=i.current,Wo(n.nodeType===8?n.parentNode:n),new cf(i)},Ur.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=No(i),n=n===null?null:n.stateNode,n},Ur.flushSync=function(n){return fi(n)},Ur.hydrate=function(n,i,l){if(!au(i))throw Error(r(200));return lu(null,n,i,!0,l)},Ur.hydrateRoot=function(n,i,l){if(!df(n))throw Error(r(405));var c=l!=null&&l.hydratedSources||null,p=!1,v="",b=Gg;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),i=Qg(i,null,n,1,l??null,p,!1,v,b),n[es]=i.current,Wo(n),c)for(n=0;n<c.length;n++)l=c[n],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new ou(i)},Ur.render=function(n,i,l){if(!au(i))throw Error(r(200));return lu(null,n,i,!1,l)},Ur.unmountComponentAtNode=function(n){if(!au(n))throw Error(r(40));return n._reactRootContainer?(fi(function(){lu(null,null,n,!1,function(){n._reactRootContainer=null,n[es]=null})}),!0):!1},Ur.unstable_batchedUpdates=tf,Ur.unstable_renderSubtreeIntoContainer=function(n,i,l,c){if(!au(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return lu(n,i,l,!1,c)},Ur.version="18.3.1-next-f1338f8080-20240426",Ur}var sv;function ny(){if(sv)return pf.exports;sv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pf.exports=QS(),pf.exports}var iv;function KS(){if(iv)return cu;iv=1;var t=ny();return cu.createRoot=t.createRoot,cu.hydrateRoot=t.hydrateRoot,cu}var GS=KS();function ZS(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,s,o,a,u=[],d="",h=t.split("/");for(h[0]||h.shift();o=h.shift();)r=o[0],r==="*"?(u.push(r),d+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=o.indexOf("?",1),a=o.indexOf(".",1),u.push(o.substring(1,~s?s:~a?a:o.length)),d+=~s&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(d+=(~s?"?":"")+"\\"+o.substring(a))):d+="/"+o;return{keys:u,pattern:new RegExp("^"+d+(e?"(?=$|/)":"/?$"),"i")}}var w=rc();const Ye=ry(w),sy=VS({__proto__:null,default:Ye},[w]);var vf={exports:{}},yf={};var ov;function YS(){if(ov)return yf;ov=1;var t=rc();function e(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var r=typeof Object.is=="function"?Object.is:e,s=t.useState,o=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function d(y,x){var S=x(),C=s({inst:{value:S,getSnapshot:x}}),_=C[0].inst,k=C[1];return a(function(){_.value=S,_.getSnapshot=x,h(_)&&k({inst:_})},[y,S,x]),o(function(){return h(_)&&k({inst:_}),y(function(){h(_)&&k({inst:_})})},[y]),u(S),S}function h(y){var x=y.getSnapshot;y=y.value;try{var S=x();return!r(y,S)}catch{return!0}}function m(y,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return yf.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,yf}var av;function XS(){return av||(av=1,vf.exports=YS()),vf.exports}var JS=XS();const e2=sy.useInsertionEffect,t2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iy=t2?w.useLayoutEffect:w.useEffect,r2=e2||iy,Ih=t=>{const e=w.useRef([t,(...r)=>e[0](...r)]).current;return r2(()=>{e[0]=t}),e[1]},n2="popstate",Ah="pushState",Mh="replaceState",s2="hashchange",lv=[n2,Ah,Mh,s2],i2=t=>{for(const e of lv)addEventListener(e,t);return()=>{for(const e of lv)removeEventListener(e,t)}},oy=(t,e)=>JS.useSyncExternalStore(i2,t,e),o2=()=>location.search,a2=({ssrSearch:t=""}={})=>oy(o2,()=>t),uv=()=>location.pathname,l2=({ssrPath:t}={})=>oy(uv,t?()=>t:uv),u2=(t,{replace:e=!1,state:r=null}={})=>history[e?Mh:Ah](r,"",t),c2=(t={})=>[l2(t),u2],cv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[cv]>"u"){for(const t of[Ah,Mh]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),s=new Event(t);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,cv,{value:!0})}const d2=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",ay=(t="")=>t==="/"?"":t,f2=(t,e)=>t[0]==="~"?t.slice(1):ay(e)+t,h2=(t="",e)=>d2(dv(ay(t)),dv(e)),dv=t=>{try{return decodeURI(t)}catch{return t}},ly={hook:c2,searchHook:a2,parser:ZS,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},uy=w.createContext(ly),Za=()=>w.useContext(uy),cy={},dy=w.createContext(cy),fy=()=>w.useContext(dy),nc=t=>{const[e,r]=t.hook(t);return[h2(t.base,e),Ih((s,o)=>r(f2(s,t.base),o))]},ji=()=>nc(Za()),hy=(t,e,r,s)=>{const{pattern:o,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",s),u=o.exec(r)||[],[d,...h]=u;return d!==void 0?[!0,(()=>{const m=a!==!1?Object.fromEntries(a.map((y,x)=>[y,h[x]])):u.groups;let g={...h};return m&&Object.assign(g,m),g})(),...s?[d]:[]]:[!1,null]},p2=({children:t,...e})=>{const r=Za(),s=e.hook?ly:r;let o=s;const[a,u]=e.ssrPath?.split("?")??[];u&&(e.ssrSearch=u,e.ssrPath=a),e.hrefs=e.hrefs??e.hook?.hrefs;let d=w.useRef({}),h=d.current,m=h;for(let g in s){const y=g==="base"?s[g]+(e[g]||""):e[g]||s[g];h===m&&y!==m[g]&&(d.current=m={...m}),m[g]=y,y!==s[g]&&(o=m)}return w.createElement(uy.Provider,{value:o,children:t})},fv=({children:t,component:e},r)=>e?w.createElement(e,{params:r}):typeof t=="function"?t(r):t,m2=t=>{let e=w.useRef(cy),r=e.current;for(const s in t)t[s]!==r[s]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},to=({path:t,nest:e,match:r,...s})=>{const o=Za(),[a]=nc(o),[u,d,h]=r??hy(o.parser,t,a,e),m=m2({...fy(),...d});if(!u)return null;const g=h?w.createElement(p2,{base:h},fv(s,m)):fv(s,m);return w.createElement(dy.Provider,{value:m,children:g})},ro=w.forwardRef((t,e)=>{const r=Za(),[s,o]=nc(r),{to:a="",href:u=a,onClick:d,asChild:h,children:m,className:g,replace:y,state:x,...S}=t,C=Ih(k=>{k.ctrlKey||k.metaKey||k.altKey||k.shiftKey||k.button!==0||(d?.(k),k.defaultPrevented||(k.preventDefault(),o(u,t)))}),_=r.hrefs(u[0]==="~"?u.slice(1):r.base+u,r);return h&&w.isValidElement(m)?w.cloneElement(m,{onClick:C,href:_}):w.createElement("a",{...S,onClick:C,href:_,className:g?.call?g(s===u):g,children:m,ref:e})}),py=t=>Array.isArray(t)?t.flatMap(e=>py(e&&e.type===w.Fragment?e.props.children:e)):[t],g2=({children:t,location:e})=>{const r=Za(),[s]=nc(r);for(const o of py(t)){let a=0;if(w.isValidElement(o)&&(a=hy(r.parser,o.props.path,e||s,o.props.nest))[0])return w.cloneElement(o,{match:a})}return null},my=t=>{const{to:e,href:r=e}=t,[,s]=ji(),o=Ih(()=>s(e||r,t));return iy(()=>{o()},[]),null};var _o=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Si=typeof window>"u"||"Deno"in globalThis;function gn(){}function v2(t,e){return typeof t=="function"?t(e):t}function Qf(t){return typeof t=="number"&&t>=0&&t!==1/0}function gy(t,e){return Math.max(t+(e||0)-Date.now(),0)}function uo(t,e){return typeof t=="function"?t(e):t}function Nn(t,e){return typeof t=="function"?t(e):t}function hv(t,e){const{type:r="all",exact:s,fetchStatus:o,predicate:a,queryKey:u,stale:d}=t;if(u){if(s){if(e.queryHash!==Lh(u,e.options))return!1}else if(!Oa(e.queryKey,u))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||a&&!a(e))}function pv(t,e){const{exact:r,status:s,predicate:o,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(_i(e.options.mutationKey)!==_i(a))return!1}else if(!Oa(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||o&&!o(e))}function Lh(t,e){return(e?.queryKeyHashFn||_i)(t)}function _i(t){return JSON.stringify(t,(e,r)=>Kf(r)?Object.keys(r).sort().reduce((s,o)=>(s[o]=r[o],s),{}):r)}function Oa(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Oa(t[r],e[r])):!1}function vy(t,e){if(t===e)return t;const r=mv(t)&&mv(e);if(r||Kf(t)&&Kf(e)){const s=r?t:Object.keys(t),o=s.length,a=r?e:Object.keys(e),u=a.length,d=r?[]:{};let h=0;for(let m=0;m<u;m++){const g=r?m:a[m];(!r&&s.includes(g)||r)&&t[g]===void 0&&e[g]===void 0?(d[g]=void 0,h++):(d[g]=vy(t[g],e[g]),d[g]===t[g]&&t[g]!==void 0&&h++)}return o===u&&h===o?t:d}return e}function Ou(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function mv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Kf(t){if(!gv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!gv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function gv(t){return Object.prototype.toString.call(t)==="[object Object]"}function y2(t){return new Promise(e=>{setTimeout(e,t)})}function Gf(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?vy(t,e):e}function x2(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function w2(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var Fh=Symbol();function yy(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Fh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var b2=class extends _o{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Si&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},zh=new b2,S2=class extends _o{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Si&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},ju=new S2;function Zf(){let t,e;const r=new Promise((o,a)=>{t=o,e=a});r.status="pending",r.catch(()=>{});function s(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{s({status:"fulfilled",value:o}),t(o)},r.reject=o=>{s({status:"rejected",reason:o}),e(o)},r}function _2(t){return Math.min(1e3*2**t,3e4)}function xy(t){return(t??"online")==="online"?ju.isOnline():!0}var wy=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function xf(t){return t instanceof wy}function by(t){let e=!1,r=0,s=!1,o;const a=Zf(),u=_=>{s||(x(new wy(_)),t.abort?.())},d=()=>{e=!0},h=()=>{e=!1},m=()=>zh.isFocused()&&(t.networkMode==="always"||ju.isOnline())&&t.canRun(),g=()=>xy(t.networkMode)&&t.canRun(),y=_=>{s||(s=!0,t.onSuccess?.(_),o?.(),a.resolve(_))},x=_=>{s||(s=!0,t.onError?.(_),o?.(),a.reject(_))},S=()=>new Promise(_=>{o=k=>{(s||m())&&_(k)},t.onPause?.()}).then(()=>{o=void 0,s||t.onContinue?.()}),C=()=>{if(s)return;let _;const k=r===0?t.initialPromise:void 0;try{_=k??t.fn()}catch(N){_=Promise.reject(N)}Promise.resolve(_).then(y).catch(N=>{if(s)return;const T=t.retry??(Si?0:3),R=t.retryDelay??_2,M=typeof R=="function"?R(r,N):R,$=T===!0||typeof T=="number"&&r<T||typeof T=="function"&&T(r,N);if(e||!$){x(N);return}r++,t.onFail?.(r,N),y2(M).then(()=>m()?void 0:S()).then(()=>{e?x(N):C()})})};return{promise:a,cancel:u,continue:()=>(o?.(),a),cancelRetry:d,continueRetry:h,canStart:g,start:()=>(g()?C():S().then(C),a)}}function C2(){let t=[],e=0,r=d=>{d()},s=d=>{d()},o=d=>setTimeout(d,0);const a=d=>{e?t.push(d):o(()=>{r(d)})},u=()=>{const d=t;t=[],d.length&&o(()=>{s(()=>{d.forEach(h=>{r(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||u()}return h},batchCalls:d=>(...h)=>{a(()=>{d(...h)})},schedule:a,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{o=d}}}var er=C2(),Sy=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qf(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Si?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},k2=class extends Sy{#e;#t;#n;#r;#o;#i;constructor(t){super(),this.#i=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=T2(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const r=Gf(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(gn).catch(gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Nn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!gy(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#i?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},o=()=>{const d=yy(this.options,e),h={queryKey:this.queryKey,meta:this.meta};return s(h),this.#i=!1,this.options.persister?this.options.persister(d,h,this):d(h)},a={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta});const u=d=>{xf(d)&&d.silent||this.#s({type:"error",error:d}),xf(d)||(this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#r=by({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(h){u(h);return}this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:u,onFail:(d,h)=>{this.#s({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._y(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return xf(s)&&s.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),er.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function _y(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:xy(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function T2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var E2=class extends _o{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const s=e.queryKey,o=e.queryHash??Lh(s,e);let a=this.get(o);return a||(a=new k2({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>hv(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>hv(t,r)):e}notify(t){er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){er.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},N2=class extends Sy{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||Cy(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=by({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#r({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:r})}const s=await this.#n.start();return await this.#t.config.onSuccess?.(s,t,this.state.context,this),await this.options.onSuccess?.(s,t,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,t,this.state.context),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,t,this.state.context,this),await this.options.onError?.(s,t,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,t,this.state.context),s}finally{this.#r({type:"error",error:s})}}finally{this.#t.runNext(this)}}#r(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),er.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function Cy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var P2=class extends _o{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){const s=new N2({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(s),s}add(t){const e=du(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=du(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter(s=>s!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(du(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(du(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(r=>pv(e,r))}findAll(t={}){return this.getAll().filter(e=>pv(t,e))}notify(t){er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return er.batch(()=>Promise.all(t.map(e=>e.continue().catch(gn))))}};function du(t){return t.options.scope?.id??String(t.mutationId)}function vv(t){return{onFetch:(e,r)=>{const s=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const m=async()=>{let g=!1;const y=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=yy(e.options,e.fetchOptions),S=async(C,_,k)=>{if(g)return Promise.reject();if(_==null&&C.pages.length)return Promise.resolve(C);const N={queryKey:e.queryKey,pageParam:_,direction:k?"backward":"forward",meta:e.options.meta};y(N);const T=await x(N),{maxPages:R}=e.options,M=k?w2:x2;return{pages:M(C.pages,T,R),pageParams:M(C.pageParams,_,R)}};if(o&&a.length){const C=o==="backward",_=C?O2:yv,k={pages:a,pageParams:u},N=_(s,k);d=await S(k,N,C)}else{const C=t??a.length;do{const _=h===0?u[0]??s.initialPageParam:yv(s,d);if(h>0&&_==null)break;d=await S(d,_),h++}while(h<C)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function yv(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function O2(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var j2=class{#e;#t;#n;#r;#o;#i;#s;#a;constructor(t={}){this.#e=t.queryCache||new E2,this.#t=t.mutationCache||new P2,this.#n=t.defaultOptions||{},this.#r=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=zh.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=ju.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),s=this.#e.build(this,r);return t.revalidateIfStale&&s.isStaleByTime(uo(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(s.queryHash)?.state.data,u=v2(e,a);if(u!==void 0)return this.#e.build(this,s).setData(u,{...r,manual:!0})}setQueriesData(t,e,r){return er.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;er.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e,s={type:"active",...t};return er.batch(()=>(r.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},s=er.batch(()=>this.#e.findAll(t).map(o=>o.cancel(r)));return Promise.all(s).then(gn).catch(gn)}invalidateQueries(t={},e={}){return er.batch(()=>{if(this.#e.findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:e?.cancelRefetch??!0},s=er.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(gn)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(gn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(uo(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gn).catch(gn)}fetchInfiniteQuery(t){return t.behavior=vv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gn).catch(gn)}ensureInfiniteQueryData(t){return t.behavior=vv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return ju.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(_i(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()];let r={};return e.forEach(s=>{Oa(t,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(t,e){this.#o.set(_i(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#o.values()];let r={};return e.forEach(s=>{Oa(t,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Lh(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Fh&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},D2=class extends _o{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#s=Zf(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#o;#i;#s;#a;#m;#f;#h;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),xv(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Yf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Yf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#t.removeObserver(this)}setOptions(t,e){const r=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),r._defaulted&&!Ou(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&wv(this.#t,s,this.options,r)&&this.#d(),this.updateResult(e),o&&(this.#t!==s||Nn(this.options.enabled,this.#t)!==Nn(r.enabled,this.#t)||uo(this.options.staleTime,this.#t)!==uo(r.staleTime,this.#t))&&this.#g();const a=this.#v();o&&(this.#t!==s||Nn(this.options.enabled,this.#t)!==Nn(r.enabled,this.#t)||a!==this.#l)&&this.#y(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return I2(this,r)&&(this.#r=r,this.#i=this.options,this.#o=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(t,e){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),e?.(s),t[s])})}),r}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(gn)),e}#g(){this.#w();const t=uo(this.options.staleTime,this.#t);if(Si||this.#r.isStale||!Qf(t))return;const r=gy(this.#r.dataUpdatedAt,t)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#b(),this.#l=t,!(Si||Nn(this.options.enabled,this.#t)===!1||!Qf(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||zh.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#w(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#b(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const r=this.#t,s=this.options,o=this.#r,a=this.#o,u=this.#i,h=t!==r?t.state:this.#n,{state:m}=t;let g={...m},y=!1,x;if(e._optimisticResults){const B=this.hasListeners(),J=!B&&xv(t,e),q=B&&wv(t,r,e,s);(J||q)&&(g={...g,..._y(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:S,errorUpdatedAt:C,status:_}=g;if(e.select&&g.data!==void 0)if(o&&g.data===a?.data&&e.select===this.#m)x=this.#f;else try{this.#m=e.select,x=e.select(g.data),x=Gf(o?.data,x,e),this.#f=x,this.#a=null}catch(B){this.#a=B}else x=g.data;if(e.placeholderData!==void 0&&x===void 0&&_==="pending"){let B;if(o?.isPlaceholderData&&e.placeholderData===u?.placeholderData)B=o.data;else if(B=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,e.select&&B!==void 0)try{B=e.select(B),this.#a=null}catch(J){this.#a=J}B!==void 0&&(_="success",x=Gf(o?.data,B,e),y=!0)}this.#a&&(S=this.#a,x=this.#f,C=Date.now(),_="error");const k=g.fetchStatus==="fetching",N=_==="pending",T=_==="error",R=N&&k,M=x!==void 0,K={status:_,fetchStatus:g.fetchStatus,isPending:N,isSuccess:_==="success",isError:T,isInitialLoading:R,isLoading:R,data:x,dataUpdatedAt:g.dataUpdatedAt,error:S,errorUpdatedAt:C,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:k,isRefetching:k&&!N,isLoadingError:T&&!M,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:T&&M,isStale:$h(t,e),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const B=U=>{K.status==="error"?U.reject(K.error):K.data!==void 0&&U.resolve(K.data)},J=()=>{const U=this.#s=K.promise=Zf();B(U)},q=this.#s;switch(q.status){case"pending":t.queryHash===r.queryHash&&B(q);break;case"fulfilled":(K.status==="error"||K.data!==q.value)&&J();break;case"rejected":(K.status!=="error"||K.error!==q.reason)&&J();break}}return K}updateResult(t){const e=this.#r,r=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#i=this.options,this.#o.data!==void 0&&(this.#h=this.#t),Ou(r,e))return;this.#r=r;const s={},o=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,u=typeof a=="function"?a():a;if(u==="all"||!u&&!this.#p.size)return!0;const d=new Set(u??this.#p);return this.options.throwOnError&&d.add("error"),Object.keys(this.#r).some(h=>{const m=h;return this.#r[m]!==e[m]&&d.has(m)})};t?.listeners!==!1&&o()&&(s.listeners=!0),this.#_({...s,...t})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#_(t){er.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function R2(t,e){return Nn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function xv(t,e){return R2(t,e)||t.state.data!==void 0&&Yf(t,e,e.refetchOnMount)}function Yf(t,e,r){if(Nn(e.enabled,t)!==!1){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&$h(t,e)}return!1}function wv(t,e,r,s){return(t!==e||Nn(s.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&$h(t,r)}function $h(t,e){return Nn(e.enabled,t)!==!1&&t.isStaleByTime(uo(e.staleTime,t))}function I2(t,e){return!Ou(t.getCurrentResult(),e)}var A2=class extends _o{#e;#t=void 0;#n;#r;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),Ou(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&_i(r.mutationKey)!==_i(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#o(),this.#i()}mutate(e,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#o(){const e=this.#n?.state??Cy();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){er.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,r,s),this.#r.onSettled?.(e.data,null,r,s)):e?.type==="error"&&(this.#r.onError?.(e.error,r,s),this.#r.onSettled?.(void 0,e.error,r,s))}this.listeners.forEach(r=>{r(this.#t)})})}},ky=w.createContext(void 0),sc=t=>{const e=w.useContext(ky);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},M2=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(ky.Provider,{value:t,children:e})),Ty=w.createContext(!1),L2=()=>w.useContext(Ty);Ty.Provider;function F2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var z2=w.createContext(F2()),$2=()=>w.useContext(z2);function Ey(t,e){return typeof t=="function"?t(...e):!!t}function Xf(){}var V2=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},B2=t=>{w.useEffect(()=>{t.clearReset()},[t])},U2=({result:t,errorResetBoundary:e,throwOnError:r,query:s})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&Ey(r,[t.error,s]),q2=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},W2=(t,e)=>t.isLoading&&t.isFetching&&!e,H2=(t,e)=>t?.suspense&&e.isPending,bv=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Q2(t,e,r){const s=sc(),o=L2(),a=$2(),u=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=o?"isRestoring":"optimistic",q2(u),V2(u,a),B2(a);const d=!s.getQueryCache().get(u.queryHash),[h]=w.useState(()=>new e(s,u)),m=h.getOptimisticResult(u);if(w.useSyncExternalStore(w.useCallback(g=>{const y=o?Xf:h.subscribe(er.batchCalls(g));return h.updateResult(),y},[h,o]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),w.useEffect(()=>{h.setOptions(u,{listeners:!1})},[u,h]),H2(u,m))throw bv(u,h,a);if(U2({result:m,errorResetBoundary:a,throwOnError:u.throwOnError,query:s.getQueryCache().get(u.queryHash)}))throw m.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(u,m),u.experimental_prefetchInRender&&!Si&&W2(m,o)&&(d?bv(u,h,a):s.getQueryCache().get(u.queryHash)?.promise)?.catch(Xf).finally(()=>{h.updateResult()}),u.notifyOnChangeProps?m:h.trackResult(m)}function Du(t,e){return Q2(t,D2)}function wf(t,e){const r=sc(),[s]=w.useState(()=>new A2(r,t));w.useEffect(()=>{s.setOptions(t)},[s,t]);const o=w.useSyncExternalStore(w.useCallback(u=>s.subscribe(er.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=w.useCallback((u,d)=>{s.mutate(u,d).catch(Xf)},[s]);if(o.error&&Ey(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}const Sv={},K2="auth_token";function G2(t){const e=t.trim();return e?/^https?:\/\//i.test(e)?e.replace(/\/+$/g,""):/^\/\//.test(e)?`https:${e.replace(/\/+$/g,"")}`:e.startsWith("/")?e.replace(/\/+$/g,""):`https://${e.replace(/\/+$/g,"")}`:""}function Z2(){const t=Sv?.VITE_API_BASE_URL,e=t?G2(t):"";if(e)return e;const r=Sv?.VITE_WS_URL,s=r?r.trim():"";if(!s)return typeof window<"u"&&window.location.hostname.toLowerCase().endsWith(".pages.dev")?"https://chesspro-api.longnononpro.workers.dev":"";try{const o=new URL(s);o.protocol==="ws:"&&(o.protocol="http:"),o.protocol==="wss:"&&(o.protocol="https:"),o.pathname=o.pathname.replace(/\/ws\/?$/i,"/");const a=o.pathname.replace(/\/+$/g,"");return a&&a!=="/"?`${o.origin}${a}`:o.origin}catch{return""}}const tn=Z2();function Y2(){try{return localStorage.getItem(K2)}catch{return null}}function X2(t){const e=Y2();return e?{...t,Authorization:`Bearer ${e}`}:t}async function J2(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const e_=({on401:t})=>async({queryKey:e})=>{const r=await fetch(tn+e.join("/"),{headers:X2({})});return await J2(r),await r.json()},t_=new j2({defaultOptions:{queries:{queryFn:e_({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),r_=1,n_=1e6;let bf=0;function s_(){return bf=(bf+1)%Number.MAX_SAFE_INTEGER,bf.toString()}const Sf=new Map,_v=t=>{if(Sf.has(t))return;const e=setTimeout(()=>{Sf.delete(t),ka({type:"REMOVE_TOAST",toastId:t})},n_);Sf.set(t,e)},i_=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,r_)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?_v(r):t.toasts.forEach(s=>{_v(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Su=[];let _u={toasts:[]};function ka(t){_u=i_(_u,t),Su.forEach(e=>{e(_u)})}function o_({...t}){const e=s_(),r=o=>ka({type:"UPDATE_TOAST",toast:{...o,id:e}}),s=()=>ka({type:"DISMISS_TOAST",toastId:e});return ka({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:o=>{o||s()}}}),{id:e,dismiss:s,update:r}}function ei(){const[t,e]=w.useState(_u);return w.useEffect(()=>(Su.push(e),()=>{const r=Su.indexOf(e);r>-1&&Su.splice(r,1)}),[t]),{...t,toast:o_,dismiss:r=>ka({type:"DISMISS_TOAST",toastId:r})}}var ic=ny();const a_=ry(ic);function ut(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}function Cv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ny(...t){return e=>{let r=!1;const s=t.map(o=>{const a=Cv(o,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():Cv(t[o],null)}}}}function ur(...t){return w.useCallback(Ny(...t),t)}function ti(t,e=[]){let r=[];function s(a,u){const d=w.createContext(u),h=r.length;r=[...r,u];const m=y=>{const{scope:x,children:S,...C}=y,_=x?.[t]?.[h]||d,k=w.useMemo(()=>C,Object.values(C));return f.jsx(_.Provider,{value:k,children:S})};m.displayName=a+"Provider";function g(y,x){const S=x?.[t]?.[h]||d,C=w.useContext(S);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[m,g]}const o=()=>{const a=r.map(u=>w.createContext(u));return function(d){const h=d?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return o.scopeName=t,[s,l_(o,...e)]}function l_(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=s.reduce((d,{useScope:h,scopeName:m})=>{const y=h(a)[`__scope${m}`];return{...d,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return r.scopeName=e.scopeName,r}function Ru(t){const e=u_(t),r=w.forwardRef((s,o)=>{const{children:a,...u}=s,d=w.Children.toArray(a),h=d.find(d_);if(h){const m=h.props.children,g=d.map(y=>y===h?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:y);return f.jsx(e,{...u,ref:o,children:w.isValidElement(m)?w.cloneElement(m,void 0,g):null})}return f.jsx(e,{...u,ref:o,children:a})});return r.displayName=`${t}.Slot`,r}var Py=Ru("Slot");function u_(t){const e=w.forwardRef((r,s)=>{const{children:o,...a}=r;if(w.isValidElement(o)){const u=h_(o),d=f_(a,o.props);return o.type!==w.Fragment&&(d.ref=s?Ny(s,u):u),w.cloneElement(o,d)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Oy=Symbol("radix.slottable");function c_(t){const e=({children:r})=>f.jsx(f.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Oy,e}function d_(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Oy}function f_(t,e){const r={...e};for(const s in e){const o=t[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?r[s]=(...d)=>{a(...d),o(...d)}:o&&(r[s]=o):s==="style"?r[s]={...o,...a}:s==="className"&&(r[s]=[o,a].filter(Boolean).join(" "))}return{...t,...r}}function h_(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function jy(t){const e=t+"CollectionProvider",[r,s]=ti(e),[o,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),u=_=>{const{scope:k,children:N}=_,T=Ye.useRef(null),R=Ye.useRef(new Map).current;return f.jsx(o,{scope:k,itemMap:R,collectionRef:T,children:N})};u.displayName=e;const d=t+"CollectionSlot",h=Ru(d),m=Ye.forwardRef((_,k)=>{const{scope:N,children:T}=_,R=a(d,N),M=ur(k,R.collectionRef);return f.jsx(h,{ref:M,children:T})});m.displayName=d;const g=t+"CollectionItemSlot",y="data-radix-collection-item",x=Ru(g),S=Ye.forwardRef((_,k)=>{const{scope:N,children:T,...R}=_,M=Ye.useRef(null),$=ur(k,M),K=a(g,N);return Ye.useEffect(()=>(K.itemMap.set(M,{ref:M,...R}),()=>{K.itemMap.delete(M)})),f.jsx(x,{[y]:"",ref:$,children:T})});S.displayName=g;function C(_){const k=a(t+"CollectionConsumer",_);return Ye.useCallback(()=>{const T=k.collectionRef.current;if(!T)return[];const R=Array.from(T.querySelectorAll(`[${y}]`));return Array.from(k.itemMap.values()).sort((K,B)=>R.indexOf(K.ref.current)-R.indexOf(B.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:u,Slot:m,ItemSlot:S},C,s]}var p_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],St=p_.reduce((t,e)=>{const r=Ru(`Primitive.${e}`),s=w.forwardRef((o,a)=>{const{asChild:u,...d}=o,h=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...d,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function Dy(t,e){t&&ic.flushSync(()=>t.dispatchEvent(e))}function tr(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...r)=>e.current?.(...r),[])}function m_(t,e=globalThis?.document){const r=tr(t);w.useEffect(()=>{const s=o=>{o.key==="Escape"&&r(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[r,e])}var g_="DismissableLayer",Jf="dismissableLayer.update",v_="dismissableLayer.pointerDownOutside",y_="dismissableLayer.focusOutside",kv,Ry=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vh=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...h}=t,m=w.useContext(Ry),[g,y]=w.useState(null),x=g?.ownerDocument??globalThis?.document,[,S]=w.useState({}),C=ur(e,B=>y(B)),_=Array.from(m.layers),[k]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),N=_.indexOf(k),T=g?_.indexOf(g):-1,R=m.layersWithOutsidePointerEventsDisabled.size>0,M=T>=N,$=w_(B=>{const J=B.target,q=[...m.branches].some(U=>U.contains(J));!M||q||(o?.(B),u?.(B),B.defaultPrevented||d?.())},x),K=b_(B=>{const J=B.target;[...m.branches].some(U=>U.contains(J))||(a?.(B),u?.(B),B.defaultPrevented||d?.())},x);return m_(B=>{T===m.layers.size-1&&(s?.(B),!B.defaultPrevented&&d&&(B.preventDefault(),d()))},x),w.useEffect(()=>{if(g)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(kv=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Tv(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=kv)}},[g,x,r,m]),w.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Tv())},[g,m]),w.useEffect(()=>{const B=()=>S({});return document.addEventListener(Jf,B),()=>document.removeEventListener(Jf,B)},[]),f.jsx(St.div,{...h,ref:C,style:{pointerEvents:R?M?"auto":"none":void 0,...t.style},onFocusCapture:ut(t.onFocusCapture,K.onFocusCapture),onBlurCapture:ut(t.onBlurCapture,K.onBlurCapture),onPointerDownCapture:ut(t.onPointerDownCapture,$.onPointerDownCapture)})});Vh.displayName=g_;var x_="DismissableLayerBranch",Iy=w.forwardRef((t,e)=>{const r=w.useContext(Ry),s=w.useRef(null),o=ur(e,s);return w.useEffect(()=>{const a=s.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),f.jsx(St.div,{...t,ref:o})});Iy.displayName=x_;function w_(t,e=globalThis?.document){const r=tr(t),s=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const a=d=>{if(d.target&&!s.current){let h=function(){Ay(v_,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>s.current=!0}}function b_(t,e=globalThis?.document){const r=tr(t),s=w.useRef(!1);return w.useEffect(()=>{const o=a=>{a.target&&!s.current&&Ay(y_,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Tv(){const t=new CustomEvent(Jf);document.dispatchEvent(t)}function Ay(t,e,r,{discrete:s}){const o=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),s?Dy(o,a):o.dispatchEvent(a)}var S_=Vh,__=Iy,yn=globalThis?.document?w.useLayoutEffect:()=>{},C_="Portal",My=w.forwardRef((t,e)=>{const{container:r,...s}=t,[o,a]=w.useState(!1);yn(()=>a(!0),[]);const u=r||o&&globalThis?.document?.body;return u?a_.createPortal(f.jsx(St.div,{...s,ref:e}),u):null});My.displayName=C_;function k_(t,e){return w.useReducer((r,s)=>e[r][s]??r,t)}var ri=t=>{const{present:e,children:r}=t,s=T_(e),o=typeof r=="function"?r({present:s.isPresent}):w.Children.only(r),a=ur(s.ref,E_(o));return typeof r=="function"||s.isPresent?w.cloneElement(o,{ref:a}):null};ri.displayName="Presence";function T_(t){const[e,r]=w.useState(),s=w.useRef({}),o=w.useRef(t),a=w.useRef("none"),u=t?"mounted":"unmounted",[d,h]=k_(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=fu(s.current);a.current=d==="mounted"?m:"none"},[d]),yn(()=>{const m=s.current,g=o.current;if(g!==t){const x=a.current,S=fu(m);t?h("MOUNT"):S==="none"||m?.display==="none"?h("UNMOUNT"):h(g&&x!==S?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,h]),yn(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,y=S=>{const _=fu(s.current).includes(S.animationName);if(S.target===e&&_&&(h("ANIMATION_END"),!o.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},x=S=>{S.target===e&&(a.current=fu(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(m=>{m&&(s.current=getComputedStyle(m)),r(m)},[])}}function fu(t){return t?.animationName||"none"}function E_(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Bh({prop:t,defaultProp:e,onChange:r=()=>{}}){const[s,o]=N_({defaultProp:e,onChange:r}),a=t!==void 0,u=a?t:s,d=tr(r),h=w.useCallback(m=>{if(a){const y=typeof m=="function"?m(t):m;y!==t&&d(y)}else o(m)},[a,t,o,d]);return[u,h]}function N_({defaultProp:t,onChange:e}){const r=w.useState(t),[s]=r,o=w.useRef(s),a=tr(e);return w.useEffect(()=>{o.current!==s&&(a(s),o.current=s)},[s,o,a]),r}var P_="VisuallyHidden",oc=w.forwardRef((t,e)=>f.jsx(St.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));oc.displayName=P_;var O_=oc,Uh="ToastProvider",[qh,j_,D_]=jy("Toast"),[Ly]=ti("Toast",[D_]),[R_,ac]=Ly(Uh),Fy=t=>{const{__scopeToast:e,label:r="Notification",duration:s=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:u}=t,[d,h]=w.useState(null),[m,g]=w.useState(0),y=w.useRef(!1),x=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Uh}\`. Expected non-empty \`string\`.`),f.jsx(qh.Provider,{scope:e,children:f.jsx(R_,{scope:e,label:r,duration:s,swipeDirection:o,swipeThreshold:a,toastCount:m,viewport:d,onViewportChange:h,onToastAdd:w.useCallback(()=>g(S=>S+1),[]),onToastRemove:w.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:x,children:u})})};Fy.displayName=Uh;var zy="ToastViewport",I_=["F8"],eh="toast.viewportPause",th="toast.viewportResume",$y=w.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:s=I_,label:o="Notifications ({hotkey})",...a}=t,u=ac(zy,r),d=j_(r),h=w.useRef(null),m=w.useRef(null),g=w.useRef(null),y=w.useRef(null),x=ur(e,y,u.onViewportChange),S=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=u.toastCount>0;w.useEffect(()=>{const k=N=>{s.length!==0&&s.every(R=>N[R]||N.code===R)&&y.current?.focus()};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[s]),w.useEffect(()=>{const k=h.current,N=y.current;if(C&&k&&N){const T=()=>{if(!u.isClosePausedRef.current){const K=new CustomEvent(eh);N.dispatchEvent(K),u.isClosePausedRef.current=!0}},R=()=>{if(u.isClosePausedRef.current){const K=new CustomEvent(th);N.dispatchEvent(K),u.isClosePausedRef.current=!1}},M=K=>{!k.contains(K.relatedTarget)&&R()},$=()=>{k.contains(document.activeElement)||R()};return k.addEventListener("focusin",T),k.addEventListener("focusout",M),k.addEventListener("pointermove",T),k.addEventListener("pointerleave",$),window.addEventListener("blur",T),window.addEventListener("focus",R),()=>{k.removeEventListener("focusin",T),k.removeEventListener("focusout",M),k.removeEventListener("pointermove",T),k.removeEventListener("pointerleave",$),window.removeEventListener("blur",T),window.removeEventListener("focus",R)}}},[C,u.isClosePausedRef]);const _=w.useCallback(({tabbingDirection:k})=>{const T=d().map(R=>{const M=R.ref.current,$=[M,...Q_(M)];return k==="forwards"?$:$.reverse()});return(k==="forwards"?T.reverse():T).flat()},[d]);return w.useEffect(()=>{const k=y.current;if(k){const N=T=>{const R=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!R){const $=document.activeElement,K=T.shiftKey;if(T.target===k&&K){m.current?.focus();return}const q=_({tabbingDirection:K?"backwards":"forwards"}),U=q.findIndex(te=>te===$);_f(q.slice(U+1))?T.preventDefault():K?m.current?.focus():g.current?.focus()}};return k.addEventListener("keydown",N),()=>k.removeEventListener("keydown",N)}},[d,_]),f.jsxs(__,{ref:h,role:"region","aria-label":o.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&f.jsx(rh,{ref:m,onFocusFromOutsideViewport:()=>{const k=_({tabbingDirection:"forwards"});_f(k)}}),f.jsx(qh.Slot,{scope:r,children:f.jsx(St.ol,{tabIndex:-1,...a,ref:x})}),C&&f.jsx(rh,{ref:g,onFocusFromOutsideViewport:()=>{const k=_({tabbingDirection:"backwards"});_f(k)}})]})});$y.displayName=zy;var Vy="ToastFocusProxy",rh=w.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...o}=t,a=ac(Vy,r);return f.jsx(oc,{"aria-hidden":!0,tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:u=>{const d=u.relatedTarget;!a.viewport?.contains(d)&&s()}})});rh.displayName=Vy;var lc="Toast",A_="toast.swipeStart",M_="toast.swipeMove",L_="toast.swipeCancel",F_="toast.swipeEnd",By=w.forwardRef((t,e)=>{const{forceMount:r,open:s,defaultOpen:o,onOpenChange:a,...u}=t,[d=!0,h]=Bh({prop:s,defaultProp:o,onChange:a});return f.jsx(ri,{present:r||d,children:f.jsx(V_,{open:d,...u,ref:e,onClose:()=>h(!1),onPause:tr(t.onPause),onResume:tr(t.onResume),onSwipeStart:ut(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ut(t.onSwipeMove,m=>{const{x:g,y}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:ut(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ut(t.onSwipeEnd,m=>{const{x:g,y}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),h(!1)})})})});By.displayName=lc;var[z_,$_]=Ly(lc,{onClose(){}}),V_=w.forwardRef((t,e)=>{const{__scopeToast:r,type:s="foreground",duration:o,open:a,onClose:u,onEscapeKeyDown:d,onPause:h,onResume:m,onSwipeStart:g,onSwipeMove:y,onSwipeCancel:x,onSwipeEnd:S,...C}=t,_=ac(lc,r),[k,N]=w.useState(null),T=ur(e,Y=>N(Y)),R=w.useRef(null),M=w.useRef(null),$=o||_.duration,K=w.useRef(0),B=w.useRef($),J=w.useRef(0),{onToastAdd:q,onToastRemove:U}=_,te=tr(()=>{k?.contains(document.activeElement)&&_.viewport?.focus(),u()}),Z=w.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(J.current),K.current=new Date().getTime(),J.current=window.setTimeout(te,Y))},[te]);w.useEffect(()=>{const Y=_.viewport;if(Y){const _e=()=>{Z(B.current),m?.()},de=()=>{const be=new Date().getTime()-K.current;B.current=B.current-be,window.clearTimeout(J.current),h?.()};return Y.addEventListener(eh,de),Y.addEventListener(th,_e),()=>{Y.removeEventListener(eh,de),Y.removeEventListener(th,_e)}}},[_.viewport,$,h,m,Z]),w.useEffect(()=>{a&&!_.isClosePausedRef.current&&Z($)},[a,$,_.isClosePausedRef,Z]),w.useEffect(()=>(q(),()=>U()),[q,U]);const ee=w.useMemo(()=>k?Gy(k):null,[k]);return _.viewport?f.jsxs(f.Fragment,{children:[ee&&f.jsx(B_,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:ee}),f.jsx(z_,{scope:r,onClose:te,children:ic.createPortal(f.jsx(qh.ItemSlot,{scope:r,children:f.jsx(S_,{asChild:!0,onEscapeKeyDown:ut(d,()=>{_.isFocusedToastEscapeKeyDownRef.current||te(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(St.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":_.swipeDirection,...C,ref:T,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ut(t.onKeyDown,Y=>{Y.key==="Escape"&&(d?.(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,te()))}),onPointerDown:ut(t.onPointerDown,Y=>{Y.button===0&&(R.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:ut(t.onPointerMove,Y=>{if(!R.current)return;const _e=Y.clientX-R.current.x,de=Y.clientY-R.current.y,be=!!M.current,W=["left","right"].includes(_.swipeDirection),ce=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,oe=W?ce(0,_e):0,j=W?0:ce(0,de),X=Y.pointerType==="touch"?10:2,Ne={x:oe,y:j},ve={originalEvent:Y,delta:Ne};be?(M.current=Ne,hu(M_,y,ve,{discrete:!1})):Ev(Ne,_.swipeDirection,X)?(M.current=Ne,hu(A_,g,ve,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(_e)>X||Math.abs(de)>X)&&(R.current=null)}),onPointerUp:ut(t.onPointerUp,Y=>{const _e=M.current,de=Y.target;if(de.hasPointerCapture(Y.pointerId)&&de.releasePointerCapture(Y.pointerId),M.current=null,R.current=null,_e){const be=Y.currentTarget,W={originalEvent:Y,delta:_e};Ev(_e,_.swipeDirection,_.swipeThreshold)?hu(F_,S,W,{discrete:!0}):hu(L_,x,W,{discrete:!0}),be.addEventListener("click",ce=>ce.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),B_=t=>{const{__scopeToast:e,children:r,...s}=t,o=ac(lc,e),[a,u]=w.useState(!1),[d,h]=w.useState(!1);return W_(()=>u(!0)),w.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:f.jsx(My,{asChild:!0,children:f.jsx(oc,{...s,children:a&&f.jsxs(f.Fragment,{children:[o.label," ",r]})})})},U_="ToastTitle",Uy=w.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return f.jsx(St.div,{...s,ref:e})});Uy.displayName=U_;var q_="ToastDescription",qy=w.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return f.jsx(St.div,{...s,ref:e})});qy.displayName=q_;var Wy="ToastAction",Hy=w.forwardRef((t,e)=>{const{altText:r,...s}=t;return r.trim()?f.jsx(Ky,{altText:r,asChild:!0,children:f.jsx(Wh,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Wy}\`. Expected non-empty \`string\`.`),null)});Hy.displayName=Wy;var Qy="ToastClose",Wh=w.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t,o=$_(Qy,r);return f.jsx(Ky,{asChild:!0,children:f.jsx(St.button,{type:"button",...s,ref:e,onClick:ut(t.onClick,o.onClose)})})});Wh.displayName=Qy;var Ky=w.forwardRef((t,e)=>{const{__scopeToast:r,altText:s,...o}=t;return f.jsx(St.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...o,ref:e})});function Gy(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),H_(s)){const o=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const u=s.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...Gy(s))}}),e}function hu(t,e,r,{discrete:s}){const o=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),s?Dy(o,a):o.dispatchEvent(a)}var Ev=(t,e,r=0)=>{const s=Math.abs(t.x),o=Math.abs(t.y),a=s>o;return e==="left"||e==="right"?a&&s>r:!a&&o>r};function W_(t=()=>{}){const e=tr(t);yn(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[e])}function H_(t){return t.nodeType===t.ELEMENT_NODE}function Q_(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function _f(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var K_=Fy,Zy=$y,Yy=By,Xy=Uy,Jy=qy,ex=Hy,tx=Wh;function rx(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=rx(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function nx(){for(var t,e,r=0,s="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=rx(t))&&(s&&(s+=" "),s+=e);return s}const Nv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Pv=nx,Hh=(t,e)=>r=>{var s;if(e?.variants==null)return Pv(t,r?.class,r?.className);const{variants:o,defaultVariants:a}=e,u=Object.keys(o).map(m=>{const g=r?.[m],y=a?.[m];if(g===null)return null;const x=Nv(g)||Nv(y);return o[m][x]}),d=r&&Object.entries(r).reduce((m,g)=>{let[y,x]=g;return x===void 0||(m[y]=x),m},{}),h=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((m,g)=>{let{class:y,className:x,...S}=g;return Object.entries(S).every(C=>{let[_,k]=C;return Array.isArray(k)?k.includes({...a,...d}[_]):{...a,...d}[_]===k})?[...m,y,x]:m},[]);return Pv(t,u,h,r?.class,r?.className)};const G_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sx=(...t)=>t.filter((e,r,s)=>!!e&&s.indexOf(e)===r).join(" ");var Z_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Y_=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:u,...d},h)=>w.createElement("svg",{ref:h,...Z_,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:sx("lucide",o),...d},[...u.map(([m,g])=>w.createElement(m,g)),...Array.isArray(a)?a:[a]]));const _t=(t,e)=>{const r=w.forwardRef(({className:s,...o},a)=>w.createElement(Y_,{ref:a,iconNode:e,className:sx(`lucide-${G_(t)}`,s),...o}));return r.displayName=`${t}`,r};const X_=_t("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const xa=_t("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const J_=_t("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const eC=_t("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ov=_t("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const uc=_t("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const tC=_t("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const rC=_t("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const ix=_t("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const Cu=_t("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const nh=_t("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const nC=_t("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const sC=_t("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);const iC=_t("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);const oC=_t("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const aC=_t("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const ox=_t("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const jv=_t("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const lC=_t("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const ax=_t("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);const cc=_t("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const Dv=_t("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const lx=_t("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const uC=_t("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);const cC=_t("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);const Rv=_t("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const dC=_t("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const fC=_t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const hC=_t("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Qh="-",pC=t=>{const e=gC(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{const d=u.split(Qh);return d[0]===""&&d.length!==1&&d.shift(),ux(d,e)||mC(u)},getConflictingClassGroupIds:(u,d)=>{const h=r[u]||[];return d&&s[u]?[...h,...s[u]]:h}}},ux=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),o=s?ux(t.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(Qh);return e.validators.find(({validator:u})=>u(a))?.classGroupId},Iv=/^\[(.+)\]$/,mC=t=>{if(Iv.test(t)){const e=Iv.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},gC=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return yC(Object.entries(t.classGroups),r).forEach(([a,u])=>{sh(u,s,a,e)}),s},sh=(t,e,r,s)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:Av(e,o);a.classGroupId=r;return}if(typeof o=="function"){if(vC(o)){sh(o(s),e,r,s);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,u])=>{sh(u,Av(e,a),r,s)})})},Av=(t,e)=>{let r=t;return e.split(Qh).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},vC=t=>t.isThemeGetter,yC=(t,e)=>e?t.map(([r,s])=>{const o=s.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,d])=>[e+u,d])):a);return[r,o]}):t,xC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const o=(a,u)=>{r.set(a,u),e++,e>t&&(e=0,s=r,r=new Map)};return{get(a){let u=r.get(a);if(u!==void 0)return u;if((u=s.get(a))!==void 0)return o(a,u),u},set(a,u){r.has(a)?r.set(a,u):o(a,u)}}},cx="!",wC=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,o=e[0],a=e.length,u=d=>{const h=[];let m=0,g=0,y;for(let k=0;k<d.length;k++){let N=d[k];if(m===0){if(N===o&&(s||d.slice(k,k+a)===e)){h.push(d.slice(g,k)),g=k+a;continue}if(N==="/"){y=k;continue}}N==="["?m++:N==="]"&&m--}const x=h.length===0?d:d.substring(g),S=x.startsWith(cx),C=S?x.substring(1):x,_=y&&y>g?y-g:void 0;return{modifiers:h,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:_}};return r?d=>r({className:d,parseClassName:u}):u},bC=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},SC=t=>({cache:xC(t.cacheSize),parseClassName:wC(t),...pC(t)}),_C=/\s+/,CC=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:o}=e,a=[],u=t.trim().split(_C);let d="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{modifiers:g,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:S}=r(m);let C=!!S,_=s(C?x.substring(0,S):x);if(!_){if(!C){d=m+(d.length>0?" "+d:d);continue}if(_=s(x),!_){d=m+(d.length>0?" "+d:d);continue}C=!1}const k=bC(g).join(":"),N=y?k+cx:k,T=N+_;if(a.includes(T))continue;a.push(T);const R=o(_,C);for(let M=0;M<R.length;++M){const $=R[M];a.push(N+$)}d=m+(d.length>0?" "+d:d)}return d};function kC(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=dx(e))&&(s&&(s+=" "),s+=r);return s}const dx=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=dx(t[s]))&&(r&&(r+=" "),r+=e);return r};function TC(t,...e){let r,s,o,a=u;function u(h){const m=e.reduce((g,y)=>y(g),t());return r=SC(m),s=r.cache.get,o=r.cache.set,a=d,d(h)}function d(h){const m=s(h);if(m)return m;const g=CC(h,r);return o(h,g),g}return function(){return a(kC.apply(null,arguments))}}const Rt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},fx=/^\[(?:([a-z-]+):)?(.+)\]$/i,EC=/^\d+\/\d+$/,NC=new Set(["px","full","screen"]),PC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,OC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,DC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,RC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ls=t=>co(t)||NC.has(t)||EC.test(t),zs=t=>Co(t,"length",VC),co=t=>!!t&&!Number.isNaN(Number(t)),Cf=t=>Co(t,"number",co),ca=t=>!!t&&Number.isInteger(Number(t)),IC=t=>t.endsWith("%")&&co(t.slice(0,-1)),Je=t=>fx.test(t),$s=t=>PC.test(t),AC=new Set(["length","size","percentage"]),MC=t=>Co(t,AC,hx),LC=t=>Co(t,"position",hx),FC=new Set(["image","url"]),zC=t=>Co(t,FC,UC),$C=t=>Co(t,"",BC),da=()=>!0,Co=(t,e,r)=>{const s=fx.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},VC=t=>OC.test(t)&&!jC.test(t),hx=()=>!1,BC=t=>DC.test(t),UC=t=>RC.test(t),qC=()=>{const t=Rt("colors"),e=Rt("spacing"),r=Rt("blur"),s=Rt("brightness"),o=Rt("borderColor"),a=Rt("borderRadius"),u=Rt("borderSpacing"),d=Rt("borderWidth"),h=Rt("contrast"),m=Rt("grayscale"),g=Rt("hueRotate"),y=Rt("invert"),x=Rt("gap"),S=Rt("gradientColorStops"),C=Rt("gradientColorStopPositions"),_=Rt("inset"),k=Rt("margin"),N=Rt("opacity"),T=Rt("padding"),R=Rt("saturate"),M=Rt("scale"),$=Rt("sepia"),K=Rt("skew"),B=Rt("space"),J=Rt("translate"),q=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],te=()=>["auto",Je,e],Z=()=>[Je,e],ee=()=>["",ls,zs],Y=()=>["auto",co,Je],_e=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],de=()=>["solid","dashed","dotted","double","none"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],ce=()=>["","0",Je],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>[co,Je];return{cacheSize:500,separator:":",theme:{colors:[da],spacing:[ls,zs],blur:["none","",$s,Je],brightness:j(),borderColor:[t],borderRadius:["none","","full",$s,Je],borderSpacing:Z(),borderWidth:ee(),contrast:j(),grayscale:ce(),hueRotate:j(),invert:ce(),gap:Z(),gradientColorStops:[t],gradientColorStopPositions:[IC,zs],inset:te(),margin:te(),opacity:j(),padding:Z(),saturate:j(),scale:j(),sepia:ce(),skew:j(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",Je]}],container:["container"],columns:[{columns:[$s]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._e(),Je]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ca,Je]}],basis:[{basis:te()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Je]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",ca,Je]}],"grid-cols":[{"grid-cols":[da]}],"col-start-end":[{col:["auto",{span:["full",ca,Je]},Je]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[da]}],"row-start-end":[{row:["auto",{span:[ca,Je]},Je]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Je]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Je,e]}],"min-w":[{"min-w":[Je,e,"min","max","fit"]}],"max-w":[{"max-w":[Je,e,"none","full","min","max","fit","prose",{screen:[$s]},$s]}],h:[{h:[Je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$s,zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cf]}],"font-family":[{font:[da]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Je]}],"line-clamp":[{"line-clamp":["none",co,Cf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ls,Je]}],"list-image":[{"list-image":["none",Je]}],"list-style-type":[{list:["none","disc","decimal",Je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ls,zs]}],"underline-offset":[{"underline-offset":["auto",ls,Je]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._e(),LC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",MC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zC]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...de(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:de()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...de()]}],"outline-offset":[{"outline-offset":[ls,Je]}],"outline-w":[{outline:[ls,zs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[ls,zs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$s,$C]}],"shadow-color":[{shadow:[da]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...be(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":be()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",$s,Je]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[R]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Je]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",Je]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",Je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[ca,Je]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[K]}],"skew-y":[{"skew-y":[K]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Je]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ls,zs,Cf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},WC=TC(qC);function at(...t){return WC(nx(t))}const HC=K_,px=w.forwardRef(({className:t,...e},r)=>f.jsx(Zy,{ref:r,className:at("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));px.displayName=Zy.displayName;const QC=Hh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),mx=w.forwardRef(({className:t,variant:e,...r},s)=>f.jsx(Yy,{ref:s,className:at(QC({variant:e}),t),...r}));mx.displayName=Yy.displayName;const KC=w.forwardRef(({className:t,...e},r)=>f.jsx(ex,{ref:r,className:at("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));KC.displayName=ex.displayName;const gx=w.forwardRef(({className:t,...e},r)=>f.jsx(tx,{ref:r,className:at("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(fC,{className:"h-4 w-4"})}));gx.displayName=tx.displayName;const vx=w.forwardRef(({className:t,...e},r)=>f.jsx(Xy,{ref:r,className:at("text-sm font-semibold",t),...e}));vx.displayName=Xy.displayName;const yx=w.forwardRef(({className:t,...e},r)=>f.jsx(Jy,{ref:r,className:at("text-sm opacity-90",t),...e}));yx.displayName=Jy.displayName;function GC(){const{toasts:t}=ei();return f.jsxs(HC,{children:[t.map(function({id:e,title:r,description:s,action:o,...a}){return f.jsxs(mx,{...a,children:[f.jsxs("div",{className:"grid gap-1",children:[r&&f.jsx(vx,{children:r}),s&&f.jsx(yx,{children:s})]}),o,f.jsx(gx,{})]},e)}),f.jsx(px,{})]})}var ZC=sy[" useId ".trim().toString()]||(()=>{}),YC=0;function xx(t){const[e,r]=w.useState(ZC());return yn(()=>{r(s=>s??String(YC++))},[t]),e?`radix-${e}`:""}const XC=["top","right","bottom","left"],Qs=Math.min,Jr=Math.max,Iu=Math.round,pu=Math.floor,Wn=t=>({x:t,y:t}),JC={left:"right",right:"left",bottom:"top",top:"bottom"},ek={start:"end",end:"start"};function ih(t,e,r){return Jr(t,Qs(e,r))}function ms(t,e){return typeof t=="function"?t(e):t}function gs(t){return t.split("-")[0]}function ko(t){return t.split("-")[1]}function Kh(t){return t==="x"?"y":"x"}function Gh(t){return t==="y"?"height":"width"}function Ks(t){return["top","bottom"].includes(gs(t))?"y":"x"}function Zh(t){return Kh(Ks(t))}function tk(t,e,r){r===void 0&&(r=!1);const s=ko(t),o=Zh(t),a=Gh(o);let u=o==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Au(u)),[u,Au(u)]}function rk(t){const e=Au(t);return[oh(t),e,oh(e)]}function oh(t){return t.replace(/start|end/g,e=>ek[e])}function nk(t,e,r){const s=["left","right"],o=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return r?e?o:s:e?s:o;case"left":case"right":return e?a:u;default:return[]}}function sk(t,e,r,s){const o=ko(t);let a=nk(gs(t),r==="start",s);return o&&(a=a.map(u=>u+"-"+o),e&&(a=a.concat(a.map(oh)))),a}function Au(t){return t.replace(/left|right|bottom|top/g,e=>JC[e])}function ik(t){return{top:0,right:0,bottom:0,left:0,...t}}function wx(t){return typeof t!="number"?ik(t):{top:t,right:t,bottom:t,left:t}}function Mu(t){const{x:e,y:r,width:s,height:o}=t;return{width:s,height:o,top:r,left:e,right:e+s,bottom:r+o,x:e,y:r}}function Mv(t,e,r){let{reference:s,floating:o}=t;const a=Ks(e),u=Zh(e),d=Gh(u),h=gs(e),m=a==="y",g=s.x+s.width/2-o.width/2,y=s.y+s.height/2-o.height/2,x=s[d]/2-o[d]/2;let S;switch(h){case"top":S={x:g,y:s.y-o.height};break;case"bottom":S={x:g,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y};break;case"left":S={x:s.x-o.width,y};break;default:S={x:s.x,y:s.y}}switch(ko(e)){case"start":S[u]-=x*(r&&m?-1:1);break;case"end":S[u]+=x*(r&&m?-1:1);break}return S}const ok=async(t,e,r)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:u}=r,d=a.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:o}),{x:g,y}=Mv(m,s,h),x=s,S={},C=0;for(let _=0;_<d.length;_++){const{name:k,fn:N}=d[_],{x:T,y:R,data:M,reset:$}=await N({x:g,y,initialPlacement:s,placement:x,strategy:o,middlewareData:S,rects:m,platform:u,elements:{reference:t,floating:e}});g=T??g,y=R??y,S={...S,[k]:{...S[k],...M}},$&&C<=50&&(C++,typeof $=="object"&&($.placement&&(x=$.placement),$.rects&&(m=$.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:o}):$.rects),{x:g,y}=Mv(m,x,h)),_=-1)}return{x:g,y,placement:x,strategy:o,middlewareData:S}};async function ja(t,e){var r;e===void 0&&(e={});const{x:s,y:o,platform:a,rects:u,elements:d,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:x=!1,padding:S=0}=ms(e,t),C=wx(S),k=d[x?y==="floating"?"reference":"floating":y],N=Mu(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(k)))==null||r?k:k.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:m,rootBoundary:g,strategy:h})),T=y==="floating"?{x:s,y:o,width:u.floating.width,height:u.floating.height}:u.reference,R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),M=await(a.isElement==null?void 0:a.isElement(R))?await(a.getScale==null?void 0:a.getScale(R))||{x:1,y:1}:{x:1,y:1},$=Mu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:T,offsetParent:R,strategy:h}):T);return{top:(N.top-$.top+C.top)/M.y,bottom:($.bottom-N.bottom+C.bottom)/M.y,left:(N.left-$.left+C.left)/M.x,right:($.right-N.right+C.right)/M.x}}const ak=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:s,placement:o,rects:a,platform:u,elements:d,middlewareData:h}=e,{element:m,padding:g=0}=ms(t,e)||{};if(m==null)return{};const y=wx(g),x={x:r,y:s},S=Zh(o),C=Gh(S),_=await u.getDimensions(m),k=S==="y",N=k?"top":"left",T=k?"bottom":"right",R=k?"clientHeight":"clientWidth",M=a.reference[C]+a.reference[S]-x[S]-a.floating[C],$=x[S]-a.reference[S],K=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let B=K?K[R]:0;(!B||!await(u.isElement==null?void 0:u.isElement(K)))&&(B=d.floating[R]||a.floating[C]);const J=M/2-$/2,q=B/2-_[C]/2-1,U=Qs(y[N],q),te=Qs(y[T],q),Z=U,ee=B-_[C]-te,Y=B/2-_[C]/2+J,_e=ih(Z,Y,ee),de=!h.arrow&&ko(o)!=null&&Y!==_e&&a.reference[C]/2-(Y<Z?U:te)-_[C]/2<0,be=de?Y<Z?Y-Z:Y-ee:0;return{[S]:x[S]+be,data:{[S]:_e,centerOffset:Y-_e-be,...de&&{alignmentOffset:be}},reset:de}}}),lk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,s;const{placement:o,middlewareData:a,rects:u,initialPlacement:d,platform:h,elements:m}=e,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:_=!0,...k}=ms(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const N=gs(o),T=Ks(d),R=gs(d)===d,M=await(h.isRTL==null?void 0:h.isRTL(m.floating)),$=x||(R||!_?[Au(d)]:rk(d)),K=C!=="none";!x&&K&&$.push(...sk(d,_,C,M));const B=[d,...$],J=await ja(e,k),q=[];let U=((s=a.flip)==null?void 0:s.overflows)||[];if(g&&q.push(J[N]),y){const Y=tk(o,u,M);q.push(J[Y[0]],J[Y[1]])}if(U=[...U,{placement:o,overflows:q}],!q.every(Y=>Y<=0)){var te,Z;const Y=(((te=a.flip)==null?void 0:te.index)||0)+1,_e=B[Y];if(_e)return{data:{index:Y,overflows:U},reset:{placement:_e}};let de=(Z=U.filter(be=>be.overflows[0]<=0).sort((be,W)=>be.overflows[1]-W.overflows[1])[0])==null?void 0:Z.placement;if(!de)switch(S){case"bestFit":{var ee;const be=(ee=U.filter(W=>{if(K){const ce=Ks(W.placement);return ce===T||ce==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(ce=>ce>0).reduce((ce,oe)=>ce+oe,0)]).sort((W,ce)=>W[1]-ce[1])[0])==null?void 0:ee[0];be&&(de=be);break}case"initialPlacement":de=d;break}if(o!==de)return{reset:{placement:de}}}return{}}}};function Lv(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Fv(t){return XC.some(e=>t[e]>=0)}const uk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:s="referenceHidden",...o}=ms(t,e);switch(s){case"referenceHidden":{const a=await ja(e,{...o,elementContext:"reference"}),u=Lv(a,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Fv(u)}}}case"escaped":{const a=await ja(e,{...o,altBoundary:!0}),u=Lv(a,r.floating);return{data:{escapedOffsets:u,escaped:Fv(u)}}}default:return{}}}}};async function ck(t,e){const{placement:r,platform:s,elements:o}=t,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),u=gs(r),d=ko(r),h=Ks(r)==="y",m=["left","top"].includes(u)?-1:1,g=a&&h?-1:1,y=ms(e,t);let{mainAxis:x,crossAxis:S,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof C=="number"&&(S=d==="end"?C*-1:C),h?{x:S*g,y:x*m}:{x:x*m,y:S*g}}const dk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,s;const{x:o,y:a,placement:u,middlewareData:d}=e,h=await ck(e,t);return u===((r=d.offset)==null?void 0:r.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+h.x,y:a+h.y,data:{...h,placement:u}}}}},fk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:s,placement:o}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:d={fn:k=>{let{x:N,y:T}=k;return{x:N,y:T}}},...h}=ms(t,e),m={x:r,y:s},g=await ja(e,h),y=Ks(gs(o)),x=Kh(y);let S=m[x],C=m[y];if(a){const k=x==="y"?"top":"left",N=x==="y"?"bottom":"right",T=S+g[k],R=S-g[N];S=ih(T,S,R)}if(u){const k=y==="y"?"top":"left",N=y==="y"?"bottom":"right",T=C+g[k],R=C-g[N];C=ih(T,C,R)}const _=d.fn({...e,[x]:S,[y]:C});return{..._,data:{x:_.x-r,y:_.y-s,enabled:{[x]:a,[y]:u}}}}}},hk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:s,placement:o,rects:a,middlewareData:u}=e,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=ms(t,e),g={x:r,y:s},y=Ks(o),x=Kh(y);let S=g[x],C=g[y];const _=ms(d,e),k=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const R=x==="y"?"height":"width",M=a.reference[x]-a.floating[R]+k.mainAxis,$=a.reference[x]+a.reference[R]-k.mainAxis;S<M?S=M:S>$&&(S=$)}if(m){var N,T;const R=x==="y"?"width":"height",M=["top","left"].includes(gs(o)),$=a.reference[y]-a.floating[R]+(M&&((N=u.offset)==null?void 0:N[y])||0)+(M?0:k.crossAxis),K=a.reference[y]+a.reference[R]+(M?0:((T=u.offset)==null?void 0:T[y])||0)-(M?k.crossAxis:0);C<$?C=$:C>K&&(C=K)}return{[x]:S,[y]:C}}}},pk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,s;const{placement:o,rects:a,platform:u,elements:d}=e,{apply:h=()=>{},...m}=ms(t,e),g=await ja(e,m),y=gs(o),x=ko(o),S=Ks(o)==="y",{width:C,height:_}=a.floating;let k,N;y==="top"||y==="bottom"?(k=y,N=x===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(N=y,k=x==="end"?"top":"bottom");const T=_-g.top-g.bottom,R=C-g.left-g.right,M=Qs(_-g[k],T),$=Qs(C-g[N],R),K=!e.middlewareData.shift;let B=M,J=$;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(J=R),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(B=T),K&&!x){const U=Jr(g.left,0),te=Jr(g.right,0),Z=Jr(g.top,0),ee=Jr(g.bottom,0);S?J=C-2*(U!==0||te!==0?U+te:Jr(g.left,g.right)):B=_-2*(Z!==0||ee!==0?Z+ee:Jr(g.top,g.bottom))}await h({...e,availableWidth:J,availableHeight:B});const q=await u.getDimensions(d.floating);return C!==q.width||_!==q.height?{reset:{rects:!0}}:{}}}};function dc(){return typeof window<"u"}function To(t){return bx(t)?(t.nodeName||"").toLowerCase():"#document"}function rn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zn(t){var e;return(e=(bx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function bx(t){return dc()?t instanceof Node||t instanceof rn(t).Node:!1}function Rn(t){return dc()?t instanceof Element||t instanceof rn(t).Element:!1}function Qn(t){return dc()?t instanceof HTMLElement||t instanceof rn(t).HTMLElement:!1}function zv(t){return!dc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof rn(t).ShadowRoot}function Ya(t){const{overflow:e,overflowX:r,overflowY:s,display:o}=In(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!["inline","contents"].includes(o)}function mk(t){return["table","td","th"].includes(To(t))}function fc(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Yh(t){const e=Xh(),r=Rn(t)?In(t):t;return["transform","translate","scale","rotate","perspective"].some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function gk(t){let e=Gs(t);for(;Qn(e)&&!go(e);){if(Yh(e))return e;if(fc(e))return null;e=Gs(e)}return null}function Xh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function go(t){return["html","body","#document"].includes(To(t))}function In(t){return rn(t).getComputedStyle(t)}function hc(t){return Rn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gs(t){if(To(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zv(t)&&t.host||Zn(t);return zv(e)?e.host:e}function Sx(t){const e=Gs(t);return go(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qn(e)&&Ya(e)?e:Sx(e)}function Da(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=Sx(t),a=o===((s=t.ownerDocument)==null?void 0:s.body),u=rn(o);if(a){const d=ah(u);return e.concat(u,u.visualViewport||[],Ya(o)?o:[],d&&r?Da(d):[])}return e.concat(o,Da(o,[],r))}function ah(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function _x(t){const e=In(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=Qn(t),a=o?t.offsetWidth:r,u=o?t.offsetHeight:s,d=Iu(r)!==a||Iu(s)!==u;return d&&(r=a,s=u),{width:r,height:s,$:d}}function Jh(t){return Rn(t)?t:t.contextElement}function fo(t){const e=Jh(t);if(!Qn(e))return Wn(1);const r=e.getBoundingClientRect(),{width:s,height:o,$:a}=_x(e);let u=(a?Iu(r.width):r.width)/s,d=(a?Iu(r.height):r.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const vk=Wn(0);function Cx(t){const e=rn(t);return!Xh()||!e.visualViewport?vk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yk(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==rn(t)?!1:e}function Ci(t,e,r,s){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),a=Jh(t);let u=Wn(1);e&&(s?Rn(s)&&(u=fo(s)):u=fo(t));const d=yk(a,r,s)?Cx(a):Wn(0);let h=(o.left+d.x)/u.x,m=(o.top+d.y)/u.y,g=o.width/u.x,y=o.height/u.y;if(a){const x=rn(a),S=s&&Rn(s)?rn(s):s;let C=x,_=ah(C);for(;_&&s&&S!==C;){const k=fo(_),N=_.getBoundingClientRect(),T=In(_),R=N.left+(_.clientLeft+parseFloat(T.paddingLeft))*k.x,M=N.top+(_.clientTop+parseFloat(T.paddingTop))*k.y;h*=k.x,m*=k.y,g*=k.x,y*=k.y,h+=R,m+=M,C=rn(_),_=ah(C)}}return Mu({width:g,height:y,x:h,y:m})}function ep(t,e){const r=hc(t).scrollLeft;return e?e.left+r:Ci(Zn(t)).left+r}function kx(t,e,r){r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=s.left+e.scrollLeft-(r?0:ep(t,s)),a=s.top+e.scrollTop;return{x:o,y:a}}function xk(t){let{elements:e,rect:r,offsetParent:s,strategy:o}=t;const a=o==="fixed",u=Zn(s),d=e?fc(e.floating):!1;if(s===u||d&&a)return r;let h={scrollLeft:0,scrollTop:0},m=Wn(1);const g=Wn(0),y=Qn(s);if((y||!y&&!a)&&((To(s)!=="body"||Ya(u))&&(h=hc(s)),Qn(s))){const S=Ci(s);m=fo(s),g.x=S.x+s.clientLeft,g.y=S.y+s.clientTop}const x=u&&!y&&!a?kx(u,h,!0):Wn(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-h.scrollLeft*m.x+g.x+x.x,y:r.y*m.y-h.scrollTop*m.y+g.y+x.y}}function wk(t){return Array.from(t.getClientRects())}function bk(t){const e=Zn(t),r=hc(t),s=t.ownerDocument.body,o=Jr(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=Jr(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-r.scrollLeft+ep(t);const d=-r.scrollTop;return In(s).direction==="rtl"&&(u+=Jr(e.clientWidth,s.clientWidth)-o),{width:o,height:a,x:u,y:d}}function Sk(t,e){const r=rn(t),s=Zn(t),o=r.visualViewport;let a=s.clientWidth,u=s.clientHeight,d=0,h=0;if(o){a=o.width,u=o.height;const m=Xh();(!m||m&&e==="fixed")&&(d=o.offsetLeft,h=o.offsetTop)}return{width:a,height:u,x:d,y:h}}function _k(t,e){const r=Ci(t,!0,e==="fixed"),s=r.top+t.clientTop,o=r.left+t.clientLeft,a=Qn(t)?fo(t):Wn(1),u=t.clientWidth*a.x,d=t.clientHeight*a.y,h=o*a.x,m=s*a.y;return{width:u,height:d,x:h,y:m}}function $v(t,e,r){let s;if(e==="viewport")s=Sk(t,r);else if(e==="document")s=bk(Zn(t));else if(Rn(e))s=_k(e,r);else{const o=Cx(t);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Mu(s)}function Tx(t,e){const r=Gs(t);return r===e||!Rn(r)||go(r)?!1:In(r).position==="fixed"||Tx(r,e)}function Ck(t,e){const r=e.get(t);if(r)return r;let s=Da(t,[],!1).filter(d=>Rn(d)&&To(d)!=="body"),o=null;const a=In(t).position==="fixed";let u=a?Gs(t):t;for(;Rn(u)&&!go(u);){const d=In(u),h=Yh(u);!h&&d.position==="fixed"&&(o=null),(a?!h&&!o:!h&&d.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ya(u)&&!h&&Tx(t,u))?s=s.filter(g=>g!==u):o=d,u=Gs(u)}return e.set(t,s),s}function kk(t){let{element:e,boundary:r,rootBoundary:s,strategy:o}=t;const u=[...r==="clippingAncestors"?fc(e)?[]:Ck(e,this._c):[].concat(r),s],d=u[0],h=u.reduce((m,g)=>{const y=$v(e,g,o);return m.top=Jr(y.top,m.top),m.right=Qs(y.right,m.right),m.bottom=Qs(y.bottom,m.bottom),m.left=Jr(y.left,m.left),m},$v(e,d,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function Tk(t){const{width:e,height:r}=_x(t);return{width:e,height:r}}function Ek(t,e,r){const s=Qn(e),o=Zn(e),a=r==="fixed",u=Ci(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const h=Wn(0);if(s||!s&&!a)if((To(e)!=="body"||Ya(o))&&(d=hc(e)),s){const x=Ci(e,!0,a,e);h.x=x.x+e.clientLeft,h.y=x.y+e.clientTop}else o&&(h.x=ep(o));const m=o&&!s&&!a?kx(o,d):Wn(0),g=u.left+d.scrollLeft-h.x-m.x,y=u.top+d.scrollTop-h.y-m.y;return{x:g,y,width:u.width,height:u.height}}function kf(t){return In(t).position==="static"}function Vv(t,e){if(!Qn(t)||In(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Zn(t)===r&&(r=r.ownerDocument.body),r}function Ex(t,e){const r=rn(t);if(fc(t))return r;if(!Qn(t)){let o=Gs(t);for(;o&&!go(o);){if(Rn(o)&&!kf(o))return o;o=Gs(o)}return r}let s=Vv(t,e);for(;s&&mk(s)&&kf(s);)s=Vv(s,e);return s&&go(s)&&kf(s)&&!Yh(s)?r:s||gk(t)||r}const Nk=async function(t){const e=this.getOffsetParent||Ex,r=this.getDimensions,s=await r(t.floating);return{reference:Ek(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Pk(t){return In(t).direction==="rtl"}const Ok={convertOffsetParentRelativeRectToViewportRelativeRect:xk,getDocumentElement:Zn,getClippingRect:kk,getOffsetParent:Ex,getElementRects:Nk,getClientRects:wk,getDimensions:Tk,getScale:fo,isElement:Rn,isRTL:Pk};function Nx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function jk(t,e){let r=null,s;const o=Zn(t);function a(){var d;clearTimeout(s),(d=r)==null||d.disconnect(),r=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),a();const m=t.getBoundingClientRect(),{left:g,top:y,width:x,height:S}=m;if(d||e(),!x||!S)return;const C=pu(y),_=pu(o.clientWidth-(g+x)),k=pu(o.clientHeight-(y+S)),N=pu(g),R={rootMargin:-C+"px "+-_+"px "+-k+"px "+-N+"px",threshold:Jr(0,Qs(1,h))||1};let M=!0;function $(K){const B=K[0].intersectionRatio;if(B!==h){if(!M)return u();B?u(!1,B):s=setTimeout(()=>{u(!1,1e-7)},1e3)}B===1&&!Nx(m,t.getBoundingClientRect())&&u(),M=!1}try{r=new IntersectionObserver($,{...R,root:o.ownerDocument})}catch{r=new IntersectionObserver($,R)}r.observe(t)}return u(!0),a}function Dk(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,m=Jh(t),g=o||a?[...m?Da(m):[],...Da(e)]:[];g.forEach(N=>{o&&N.addEventListener("scroll",r,{passive:!0}),a&&N.addEventListener("resize",r)});const y=m&&d?jk(m,r):null;let x=-1,S=null;u&&(S=new ResizeObserver(N=>{let[T]=N;T&&T.target===m&&S&&(S.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var R;(R=S)==null||R.observe(e)})),r()}),m&&!h&&S.observe(m),S.observe(e));let C,_=h?Ci(t):null;h&&k();function k(){const N=Ci(t);_&&!Nx(_,N)&&r(),_=N,C=requestAnimationFrame(k)}return r(),()=>{var N;g.forEach(T=>{o&&T.removeEventListener("scroll",r),a&&T.removeEventListener("resize",r)}),y?.(),(N=S)==null||N.disconnect(),S=null,h&&cancelAnimationFrame(C)}}const Rk=dk,Ik=fk,Ak=lk,Mk=pk,Lk=uk,Bv=ak,Fk=hk,zk=(t,e,r)=>{const s=new Map,o={platform:Ok,...r},a={...o.platform,_c:s};return ok(t,e,{...o,platform:a})};var ku=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Lu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,s,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(s=r;s--!==0;)if(!Lu(t[s],e[s]))return!1;return!0}if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=r;s--!==0;){const a=o[s];if(!(a==="_owner"&&t.$$typeof)&&!Lu(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function Px(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Uv(t,e){const r=Px(t);return Math.round(e*r)/r}function Tf(t){const e=w.useRef(t);return ku(()=>{e.current=t}),e}function $k(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:u}={},transform:d=!0,whileElementsMounted:h,open:m}=t,[g,y]=w.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[x,S]=w.useState(s);Lu(x,s)||S(s);const[C,_]=w.useState(null),[k,N]=w.useState(null),T=w.useCallback(W=>{W!==K.current&&(K.current=W,_(W))},[]),R=w.useCallback(W=>{W!==B.current&&(B.current=W,N(W))},[]),M=a||C,$=u||k,K=w.useRef(null),B=w.useRef(null),J=w.useRef(g),q=h!=null,U=Tf(h),te=Tf(o),Z=Tf(m),ee=w.useCallback(()=>{if(!K.current||!B.current)return;const W={placement:e,strategy:r,middleware:x};te.current&&(W.platform=te.current),zk(K.current,B.current,W).then(ce=>{const oe={...ce,isPositioned:Z.current!==!1};Y.current&&!Lu(J.current,oe)&&(J.current=oe,ic.flushSync(()=>{y(oe)}))})},[x,e,r,te,Z]);ku(()=>{m===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,y(W=>({...W,isPositioned:!1})))},[m]);const Y=w.useRef(!1);ku(()=>(Y.current=!0,()=>{Y.current=!1}),[]),ku(()=>{if(M&&(K.current=M),$&&(B.current=$),M&&$){if(U.current)return U.current(M,$,ee);ee()}},[M,$,ee,U,q]);const _e=w.useMemo(()=>({reference:K,floating:B,setReference:T,setFloating:R}),[T,R]),de=w.useMemo(()=>({reference:M,floating:$}),[M,$]),be=w.useMemo(()=>{const W={position:r,left:0,top:0};if(!de.floating)return W;const ce=Uv(de.floating,g.x),oe=Uv(de.floating,g.y);return d?{...W,transform:"translate("+ce+"px, "+oe+"px)",...Px(de.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ce,top:oe}},[r,d,de.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:ee,refs:_e,elements:de,floatingStyles:be}),[g,ee,_e,de,be])}const Vk=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:o}=typeof t=="function"?t(r):t;return s&&e(s)?s.current!=null?Bv({element:s.current,padding:o}).fn(r):{}:s?Bv({element:s,padding:o}).fn(r):{}}}},Bk=(t,e)=>({...Rk(t),options:[t,e]}),Uk=(t,e)=>({...Ik(t),options:[t,e]}),qk=(t,e)=>({...Fk(t),options:[t,e]}),Wk=(t,e)=>({...Ak(t),options:[t,e]}),Hk=(t,e)=>({...Mk(t),options:[t,e]}),Qk=(t,e)=>({...Lk(t),options:[t,e]}),Kk=(t,e)=>({...Vk(t),options:[t,e]});var Gk="Arrow",Ox=w.forwardRef((t,e)=>{const{children:r,width:s=10,height:o=5,...a}=t;return f.jsx(St.svg,{...a,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ox.displayName=Gk;var Zk=Ox;function Yk(t){const[e,r]=w.useState(void 0);return yn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,d;if("borderBoxSize"in a){const h=a.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,d=m.blockSize}else u=t.offsetWidth,d=t.offsetHeight;r({width:u,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}var jx="Popper",[Dx,Rx]=ti(jx),[BR,Ix]=Dx(jx),Ax="PopperAnchor",Mx=w.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:s,...o}=t,a=Ix(Ax,r),u=w.useRef(null),d=ur(e,u);return w.useEffect(()=>{a.onAnchorChange(s?.current||u.current)}),s?null:f.jsx(St.div,{...o,ref:d})});Mx.displayName=Ax;var tp="PopperContent",[Xk,Jk]=Dx(tp),Lx=w.forwardRef((t,e)=>{const{__scopePopper:r,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:x=!1,updatePositionStrategy:S="optimized",onPlaced:C,..._}=t,k=Ix(tp,r),[N,T]=w.useState(null),R=ur(e,Ve=>T(Ve)),[M,$]=w.useState(null),K=Yk(M),B=K?.width??0,J=K?.height??0,q=s+(a!=="center"?"-"+a:""),U=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},te=Array.isArray(m)?m:[m],Z=te.length>0,ee={padding:U,boundary:te.filter(tT),altBoundary:Z},{refs:Y,floatingStyles:_e,placement:de,isPositioned:be,middlewareData:W}=$k({strategy:"fixed",placement:q,whileElementsMounted:(...Ve)=>Dk(...Ve,{animationFrame:S==="always"}),elements:{reference:k.anchor},middleware:[Bk({mainAxis:o+J,alignmentAxis:u}),h&&Uk({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?qk():void 0,...ee}),h&&Wk({...ee}),Hk({...ee,apply:({elements:Ve,rects:We,availableWidth:Le,availableHeight:xt})=>{const{width:dr,height:Qt}=We.reference,Ot=Ve.floating.style;Ot.setProperty("--radix-popper-available-width",`${Le}px`),Ot.setProperty("--radix-popper-available-height",`${xt}px`),Ot.setProperty("--radix-popper-anchor-width",`${dr}px`),Ot.setProperty("--radix-popper-anchor-height",`${Qt}px`)}}),M&&Kk({element:M,padding:d}),rT({arrowWidth:B,arrowHeight:J}),x&&Qk({strategy:"referenceHidden",...ee})]}),[ce,oe]=$x(de),j=tr(C);yn(()=>{be&&j?.()},[be,j]);const X=W.arrow?.x,Ne=W.arrow?.y,ve=W.arrow?.centerOffset!==0,[Me,Ke]=w.useState();return yn(()=>{N&&Ke(window.getComputedStyle(N).zIndex)},[N]),f.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{..._e,transform:be?_e.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Me,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(Xk,{scope:r,placedSide:ce,onArrowChange:$,arrowX:X,arrowY:Ne,shouldHideArrow:ve,children:f.jsx(St.div,{"data-side":ce,"data-align":oe,..._,ref:R,style:{..._.style,animation:be?void 0:"none"}})})})});Lx.displayName=tp;var Fx="PopperArrow",eT={top:"bottom",right:"left",bottom:"top",left:"right"},zx=w.forwardRef(function(e,r){const{__scopePopper:s,...o}=e,a=Jk(Fx,s),u=eT[a.placedSide];return f.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:f.jsx(Zk,{...o,ref:r,style:{...o.style,display:"block"}})})});zx.displayName=Fx;function tT(t){return t!==null}var rT=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:s,middlewareData:o}=e,u=o.arrow?.centerOffset!==0,d=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[m,g]=$x(r),y={start:"0%",center:"50%",end:"100%"}[g],x=(o.arrow?.x??0)+d/2,S=(o.arrow?.y??0)+h/2;let C="",_="";return m==="bottom"?(C=u?y:`${x}px`,_=`${-h}px`):m==="top"?(C=u?y:`${x}px`,_=`${s.floating.height+h}px`):m==="right"?(C=`${-h}px`,_=u?y:`${S}px`):m==="left"&&(C=`${s.floating.width+h}px`,_=u?y:`${S}px`),{data:{x:C,y:_}}}});function $x(t){const[e,r="center"]=t.split("-");return[e,r]}var nT=Mx,sT=Lx,iT=zx,[pc]=ti("Tooltip",[Rx]),rp=Rx(),Vx="TooltipProvider",oT=700,qv="tooltip.open",[aT,Bx]=pc(Vx),Ux=t=>{const{__scopeTooltip:e,delayDuration:r=oT,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:a}=t,u=w.useRef(!0),d=w.useRef(!1),h=w.useRef(0);return w.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),f.jsx(aT,{scope:e,isOpenDelayedRef:u,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:w.useCallback(m=>{d.current=m},[]),disableHoverableContent:o,children:a})};Ux.displayName=Vx;var qx="Tooltip",[UR,mc]=pc(qx),lh="TooltipTrigger",lT=w.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,o=mc(lh,r),a=Bx(lh,r),u=rp(r),d=w.useRef(null),h=ur(e,d,o.onTriggerChange),m=w.useRef(!1),g=w.useRef(!1),y=w.useCallback(()=>m.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),f.jsx(nT,{asChild:!0,...u,children:f.jsx(St.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:h,onPointerMove:ut(t.onPointerMove,x=>{x.pointerType!=="touch"&&!g.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),g.current=!0)}),onPointerLeave:ut(t.onPointerLeave,()=>{o.onTriggerLeave(),g.current=!1}),onPointerDown:ut(t.onPointerDown,()=>{o.open&&o.onClose(),m.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:ut(t.onFocus,()=>{m.current||o.onOpen()}),onBlur:ut(t.onBlur,o.onClose),onClick:ut(t.onClick,o.onClose)})})});lT.displayName=lh;var uT="TooltipPortal",[qR,cT]=pc(uT,{forceMount:void 0}),vo="TooltipContent",Wx=w.forwardRef((t,e)=>{const r=cT(vo,t.__scopeTooltip),{forceMount:s=r.forceMount,side:o="top",...a}=t,u=mc(vo,t.__scopeTooltip);return f.jsx(ri,{present:s||u.open,children:u.disableHoverableContent?f.jsx(Hx,{side:o,...a,ref:e}):f.jsx(dT,{side:o,...a,ref:e})})}),dT=w.forwardRef((t,e)=>{const r=mc(vo,t.__scopeTooltip),s=Bx(vo,t.__scopeTooltip),o=w.useRef(null),a=ur(e,o),[u,d]=w.useState(null),{trigger:h,onClose:m}=r,g=o.current,{onPointerInTransitChange:y}=s,x=w.useCallback(()=>{d(null),y(!1)},[y]),S=w.useCallback((C,_)=>{const k=C.currentTarget,N={x:C.clientX,y:C.clientY},T=gT(N,k.getBoundingClientRect()),R=vT(N,T),M=yT(_.getBoundingClientRect()),$=wT([...R,...M]);d($),y(!0)},[y]);return w.useEffect(()=>()=>x(),[x]),w.useEffect(()=>{if(h&&g){const C=k=>S(k,g),_=k=>S(k,h);return h.addEventListener("pointerleave",C),g.addEventListener("pointerleave",_),()=>{h.removeEventListener("pointerleave",C),g.removeEventListener("pointerleave",_)}}},[h,g,S,x]),w.useEffect(()=>{if(u){const C=_=>{const k=_.target,N={x:_.clientX,y:_.clientY},T=h?.contains(k)||g?.contains(k),R=!xT(N,u);T?x():R&&(x(),m())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[h,g,u,m,x]),f.jsx(Hx,{...t,ref:a})}),[fT,hT]=pc(qx,{isInside:!1}),pT=c_("TooltipContent"),Hx=w.forwardRef((t,e)=>{const{__scopeTooltip:r,children:s,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:u,...d}=t,h=mc(vo,r),m=rp(r),{onClose:g}=h;return w.useEffect(()=>(document.addEventListener(qv,g),()=>document.removeEventListener(qv,g)),[g]),w.useEffect(()=>{if(h.trigger){const y=x=>{x.target?.contains(h.trigger)&&g()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[h.trigger,g]),f.jsx(Vh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:y=>y.preventDefault(),onDismiss:g,children:f.jsxs(sT,{"data-state":h.stateAttribute,...m,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(pT,{children:s}),f.jsx(fT,{scope:r,isInside:!0,children:f.jsx(O_,{id:h.contentId,role:"tooltip",children:o||s})})]})})});Wx.displayName=vo;var Qx="TooltipArrow",mT=w.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,o=rp(r);return hT(Qx,r).isInside?null:f.jsx(iT,{...o,...s,ref:e})});mT.displayName=Qx;function gT(t,e){const r=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,s,o,a)){case a:return"left";case o:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function vT(t,e,r=5){const s=[];switch(e){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return s}function yT(t){const{top:e,right:r,bottom:s,left:o}=t;return[{x:o,y:e},{x:r,y:e},{x:r,y:s},{x:o,y:s}]}function xT(t,e){const{x:r,y:s}=t;let o=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const d=e[a].x,h=e[a].y,m=e[u].x,g=e[u].y;h>s!=g>s&&r<(m-d)*(s-h)/(g-h)+d&&(o=!o)}return o}function wT(t){const e=t.slice();return e.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),bT(e)}function bT(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const o=t[s];for(;e.length>=2;){const a=e[e.length-1],u=e[e.length-2];if((a.x-u.x)*(o.y-u.y)>=(a.y-u.y)*(o.x-u.x))e.pop();else break}e.push(o)}e.pop();const r=[];for(let s=t.length-1;s>=0;s--){const o=t[s];for(;r.length>=2;){const a=r[r.length-1],u=r[r.length-2];if((a.x-u.x)*(o.y-u.y)>=(a.y-u.y)*(o.x-u.x))r.pop();else break}r.push(o)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var ST=Ux,Kx=Wx;const _T=ST,CT=w.forwardRef(({className:t,sideOffset:e=4,...r},s)=>f.jsx(Kx,{ref:s,sideOffset:e,className:at("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));CT.displayName=Kx.displayName;var dt;(function(t){t.assertEqual=o=>o;function e(o){}t.assertIs=e;function r(o){throw new Error}t.assertNever=r,t.arrayToEnum=o=>{const a={};for(const u of o)a[u]=u;return a},t.getValidEnumValues=o=>{const a=t.objectKeys(o).filter(d=>typeof o[o[d]]!="number"),u={};for(const d of a)u[d]=o[d];return t.objectValues(u)},t.objectValues=o=>t.objectKeys(o).map(function(a){return o[a]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&a.push(u);return a},t.find=(o,a)=>{for(const u of o)if(a(u))return u},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function s(o,a=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(a)}t.joinValues=s,t.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(dt||(dt={}));var uh;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(uh||(uh={}));const Ce=dt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ds=t=>{switch(typeof t){case"undefined":return Ce.undefined;case"string":return Ce.string;case"number":return isNaN(t)?Ce.nan:Ce.number;case"boolean":return Ce.boolean;case"function":return Ce.function;case"bigint":return Ce.bigint;case"symbol":return Ce.symbol;case"object":return Array.isArray(t)?Ce.array:t===null?Ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ce.promise:typeof Map<"u"&&t instanceof Map?Ce.map:typeof Set<"u"&&t instanceof Set?Ce.set:typeof Date<"u"&&t instanceof Date?Ce.date:Ce.object;default:return Ce.unknown}},ue=dt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),kT=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class nn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},s={_errors:[]},o=a=>{for(const u of a.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)s._errors.push(r(u));else{let d=s,h=0;for(;h<u.path.length;){const m=u.path[h];h===u.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(r(u))):d[m]=d[m]||{_errors:[]},d=d[m],h++}}};return o(this),s}static assert(e){if(!(e instanceof nn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(e(o))):s.push(e(o));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}nn.create=t=>new nn(t);const yo=(t,e)=>{let r;switch(t.code){case ue.invalid_type:t.received===Ce.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ue.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,dt.jsonStringifyReplacer)}`;break;case ue.unrecognized_keys:r=`Unrecognized key(s) in object: ${dt.joinValues(t.keys,", ")}`;break;case ue.invalid_union:r="Invalid input";break;case ue.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dt.joinValues(t.options)}`;break;case ue.invalid_enum_value:r=`Invalid enum value. Expected ${dt.joinValues(t.options)}, received '${t.received}'`;break;case ue.invalid_arguments:r="Invalid function arguments";break;case ue.invalid_return_type:r="Invalid function return type";break;case ue.invalid_date:r="Invalid date";break;case ue.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:dt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ue.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ue.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ue.custom:r="Invalid input";break;case ue.invalid_intersection_types:r="Intersection results could not be merged";break;case ue.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ue.not_finite:r="Number must be finite";break;default:r=e.defaultError,dt.assertNever(t)}return{message:r}};let Gx=yo;function TT(t){Gx=t}function Fu(){return Gx}const zu=t=>{const{data:e,path:r,errorMaps:s,issueData:o}=t,a=[...r,...o.path||[]],u={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let d="";const h=s.filter(m=>!!m).slice().reverse();for(const m of h)d=m(u,{data:e,defaultError:d}).message;return{...o,path:a,message:d}},ET=[];function we(t,e){const r=Fu(),s=zu({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===yo?void 0:yo].filter(o=>!!o)});t.common.issues.push(s)}class Pr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const o of r){if(o.status==="aborted")return qe;o.status==="dirty"&&e.dirty(),s.push(o.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const o of r){const a=await o.key,u=await o.value;s.push({key:a,value:u})}return Pr.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const o of r){const{key:a,value:u}=o;if(a.status==="aborted"||u.status==="aborted")return qe;a.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(s[a.value]=u.value)}return{status:e.value,value:s}}}const qe=Object.freeze({status:"aborted"}),lo=t=>({status:"dirty",value:t}),Mr=t=>({status:"valid",value:t}),ch=t=>t.status==="aborted",dh=t=>t.status==="dirty",ki=t=>t.status==="valid",Ra=t=>typeof Promise<"u"&&t instanceof Promise;function $u(t,e,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Zx(t,e,r,s,o){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var De;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(De||(De={}));var wa,ba;class Kn{constructor(e,r,s,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Wv=(t,e)=>{if(ki(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new nn(t.common.issues);return this._error=r,this._error}}};function Xe(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:o}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(u,d)=>{var h,m;const{message:g}=t;return u.code==="invalid_enum_value"?{message:g??d.defaultError}:typeof d.data>"u"?{message:(h=g??s)!==null&&h!==void 0?h:d.defaultError}:u.code!=="invalid_type"?{message:d.defaultError}:{message:(m=g??r)!==null&&m!==void 0?m:d.defaultError}},description:o}}class tt{get description(){return this._def.description}_getType(e){return ds(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ds(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pr,ctx:{common:e.parent.common,data:e.data,parsedType:ds(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ra(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){var s;const o={common:{issues:[],async:(s=r?.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ds(e)},a=this._parseSync({data:e,path:o.path,parent:o});return Wv(o,a)}"~validate"(e){var r,s;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ds(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:o});return ki(a)?{value:a.value}:{issues:o.common.issues}}catch(a){!((s=(r=a?.message)===null||r===void 0?void 0:r.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(a=>ki(a)?{value:a.value}:{issues:o.common.issues})}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ds(e)},o=this._parse({data:e,path:s.path,parent:s}),a=await(Ra(o)?o:Promise.resolve(o));return Wv(s,a)}refine(e,r){const s=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,a)=>{const u=e(o),d=()=>a.addIssue({code:ue.custom,...s(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(h=>h?!0:(d(),!1)):u?!0:(d(),!1)})}refinement(e,r){return this._refinement((s,o)=>e(s)?!0:(o.addIssue(typeof r=="function"?r(s,o):r),!1))}_refinement(e){return new An({schema:this,typeName:$e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Hn.create(this,this._def)}nullable(){return Js.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dn.create(this)}promise(){return wo.create(this,this._def)}or(e){return La.create([this,e],this._def)}and(e){return Fa.create(this,e,this._def)}transform(e){return new An({...Xe(this._def),schema:this,typeName:$e.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Ua({...Xe(this._def),innerType:this,defaultValue:r,typeName:$e.ZodDefault})}brand(){return new np({typeName:$e.ZodBranded,type:this,...Xe(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new qa({...Xe(this._def),innerType:this,catchValue:r,typeName:$e.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Xa.create(this,e)}readonly(){return Wa.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const NT=/^c[^\s-]{8,}$/i,PT=/^[0-9a-z]+$/,OT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,jT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,DT=/^[a-z0-9_-]{21}$/i,RT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,IT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,AT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,MT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ef;const LT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,$T=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,VT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,BT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Yx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",UT=new RegExp(`^${Yx}$`);function Xx(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function qT(t){return new RegExp(`^${Xx(t)}$`)}function Jx(t){let e=`${Yx}T${Xx(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function WT(t,e){return!!((e==="v4"||!e)&&LT.test(t)||(e==="v6"||!e)&&zT.test(t))}function HT(t,e){if(!RT.test(t))return!1;try{const[r]=t.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(s));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function QT(t,e){return!!((e==="v4"||!e)&&FT.test(t)||(e==="v6"||!e)&&$T.test(t))}class jn extends tt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ce.string){const a=this._getOrReturnCtx(e);return we(a,{code:ue.invalid_type,expected:Ce.string,received:a.parsedType}),qe}const s=new Pr;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),we(o,{code:ue.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),we(o,{code:ue.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const u=e.data.length>a.value,d=e.data.length<a.value;(u||d)&&(o=this._getOrReturnCtx(e,o),u?we(o,{code:ue.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):d&&we(o,{code:ue.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")AT.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"email",code:ue.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")Ef||(Ef=new RegExp(MT,"u")),Ef.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"emoji",code:ue.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")jT.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"uuid",code:ue.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")DT.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"nanoid",code:ue.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")NT.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"cuid",code:ue.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")PT.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"cuid2",code:ue.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")OT.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"ulid",code:ue.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),we(o,{validation:"url",code:ue.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"regex",code:ue.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),we(o,{code:ue.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),we(o,{code:ue.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),we(o,{code:ue.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?Jx(a).test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{code:ue.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?UT.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{code:ue.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?qT(a).test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{code:ue.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?IT.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"duration",code:ue.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?WT(e.data,a.version)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"ip",code:ue.invalid_string,message:a.message}),s.dirty()):a.kind==="jwt"?HT(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"jwt",code:ue.invalid_string,message:a.message}),s.dirty()):a.kind==="cidr"?QT(e.data,a.version)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"cidr",code:ue.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?VT.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"base64",code:ue.invalid_string,message:a.message}),s.dirty()):a.kind==="base64url"?BT.test(e.data)||(o=this._getOrReturnCtx(e,o),we(o,{validation:"base64url",code:ue.invalid_string,message:a.message}),s.dirty()):dt.assertNever(a);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(o=>e.test(o),{validation:r,code:ue.invalid_string,...De.errToObj(s)})}_addCheck(e){return new jn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...De.errToObj(e)})}url(e){return this._addCheck({kind:"url",...De.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...De.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...De.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...De.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...De.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...De.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...De.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...De.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...De.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...De.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...De.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...De.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(s=e?.local)!==null&&s!==void 0?s:!1,...De.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...De.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...De.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...De.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...De.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...De.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...De.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...De.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...De.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...De.errToObj(r)})}nonempty(e){return this.min(1,De.errToObj(e))}trim(){return new jn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}jn.create=t=>{var e;return new jn({checks:[],typeName:$e.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Xe(t)})};function KT(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,o=r>s?r:s,a=parseInt(t.toFixed(o).replace(".","")),u=parseInt(e.toFixed(o).replace(".",""));return a%u/Math.pow(10,o)}class Zs extends tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ce.number){const a=this._getOrReturnCtx(e);return we(a,{code:ue.invalid_type,expected:Ce.number,received:a.parsedType}),qe}let s;const o=new Pr;for(const a of this._def.checks)a.kind==="int"?dt.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{code:ue.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),we(s,{code:ue.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),we(s,{code:ue.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?KT(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),we(s,{code:ue.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),we(s,{code:ue.not_finite,message:a.message}),o.dirty()):dt.assertNever(a);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,De.toString(r))}gt(e,r){return this.setLimit("min",e,!1,De.toString(r))}lte(e,r){return this.setLimit("max",e,!0,De.toString(r))}lt(e,r){return this.setLimit("max",e,!1,De.toString(r))}setLimit(e,r,s,o){return new Zs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:De.toString(o)}]})}_addCheck(e){return new Zs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:De.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:De.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:De.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:De.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:De.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:De.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:De.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:De.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:De.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&dt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Zs.create=t=>new Zs({checks:[],typeName:$e.ZodNumber,coerce:t?.coerce||!1,...Xe(t)});class Ys extends tt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ce.bigint)return this._getInvalidInput(e);let s;const o=new Pr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),we(s,{code:ue.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),we(s,{code:ue.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),we(s,{code:ue.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):dt.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return we(r,{code:ue.invalid_type,expected:Ce.bigint,received:r.parsedType}),qe}gte(e,r){return this.setLimit("min",e,!0,De.toString(r))}gt(e,r){return this.setLimit("min",e,!1,De.toString(r))}lte(e,r){return this.setLimit("max",e,!0,De.toString(r))}lt(e,r){return this.setLimit("max",e,!1,De.toString(r))}setLimit(e,r,s,o){return new Ys({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:De.toString(o)}]})}_addCheck(e){return new Ys({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:De.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:De.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:De.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:De.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:De.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ys.create=t=>{var e;return new Ys({checks:[],typeName:$e.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Xe(t)})};class Ia extends tt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ce.boolean){const s=this._getOrReturnCtx(e);return we(s,{code:ue.invalid_type,expected:Ce.boolean,received:s.parsedType}),qe}return Mr(e.data)}}Ia.create=t=>new Ia({typeName:$e.ZodBoolean,coerce:t?.coerce||!1,...Xe(t)});class Ti extends tt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ce.date){const a=this._getOrReturnCtx(e);return we(a,{code:ue.invalid_type,expected:Ce.date,received:a.parsedType}),qe}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return we(a,{code:ue.invalid_date}),qe}const s=new Pr;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),we(o,{code:ue.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),we(o,{code:ue.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):dt.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ti({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:De.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:De.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ti.create=t=>new Ti({checks:[],coerce:t?.coerce||!1,typeName:$e.ZodDate,...Xe(t)});class Vu extends tt{_parse(e){if(this._getType(e)!==Ce.symbol){const s=this._getOrReturnCtx(e);return we(s,{code:ue.invalid_type,expected:Ce.symbol,received:s.parsedType}),qe}return Mr(e.data)}}Vu.create=t=>new Vu({typeName:$e.ZodSymbol,...Xe(t)});class Aa extends tt{_parse(e){if(this._getType(e)!==Ce.undefined){const s=this._getOrReturnCtx(e);return we(s,{code:ue.invalid_type,expected:Ce.undefined,received:s.parsedType}),qe}return Mr(e.data)}}Aa.create=t=>new Aa({typeName:$e.ZodUndefined,...Xe(t)});class Ma extends tt{_parse(e){if(this._getType(e)!==Ce.null){const s=this._getOrReturnCtx(e);return we(s,{code:ue.invalid_type,expected:Ce.null,received:s.parsedType}),qe}return Mr(e.data)}}Ma.create=t=>new Ma({typeName:$e.ZodNull,...Xe(t)});class xo extends tt{constructor(){super(...arguments),this._any=!0}_parse(e){return Mr(e.data)}}xo.create=t=>new xo({typeName:$e.ZodAny,...Xe(t)});class xi extends tt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mr(e.data)}}xi.create=t=>new xi({typeName:$e.ZodUnknown,...Xe(t)});class vs extends tt{_parse(e){const r=this._getOrReturnCtx(e);return we(r,{code:ue.invalid_type,expected:Ce.never,received:r.parsedType}),qe}}vs.create=t=>new vs({typeName:$e.ZodNever,...Xe(t)});class Bu extends tt{_parse(e){if(this._getType(e)!==Ce.undefined){const s=this._getOrReturnCtx(e);return we(s,{code:ue.invalid_type,expected:Ce.void,received:s.parsedType}),qe}return Mr(e.data)}}Bu.create=t=>new Bu({typeName:$e.ZodVoid,...Xe(t)});class Dn extends tt{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),o=this._def;if(r.parsedType!==Ce.array)return we(r,{code:ue.invalid_type,expected:Ce.array,received:r.parsedType}),qe;if(o.exactLength!==null){const u=r.data.length>o.exactLength.value,d=r.data.length<o.exactLength.value;(u||d)&&(we(r,{code:u?ue.too_big:ue.too_small,minimum:d?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),s.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(we(r,{code:ue.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),s.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(we(r,{code:ue.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((u,d)=>o.type._parseAsync(new Kn(r,u,r.path,d)))).then(u=>Pr.mergeArray(s,u));const a=[...r.data].map((u,d)=>o.type._parseSync(new Kn(r,u,r.path,d)));return Pr.mergeArray(s,a)}get element(){return this._def.type}min(e,r){return new Dn({...this._def,minLength:{value:e,message:De.toString(r)}})}max(e,r){return new Dn({...this._def,maxLength:{value:e,message:De.toString(r)}})}length(e,r){return new Dn({...this._def,exactLength:{value:e,message:De.toString(r)}})}nonempty(e){return this.min(1,e)}}Dn.create=(t,e)=>new Dn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:$e.ZodArray,...Xe(e)});function ao(t){if(t instanceof zt){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=Hn.create(ao(s))}return new zt({...t._def,shape:()=>e})}else return t instanceof Dn?new Dn({...t._def,type:ao(t.element)}):t instanceof Hn?Hn.create(ao(t.unwrap())):t instanceof Js?Js.create(ao(t.unwrap())):t instanceof Gn?Gn.create(t.items.map(e=>ao(e))):t}class zt extends tt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=dt.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Ce.object){const m=this._getOrReturnCtx(e);return we(m,{code:ue.invalid_type,expected:Ce.object,received:m.parsedType}),qe}const{status:s,ctx:o}=this._processInputParams(e),{shape:a,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof vs&&this._def.unknownKeys==="strip"))for(const m in o.data)u.includes(m)||d.push(m);const h=[];for(const m of u){const g=a[m],y=o.data[m];h.push({key:{status:"valid",value:m},value:g._parse(new Kn(o,y,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof vs){const m=this._def.unknownKeys;if(m==="passthrough")for(const g of d)h.push({key:{status:"valid",value:g},value:{status:"valid",value:o.data[g]}});else if(m==="strict")d.length>0&&(we(o,{code:ue.unrecognized_keys,keys:d}),s.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const g of d){const y=o.data[g];h.push({key:{status:"valid",value:g},value:m._parse(new Kn(o,y,o.path,g)),alwaysSet:g in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const g of h){const y=await g.key,x=await g.value;m.push({key:y,value:x,alwaysSet:g.alwaysSet})}return m}).then(m=>Pr.mergeObjectSync(s,m)):Pr.mergeObjectSync(s,h)}get shape(){return this._def.shape()}strict(e){return De.errToObj,new zt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var o,a,u,d;const h=(u=(a=(o=this._def).errorMap)===null||a===void 0?void 0:a.call(o,r,s).message)!==null&&u!==void 0?u:s.defaultError;return r.code==="unrecognized_keys"?{message:(d=De.errToObj(e).message)!==null&&d!==void 0?d:h}:{message:h}}}:{}})}strip(){return new zt({...this._def,unknownKeys:"strip"})}passthrough(){return new zt({...this._def,unknownKeys:"passthrough"})}extend(e){return new zt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new zt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$e.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new zt({...this._def,catchall:e})}pick(e){const r={};return dt.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new zt({...this._def,shape:()=>r})}omit(e){const r={};return dt.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new zt({...this._def,shape:()=>r})}deepPartial(){return ao(this)}partial(e){const r={};return dt.objectKeys(this.shape).forEach(s=>{const o=this.shape[s];e&&!e[s]?r[s]=o:r[s]=o.optional()}),new zt({...this._def,shape:()=>r})}required(e){const r={};return dt.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof Hn;)a=a._def.innerType;r[s]=a}}),new zt({...this._def,shape:()=>r})}keyof(){return ew(dt.objectKeys(this.shape))}}zt.create=(t,e)=>new zt({shape:()=>t,unknownKeys:"strip",catchall:vs.create(),typeName:$e.ZodObject,...Xe(e)});zt.strictCreate=(t,e)=>new zt({shape:()=>t,unknownKeys:"strict",catchall:vs.create(),typeName:$e.ZodObject,...Xe(e)});zt.lazycreate=(t,e)=>new zt({shape:t,unknownKeys:"strip",catchall:vs.create(),typeName:$e.ZodObject,...Xe(e)});class La extends tt{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function o(a){for(const d of a)if(d.result.status==="valid")return d.result;for(const d of a)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const u=a.map(d=>new nn(d.ctx.common.issues));return we(r,{code:ue.invalid_union,unionErrors:u}),qe}if(r.common.async)return Promise.all(s.map(async a=>{const u={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:u}),ctx:u}})).then(o);{let a;const u=[];for(const h of s){const m={...r,common:{...r.common,issues:[]},parent:null},g=h._parseSync({data:r.data,path:r.path,parent:m});if(g.status==="valid")return g;g.status==="dirty"&&!a&&(a={result:g,ctx:m}),m.common.issues.length&&u.push(m.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const d=u.map(h=>new nn(h));return we(r,{code:ue.invalid_union,unionErrors:d}),qe}}get options(){return this._def.options}}La.create=(t,e)=>new La({options:t,typeName:$e.ZodUnion,...Xe(e)});const cs=t=>t instanceof $a?cs(t.schema):t instanceof An?cs(t.innerType()):t instanceof Va?[t.value]:t instanceof Xs?t.options:t instanceof Ba?dt.objectValues(t.enum):t instanceof Ua?cs(t._def.innerType):t instanceof Aa?[void 0]:t instanceof Ma?[null]:t instanceof Hn?[void 0,...cs(t.unwrap())]:t instanceof Js?[null,...cs(t.unwrap())]:t instanceof np||t instanceof Wa?cs(t.unwrap()):t instanceof qa?cs(t._def.innerType):[];class gc extends tt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ce.object)return we(r,{code:ue.invalid_type,expected:Ce.object,received:r.parsedType}),qe;const s=this.discriminator,o=r.data[s],a=this.optionsMap.get(o);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(we(r,{code:ue.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const o=new Map;for(const a of r){const u=cs(a.shape[e]);if(!u.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of u){if(o.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);o.set(d,a)}}return new gc({typeName:$e.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...Xe(s)})}}function fh(t,e){const r=ds(t),s=ds(e);if(t===e)return{valid:!0,data:t};if(r===Ce.object&&s===Ce.object){const o=dt.objectKeys(e),a=dt.objectKeys(t).filter(d=>o.indexOf(d)!==-1),u={...t,...e};for(const d of a){const h=fh(t[d],e[d]);if(!h.valid)return{valid:!1};u[d]=h.data}return{valid:!0,data:u}}else if(r===Ce.array&&s===Ce.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<t.length;a++){const u=t[a],d=e[a],h=fh(u,d);if(!h.valid)return{valid:!1};o.push(h.data)}return{valid:!0,data:o}}else return r===Ce.date&&s===Ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Fa extends tt{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),o=(a,u)=>{if(ch(a)||ch(u))return qe;const d=fh(a.value,u.value);return d.valid?((dh(a)||dh(u))&&r.dirty(),{status:r.value,value:d.data}):(we(s,{code:ue.invalid_intersection_types}),qe)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,u])=>o(a,u)):o(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Fa.create=(t,e,r)=>new Fa({left:t,right:e,typeName:$e.ZodIntersection,...Xe(r)});class Gn extends tt{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ce.array)return we(s,{code:ue.invalid_type,expected:Ce.array,received:s.parsedType}),qe;if(s.data.length<this._def.items.length)return we(s,{code:ue.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&s.data.length>this._def.items.length&&(we(s,{code:ue.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...s.data].map((u,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new Kn(s,u,s.path,d)):null}).filter(u=>!!u);return s.common.async?Promise.all(a).then(u=>Pr.mergeArray(r,u)):Pr.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Gn({...this._def,rest:e})}}Gn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gn({items:t,typeName:$e.ZodTuple,rest:null,...Xe(e)})};class za extends tt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ce.object)return we(s,{code:ue.invalid_type,expected:Ce.object,received:s.parsedType}),qe;const o=[],a=this._def.keyType,u=this._def.valueType;for(const d in s.data)o.push({key:a._parse(new Kn(s,d,s.path,d)),value:u._parse(new Kn(s,s.data[d],s.path,d)),alwaysSet:d in s.data});return s.common.async?Pr.mergeObjectAsync(r,o):Pr.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof tt?new za({keyType:e,valueType:r,typeName:$e.ZodRecord,...Xe(s)}):new za({keyType:jn.create(),valueType:e,typeName:$e.ZodRecord,...Xe(r)})}}class Uu extends tt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ce.map)return we(s,{code:ue.invalid_type,expected:Ce.map,received:s.parsedType}),qe;const o=this._def.keyType,a=this._def.valueType,u=[...s.data.entries()].map(([d,h],m)=>({key:o._parse(new Kn(s,d,s.path,[m,"key"])),value:a._parse(new Kn(s,h,s.path,[m,"value"]))}));if(s.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of u){const m=await h.key,g=await h.value;if(m.status==="aborted"||g.status==="aborted")return qe;(m.status==="dirty"||g.status==="dirty")&&r.dirty(),d.set(m.value,g.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const h of u){const m=h.key,g=h.value;if(m.status==="aborted"||g.status==="aborted")return qe;(m.status==="dirty"||g.status==="dirty")&&r.dirty(),d.set(m.value,g.value)}return{status:r.value,value:d}}}}Uu.create=(t,e,r)=>new Uu({valueType:e,keyType:t,typeName:$e.ZodMap,...Xe(r)});class Ei extends tt{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Ce.set)return we(s,{code:ue.invalid_type,expected:Ce.set,received:s.parsedType}),qe;const o=this._def;o.minSize!==null&&s.data.size<o.minSize.value&&(we(s,{code:ue.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&s.data.size>o.maxSize.value&&(we(s,{code:ue.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const a=this._def.valueType;function u(h){const m=new Set;for(const g of h){if(g.status==="aborted")return qe;g.status==="dirty"&&r.dirty(),m.add(g.value)}return{status:r.value,value:m}}const d=[...s.data.values()].map((h,m)=>a._parse(new Kn(s,h,s.path,m)));return s.common.async?Promise.all(d).then(h=>u(h)):u(d)}min(e,r){return new Ei({...this._def,minSize:{value:e,message:De.toString(r)}})}max(e,r){return new Ei({...this._def,maxSize:{value:e,message:De.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ei.create=(t,e)=>new Ei({valueType:t,minSize:null,maxSize:null,typeName:$e.ZodSet,...Xe(e)});class ho extends tt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ce.function)return we(r,{code:ue.invalid_type,expected:Ce.function,received:r.parsedType}),qe;function s(d,h){return zu({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Fu(),yo].filter(m=>!!m),issueData:{code:ue.invalid_arguments,argumentsError:h}})}function o(d,h){return zu({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Fu(),yo].filter(m=>!!m),issueData:{code:ue.invalid_return_type,returnTypeError:h}})}const a={errorMap:r.common.contextualErrorMap},u=r.data;if(this._def.returns instanceof wo){const d=this;return Mr(async function(...h){const m=new nn([]),g=await d._def.args.parseAsync(h,a).catch(S=>{throw m.addIssue(s(h,S)),m}),y=await Reflect.apply(u,this,g);return await d._def.returns._def.type.parseAsync(y,a).catch(S=>{throw m.addIssue(o(y,S)),m})})}else{const d=this;return Mr(function(...h){const m=d._def.args.safeParse(h,a);if(!m.success)throw new nn([s(h,m.error)]);const g=Reflect.apply(u,this,m.data),y=d._def.returns.safeParse(g,a);if(!y.success)throw new nn([o(g,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ho({...this._def,args:Gn.create(e).rest(xi.create())})}returns(e){return new ho({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new ho({args:e||Gn.create([]).rest(xi.create()),returns:r||xi.create(),typeName:$e.ZodFunction,...Xe(s)})}}class $a extends tt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}$a.create=(t,e)=>new $a({getter:t,typeName:$e.ZodLazy,...Xe(e)});class Va extends tt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return we(r,{received:r.data,code:ue.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:e.data}}get value(){return this._def.value}}Va.create=(t,e)=>new Va({value:t,typeName:$e.ZodLiteral,...Xe(e)});function ew(t,e){return new Xs({values:t,typeName:$e.ZodEnum,...Xe(e)})}class Xs extends tt{constructor(){super(...arguments),wa.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return we(r,{expected:dt.joinValues(s),received:r.parsedType,code:ue.invalid_type}),qe}if($u(this,wa)||Zx(this,wa,new Set(this._def.values)),!$u(this,wa).has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return we(r,{received:r.data,code:ue.invalid_enum_value,options:s}),qe}return Mr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Xs.create(e,{...this._def,...r})}exclude(e,r=this._def){return Xs.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}}wa=new WeakMap;Xs.create=ew;class Ba extends tt{constructor(){super(...arguments),ba.set(this,void 0)}_parse(e){const r=dt.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==Ce.string&&s.parsedType!==Ce.number){const o=dt.objectValues(r);return we(s,{expected:dt.joinValues(o),received:s.parsedType,code:ue.invalid_type}),qe}if($u(this,ba)||Zx(this,ba,new Set(dt.getValidEnumValues(this._def.values))),!$u(this,ba).has(e.data)){const o=dt.objectValues(r);return we(s,{received:s.data,code:ue.invalid_enum_value,options:o}),qe}return Mr(e.data)}get enum(){return this._def.values}}ba=new WeakMap;Ba.create=(t,e)=>new Ba({values:t,typeName:$e.ZodNativeEnum,...Xe(e)});class wo extends tt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ce.promise&&r.common.async===!1)return we(r,{code:ue.invalid_type,expected:Ce.promise,received:r.parsedType}),qe;const s=r.parsedType===Ce.promise?r.data:Promise.resolve(r.data);return Mr(s.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}wo.create=(t,e)=>new wo({type:t,typeName:$e.ZodPromise,...Xe(e)});class An extends tt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:u=>{we(s,u),u.fatal?r.abort():r.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const u=o.transform(s.data,a);if(s.common.async)return Promise.resolve(u).then(async d=>{if(r.value==="aborted")return qe;const h=await this._def.schema._parseAsync({data:d,path:s.path,parent:s});return h.status==="aborted"?qe:h.status==="dirty"||r.value==="dirty"?lo(h.value):h});{if(r.value==="aborted")return qe;const d=this._def.schema._parseSync({data:u,path:s.path,parent:s});return d.status==="aborted"?qe:d.status==="dirty"||r.value==="dirty"?lo(d.value):d}}if(o.type==="refinement"){const u=d=>{const h=o.refinement(d,a);if(s.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(s.common.async===!1){const d=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return d.status==="aborted"?qe:(d.status==="dirty"&&r.dirty(),u(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(d=>d.status==="aborted"?qe:(d.status==="dirty"&&r.dirty(),u(d.value).then(()=>({status:r.value,value:d.value}))))}if(o.type==="transform")if(s.common.async===!1){const u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!ki(u))return u;const d=o.transform(u.value,a);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>ki(u)?Promise.resolve(o.transform(u.value,a)).then(d=>({status:r.value,value:d})):u);dt.assertNever(o)}}An.create=(t,e,r)=>new An({schema:t,typeName:$e.ZodEffects,effect:e,...Xe(r)});An.createWithPreprocess=(t,e,r)=>new An({schema:e,effect:{type:"preprocess",transform:t},typeName:$e.ZodEffects,...Xe(r)});class Hn extends tt{_parse(e){return this._getType(e)===Ce.undefined?Mr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hn.create=(t,e)=>new Hn({innerType:t,typeName:$e.ZodOptional,...Xe(e)});class Js extends tt{_parse(e){return this._getType(e)===Ce.null?Mr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Js.create=(t,e)=>new Js({innerType:t,typeName:$e.ZodNullable,...Xe(e)});class Ua extends tt{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===Ce.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ua.create=(t,e)=>new Ua({innerType:t,typeName:$e.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Xe(e)});class qa extends tt{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Ra(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new nn(s.common.issues)},input:s.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new nn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}qa.create=(t,e)=>new qa({innerType:t,typeName:$e.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Xe(e)});class qu extends tt{_parse(e){if(this._getType(e)!==Ce.nan){const s=this._getOrReturnCtx(e);return we(s,{code:ue.invalid_type,expected:Ce.nan,received:s.parsedType}),qe}return{status:"valid",value:e.data}}}qu.create=t=>new qu({typeName:$e.ZodNaN,...Xe(t)});const GT=Symbol("zod_brand");class np extends tt{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class Xa extends tt{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?qe:a.status==="dirty"?(r.dirty(),lo(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const o=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?qe:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:s.path,parent:s})}}static create(e,r){return new Xa({in:e,out:r,typeName:$e.ZodPipeline})}}class Wa extends tt{_parse(e){const r=this._def.innerType._parse(e),s=o=>(ki(o)&&(o.value=Object.freeze(o.value)),o);return Ra(r)?r.then(o=>s(o)):s(r)}unwrap(){return this._def.innerType}}Wa.create=(t,e)=>new Wa({innerType:t,typeName:$e.ZodReadonly,...Xe(e)});function Hv(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function tw(t,e={},r){return t?xo.create().superRefine((s,o)=>{var a,u;const d=t(s);if(d instanceof Promise)return d.then(h=>{var m,g;if(!h){const y=Hv(e,s),x=(g=(m=y.fatal)!==null&&m!==void 0?m:r)!==null&&g!==void 0?g:!0;o.addIssue({code:"custom",...y,fatal:x})}});if(!d){const h=Hv(e,s),m=(u=(a=h.fatal)!==null&&a!==void 0?a:r)!==null&&u!==void 0?u:!0;o.addIssue({code:"custom",...h,fatal:m})}}):xo.create()}const ZT={object:zt.lazycreate};var $e;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})($e||($e={}));const YT=(t,e={message:`Input not instance of ${t.name}`})=>tw(r=>r instanceof t,e),rw=jn.create,nw=Zs.create,XT=qu.create,JT=Ys.create,sw=Ia.create,eE=Ti.create,tE=Vu.create,rE=Aa.create,nE=Ma.create,sE=xo.create,iE=xi.create,oE=vs.create,aE=Bu.create,lE=Dn.create,uE=zt.create,cE=zt.strictCreate,dE=La.create,fE=gc.create,hE=Fa.create,pE=Gn.create,mE=za.create,gE=Uu.create,vE=Ei.create,yE=ho.create,xE=$a.create,wE=Va.create,bE=Xs.create,SE=Ba.create,_E=wo.create,Qv=An.create,CE=Hn.create,kE=Js.create,TE=An.createWithPreprocess,EE=Xa.create,NE=()=>rw().optional(),PE=()=>nw().optional(),OE=()=>sw().optional(),jE={string:(t=>jn.create({...t,coerce:!0})),number:(t=>Zs.create({...t,coerce:!0})),boolean:(t=>Ia.create({...t,coerce:!0})),bigint:(t=>Ys.create({...t,coerce:!0})),date:(t=>Ti.create({...t,coerce:!0}))},DE=qe;var vt=Object.freeze({__proto__:null,defaultErrorMap:yo,setErrorMap:TT,getErrorMap:Fu,makeIssue:zu,EMPTY_PATH:ET,addIssueToContext:we,ParseStatus:Pr,INVALID:qe,DIRTY:lo,OK:Mr,isAborted:ch,isDirty:dh,isValid:ki,isAsync:Ra,get util(){return dt},get objectUtil(){return uh},ZodParsedType:Ce,getParsedType:ds,ZodType:tt,datetimeRegex:Jx,ZodString:jn,ZodNumber:Zs,ZodBigInt:Ys,ZodBoolean:Ia,ZodDate:Ti,ZodSymbol:Vu,ZodUndefined:Aa,ZodNull:Ma,ZodAny:xo,ZodUnknown:xi,ZodNever:vs,ZodVoid:Bu,ZodArray:Dn,ZodObject:zt,ZodUnion:La,ZodDiscriminatedUnion:gc,ZodIntersection:Fa,ZodTuple:Gn,ZodRecord:za,ZodMap:Uu,ZodSet:Ei,ZodFunction:ho,ZodLazy:$a,ZodLiteral:Va,ZodEnum:Xs,ZodNativeEnum:Ba,ZodPromise:wo,ZodEffects:An,ZodTransformer:An,ZodOptional:Hn,ZodNullable:Js,ZodDefault:Ua,ZodCatch:qa,ZodNaN:qu,BRAND:GT,ZodBranded:np,ZodPipeline:Xa,ZodReadonly:Wa,custom:tw,Schema:tt,ZodSchema:tt,late:ZT,get ZodFirstPartyTypeKind(){return $e},coerce:jE,any:sE,array:lE,bigint:JT,boolean:sw,date:eE,discriminatedUnion:fE,effect:Qv,enum:bE,function:yE,instanceof:YT,intersection:hE,lazy:xE,literal:wE,map:gE,nan:XT,nativeEnum:SE,never:oE,null:nE,nullable:kE,number:nw,object:uE,oboolean:OE,onumber:PE,optional:CE,ostring:NE,pipeline:EE,preprocess:TE,promise:_E,record:mE,set:vE,strictObject:cE,string:rw,symbol:tE,transformer:Qv,tuple:pE,undefined:rE,union:dE,unknown:iE,void:aE,NEVER:DE,ZodIssueCode:ue,quotelessJson:kT,ZodError:nn});const ne=Symbol.for("drizzle:entityKind");function wr(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,ne))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(ne in r&&r[ne]===e[ne])return!0;r=Object.getPrototypeOf(r)}return!1}class Ha{constructor(e,r){this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[ne]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class RE{static[ne]="ColumnBuilder";config;constructor(e,r,s){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const po=Symbol.for("drizzle:Name");class IE{static[ne]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,r){this.reference=()=>{const{name:s,columns:o,foreignColumns:a}=e();return{name:s,columns:o,foreignTable:a[0].table,foreignColumns:a}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new AE(e,this)}}class AE{constructor(e,r){this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[ne]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:r,foreignColumns:s}=this.reference(),o=r.map(d=>d.name),a=s.map(d=>d.name),u=[this.table[po],...o,s[0].table[po],...a];return e??`${u.join("_")}_fk`}}function ME(t,...e){return t(...e)}function LE(t,e){return`${t[po]}_${e.join("_")}_unique`}function Kv(t,e,r){for(let s=e;s<t.length;s++){const o=t[s];if(o==="\\"){s++;continue}if(o==='"')return[t.slice(e,s).replace(/\\/g,""),s+1];if(!r&&(o===","||o==="}"))return[t.slice(e,s).replace(/\\/g,""),s]}return[t.slice(e).replace(/\\/g,""),t.length]}function iw(t,e=0){const r=[];let s=e,o=!1;for(;s<t.length;){const a=t[s];if(a===","){(o||s===e)&&r.push(""),o=!0,s++;continue}if(o=!1,a==="\\"){s+=2;continue}if(a==='"'){const[h,m]=Kv(t,s+1,!0);r.push(h),s=m;continue}if(a==="}")return[r,s+1];if(a==="{"){const[h,m]=iw(t,s+1);r.push(h),s=m;continue}const[u,d]=Kv(t,s,!1);r.push(u),s=d}return[r,s]}function FE(t){const[e]=iw(t,1);return e}function ow(t){return`{${t.map(e=>Array.isArray(e)?ow(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class pt extends RE{foreignKeyConfigs=[];static[ne]="PgColumnBuilder";array(e){return new $E(this.config.name,this,e)}references(e,r={}){return this.foreignKeyConfigs.push({ref:e,actions:r}),this}unique(e,r){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,r){return this.foreignKeyConfigs.map(({ref:s,actions:o})=>ME((a,u)=>{const d=new IE(()=>{const h=a();return{columns:[e],foreignColumns:[h]}});return u.onUpdate&&d.onUpdate(u.onUpdate),u.onDelete&&d.onDelete(u.onDelete),d.build(r)},s,o))}buildExtraConfigColumn(e){return new zE(e,this.config)}}class et extends Ha{constructor(e,r){r.uniqueName||(r.uniqueName=LE(e,[r.name])),super(e,r),this.table=e}static[ne]="PgColumn"}class zE extends et{static[ne]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class $E extends pt{static[ne]="PgArrayBuilder";constructor(e,r,s){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=s}build(e){const r=this.config.baseBuilder.build(e);return new sp(e,this.config,r)}}class sp extends et{constructor(e,r,s,o){super(e,r),this.baseColumn=s,this.range=o,this.size=r.size}size;static[ne]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=FE(e)),e.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(e,r=!1){const s=e.map(o=>o===null?null:wr(this.baseColumn,sp)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return r?s:ow(s)}}const Gv=Symbol.for("drizzle:isPgEnum");function VE(t){return!!t&&typeof t=="function"&&Gv in t&&t[Gv]===!0}class aw{static[ne]="Subquery";constructor(e,r,s,o=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:s,isWith:o}}}const BE={startActiveSpan(t,e){return e()}},mo=Symbol.for("drizzle:ViewBaseConfig"),Nf=Symbol.for("drizzle:Schema"),Zv=Symbol.for("drizzle:Columns"),Yv=Symbol.for("drizzle:ExtraConfigColumns"),Pf=Symbol.for("drizzle:OriginalName"),Of=Symbol.for("drizzle:BaseName"),Wu=Symbol.for("drizzle:IsAlias"),Xv=Symbol.for("drizzle:ExtraConfigBuilder"),lw=Symbol.for("drizzle:IsDrizzleTable");let en=class{static[ne]="Table";static Symbol={Name:po,Schema:Nf,OriginalName:Pf,Columns:Zv,ExtraConfigColumns:Yv,BaseName:Of,IsAlias:Wu,ExtraConfigBuilder:Xv};[po];[Pf];[Nf];[Zv];[Yv];[Of];[Wu]=!1;[lw]=!0;[Xv]=void 0;constructor(e,r,s){this[po]=this[Pf]=e,this[Nf]=r,this[Of]=s}};function uw(t){return typeof t=="object"&&t!==null&&lw in t}function UE(t){return t!=null&&typeof t.getSQL=="function"}function qE(t){const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}class En{static[ne]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new Vt([this])}}class Vt{constructor(e){this.queryChunks=e}static[ne]="SQL";decoder=cw;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return BE.startActiveSpan("drizzle.buildSQL",r=>{const s=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(e,r){const s=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:o,escapeName:a,escapeParam:u,prepareTyping:d,inlineParams:h,paramStartIndex:m}=s;return qE(e.map(g=>{if(wr(g,En))return{sql:g.value.join(""),params:[]};if(wr(g,hh))return{sql:a(g.value),params:[]};if(g===void 0)return{sql:"",params:[]};if(Array.isArray(g)){const y=[new En("(")];for(const[x,S]of g.entries())y.push(S),x<g.length-1&&y.push(new En(", "));return y.push(new En(")")),this.buildQueryFromSourceParams(y,s)}if(wr(g,Vt))return this.buildQueryFromSourceParams(g.queryChunks,{...s,inlineParams:h||g.shouldInlineParams});if(wr(g,en)){const y=g[en.Symbol.Schema],x=g[en.Symbol.Name];return{sql:y===void 0||g[Wu]?a(x):a(y)+"."+a(x),params:[]}}if(wr(g,Ha)){const y=o.getColumnCasing(g);if(r.invokeSource==="indexes")return{sql:a(y),params:[]};const x=g.table[en.Symbol.Schema];return{sql:g.table[Wu]||x===void 0?a(g.table[en.Symbol.Name])+"."+a(y):a(x)+"."+a(g.table[en.Symbol.Name])+"."+a(y),params:[]}}if(wr(g,WE)){const y=g[mo].schema,x=g[mo].name;return{sql:y===void 0||g[mo].isAlias?a(x):a(y)+"."+a(x),params:[]}}if(wr(g,fw)){if(wr(g.value,ph))return{sql:u(m.value++,g),params:[g],typings:["none"]};const y=g.value===null?null:g.encoder.mapToDriverValue(g.value);if(wr(y,Vt))return this.buildQueryFromSourceParams([y],s);if(h)return{sql:this.mapInlineParam(y,s),params:[]};let x=["none"];return d&&(x=[d(g.encoder)]),{sql:u(m.value++,y),params:[y],typings:x}}return wr(g,ph)?{sql:u(m.value++,g),params:[g],typings:["none"]}:wr(g,Vt.Aliased)&&g.fieldAlias!==void 0?{sql:a(g.fieldAlias),params:[]}:wr(g,aw)?g._.isWith?{sql:a(g._.alias),params:[]}:this.buildQueryFromSourceParams([new En("("),g._.sql,new En(") "),new hh(g._.alias)],s):VE(g)?g.schema?{sql:a(g.schema)+"."+a(g.enumName),params:[]}:{sql:a(g.enumName),params:[]}:UE(g)?g.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([g.getSQL()],s):this.buildQueryFromSourceParams([new En("("),g.getSQL(),new En(")")],s):h?{sql:this.mapInlineParam(g,s),params:[]}:{sql:u(m.value++,g),params:[g],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const s=e.toString();return r(s==="[object Object]"?JSON.stringify(e):s)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Vt.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class hh{constructor(e){this.value=e}static[ne]="Name";brand;getSQL(){return new Vt([this])}}const cw={mapFromDriverValue:t=>t},dw={mapToDriverValue:t=>t};({...cw,...dw});class fw{constructor(e,r=dw){this.value=e,this.encoder=r}static[ne]="Param";brand;getSQL(){return new Vt([this])}}function Hu(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new En(t[0]));for(const[s,o]of e.entries())r.push(o,new En(t[s+1]));return new Vt(r)}(t=>{function e(){return new Vt([])}t.empty=e;function r(h){return new Vt(h)}t.fromList=r;function s(h){return new Vt([new En(h)])}t.raw=s;function o(h,m){const g=[];for(const[y,x]of h.entries())y>0&&m!==void 0&&g.push(m),g.push(x);return new Vt(g)}t.join=o;function a(h){return new hh(h)}t.identifier=a;function u(h){return new ph(h)}t.placeholder=u;function d(h,m){return new fw(h,m)}t.param=d})(Hu||(Hu={}));(t=>{class e{constructor(s,o){this.sql=s,this.fieldAlias=o}static[ne]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(Vt||(Vt={}));class ph{constructor(e){this.name=e}static[ne]="Placeholder";getSQL(){return new Vt([this])}}const hw=Symbol.for("drizzle:IsDrizzleView");class WE{static[ne]="View";[mo];[hw]=!0;constructor({name:e,schema:r,selectedFields:s,query:o}){this[mo]={name:e,originalName:e,schema:r,selectedFields:s,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new Vt([this])}}function HE(t){return typeof t=="object"&&t!==null&&hw in t}Ha.prototype.getSQL=function(){return new Vt([this])};en.prototype.getSQL=function(){return new Vt([this])};aw.prototype.getSQL=function(){return new Vt([this])};function QE(t){return t[en.Symbol.Columns]}function KE(t){return t[mo].selectedFields}function cr(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class vc extends pt{static[ne]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:r,...s}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...s}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class GE extends vc{static[ne]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new ZE(e,this.config)}}class ZE extends et{static[ne]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class YE extends vc{static[ne]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new XE(e,this.config)}}class XE extends et{static[ne]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function JE(t,e){const{name:r,config:s}=cr(t,e);return s.mode==="number"?new GE(r):new YE(r)}class eN extends pt{static[ne]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new tN(e,this.config)}}class tN extends et{static[ne]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class rN extends pt{static[ne]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new nN(e,this.config)}}class nN extends et{static[ne]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function sN(t,e){const{name:r,config:s}=cr(t,e);return s.mode==="number"?new eN(r):new rN(r)}class iN extends pt{static[ne]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new oN(e,this.config)}}class oN extends et{static[ne]="PgBoolean";getSQLType(){return"boolean"}}function pw(t){return new iN(t??"")}class aN extends pt{static[ne]="PgCharBuilder";constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new lN(e,this.config)}}class lN extends et{static[ne]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function uN(t,e={}){const{name:r,config:s}=cr(t,e);return new aN(r,s)}class cN extends pt{static[ne]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new dN(e,this.config)}}class dN extends et{static[ne]="PgCidr";getSQLType(){return"cidr"}}function fN(t){return new cN(t??"")}class hN extends pt{static[ne]="PgCustomColumnBuilder";constructor(e,r,s){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=s}build(e){return new pN(e,this.config)}}class pN extends et{static[ne]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,r){super(e,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function mN(t){return(e,r)=>{const{name:s,config:o}=cr(e,r);return new hN(s,o,t)}}class Ja extends pt{static[ne]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Hu`now()`)}}class gN extends Ja{static[ne]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new vN(e,this.config)}}class vN extends et{static[ne]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class yN extends Ja{static[ne]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new xN(e,this.config)}}class xN extends et{static[ne]="PgDateString";getSQLType(){return"date"}}function wN(t,e){const{name:r,config:s}=cr(t,e);return s?.mode==="date"?new gN(r):new yN(r)}class bN extends pt{static[ne]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new SN(e,this.config)}}class SN extends et{static[ne]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function _N(t){return new bN(t??"")}class CN extends pt{static[ne]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new kN(e,this.config)}}class kN extends et{static[ne]="PgInet";getSQLType(){return"inet"}}function TN(t){return new CN(t??"")}class EN extends vc{static[ne]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new NN(e,this.config)}}class NN extends et{static[ne]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function fs(t){return new EN(t??"")}class PN extends pt{static[ne]="PgIntervalBuilder";constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new ON(e,this.config)}}class ON extends et{static[ne]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${e}${r}`}}function jN(t,e={}){const{name:r,config:s}=cr(t,e);return new PN(r,s)}class DN extends pt{static[ne]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new RN(e,this.config)}}class RN extends et{static[ne]="PgJson";constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function IN(t){return new DN(t??"")}class AN extends pt{static[ne]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new MN(e,this.config)}}class MN extends et{static[ne]="PgJsonb";constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function LN(t){return new AN(t??"")}class FN extends pt{static[ne]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new zN(e,this.config)}}class zN extends et{static[ne]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[r,s,o]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s),Number.parseFloat(o)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class $N extends pt{static[ne]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new VN(e,this.config)}}class VN extends et{static[ne]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[r,s,o]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(s),c:Number.parseFloat(o)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function BN(t,e){const{name:r,config:s}=cr(t,e);return!s?.mode||s.mode==="tuple"?new FN(r):new $N(r)}class UN extends pt{static[ne]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new qN(e,this.config)}}class qN extends et{static[ne]="PgMacaddr";getSQLType(){return"macaddr"}}function WN(t){return new UN(t??"")}class HN extends pt{static[ne]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new QN(e,this.config)}}class QN extends et{static[ne]="PgMacaddr8";getSQLType(){return"macaddr8"}}function KN(t){return new HN(t??"")}class GN extends pt{static[ne]="PgNumericBuilder";constructor(e,r,s){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=s}build(e){return new ZN(e,this.config)}}class ZN extends et{static[ne]="PgNumeric";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function YN(t,e){const{name:r,config:s}=cr(t,e);return new GN(r,s?.precision,s?.scale)}class XN extends pt{static[ne]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new JN(e,this.config)}}class JN extends et{static[ne]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,s]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class eP extends pt{static[ne]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new tP(e,this.config)}}class tP extends et{static[ne]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,s]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(s)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function rP(t,e){const{name:r,config:s}=cr(t,e);return!s?.mode||s.mode==="tuple"?new XN(r):new eP(r)}function nP(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function Jv(t,e){const r=new ArrayBuffer(8),s=new DataView(r);for(let o=0;o<8;o++)s.setUint8(o,t[e+o]);return s.getFloat64(0,!0)}function mw(t){const e=nP(t);let r=0;const s=e[r];r+=1;const o=new DataView(e.buffer),a=o.getUint32(r,s===1);if(r+=4,a&536870912&&(o.getUint32(r,s===1),r+=4),(a&65535)===1){const u=Jv(e,r);r+=8;const d=Jv(e,r);return r+=8,[u,d]}throw new Error("Unsupported geometry type")}class sP extends pt{static[ne]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new iP(e,this.config)}}class iP extends et{static[ne]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return mw(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class oP extends pt{static[ne]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new aP(e,this.config)}}class aP extends et{static[ne]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=mw(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function lP(t,e){const{name:r,config:s}=cr(t,e);return!s?.mode||s.mode==="tuple"?new sP(r):new oP(r)}class uP extends pt{static[ne]="PgRealBuilder";constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new cP(e,this.config)}}class cP extends et{static[ne]="PgReal";constructor(e,r){super(e,r)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function dP(t){return new uP(t??"")}class fP extends pt{static[ne]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new hP(e,this.config)}}class hP extends et{static[ne]="PgSerial";getSQLType(){return"serial"}}function yc(t){return new fP(t??"")}class pP extends vc{static[ne]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new mP(e,this.config)}}class mP extends et{static[ne]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function gP(t){return new pP(t??"")}class vP extends pt{static[ne]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new yP(e,this.config)}}class yP extends et{static[ne]="PgSmallSerial";getSQLType(){return"smallserial"}}function xP(t){return new vP(t??"")}class wP extends pt{static[ne]="PgTextBuilder";constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new bP(e,this.config)}}class bP extends et{static[ne]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function wi(t,e={}){const{name:r,config:s}=cr(t,e);return new wP(r,s)}class SP extends Ja{constructor(e,r,s){super(e,"string","PgTime"),this.withTimezone=r,this.precision=s,this.config.withTimezone=r,this.config.precision=s}static[ne]="PgTimeBuilder";build(e){return new _P(e,this.config)}}class _P extends et{static[ne]="PgTime";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function CP(t,e={}){const{name:r,config:s}=cr(t,e);return new SP(r,s.withTimezone??!1,s.precision)}class kP extends Ja{static[ne]="PgTimestampBuilder";constructor(e,r,s){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=s}build(e){return new TP(e,this.config)}}class TP extends et{static[ne]="PgTimestamp";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class EP extends Ja{static[ne]="PgTimestampStringBuilder";constructor(e,r,s){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=s}build(e){return new NP(e,this.config)}}class NP extends et{static[ne]="PgTimestampString";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Qu(t,e={}){const{name:r,config:s}=cr(t,e);return s?.mode==="string"?new EP(r,s.withTimezone??!1,s.precision):new kP(r,s?.withTimezone??!1,s?.precision)}class PP extends pt{static[ne]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Hu`gen_random_uuid()`)}build(e){return new OP(e,this.config)}}class OP extends et{static[ne]="PgUUID";getSQLType(){return"uuid"}}function jP(t){return new PP(t??"")}class DP extends pt{static[ne]="PgVarcharBuilder";constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new RP(e,this.config)}}class RP extends et{static[ne]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function IP(t,e={}){const{name:r,config:s}=cr(t,e);return new DP(r,s)}class AP extends pt{static[ne]="PgBinaryVectorBuilder";constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new MP(e,this.config)}}class MP extends et{static[ne]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function LP(t,e){const{name:r,config:s}=cr(t,e);return new AP(r,s)}class FP extends pt{static[ne]="PgHalfVectorBuilder";constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new zP(e,this.config)}}class zP extends et{static[ne]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function $P(t,e){const{name:r,config:s}=cr(t,e);return new FP(r,s)}class VP extends pt{static[ne]="PgSparseVectorBuilder";constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new BP(e,this.config)}}class BP extends et{static[ne]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function UP(t,e){const{name:r,config:s}=cr(t,e);return new VP(r,s)}class qP extends pt{static[ne]="PgVectorBuilder";constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new WP(e,this.config)}}class WP extends et{static[ne]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function HP(t,e){const{name:r,config:s}=cr(t,e);return new qP(r,s)}function QP(){return{bigint:JE,bigserial:sN,boolean:pw,char:uN,cidr:fN,customType:mN,date:wN,doublePrecision:_N,inet:TN,integer:fs,interval:jN,json:IN,jsonb:LN,line:BN,macaddr:WN,macaddr8:KN,numeric:YN,point:rP,geometry:lP,real:dP,serial:yc,smallint:gP,smallserial:xP,text:wi,time:CP,timestamp:Qu,uuid:jP,varchar:IP,bit:LP,halfvec:$P,sparsevec:UP,vector:HP}}const mh=Symbol.for("drizzle:PgInlineForeignKeys"),e0=Symbol.for("drizzle:EnableRLS");class t0 extends en{static[ne]="PgTable";static Symbol=Object.assign({},en.Symbol,{InlineForeignKeys:mh,EnableRLS:e0});[mh]=[];[e0]=!1;[en.Symbol.ExtraConfigBuilder]=void 0}function KP(t,e,r,s,o=t){const a=new t0(t,s,o),u=typeof e=="function"?e(QP()):e,d=Object.fromEntries(Object.entries(u).map(([g,y])=>{const x=y;x.setName(g);const S=x.build(a);return a[mh].push(...x.buildForeignKeys(S,a)),[g,S]})),h=Object.fromEntries(Object.entries(u).map(([g,y])=>{const x=y;x.setName(g);const S=x.buildExtraConfigColumn(a);return[g,S]})),m=Object.assign(a,d);return m[en.Symbol.Columns]=d,m[en.Symbol.ExtraConfigColumns]=h,Object.assign(m,{enableRLS:()=>(m[t0.Symbol.EnableRLS]=!0,m)})}const ip=(t,e,r)=>KP(t,e,r,void 0),Ft={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function qt(t,e){return e.includes(t.columnType)}function GP(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const ZP=vt.union([vt.string(),vt.number(),vt.boolean(),vt.null()]),YP=vt.union([ZP,vt.record(vt.any()),vt.array(vt.any())]),XP=vt.custom(t=>t instanceof Buffer);function gw(t,e){const r=e?.zodInstance??vt,s=e?.coerce??{};let o;return GP(t)&&(o=t.enumValues.length?r.enum(t.enumValues):r.string()),o||(qt(t,["PgGeometry","PgPointTuple"])?o=r.tuple([r.number(),r.number()]):qt(t,["PgGeometryObject","PgPointObject"])?o=r.object({x:r.number(),y:r.number()}):qt(t,["PgHalfVector","PgVector"])?(o=r.array(r.number()),o=t.dimensions?o.length(t.dimensions):o):qt(t,["PgLine"])?o=r.tuple([r.number(),r.number(),r.number()]):qt(t,["PgLineABC"])?o=r.object({a:r.number(),b:r.number(),c:r.number()}):qt(t,["PgArray"])?(o=r.array(gw(t.baseColumn,r)),o=t.size?o.length(t.size):o):t.dataType==="array"?o=r.array(r.any()):t.dataType==="number"?o=JP(t,r,s):t.dataType==="bigint"?o=e5(t,r,s):t.dataType==="boolean"?o=s===!0||s.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?o=s===!0||s.date?r.coerce.date():r.date():t.dataType==="string"?o=t5(t,r,s):t.dataType==="json"?o=YP:t.dataType==="custom"?o=r.any():t.dataType==="buffer"&&(o=XP)),o||(o=r.any()),o}function JP(t,e,r){let s=t.getSQLType().includes("unsigned"),o,a,u=!1;qt(t,["MySqlTinyInt","SingleStoreTinyInt"])?(o=s?0:Ft.INT8_MIN,a=s?Ft.INT8_UNSIGNED_MAX:Ft.INT8_MAX,u=!0):qt(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=s?0:Ft.INT16_MIN,a=s?Ft.INT16_UNSIGNED_MAX:Ft.INT16_MAX,u=!0):qt(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=s?0:Ft.INT24_MIN,a=s?Ft.INT24_UNSIGNED_MAX:Ft.INT24_MAX,u=qt(t,["MySqlMediumInt","SingleStoreMediumInt"])):qt(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=s?0:Ft.INT32_MIN,a=s?Ft.INT32_UNSIGNED_MAX:Ft.INT32_MAX,u=!0):qt(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=s?0:Ft.INT48_MIN,a=s?Ft.INT48_UNSIGNED_MAX:Ft.INT48_MAX):qt(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||qt(t,["MySqlSerial","SingleStoreSerial"]),o=s?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,u=!0):qt(t,["MySqlYear","SingleStoreYear"])?(o=1901,a=2155,u=!0):(o=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let d=r===!0||r?.number?e.coerce.number():e.number();return d=d.min(o).max(a),u?d.int():d}function e5(t,e,r){const s=t.getSQLType().includes("unsigned"),o=s?0n:Ft.INT64_MIN,a=s?Ft.INT64_UNSIGNED_MAX:Ft.INT64_MAX;return(r===!0||r?.bigint?e.coerce.bigint():e.bigint()).min(o).max(a)}function t5(t,e,r){if(qt(t,["PgUUID"]))return e.string().uuid();let s,o,a=!1;qt(t,["PgVarchar","SQLiteText"])?s=t.length:qt(t,["MySqlVarChar","SingleStoreVarChar"])?s=t.length??Ft.INT16_UNSIGNED_MAX:qt(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?s=Ft.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?s=Ft.INT24_UNSIGNED_MAX:t.textType==="text"?s=Ft.INT16_UNSIGNED_MAX:s=Ft.INT8_UNSIGNED_MAX),qt(t,["PgChar","MySqlChar","SingleStoreChar"])&&(s=t.length,a=!0),qt(t,["PgBinaryVector"])&&(o=/^[01]+$/,s=t.dimensions);let u=r===!0||r?.string?e.coerce.string():e.string();return u=o?u.regex(o):u,s&&a?u.length(s):s?u.max(s):u}function vw(t){return uw(t)?QE(t):KE(t)}function yw(t,e,r,s){const o={};for(const[a,u]of Object.entries(t)){if(!wr(u,Ha)&&!wr(u,Vt)&&!wr(u,Vt.Aliased)&&typeof u=="object"){const y=uw(u)||HE(u)?vw(u):u;o[a]=yw(y,e[a]??{},r,s);continue}const d=e[a];if(d!==void 0&&typeof d!="function"){o[a]=d;continue}const h=wr(u,Ha)?u:void 0,m=h?gw(h,s):vt.any(),g=typeof d=="function"?d(m):m;r.never(h)||(o[a]=g,h&&(r.nullable(h)&&(o[a]=o[a].nullable()),r.optional(h)&&(o[a]=o[a].optional())))}return vt.object(o)}const r5={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},n5=(t,e)=>{const r=vw(t);return yw(r,{},r5)},s5=ip("users",{id:yc("id").primaryKey(),username:wi("username").notNull().unique(),password:wi("password").notNull(),email:wi("email").unique(),rating:fs("rating").default(0),gamesPlayed:fs("games_played").default(0),wins:fs("wins").default(0),losses:fs("losses").default(0),draws:fs("draws").default(0)});ip("games",{id:yc("id").primaryKey(),whitePlayerId:fs("white_player_id"),blackPlayerId:fs("black_player_id"),pgn:wi("pgn"),result:wi("result"),createdAt:Qu("created_at").defaultNow()});ip("password_resets",{id:yc("id").primaryKey(),userId:fs("user_id").notNull(),code:wi("code").notNull(),expiresAt:Qu("expires_at").notNull(),used:pw("used").default(!1).notNull(),createdAt:Qu("created_at").defaultNow()});const gh=n5(s5).pick({username:!0,password:!0});vt.object({message:vt.string(),field:vt.string().optional()}),vt.object({message:vt.string()}),vt.object({message:vt.string()});const Tn={users:{login:{method:"POST",path:"/api/login",input:gh,responses:{200:vt.custom(),401:vt.object({message:vt.string()})}},register:{method:"POST",path:"/api/register",input:gh,responses:{201:vt.custom(),400:vt.object({message:vt.string()})}},me:{method:"GET",path:"/api/user",responses:{200:vt.custom(),401:vt.object({message:vt.string()})}}},games:{list:{method:"GET",path:"/api/games",responses:{200:vt.array(vt.custom())}}}},op="auth_token";function r0(){try{return localStorage.getItem(op)}catch{return null}}function n0(t){try{localStorage.setItem(op,t)}catch{}}function s0(){try{localStorage.removeItem(op)}catch{}}function Di(){const t=sc(),{toast:e}=ei(),[,r]=ji(),{data:s,isLoading:o,error:a}=Du({queryKey:[Tn.users.me.path],queryFn:async()=>{const m=r0();if(!m)return null;const g=await fetch(tn+Tn.users.me.path,{headers:{Authorization:`Bearer ${m}`}});if(g.status===401)return s0(),null;if(!g.ok)throw new Error("Khng th ly thng tin ngi dng");return Tn.users.me.responses[200].parse(await g.json())},retry:!1}),u=wf({mutationFn:async m=>{const g=await fetch(tn+Tn.users.login.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!g.ok){if(g.status===401)throw new Error("Sai tn ng nhp hoc mt khu");const y=await g.json();throw new Error(y.message||"ng nhp tht bi")}return Tn.users.login.responses[200].parse(await g.json())},onSuccess:m=>{const g=m?.token;typeof g=="string"&&g&&n0(g),t.setQueryData([Tn.users.me.path],m),e({title:"Cho mng quay li!",description:`ng nhp vi ti khon ${m.username}`,variant:"default"}),r("/")},onError:m=>{e({title:"ng nhp tht bi",description:m.message,variant:"destructive"})}}),d=wf({mutationFn:async m=>{const g=await fetch(tn+Tn.users.register.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!g.ok){const y=await g.json();throw new Error(y.message||"ng k tht bi")}return Tn.users.register.responses[201].parse(await g.json())},onSuccess:m=>{const g=m?.token;typeof g=="string"&&g&&n0(g),t.setQueryData([Tn.users.me.path],m),e({title:"To ti khon thnh cng!",description:`Cho mng n vi ChessPro, ${m.username}!`,variant:"default"}),r("/")},onError:m=>{e({title:"ng k tht bi",description:m.message,variant:"destructive"})}}),h=wf({mutationFn:async()=>{const m=r0();if(!(await fetch(tn+"/api/logout",{method:"POST",headers:m?{Authorization:`Bearer ${m}`}:{}})).ok)throw new Error("ng xut tht bi");s0(),t.setQueryData([Tn.users.me.path],null)},onSuccess:()=>{r("/auth"),e({title:" ng xut",description:"Bn cn ng nhp li  tip tc chi."})},onError:m=>{e({title:"ng xut tht bi",description:m.message,variant:"destructive"})}});return{user:s,isLoading:o,error:a,login:u.mutate,isLoggingIn:u.isPending,register:d.mutate,isRegistering:d.isPending,logout:h.mutate}}const Bn=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:at("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Bn.displayName="Card";const hs=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:at("flex flex-col space-y-1.5 p-6",t),...e}));hs.displayName="CardHeader";const ps=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:at("text-2xl font-semibold leading-none tracking-tight",t),...e}));ps.displayName="CardTitle";const xw=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:at("text-sm text-muted-foreground",t),...e}));xw.displayName="CardDescription";const Un=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:at("p-6 pt-0",t),...e}));Un.displayName="CardContent";const i5=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:at("flex items-center p-6 pt-0",t),...e}));i5.displayName="CardFooter";function o5(){return f.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:f.jsx(Bn,{className:"w-full max-w-md mx-4",children:f.jsxs(Un,{className:"pt-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx(eC,{className:"h-8 w-8 text-red-500"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),f.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const a5=Hh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ot=w.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...o},a)=>{const u=s?Py:"button";return f.jsx(u,{className:at(a5({variant:e,size:r,className:t})),ref:a,...o})});ot.displayName="Button";const Vn=w.forwardRef(({className:t,type:e,...r},s)=>f.jsx("input",{type:e,className:at("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r}));Vn.displayName="Input";var el=t=>t.type==="checkbox",yi=t=>t instanceof Date,Ar=t=>t==null;const ww=t=>typeof t=="object";var Ht=t=>!Ar(t)&&!Array.isArray(t)&&ww(t)&&!yi(t),bw=t=>Ht(t)&&t.target?el(t.target)?t.target.checked:t.target.value:t,l5=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Sw=(t,e)=>t.has(l5(e)),u5=t=>{const e=t.constructor&&t.constructor.prototype;return Ht(e)&&e.hasOwnProperty("isPrototypeOf")},ap=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xr(t){let e;const r=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(ap&&(t instanceof Blob||s))&&(r||Ht(t)))if(e=r?[]:{},!r&&!u5(t))e=t;else for(const o in t)t.hasOwnProperty(o)&&(e[o]=xr(t[o]));else return t;return e}var xc=t=>Array.isArray(t)?t.filter(Boolean):[],Wt=t=>t===void 0,xe=(t,e,r)=>{if(!e||!Ht(t))return r;const s=xc(e.split(/[,[\].]+?/)).reduce((o,a)=>Ar(o)?o:o[a],t);return Wt(s)||s===t?Wt(t[e])?r:t[e]:s},Xr=t=>typeof t=="boolean",lp=t=>/^\w*$/.test(t),_w=t=>xc(t.replace(/["|']|\]/g,"").split(/\.|\[/)),yt=(t,e,r)=>{let s=-1;const o=lp(e)?[e]:_w(e),a=o.length,u=a-1;for(;++s<a;){const d=o[s];let h=r;if(s!==u){const m=t[d];h=Ht(m)||Array.isArray(m)?m:isNaN(+o[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=h,t=t[d]}};const Ku={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Pn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},us={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Cw=Ye.createContext(null),wc=()=>Ye.useContext(Cw),c5=t=>{const{children:e,...r}=t;return Ye.createElement(Cw.Provider,{value:r},e)};var kw=(t,e,r,s=!0)=>{const o={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(o,a,{get:()=>{const u=a;return e._proxyFormState[u]!==Pn.all&&(e._proxyFormState[u]=!s||Pn.all),r&&(r[u]=!0),t[u]}});return o};function d5(t){const e=wc(),{control:r=e.control,disabled:s,name:o,exact:a}=t||{},[u,d]=Ye.useState(r._formState),h=Ye.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=Ye.useRef(o);return m.current=o,Ye.useEffect(()=>r._subscribe({name:m.current,formState:h.current,exact:a,callback:g=>{!s&&d({...r._formState,...g})}}),[r,s,a]),Ye.useEffect(()=>{h.current.isValid&&r._setValid(!0)},[r]),Ye.useMemo(()=>kw(u,r,h.current,!1),[u,r])}var qn=t=>typeof t=="string",Tw=(t,e,r,s,o)=>qn(t)?(s&&e.watch.add(t),xe(r,t,o)):Array.isArray(t)?t.map(a=>(s&&e.watch.add(a),xe(r,a))):(s&&(e.watchAll=!0),r);function f5(t){const e=wc(),{control:r=e.control,name:s,defaultValue:o,disabled:a,exact:u}=t||{},d=Ye.useRef(s),h=Ye.useRef(o);d.current=s,Ye.useEffect(()=>r._subscribe({name:d.current,formState:{values:!0},exact:u,callback:y=>!a&&g(Tw(d.current,r._names,y.values||r._formValues,!1,h.current))}),[r,a,u]);const[m,g]=Ye.useState(r._getWatch(s,o));return Ye.useEffect(()=>r._removeUnmounted()),m}function h5(t){const e=wc(),{name:r,disabled:s,control:o=e.control,shouldUnregister:a}=t,u=Sw(o._names.array,r),d=f5({control:o,name:r,defaultValue:xe(o._formValues,r,xe(o._defaultValues,r,t.defaultValue)),exact:!0}),h=d5({control:o,name:r,exact:!0}),m=Ye.useRef(t),g=Ye.useRef(o.register(r,{...t.rules,value:d,...Xr(t.disabled)?{disabled:t.disabled}:{}})),y=Ye.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!xe(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!xe(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!xe(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!xe(h.validatingFields,r)},error:{enumerable:!0,get:()=>xe(h.errors,r)}}),[h,r]),x=Ye.useCallback(k=>g.current.onChange({target:{value:bw(k),name:r},type:Ku.CHANGE}),[r]),S=Ye.useCallback(()=>g.current.onBlur({target:{value:xe(o._formValues,r),name:r},type:Ku.BLUR}),[r,o._formValues]),C=Ye.useCallback(k=>{const N=xe(o._fields,r);N&&k&&(N._f.ref={focus:()=>k.focus(),select:()=>k.select(),setCustomValidity:T=>k.setCustomValidity(T),reportValidity:()=>k.reportValidity()})},[o._fields,r]),_=Ye.useMemo(()=>({name:r,value:d,...Xr(s)||h.disabled?{disabled:h.disabled||s}:{},onChange:x,onBlur:S,ref:C}),[r,s,h.disabled,x,S,C,d]);return Ye.useEffect(()=>{const k=o._options.shouldUnregister||a;o.register(r,{...m.current.rules,...Xr(m.current.disabled)?{disabled:m.current.disabled}:{}});const N=(T,R)=>{const M=xe(o._fields,T);M&&M._f&&(M._f.mount=R)};if(N(r,!0),k){const T=xr(xe(o._options.defaultValues,r));yt(o._defaultValues,r,T),Wt(xe(o._formValues,r))&&yt(o._formValues,r,T)}return!u&&o.register(r),()=>{(u?k&&!o._state.action:k)?o.unregister(r):N(r,!1)}},[r,o,u,a]),Ye.useEffect(()=>{o._setDisabledField({disabled:s,name:r})},[s,r,o]),Ye.useMemo(()=>({field:_,formState:h,fieldState:y}),[_,h,y])}const p5=t=>t.render(h5(t));var Ew=(t,e,r,s,o)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:o||!0}}:{},Ta=t=>Array.isArray(t)?t:[t],i0=()=>{let t=[];return{get observers(){return t},next:o=>{for(const a of t)a.next&&a.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(a=>a!==o)}}),unsubscribe:()=>{t=[]}}},vh=t=>Ar(t)||!ww(t);function Ws(t,e){if(vh(t)||vh(e))return t===e;if(yi(t)&&yi(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const o of r){const a=t[o];if(!s.includes(o))return!1;if(o!=="ref"){const u=e[o];if(yi(a)&&yi(u)||Ht(a)&&Ht(u)||Array.isArray(a)&&Array.isArray(u)?!Ws(a,u):a!==u)return!1}}return!0}var Ir=t=>Ht(t)&&!Object.keys(t).length,up=t=>t.type==="file",On=t=>typeof t=="function",Gu=t=>{if(!ap)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Nw=t=>t.type==="select-multiple",cp=t=>t.type==="radio",m5=t=>cp(t)||el(t),jf=t=>Gu(t)&&t.isConnected;function g5(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=Wt(t)?s++:t[e[s++]];return t}function v5(t){for(const e in t)if(t.hasOwnProperty(e)&&!Wt(t[e]))return!1;return!0}function Xt(t,e){const r=Array.isArray(e)?e:lp(e)?[e]:_w(e),s=r.length===1?t:g5(t,r),o=r.length-1,a=r[o];return s&&delete s[a],o!==0&&(Ht(s)&&Ir(s)||Array.isArray(s)&&v5(s))&&Xt(t,r.slice(0,-1)),t}var Pw=t=>{for(const e in t)if(On(t[e]))return!0;return!1};function Zu(t,e={}){const r=Array.isArray(t);if(Ht(t)||r)for(const s in t)Array.isArray(t[s])||Ht(t[s])&&!Pw(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Zu(t[s],e[s])):Ar(t[s])||(e[s]=!0);return e}function Ow(t,e,r){const s=Array.isArray(t);if(Ht(t)||s)for(const o in t)Array.isArray(t[o])||Ht(t[o])&&!Pw(t[o])?Wt(e)||vh(r[o])?r[o]=Array.isArray(t[o])?Zu(t[o],[]):{...Zu(t[o])}:Ow(t[o],Ar(e)?{}:e[o],r[o]):r[o]=!Ws(t[o],e[o]);return r}var fa=(t,e)=>Ow(t,e,Zu(e));const o0={value:!1,isValid:!1},a0={value:!0,isValid:!0};var jw=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Wt(t[0].attributes.value)?Wt(t[0].value)||t[0].value===""?a0:{value:t[0].value,isValid:!0}:a0:o0}return o0},Dw=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>Wt(t)?t:e?t===""?NaN:t&&+t:r&&qn(t)?new Date(t):s?s(t):t;const l0={isValid:!1,value:null};var Rw=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,l0):l0;function u0(t){const e=t.ref;return up(e)?e.files:cp(e)?Rw(t.refs).value:Nw(e)?[...e.selectedOptions].map(({value:r})=>r):el(e)?jw(t.refs).value:Dw(Wt(e.value)?t.ref.value:e.value,t)}var y5=(t,e,r,s)=>{const o={};for(const a of t){const u=xe(e,a);u&&yt(o,a,u._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:s}},Yu=t=>t instanceof RegExp,ha=t=>Wt(t)?t:Yu(t)?t.source:Ht(t)?Yu(t.value)?t.value.source:t.value:t,c0=t=>({isOnSubmit:!t||t===Pn.onSubmit,isOnBlur:t===Pn.onBlur,isOnChange:t===Pn.onChange,isOnAll:t===Pn.all,isOnTouch:t===Pn.onTouched});const d0="AsyncFunction";var x5=t=>!!t&&!!t.validate&&!!(On(t.validate)&&t.validate.constructor.name===d0||Ht(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===d0)),w5=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),f0=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Ea=(t,e,r,s)=>{for(const o of r||Object.keys(t)){const a=xe(t,o);if(a){const{_f:u,...d}=a;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],o)&&!s)return!0;if(u.ref&&e(u.ref,u.name)&&!s)return!0;if(Ea(d,e))break}else if(Ht(d)&&Ea(d,e))break}}};function h0(t,e,r){const s=xe(t,r);if(s||lp(r))return{error:s,name:r};const o=r.split(".");for(;o.length;){const a=o.join("."),u=xe(e,a),d=xe(t,a);if(u&&!Array.isArray(u)&&r!==a)return{name:r};if(d&&d.type)return{name:a,error:d};o.pop()}return{name:r}}var b5=(t,e,r,s)=>{r(t);const{name:o,...a}=t;return Ir(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(u=>e[u]===(!s||Pn.all))},S5=(t,e,r)=>!t||!e||t===e||Ta(t).some(s=>s&&(r?s===e:s.startsWith(e)||e.startsWith(s))),_5=(t,e,r,s,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||t):(r?s.isOnBlur:o.isOnBlur)?!t:(r?s.isOnChange:o.isOnChange)?t:!0,C5=(t,e)=>!xc(xe(t,e)).length&&Xt(t,e),k5=(t,e,r)=>{const s=Ta(xe(t,r));return yt(s,"root",e[r]),yt(t,r,s),t},Tu=t=>qn(t);function p0(t,e,r="validate"){if(Tu(t)||Array.isArray(t)&&t.every(Tu)||Xr(t)&&!t)return{type:r,message:Tu(t)?t:"",ref:e}}var no=t=>Ht(t)&&!Yu(t)?t:{value:t,message:""},m0=async(t,e,r,s,o,a)=>{const{ref:u,refs:d,required:h,maxLength:m,minLength:g,min:y,max:x,pattern:S,validate:C,name:_,valueAsNumber:k,mount:N}=t._f,T=xe(r,_);if(!N||e.has(_))return{};const R=d?d[0]:u,M=Z=>{o&&R.reportValidity&&(R.setCustomValidity(Xr(Z)?"":Z||""),R.reportValidity())},$={},K=cp(u),B=el(u),J=K||B,q=(k||up(u))&&Wt(u.value)&&Wt(T)||Gu(u)&&u.value===""||T===""||Array.isArray(T)&&!T.length,U=Ew.bind(null,_,s,$),te=(Z,ee,Y,_e=us.maxLength,de=us.minLength)=>{const be=Z?ee:Y;$[_]={type:Z?_e:de,message:be,ref:u,...U(Z?_e:de,be)}};if(a?!Array.isArray(T)||!T.length:h&&(!J&&(q||Ar(T))||Xr(T)&&!T||B&&!jw(d).isValid||K&&!Rw(d).isValid)){const{value:Z,message:ee}=Tu(h)?{value:!!h,message:h}:no(h);if(Z&&($[_]={type:us.required,message:ee,ref:R,...U(us.required,ee)},!s))return M(ee),$}if(!q&&(!Ar(y)||!Ar(x))){let Z,ee;const Y=no(x),_e=no(y);if(!Ar(T)&&!isNaN(T)){const de=u.valueAsNumber||T&&+T;Ar(Y.value)||(Z=de>Y.value),Ar(_e.value)||(ee=de<_e.value)}else{const de=u.valueAsDate||new Date(T),be=oe=>new Date(new Date().toDateString()+" "+oe),W=u.type=="time",ce=u.type=="week";qn(Y.value)&&T&&(Z=W?be(T)>be(Y.value):ce?T>Y.value:de>new Date(Y.value)),qn(_e.value)&&T&&(ee=W?be(T)<be(_e.value):ce?T<_e.value:de<new Date(_e.value))}if((Z||ee)&&(te(!!Z,Y.message,_e.message,us.max,us.min),!s))return M($[_].message),$}if((m||g)&&!q&&(qn(T)||a&&Array.isArray(T))){const Z=no(m),ee=no(g),Y=!Ar(Z.value)&&T.length>+Z.value,_e=!Ar(ee.value)&&T.length<+ee.value;if((Y||_e)&&(te(Y,Z.message,ee.message),!s))return M($[_].message),$}if(S&&!q&&qn(T)){const{value:Z,message:ee}=no(S);if(Yu(Z)&&!T.match(Z)&&($[_]={type:us.pattern,message:ee,ref:u,...U(us.pattern,ee)},!s))return M(ee),$}if(C){if(On(C)){const Z=await C(T,r),ee=p0(Z,R);if(ee&&($[_]={...ee,...U(us.validate,ee.message)},!s))return M(ee.message),$}else if(Ht(C)){let Z={};for(const ee in C){if(!Ir(Z)&&!s)break;const Y=p0(await C[ee](T,r),R,ee);Y&&(Z={...Y,...U(ee,Y.message)},M(Y.message),s&&($[_]=Z))}if(!Ir(Z)&&($[_]={ref:R,...Z},!s))return $}}return M(!0),$};const T5={mode:Pn.onSubmit,reValidateMode:Pn.onChange,shouldFocusError:!0};function E5(t={}){let e={...T5,...t},r={submitCount:0,isDirty:!1,isLoading:On(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let o=Ht(e.defaultValues)||Ht(e.values)?xr(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:xr(o),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...g};const x={array:i0(),state:i0()},S=c0(e.mode),C=c0(e.reValidateMode),_=e.criteriaMode===Pn.all,k=P=>F=>{clearTimeout(m),m=setTimeout(P,F)},N=async P=>{if(!e.disabled&&(g.isValid||y.isValid||P)){const F=e.resolver?Ir((await q()).errors):await te(s,!0);F!==r.isValid&&x.state.next({isValid:F})}},T=(P,F)=>{!e.disabled&&(g.isValidating||g.validatingFields||y.isValidating||y.validatingFields)&&((P||Array.from(d.mount)).forEach(G=>{G&&(F?yt(r.validatingFields,G,F):Xt(r.validatingFields,G))}),x.state.next({validatingFields:r.validatingFields,isValidating:!Ir(r.validatingFields)}))},R=(P,F=[],G,ge,pe=!0,ie=!0)=>{if(ge&&G&&!e.disabled){if(u.action=!0,ie&&Array.isArray(xe(s,P))){const ye=G(xe(s,P),ge.argA,ge.argB);pe&&yt(s,P,ye)}if(ie&&Array.isArray(xe(r.errors,P))){const ye=G(xe(r.errors,P),ge.argA,ge.argB);pe&&yt(r.errors,P,ye),C5(r.errors,P)}if((g.touchedFields||y.touchedFields)&&ie&&Array.isArray(xe(r.touchedFields,P))){const ye=G(xe(r.touchedFields,P),ge.argA,ge.argB);pe&&yt(r.touchedFields,P,ye)}(g.dirtyFields||y.dirtyFields)&&(r.dirtyFields=fa(o,a)),x.state.next({name:P,isDirty:ee(P,F),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else yt(a,P,F)},M=(P,F)=>{yt(r.errors,P,F),x.state.next({errors:r.errors})},$=P=>{r.errors=P,x.state.next({errors:r.errors,isValid:!1})},K=(P,F,G,ge)=>{const pe=xe(s,P);if(pe){const ie=xe(a,P,Wt(G)?xe(o,P):G);Wt(ie)||ge&&ge.defaultChecked||F?yt(a,P,F?ie:u0(pe._f)):de(P,ie),u.mount&&N()}},B=(P,F,G,ge,pe)=>{let ie=!1,ye=!1;const Ge={name:P};if(!e.disabled){if(!G||ge){(g.isDirty||y.isDirty)&&(ye=r.isDirty,r.isDirty=Ge.isDirty=ee(),ie=ye!==Ge.isDirty);const lt=Ws(xe(o,P),F);ye=!!xe(r.dirtyFields,P),lt?Xt(r.dirtyFields,P):yt(r.dirtyFields,P,!0),Ge.dirtyFields=r.dirtyFields,ie=ie||(g.dirtyFields||y.dirtyFields)&&ye!==!lt}if(G){const lt=xe(r.touchedFields,P);lt||(yt(r.touchedFields,P,G),Ge.touchedFields=r.touchedFields,ie=ie||(g.touchedFields||y.touchedFields)&&lt!==G)}ie&&pe&&x.state.next(Ge)}return ie?Ge:{}},J=(P,F,G,ge)=>{const pe=xe(r.errors,P),ie=(g.isValid||y.isValid)&&Xr(F)&&r.isValid!==F;if(e.delayError&&G?(h=k(()=>M(P,G)),h(e.delayError)):(clearTimeout(m),h=null,G?yt(r.errors,P,G):Xt(r.errors,P)),(G?!Ws(pe,G):pe)||!Ir(ge)||ie){const ye={...ge,...ie&&Xr(F)?{isValid:F}:{},errors:r.errors,name:P};r={...r,...ye},x.state.next(ye)}},q=async P=>{T(P,!0);const F=await e.resolver(a,e.context,y5(P||d.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return T(P),F},U=async P=>{const{errors:F}=await q(P);if(P)for(const G of P){const ge=xe(F,G);ge?yt(r.errors,G,ge):Xt(r.errors,G)}else r.errors=F;return F},te=async(P,F,G={valid:!0})=>{for(const ge in P){const pe=P[ge];if(pe){const{_f:ie,...ye}=pe;if(ie){const Ge=d.array.has(ie.name),lt=pe._f&&x5(pe._f);lt&&g.validatingFields&&T([ge],!0);const ft=await m0(pe,d.disabled,a,_,e.shouldUseNativeValidation&&!F,Ge);if(lt&&g.validatingFields&&T([ge]),ft[ie.name]&&(G.valid=!1,F))break;!F&&(xe(ft,ie.name)?Ge?k5(r.errors,ft,ie.name):yt(r.errors,ie.name,ft[ie.name]):Xt(r.errors,ie.name))}!Ir(ye)&&await te(ye,F,G)}}return G.valid},Z=()=>{for(const P of d.unMount){const F=xe(s,P);F&&(F._f.refs?F._f.refs.every(G=>!jf(G)):!jf(F._f.ref))&&Le(P)}d.unMount=new Set},ee=(P,F)=>!e.disabled&&(P&&F&&yt(a,P,F),!Ws(X(),o)),Y=(P,F,G)=>Tw(P,d,{...u.mount?a:Wt(F)?o:qn(P)?{[P]:F}:F},G,F),_e=P=>xc(xe(u.mount?a:o,P,e.shouldUnregister?xe(o,P,[]):[])),de=(P,F,G={})=>{const ge=xe(s,P);let pe=F;if(ge){const ie=ge._f;ie&&(!ie.disabled&&yt(a,P,Dw(F,ie)),pe=Gu(ie.ref)&&Ar(F)?"":F,Nw(ie.ref)?[...ie.ref.options].forEach(ye=>ye.selected=pe.includes(ye.value)):ie.refs?el(ie.ref)?ie.refs.length>1?ie.refs.forEach(ye=>(!ye.defaultChecked||!ye.disabled)&&(ye.checked=Array.isArray(pe)?!!pe.find(Ge=>Ge===ye.value):pe===ye.value)):ie.refs[0]&&(ie.refs[0].checked=!!pe):ie.refs.forEach(ye=>ye.checked=ye.value===pe):up(ie.ref)?ie.ref.value="":(ie.ref.value=pe,ie.ref.type||x.state.next({name:P,values:xr(a)})))}(G.shouldDirty||G.shouldTouch)&&B(P,pe,G.shouldTouch,G.shouldDirty,!0),G.shouldValidate&&j(P)},be=(P,F,G)=>{for(const ge in F){const pe=F[ge],ie=`${P}.${ge}`,ye=xe(s,ie);(d.array.has(P)||Ht(pe)||ye&&!ye._f)&&!yi(pe)?be(ie,pe,G):de(ie,pe,G)}},W=(P,F,G={})=>{const ge=xe(s,P),pe=d.array.has(P),ie=xr(F);yt(a,P,ie),pe?(x.array.next({name:P,values:xr(a)}),(g.isDirty||g.dirtyFields||y.isDirty||y.dirtyFields)&&G.shouldDirty&&x.state.next({name:P,dirtyFields:fa(o,a),isDirty:ee(P,ie)})):ge&&!ge._f&&!Ar(ie)?be(P,ie,G):de(P,ie,G),f0(P,d)&&x.state.next({...r}),x.state.next({name:u.mount?P:void 0,values:xr(a)})},ce=async P=>{u.mount=!0;const F=P.target;let G=F.name,ge=!0;const pe=xe(s,G),ie=ye=>{ge=Number.isNaN(ye)||yi(ye)&&isNaN(ye.getTime())||Ws(ye,xe(a,G,ye))};if(pe){let ye,Ge;const lt=F.type?u0(pe._f):bw(P),ft=P.type===Ku.BLUR||P.type===Ku.FOCUS_OUT,jr=!w5(pe._f)&&!e.resolver&&!xe(r.errors,G)&&!pe._f.deps||_5(ft,xe(r.touchedFields,G),r.isSubmitted,C,S),Wr=f0(G,d,ft);yt(a,G,lt),ft?(pe._f.onBlur&&pe._f.onBlur(P),h&&h(0)):pe._f.onChange&&pe._f.onChange(P);const Tt=B(G,lt,ft),sn=!Ir(Tt)||Wr;if(!ft&&x.state.next({name:G,type:P.type,values:xr(a)}),jr)return(g.isValid||y.isValid)&&(e.mode==="onBlur"?ft&&N():ft||N()),sn&&x.state.next({name:G,...Wr?{}:Tt});if(!ft&&Wr&&x.state.next({...r}),e.resolver){const{errors:fr}=await q([G]);if(ie(lt),ge){const _r=h0(r.errors,s,G),Lr=h0(fr,s,_r.name||G);ye=Lr.error,G=Lr.name,Ge=Ir(fr)}}else T([G],!0),ye=(await m0(pe,d.disabled,a,_,e.shouldUseNativeValidation))[G],T([G]),ie(lt),ge&&(ye?Ge=!1:(g.isValid||y.isValid)&&(Ge=await te(s,!0)));ge&&(pe._f.deps&&j(pe._f.deps),J(G,Ge,ye,Tt))}},oe=(P,F)=>{if(xe(r.errors,F)&&P.focus)return P.focus(),1},j=async(P,F={})=>{let G,ge;const pe=Ta(P);if(e.resolver){const ie=await U(Wt(P)?P:pe);G=Ir(ie),ge=P?!pe.some(ye=>xe(ie,ye)):G}else P?(ge=(await Promise.all(pe.map(async ie=>{const ye=xe(s,ie);return await te(ye&&ye._f?{[ie]:ye}:ye)}))).every(Boolean),!(!ge&&!r.isValid)&&N()):ge=G=await te(s);return x.state.next({...!qn(P)||(g.isValid||y.isValid)&&G!==r.isValid?{}:{name:P},...e.resolver||!P?{isValid:G}:{},errors:r.errors}),F.shouldFocus&&!ge&&Ea(s,oe,P?pe:d.mount),ge},X=P=>{const F={...u.mount?a:o};return Wt(P)?F:qn(P)?xe(F,P):P.map(G=>xe(F,G))},Ne=(P,F)=>({invalid:!!xe((F||r).errors,P),isDirty:!!xe((F||r).dirtyFields,P),error:xe((F||r).errors,P),isValidating:!!xe(r.validatingFields,P),isTouched:!!xe((F||r).touchedFields,P)}),ve=P=>{P&&Ta(P).forEach(F=>Xt(r.errors,F)),x.state.next({errors:P?r.errors:{}})},Me=(P,F,G)=>{const ge=(xe(s,P,{_f:{}})._f||{}).ref,pe=xe(r.errors,P)||{},{ref:ie,message:ye,type:Ge,...lt}=pe;yt(r.errors,P,{...lt,...F,ref:ge}),x.state.next({name:P,errors:r.errors,isValid:!1}),G&&G.shouldFocus&&ge&&ge.focus&&ge.focus()},Ke=(P,F)=>On(P)?x.state.subscribe({next:G=>P(Y(void 0,F),G)}):Y(P,F,!0),Ve=P=>x.state.subscribe({next:F=>{S5(P.name,F.name,P.exact)&&b5(F,P.formState||g,Sr,P.reRenderRoot)&&P.callback({values:{...a},...r,...F})}}).unsubscribe,We=P=>(u.mount=!0,y={...y,...P.formState},Ve({...P,formState:y})),Le=(P,F={})=>{for(const G of P?Ta(P):d.mount)d.mount.delete(G),d.array.delete(G),F.keepValue||(Xt(s,G),Xt(a,G)),!F.keepError&&Xt(r.errors,G),!F.keepDirty&&Xt(r.dirtyFields,G),!F.keepTouched&&Xt(r.touchedFields,G),!F.keepIsValidating&&Xt(r.validatingFields,G),!e.shouldUnregister&&!F.keepDefaultValue&&Xt(o,G);x.state.next({values:xr(a)}),x.state.next({...r,...F.keepDirty?{isDirty:ee()}:{}}),!F.keepIsValid&&N()},xt=({disabled:P,name:F})=>{(Xr(P)&&u.mount||P||d.disabled.has(F))&&(P?d.disabled.add(F):d.disabled.delete(F))},dr=(P,F={})=>{let G=xe(s,P);const ge=Xr(F.disabled)||Xr(e.disabled);return yt(s,P,{...G||{},_f:{...G&&G._f?G._f:{ref:{name:P}},name:P,mount:!0,...F}}),d.mount.add(P),G?xt({disabled:Xr(F.disabled)?F.disabled:e.disabled,name:P}):K(P,!0,F.value),{...ge?{disabled:F.disabled||e.disabled}:{},...e.progressive?{required:!!F.required,min:ha(F.min),max:ha(F.max),minLength:ha(F.minLength),maxLength:ha(F.maxLength),pattern:ha(F.pattern)}:{},name:P,onChange:ce,onBlur:ce,ref:pe=>{if(pe){dr(P,F),G=xe(s,P);const ie=Wt(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,ye=m5(ie),Ge=G._f.refs||[];if(ye?Ge.find(lt=>lt===ie):ie===G._f.ref)return;yt(s,P,{_f:{...G._f,...ye?{refs:[...Ge.filter(jf),ie,...Array.isArray(xe(o,P))?[{}]:[]],ref:{type:ie.type,name:P}}:{ref:ie}}}),K(P,!1,void 0,ie)}else G=xe(s,P,{}),G._f&&(G._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(Sw(d.array,P)&&u.action)&&d.unMount.add(P)}}},Qt=()=>e.shouldFocusError&&Ea(s,oe,d.mount),Ot=P=>{Xr(P)&&(x.state.next({disabled:P}),Ea(s,(F,G)=>{const ge=xe(s,G);ge&&(F.disabled=ge._f.disabled||P,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(pe=>{pe.disabled=ge._f.disabled||P}))},0,!1))},br=(P,F)=>async G=>{let ge;G&&(G.preventDefault&&G.preventDefault(),G.persist&&G.persist());let pe=xr(a);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:ie,values:ye}=await q();r.errors=ie,pe=ye}else await te(s);if(d.disabled.size)for(const ie of d.disabled)yt(pe,ie,void 0);if(Xt(r.errors,"root"),Ir(r.errors)){x.state.next({errors:{}});try{await P(pe,G)}catch(ie){ge=ie}}else F&&await F({...r.errors},G),Qt(),setTimeout(Qt);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ir(r.errors)&&!ge,submitCount:r.submitCount+1,errors:r.errors}),ge)throw ge},qr=(P,F={})=>{xe(s,P)&&(Wt(F.defaultValue)?W(P,xr(xe(o,P))):(W(P,F.defaultValue),yt(o,P,xr(F.defaultValue))),F.keepTouched||Xt(r.touchedFields,P),F.keepDirty||(Xt(r.dirtyFields,P),r.isDirty=F.defaultValue?ee(P,xr(xe(o,P))):ee()),F.keepError||(Xt(r.errors,P),g.isValid&&N()),x.state.next({...r}))},mt=(P,F={})=>{const G=P?xr(P):o,ge=xr(G),pe=Ir(P),ie=pe?o:ge;if(F.keepDefaultValues||(o=G),!F.keepValues){if(F.keepDirtyValues){const ye=new Set([...d.mount,...Object.keys(fa(o,a))]);for(const Ge of Array.from(ye))xe(r.dirtyFields,Ge)?yt(ie,Ge,xe(a,Ge)):W(Ge,xe(ie,Ge))}else{if(ap&&Wt(P))for(const ye of d.mount){const Ge=xe(s,ye);if(Ge&&Ge._f){const lt=Array.isArray(Ge._f.refs)?Ge._f.refs[0]:Ge._f.ref;if(Gu(lt)){const ft=lt.closest("form");if(ft){ft.reset();break}}}}for(const ye of d.mount)W(ye,xe(ie,ye))}a=xr(ie),x.array.next({values:{...ie}}),x.state.next({values:{...ie}})}d={mount:F.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!g.isValid||!!F.keepIsValid||!!F.keepDirtyValues,u.watch=!!e.shouldUnregister,x.state.next({submitCount:F.keepSubmitCount?r.submitCount:0,isDirty:pe?!1:F.keepDirty?r.isDirty:!!(F.keepDefaultValues&&!Ws(P,o)),isSubmitted:F.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pe?{}:F.keepDirtyValues?F.keepDefaultValues&&a?fa(o,a):r.dirtyFields:F.keepDefaultValues&&P?fa(o,P):F.keepDirty?r.dirtyFields:{},touchedFields:F.keepTouched?r.touchedFields:{},errors:F.keepErrors?r.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Te=(P,F)=>mt(On(P)?P(a):P,F),kt=(P,F={})=>{const G=xe(s,P),ge=G&&G._f;if(ge){const pe=ge.refs?ge.refs[0]:ge.ref;pe.focus&&(pe.focus(),F.shouldSelect&&On(pe.select)&&pe.select())}},Sr=P=>{r={...r,...P}},rr={control:{register:dr,unregister:Le,getFieldState:Ne,handleSubmit:br,setError:Me,_subscribe:Ve,_runSchema:q,_getWatch:Y,_getDirty:ee,_setValid:N,_setFieldArray:R,_setDisabledField:xt,_setErrors:$,_getFieldArray:_e,_reset:mt,_resetDefaultValues:()=>On(e.defaultValues)&&e.defaultValues().then(P=>{Te(P,e.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:Z,_disableForm:Ot,_subjects:x,_proxyFormState:g,get _fields(){return s},get _formValues(){return a},get _state(){return u},set _state(P){u=P},get _defaultValues(){return o},get _names(){return d},set _names(P){d=P},get _formState(){return r},get _options(){return e},set _options(P){e={...e,...P}}},subscribe:We,trigger:j,register:dr,handleSubmit:br,watch:Ke,setValue:W,getValues:X,reset:Te,resetField:qr,clearErrors:ve,unregister:Le,setError:Me,setFocus:kt,getFieldState:Ne};return{...rr,formControl:rr}}function N5(t={}){const e=Ye.useRef(void 0),r=Ye.useRef(void 0),[s,o]=Ye.useState({isDirty:!1,isValidating:!1,isLoading:On(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:On(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:E5(t),formState:s},t.formControl&&t.defaultValues&&!On(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,Ye.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>o({...a._formState}),reRenderRoot:!0}),[a]),Ye.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Ye.useEffect(()=>{if(a._proxyFormState.isDirty){const u=a._getDirty();u!==s.isDirty&&a._subjects.state.next({isDirty:u})}},[a,s.isDirty]),Ye.useEffect(()=>{t.values&&!Ws(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,o(u=>({...u}))):a._resetDefaultValues()},[t.values,a]),Ye.useEffect(()=>{t.errors&&!Ir(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),Ye.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Ye.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=kw(s,a),e.current}const g0=(t,e,r)=>{if(t&&"reportValidity"in t){const s=xe(r,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},Iw=(t,e)=>{for(const r in e.fields){const s=e.fields[r];s&&s.ref&&"reportValidity"in s.ref?g0(s.ref,r,t):s.refs&&s.refs.forEach(o=>g0(o,r,t))}},P5=(t,e)=>{e.shouldUseNativeValidation&&Iw(t,e);const r={};for(const s in t){const o=xe(e.fields,s),a=Object.assign(t[s]||{},{ref:o&&o.ref});if(O5(e.names||Object.keys(t),s)){const u=Object.assign({},xe(r,s));yt(u,"root",a),yt(r,s,u)}else yt(r,s,a)}return r},O5=(t,e)=>t.some(r=>r.startsWith(e+"."));var j5=function(t,e){for(var r={};t.length;){var s=t[0],o=s.code,a=s.message,u=s.path.join(".");if(!r[u])if("unionErrors"in s){var d=s.unionErrors[0].errors[0];r[u]={message:d.message,type:d.code}}else r[u]={message:a,type:o};if("unionErrors"in s&&s.unionErrors.forEach(function(g){return g.errors.forEach(function(y){return t.push(y)})}),e){var h=r[u].types,m=h&&h[s.code];r[u]=Ew(u,e,r,o,m?[].concat(m,s.message):s.message)}t.shift()}return r},D5=function(t,e,r){return r===void 0&&(r={}),function(s,o,a){try{return Promise.resolve((function(u,d){try{var h=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(m){return a.shouldUseNativeValidation&&Iw({},a),{errors:{},values:r.raw?s:m}})}catch(m){return d(m)}return h&&h.then?h.then(void 0,d):h})(0,function(u){if((function(d){return Array.isArray(d?.errors)})(u))return{values:{},errors:P5(j5(u.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw u}))}catch(u){return Promise.reject(u)}}},R5="Label",Aw=w.forwardRef((t,e)=>f.jsx(St.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Aw.displayName=R5;var Mw=Aw;const I5=Hh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Lw=w.forwardRef(({className:t,...e},r)=>f.jsx(Mw,{ref:r,className:at(I5(),t),...e}));Lw.displayName=Mw.displayName;const A5=c5,Fw=w.createContext({}),v0=({...t})=>f.jsx(Fw.Provider,{value:{name:t.name},children:f.jsx(p5,{...t})}),bc=()=>{const t=w.useContext(Fw),e=w.useContext(zw),{getFieldState:r,formState:s}=wc(),o=r(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...o}},zw=w.createContext({}),yh=w.forwardRef(({className:t,...e},r)=>{const s=w.useId();return f.jsx(zw.Provider,{value:{id:s},children:f.jsx("div",{ref:r,className:at("space-y-2",t),...e})})});yh.displayName="FormItem";const xh=w.forwardRef(({className:t,...e},r)=>{const{error:s,formItemId:o}=bc();return f.jsx(Lw,{ref:r,className:at(s&&"text-destructive",t),htmlFor:o,...e})});xh.displayName="FormLabel";const wh=w.forwardRef(({...t},e)=>{const{error:r,formItemId:s,formDescriptionId:o,formMessageId:a}=bc();return f.jsx(Py,{ref:e,id:s,"aria-describedby":r?`${o} ${a}`:`${o}`,"aria-invalid":!!r,...t})});wh.displayName="FormControl";const M5=w.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:s}=bc();return f.jsx("p",{ref:r,id:s,className:at("text-sm text-muted-foreground",t),...e})});M5.displayName="FormDescription";const bh=w.forwardRef(({className:t,children:e,...r},s)=>{const{error:o,formMessageId:a}=bc(),u=o?String(o?.message??""):e;return u?f.jsx("p",{ref:s,id:a,className:at("text-sm font-medium text-destructive",t),...r,children:u}):null});bh.displayName="FormMessage";function L5(){const[t,e]=w.useState(!0),[r,s]=w.useState(!1),[o,a]=w.useState(""),[u,d]=w.useState("request"),[h,m]=w.useState(""),[g,y]=w.useState(""),[x,S]=w.useState(!1),{user:C,login:_,register:k,isLoggingIn:N,isRegistering:T}=Di(),{toast:R}=ei(),M=N5({resolver:D5(gh),defaultValues:{username:"",password:""}});if(C)return f.jsx(my,{to:"/"});const $=U=>{t?_(U):k(U)},K=async U=>{if(U.preventDefault(),!o){R({title:"Li",description:"Vui lng nhp email ca bn",variant:"destructive"});return}try{S(!0);const te=await fetch(tn+"/api/user/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})});if(!te.ok){const Z=await te.json().catch(()=>null);throw new Error(Z?.message||"Gi email t li mt khu tht bi")}R({title:" gi email",description:"Hy kim tra hp th  ly m t li mt khu."}),d("confirm")}catch(te){const Z=te instanceof Error?te.message:"C li xy ra, vui lng th li";R({title:"Li",description:Z,variant:"destructive"})}finally{S(!1)}},B=async U=>{if(U.preventDefault(),!o||!h||!g){R({title:"Thiu thng tin",description:"Vui lng nhp y  email, m v mt khu mi",variant:"destructive"});return}S(!0);try{const te=await fetch(tn+"/api/user/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,code:h,newPassword:g})});if(!te.ok){const Z=await te.json().catch(()=>null);throw new Error(Z?.message||"t li mt khu tht bi")}R({title:"Thnh cng",description:"Mt khu mi  c cp nht, hy ng nhp li."}),s(!1),d("request"),a(""),m(""),y("")}catch(te){const Z=te instanceof Error?te.message:"C li xy ra, vui lng th li";R({title:"Li",description:Z,variant:"destructive"})}finally{S(!1)}},J=()=>{R({title:"ng nhp Google",description:"Tnh nng ng nhp Google s c tch hp ti y.",variant:"default"})},q=N||T;return r?f.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsx("div",{className:"w-full max-w-md z-10",children:f.jsxs("div",{className:"glass-card p-8 rounded-3xl animate-in zoom-in-95 duration-500",children:[f.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:u==="request"?"Qun mt khu":"Nhp m t li mt khu"}),f.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:u==="request"?"Nhp email  gn vi ti khon  nhn m t li mt khu.":"Kim tra email  ly m, sau  nhp m v mt khu mi bn di."}),u==="request"?f.jsxs("form",{onSubmit:K,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Email"}),f.jsx(Vn,{type:"email",placeholder:"ban@example.com",value:o,onChange:U=>a(U.target.value),className:"glass-input h-12 rounded-xl text-lg font-medium"})]}),f.jsx(ot,{type:"submit",className:"w-full h-12 rounded-xl text-lg font-bold btn-primary",disabled:x,children:x?f.jsx(Cu,{className:"w-5 h-5 animate-spin"}):"Gi m v email"}),f.jsx(ot,{type:"button",variant:"ghost",onClick:()=>{s(!1),d("request")},className:"w-full text-slate-400 hover:text-white",children:"Quay li ng nhp"})]}):f.jsxs("form",{onSubmit:B,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Email"}),f.jsx(Vn,{type:"email",placeholder:"ban@example.com",value:o,onChange:U=>a(U.target.value),className:"glass-input h-11 rounded-xl text-base"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"M t li"}),f.jsx(Vn,{placeholder:"Nhp m gm 6 s",value:h,onChange:U=>m(U.target.value),className:"glass-input h-11 rounded-xl text-base"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Mt khu mi"}),f.jsx(Vn,{type:"password",placeholder:"Mt khu mi",value:g,onChange:U=>y(U.target.value),className:"glass-input h-11 rounded-xl text-base"})]}),f.jsx(ot,{type:"submit",className:"w-full h-12 rounded-xl text-lg font-bold btn-primary",disabled:x,children:x?f.jsx(Cu,{className:"w-5 h-5 animate-spin"}):"i mt khu"}),f.jsx(ot,{type:"button",variant:"ghost",onClick:()=>{d("request"),m(""),y("")},className:"w-full text-slate-400 hover:text-white",children:"Quay li bc gi m"})]})]})})]}):f.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsxs("div",{className:"w-full max-w-md z-10",children:[f.jsxs("div",{className:"text-center mb-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-600 to-indigo-800 rounded-2xl mx-auto flex items-center justify-center shadow-2xl shadow-indigo-900/40 rotate-12 mb-6",children:f.jsx(uc,{className:"w-8 h-8 text-white"})}),f.jsxs("h1",{className:"text-4xl md:text-5xl font-black italic tracking-tighter text-white drop-shadow-lg mb-1",children:["Chess",f.jsx("span",{className:"text-indigo-500",children:"Pro"})]}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] text-[10px]",children:"c vua ca ngi vit"})]}),f.jsxs("div",{className:"glass-card p-8 rounded-3xl animate-in zoom-in-95 duration-500",children:[f.jsxs("div",{className:"flex w-full mb-8 bg-slate-900/50 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>e(!0),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${t?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"NG NHP"}),f.jsx("button",{onClick:()=>e(!1),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${t?"text-slate-400 hover:text-white":"bg-indigo-600 text-white shadow-lg"}`,children:"NG K"})]}),f.jsx(A5,{...M,children:f.jsxs("form",{onSubmit:M.handleSubmit($),className:"space-y-4",children:[f.jsx(v0,{control:M.control,name:"username",render:({field:U})=>f.jsxs(yh,{children:[f.jsx(xh,{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Tn ng nhp"}),f.jsx(wh,{children:f.jsx(Vn,{placeholder:"Kythu123",...U,className:"glass-input h-12 rounded-xl text-lg font-medium"})}),f.jsx(bh,{})]})}),f.jsx(v0,{control:M.control,name:"password",render:({field:U})=>f.jsxs(yh,{children:[f.jsx(xh,{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Mt khu"}),f.jsx(wh,{children:f.jsx(Vn,{type:"password",placeholder:"",...U,className:"glass-input h-12 rounded-xl text-lg font-medium"})}),f.jsx(bh,{})]})}),t&&f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"button",onClick:()=>s(!0),className:"text-xs text-indigo-400 hover:text-indigo-300 font-bold",children:"Qun mt khu?"})}),f.jsx(ot,{type:"submit",className:"w-full h-12 rounded-xl text-lg font-bold mt-6 btn-primary",disabled:q,children:q?f.jsx(Cu,{className:"w-5 h-5 animate-spin"}):f.jsxs(f.Fragment,{children:[t?"Bt u chi":"To ti khon",f.jsx(xa,{className:"w-5 h-5 ml-2"})]})}),f.jsxs("div",{className:"relative my-6",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("span",{className:"w-full border-t border-slate-700"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-[#0f172a] px-2 text-slate-500",children:"Hoc tip tc vi"})})]}),f.jsxs(ot,{type:"button",variant:"outline",onClick:J,className:"w-full h-12 rounded-xl border-slate-700 bg-slate-800/50 hover:bg-slate-800 text-white font-bold",children:[f.jsx(nh,{className:"w-4 h-4 mr-2 text-red-500"}),"ng nhp bng Gmail"]})]})})]})]})]})}let $w=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");function F5(){const{user:t,logout:e}=Di(),[,r]=ji(),[s,o]=w.useState("");if(!t)return f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(ro,{href:"/auth",children:f.jsx(ot,{children:"ng nhp trc"})})});const a=()=>{const d=$w(6).toUpperCase();r(`/game/online/${d}`)},u=()=>{s.length>0&&r(`/game/online/${s.toUpperCase()}`)};return f.jsxs("div",{className:"min-h-screen bg-[#020617] text-white relative overflow-x-hidden",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-12 md:py-20 flex flex-col items-center text-center",children:[f.jsxs("div",{className:"mb-12 animate-in fade-in slide-in-from-top-8 duration-700",children:[f.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-[2rem] mx-auto flex items-center justify-center shadow-2xl shadow-indigo-500/30 rotate-12 hover:rotate-6 transition-transform duration-300 mb-6",children:f.jsx(uc,{className:"w-10 h-10 text-white"})}),f.jsxs("h1",{className:"text-5xl md:text-7xl font-black italic tracking-tighter text-white drop-shadow-2xl mb-2",children:["Chess",f.jsx("span",{className:"text-indigo-500",children:"Pro"})]}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] text-xs md:text-sm",children:"c vua ca ngi vit"})]}),f.jsx("div",{className:"w-full max-w-sm mb-12",children:f.jsxs("div",{className:"glass-card p-2 rounded-full flex items-center justify-between pl-6 pr-2",children:[f.jsxs("span",{className:"font-bold text-slate-300",children:["Xin cho, ",t.username]}),f.jsx(ot,{variant:"ghost",size:"sm",onClick:()=>e(),className:"text-red-400 hover:text-red-300 hover:bg-red-950/30 rounded-full px-4",children:"ng xut"})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-4xl animate-in fade-in zoom-in-95 duration-700 delay-150",children:[f.jsxs("div",{className:"glass-card p-8 rounded-[2.5rem] flex flex-col items-center gap-6 group hover:border-indigo-500/30 transition-all duration-300",children:[f.jsx("div",{className:"w-16 h-16 rounded-2xl bg-indigo-500/20 text-indigo-400 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:f.jsx(lx,{className:"w-8 h-8"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-black italic uppercase text-indigo-400 mb-1",children:"nh online"}),f.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"nh xp hng & giao hu"})]}),f.jsxs("div",{className:"w-full space-y-4",children:[f.jsx(ro,{href:"/game/online/random",children:f.jsx(ot,{className:"w-full h-14 text-lg font-bold rounded-xl btn-primary mb-4",children:"Ghp trn nhanh"})}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("span",{className:"w-full border-t border-slate-700"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-[#0f172a] px-2 text-slate-500 font-bold",children:"Hoc chi vi bn b"})})]}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(ot,{onClick:a,className:"flex-1 bg-slate-800 hover:bg-slate-700 text-indigo-400 border border-indigo-500/20 rounded-xl font-bold",children:"To phng"}),f.jsxs("div",{className:"flex-1 flex gap-2",children:[f.jsx("input",{value:s,onChange:d=>o(d.target.value),placeholder:"M PHNG",className:"glass-input w-full rounded-xl text-center font-bold tracking-widest uppercase text-sm"}),f.jsx(ot,{onClick:u,size:"icon",className:"bg-slate-800 hover:bg-slate-700 text-indigo-400 border border-indigo-500/20 rounded-xl font-bold shrink-0",children:f.jsx(xa,{className:"w-4 h-4"})})]})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs(ro,{href:"/game/ai/new",className:"flex-1 glass-card p-6 rounded-[2.5rem] flex items-center gap-6 group hover:border-emerald-500/30 transition-all cursor-pointer",children:[f.jsx("div",{className:"w-16 h-16 rounded-2xl bg-emerald-500/20 text-emerald-400 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:f.jsx(hC,{className:"w-8 h-8"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("h2",{className:"text-3xl font-black italic uppercase text-emerald-400 mb-1",children:"nh vi AI"}),f.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Stockfish 15"})]}),f.jsx(xa,{className:"ml-auto text-emerald-500/50 group-hover:translate-x-1 transition-transform"})]}),f.jsxs(ro,{href:"/game/offline/local",className:"flex-1 glass-card p-6 rounded-[2.5rem] flex items-center gap-6 group hover:border-amber-500/30 transition-all cursor-pointer",children:[f.jsx("div",{className:"w-16 h-16 rounded-2xl bg-amber-500/20 text-amber-400 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:f.jsx(oC,{className:"w-8 h-8"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("h2",{className:"text-3xl font-black italic uppercase text-amber-400 mb-1",children:"Chi trn cng my"}),f.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Chuyn lt & nh lun phin"})]}),f.jsx(xa,{className:"ml-auto text-amber-500/50 group-hover:translate-x-1 transition-transform"})]})]})]}),f.jsxs("div",{className:"mt-12 flex gap-4 w-full max-w-4xl",children:[f.jsxs(ro,{href:"/social",className:"flex-1 glass-card px-8 py-4 rounded-2xl flex items-center justify-between border-indigo-500/10 cursor-pointer hover:bg-white/5 transition-colors group",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx(cc,{className:"w-5 h-5 text-yellow-500 group-hover:scale-110 transition-transform"}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Bng xp hng"}),f.jsx("div",{className:"text-sm font-bold text-white",children:"Xem cao th hng u"})]})]}),f.jsx(xa,{className:"text-slate-500 group-hover:translate-x-1 transition-transform"})]}),f.jsxs(ro,{href:"/profile",className:"glass-card px-8 py-4 rounded-2xl flex items-center gap-6 border-indigo-500/10 cursor-pointer hover:bg-white/5 transition-colors group",children:[f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Elo ca bn"}),f.jsx("div",{className:"text-xl font-black text-white group-hover:text-indigo-400 transition-colors",children:t.rating??0})]}),f.jsx("div",{className:"h-8 w-px bg-white/10 mx-2"}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Vn  chi"}),f.jsx("div",{className:"text-xl font-black text-white group-hover:text-indigo-400 transition-colors",children:t.gamesPlayed||0})]})]})]})]})]})}function z5(t){return t!==null?{comment:t,variations:[]}:{variations:[]}}function $5(t,e,r,s,o){const a={move:t,variations:o};return e&&(a.suffix=e),r&&(a.nag=r),s!==null&&(a.comment=s),a}function V5(...t){const[e,...r]=t;let s=e;for(const o of r)o!==null&&(s.variations=[o,...o.variations],o.variations=[],s=o);return e}function B5(t,e){if(e.marker&&e.marker.comment){let r=e.root;for(;;){const s=r.variations[0];if(!s){r.comment=e.marker.comment;break}r=s}}return{headers:t,root:e.root,result:(e.marker&&e.marker.result)??void 0}}function U5(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}function bo(t,e,r,s){var o=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(o,bo.prototype),o.expected=e,o.found=r,o.location=s,o.name="SyntaxError",o}U5(bo,Error);function Df(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,r+=r.repeat(e),t+r.slice(0,e))}bo.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var r=null,s;for(s=0;s<t.length;s++)if(t[s].source===this.location.source){r=t[s].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,a=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,u=this.location.source+":"+a.line+":"+a.column;if(r){var d=this.location.end,h=Df("",a.line.toString().length," "),m=r[o.line-1],g=o.line===d.line?d.column:m.length+1,y=g-o.column||1;e+=`
 --> `+u+`
`+h+` |
`+a.line+" | "+m+`
`+h+" | "+Df("",o.column-1," ")+Df("",y,"^")}else e+=`
 at `+u}return e};bo.buildMessage=function(t,e){var r={literal:function(m){return'"'+o(m.text)+'"'},class:function(m){var g=m.parts.map(function(y){return Array.isArray(y)?a(y[0])+"-"+a(y[1]):a(y)});return"["+(m.inverted?"^":"")+g.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(m){return m.description}};function s(m){return m.charCodeAt(0).toString(16).toUpperCase()}function o(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+s(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+s(g)})}function a(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+s(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+s(g)})}function u(m){return r[m.type](m)}function d(m){var g=m.map(u),y,x;if(g.sort(),g.length>0){for(y=1,x=1;y<g.length;y++)g[y-1]!==g[y]&&(g[x]=g[y],x++);g.length=x}switch(g.length){case 1:return g[0];case 2:return g[0]+" or "+g[1];default:return g.slice(0,-1).join(", ")+", or "+g[g.length-1]}}function h(m){return m?'"'+o(m)+'"':"end of input"}return"Expected "+d(t)+" but "+h(e)+" found."};function q5(t,e){e=e!==void 0?e:{};var r={},s=e.grammarSource,o={pgn:Eo},a=Eo,u="[",d='"',h="]",m=".",g="O-O-O",y="O-O",x="0-0-0",S="0-0",C="$",_="{",k="}",N=";",T="(",R=")",M="1-0",$="0-1",K="1/2-1/2",B="*",J=/^[a-zA-Z]/,q=/^[^"]/,U=/^[0-9]/,te=/^[.]/,Z=/^[a-zA-Z1-8\-=]/,ee=/^[+#]/,Y=/^[!?]/,_e=/^[^}]/,de=/^[^\r\n]/,be=/^[ \t\r\n]/,W=sr("tag pair"),ce=Nt("[",!1),oe=Nt('"',!1),j=Nt("]",!1),X=sr("tag name"),Ne=pr([["a","z"],["A","Z"]],!1,!1),ve=sr("tag value"),Me=pr(['"'],!0,!1),Ke=sr("move number"),Ve=pr([["0","9"]],!1,!1),We=Nt(".",!1),Le=pr(["."],!1,!1),xt=sr("standard algebraic notation"),dr=Nt("O-O-O",!1),Qt=Nt("O-O",!1),Ot=Nt("0-0-0",!1),br=Nt("0-0",!1),qr=pr([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),mt=pr(["+","#"],!1,!1),Te=sr("suffix annotation"),kt=pr(["!","?"],!1,!1),Sr=sr("NAG"),Or=Nt("$",!1),rr=sr("brace comment"),P=Nt("{",!1),F=pr(["}"],!0,!1),G=Nt("}",!1),ge=sr("rest of line comment"),pe=Nt(";",!1),ie=pr(["\r",`
`],!0,!1),ye=sr("variation"),Ge=Nt("(",!1),lt=Nt(")",!1),ft=sr("game termination marker"),jr=Nt("1-0",!1),Wr=Nt("0-1",!1),Tt=Nt("1/2-1/2",!1),sn=Nt("*",!1),fr=sr("whitespace"),_r=pr([" ","	","\r",`
`],!1,!1),Lr=function(I,H){return B5(I,H)},on=function(I){return Object.fromEntries(I)},an=function(I,H){return[I,H]},hr=function(I,H){return{root:I,marker:H}},it=function(I,H){return V5(z5(I),...H.flat())},Ct=function(I,H,Q,Ie,Re){return $5(I,H,Q,Ie,Re)},Et=function(I){return I},fe=function(I){return I.replace(/[\r\n]+/g," ")},me=function(I){return I.trim()},Ae=function(I){return I},Be=function(I,H){return{result:I,comment:H}},A=e.peg$currPos|0,nt=[{line:1,column:1}],rt=A,Bt=e.peg$maxFailExpected||[],le=e.peg$silentFails|0,nr;if(e.startRule){if(!(e.startRule in o))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');a=o[e.startRule]}function Nt(I,H){return{type:"literal",text:I,ignoreCase:H}}function pr(I,H,Q){return{type:"class",parts:I,inverted:H,ignoreCase:Q}}function Xn(){return{type:"end"}}function sr(I){return{type:"other",description:I}}function tl(I){var H=nt[I],Q;if(H)return H;if(I>=nt.length)Q=nt.length-1;else for(Q=I;!nt[--Q];);for(H=nt[Q],H={line:H.line,column:H.column};Q<I;)t.charCodeAt(Q)===10?(H.line++,H.column=1):H.column++,Q++;return nt[I]=H,H}function rl(I,H,Q){var Ie=tl(I),Re=tl(H),ct={source:s,start:{offset:I,line:Ie.line,column:Ie.column},end:{offset:H,line:Re.line,column:Re.column}};return ct}function Pe(I){A<rt||(A>rt&&(rt=A,Bt=[]),Bt.push(I))}function nl(I,H,Q){return new bo(bo.buildMessage(I,H),I,H,Q)}function Eo(){var I,H,Q;return I=A,H=Pc(),Q=ol(),I=Lr(H,Q),I}function Pc(){var I,H,Q;for(I=A,H=[],Q=No();Q!==r;)H.push(Q),Q=No();return Q=mr(),I=on(H),I}function No(){var I,H,Q,Ie,Re,ct,Hr;return le++,I=A,mr(),t.charCodeAt(A)===91?(H=u,A++):(H=r,le===0&&Pe(ce)),H!==r?(mr(),Q=sl(),Q!==r?(mr(),t.charCodeAt(A)===34?(Ie=d,A++):(Ie=r,le===0&&Pe(oe)),Ie!==r?(Re=il(),t.charCodeAt(A)===34?(ct=d,A++):(ct=r,le===0&&Pe(oe)),ct!==r?(mr(),t.charCodeAt(A)===93?(Hr=h,A++):(Hr=r,le===0&&Pe(j)),Hr!==r?I=an(Q,Re):(A=I,I=r)):(A=I,I=r)):(A=I,I=r)):(A=I,I=r)):(A=I,I=r),le--,I===r&&le===0&&Pe(W),I}function sl(){var I,H,Q;if(le++,I=A,H=[],Q=t.charAt(A),J.test(Q)?A++:(Q=r,le===0&&Pe(Ne)),Q!==r)for(;Q!==r;)H.push(Q),Q=t.charAt(A),J.test(Q)?A++:(Q=r,le===0&&Pe(Ne));else H=r;return H!==r?I=t.substring(I,A):I=H,le--,I===r&&(H=r,le===0&&Pe(X)),I}function il(){var I,H,Q;for(le++,I=A,H=[],Q=t.charAt(A),q.test(Q)?A++:(Q=r,le===0&&Pe(Me));Q!==r;)H.push(Q),Q=t.charAt(A),q.test(Q)?A++:(Q=r,le===0&&Pe(Me));return I=t.substring(I,A),le--,H=r,le===0&&Pe(ve),I}function ol(){var I,H,Q;return I=A,H=al(),mr(),Q=ln(),Q===r&&(Q=null),mr(),I=hr(H,Q),I}function al(){var I,H,Q,Ie;for(I=A,H=xs(),H===r&&(H=null),Q=[],Ie=ll();Ie!==r;)Q.push(Ie),Ie=ll();return I=it(H,Q),I}function ll(){var I,H,Q,Ie,Re,ct,Hr,Jn;if(I=A,mr(),At(),mr(),H=Oc(),H!==r){for(Q=Po(),Q===r&&(Q=null),Ie=[],Re=Oo();Re!==r;)Ie.push(Re),Re=Oo();for(Re=mr(),ct=xs(),ct===r&&(ct=null),Hr=[],Jn=ni();Jn!==r;)Hr.push(Jn),Jn=ni();I=Ct(H,Q,Ie,ct,Hr)}else A=I,I=r;return I}function At(){var I,H,Q,Ie,Re,ct;for(le++,I=A,H=[],Q=t.charAt(A),U.test(Q)?A++:(Q=r,le===0&&Pe(Ve));Q!==r;)H.push(Q),Q=t.charAt(A),U.test(Q)?A++:(Q=r,le===0&&Pe(Ve));if(t.charCodeAt(A)===46?(Q=m,A++):(Q=r,le===0&&Pe(We)),Q!==r){for(Ie=mr(),Re=[],ct=t.charAt(A),te.test(ct)?A++:(ct=r,le===0&&Pe(Le));ct!==r;)Re.push(ct),ct=t.charAt(A),te.test(ct)?A++:(ct=r,le===0&&Pe(Le));H=[H,Q,Ie,Re],I=H}else A=I,I=r;return le--,I===r&&(H=r,le===0&&Pe(Ke)),I}function Oc(){var I,H,Q,Ie,Re,ct;if(le++,I=A,H=A,t.substr(A,5)===g?(Q=g,A+=5):(Q=r,le===0&&Pe(dr)),Q===r&&(t.substr(A,3)===y?(Q=y,A+=3):(Q=r,le===0&&Pe(Qt)),Q===r&&(t.substr(A,5)===x?(Q=x,A+=5):(Q=r,le===0&&Pe(Ot)),Q===r&&(t.substr(A,3)===S?(Q=S,A+=3):(Q=r,le===0&&Pe(br)),Q===r))))if(Q=A,Ie=t.charAt(A),J.test(Ie)?A++:(Ie=r,le===0&&Pe(Ne)),Ie!==r){if(Re=[],ct=t.charAt(A),Z.test(ct)?A++:(ct=r,le===0&&Pe(qr)),ct!==r)for(;ct!==r;)Re.push(ct),ct=t.charAt(A),Z.test(ct)?A++:(ct=r,le===0&&Pe(qr));else Re=r;Re!==r?(Ie=[Ie,Re],Q=Ie):(A=Q,Q=r)}else A=Q,Q=r;return Q!==r?(Ie=t.charAt(A),ee.test(Ie)?A++:(Ie=r,le===0&&Pe(mt)),Ie===r&&(Ie=null),Q=[Q,Ie],H=Q):(A=H,H=r),H!==r?I=t.substring(I,A):I=H,le--,I===r&&(H=r,le===0&&Pe(xt)),I}function Po(){var I,H,Q;for(le++,I=A,H=[],Q=t.charAt(A),Y.test(Q)?A++:(Q=r,le===0&&Pe(kt));Q!==r;)H.push(Q),H.length>=2?Q=r:(Q=t.charAt(A),Y.test(Q)?A++:(Q=r,le===0&&Pe(kt)));return H.length<1?(A=I,I=r):I=H,le--,I===r&&(H=r,le===0&&Pe(Te)),I}function Oo(){var I,H,Q,Ie,Re;if(le++,I=A,mr(),t.charCodeAt(A)===36?(H=C,A++):(H=r,le===0&&Pe(Or)),H!==r){if(Q=A,Ie=[],Re=t.charAt(A),U.test(Re)?A++:(Re=r,le===0&&Pe(Ve)),Re!==r)for(;Re!==r;)Ie.push(Re),Re=t.charAt(A),U.test(Re)?A++:(Re=r,le===0&&Pe(Ve));else Ie=r;Ie!==r?Q=t.substring(Q,A):Q=Ie,Q!==r?I=Et(Q):(A=I,I=r)}else A=I,I=r;return le--,I===r&&le===0&&Pe(Sr),I}function xs(){var I;return I=jc(),I===r&&(I=ul()),I}function jc(){var I,H,Q,Ie,Re;if(le++,I=A,t.charCodeAt(A)===123?(H=_,A++):(H=r,le===0&&Pe(P)),H!==r){for(Q=A,Ie=[],Re=t.charAt(A),_e.test(Re)?A++:(Re=r,le===0&&Pe(F));Re!==r;)Ie.push(Re),Re=t.charAt(A),_e.test(Re)?A++:(Re=r,le===0&&Pe(F));Q=t.substring(Q,A),t.charCodeAt(A)===125?(Ie=k,A++):(Ie=r,le===0&&Pe(G)),Ie!==r?I=fe(Q):(A=I,I=r)}else A=I,I=r;return le--,I===r&&(H=r,le===0&&Pe(rr)),I}function ul(){var I,H,Q,Ie,Re;if(le++,I=A,t.charCodeAt(A)===59?(H=N,A++):(H=r,le===0&&Pe(pe)),H!==r){for(Q=A,Ie=[],Re=t.charAt(A),de.test(Re)?A++:(Re=r,le===0&&Pe(ie));Re!==r;)Ie.push(Re),Re=t.charAt(A),de.test(Re)?A++:(Re=r,le===0&&Pe(ie));Q=t.substring(Q,A),I=me(Q)}else A=I,I=r;return le--,I===r&&(H=r,le===0&&Pe(ge)),I}function ni(){var I,H,Q,Ie;return le++,I=A,mr(),t.charCodeAt(A)===40?(H=T,A++):(H=r,le===0&&Pe(Ge)),H!==r?(Q=al(),Q!==r?(mr(),t.charCodeAt(A)===41?(Ie=R,A++):(Ie=r,le===0&&Pe(lt)),Ie!==r?I=Ae(Q):(A=I,I=r)):(A=I,I=r)):(A=I,I=r),le--,I===r&&le===0&&Pe(ye),I}function ln(){var I,H,Q;return le++,I=A,t.substr(A,3)===M?(H=M,A+=3):(H=r,le===0&&Pe(jr)),H===r&&(t.substr(A,3)===$?(H=$,A+=3):(H=r,le===0&&Pe(Wr)),H===r&&(t.substr(A,7)===K?(H=K,A+=7):(H=r,le===0&&Pe(Tt)),H===r&&(t.charCodeAt(A)===42?(H=B,A++):(H=r,le===0&&Pe(sn))))),H!==r?(mr(),Q=xs(),Q===r&&(Q=null),I=Be(H,Q)):(A=I,I=r),le--,I===r&&(H=r,le===0&&Pe(ft)),I}function mr(){var I,H;for(le++,I=[],H=t.charAt(A),be.test(H)?A++:(H=r,le===0&&Pe(_r));H!==r;)I.push(H),H=t.charAt(A),be.test(H)?A++:(H=r,le===0&&Pe(_r));return le--,H=r,le===0&&Pe(fr),I}if(nr=a(),e.peg$library)return{peg$result:nr,peg$currPos:A,peg$FAILED:r,peg$maxFailExpected:Bt,peg$maxFailPos:rt};if(nr!==r&&A===t.length)return nr;throw nr!==r&&A<t.length&&Pe(Xn()),nl(Bt,rt<t.length?t.charAt(rt):null,rt<t.length?rl(rt,rt+1):rl(rt,rt))}const Eu=0xffffffffffffffffn;function Rf(t,e){return(t<<e|t>>64n-e)&0xffffffffffffffffn}function y0(t,e){return t*e&Eu}function W5(t){return function(){let e=BigInt(t&Eu),r=BigInt(t>>64n&Eu);const s=y0(Rf(y0(e,5n),7n),9n);return r^=e,e=(Rf(e,24n)^r^r<<16n)&Eu,r=Rf(r,37n),t=r<<64n|e,s}}const Sc=W5(0xa187eb39cdcaed8f31c4b365b102e01en),H5=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Sc()))),Q5=Array.from({length:8},()=>Sc()),K5=Array.from({length:16},()=>Sc()),If=Sc(),Nr="w",Yr="b",Gt="p",Sh="n",Nu="b",Sa="r",qs="q",Jt="k",Af="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class mu{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(e,r){const{color:s,piece:o,from:a,to:u,flags:d,captured:h,promotion:m}=r,g=lr(a),y=lr(u);this.color=s,this.piece=o,this.from=g,this.to=y,this.san=e._moveToSan(r,e._moves({legal:!0})),this.lan=g+y,this.before=e.fen(),e._makeMove(r),this.after=e.fen(),e._undoMove(),this.flags="";for(const x in Qe)Qe[x]&d&&(this.flags+=gi[x]);h&&(this.captured=h),m&&(this.promotion=m,this.lan+=m)}isCapture(){return this.flags.indexOf(gi.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(gi.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(gi.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(gi.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(gi.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(gi.BIG_PAWN)>-1}}const yr=-1,gi={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},Qe={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},_h={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},G5={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},Z5={..._h,...G5},Ue={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Mf={b:[16,32,17,15],w:[-16,-32,-17,-15]},x0={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},Y5=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],X5=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],J5={p:1,n:2,b:4,r:8,q:16,k:32},eO="pnbrqkPNBRQK",w0=[Sh,Nu,Sa,qs],tO=7,rO=6,nO=1,sO=0,gu={[Jt]:Qe.KSIDE_CASTLE,[qs]:Qe.QSIDE_CASTLE},Vs={w:[{square:Ue.a1,flag:Qe.QSIDE_CASTLE},{square:Ue.h1,flag:Qe.KSIDE_CASTLE}],b:[{square:Ue.a8,flag:Qe.QSIDE_CASTLE},{square:Ue.h8,flag:Qe.KSIDE_CASTLE}]},iO={b:nO,w:rO},Lf="--";function bi(t){return t>>4}function Qa(t){return t&15}function Vw(t){return"0123456789".indexOf(t)!==-1}function lr(t){const e=Qa(t),r=bi(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(r,r+1)}function pa(t){return t===Nr?Yr:Nr}function oO(t){const e=t.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const r=parseInt(e[5],10);if(isNaN(r)||r<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const s=parseInt(e[4],10);if(isNaN(s)||s<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const o=e[0].split("/");if(o.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let u=0;u<o.length;u++){let d=0,h=!1;for(let m=0;m<o[u].length;m++)if(Vw(o[u][m])){if(h)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};d+=parseInt(o[u][m],10),h=!0}else{if(!/^[prnbqkPRNBQK]$/.test(o[u][m]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};d+=1,h=!1}if(d!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const a=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:u,regex:d}of a){if(!d.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${u} king`};if((e[0].match(d)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${u} kings`}}return Array.from(o[0]+o[7]).some(u=>u.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function aO(t,e){const r=t.from,s=t.to,o=t.piece;let a=0,u=0,d=0;for(let h=0,m=e.length;h<m;h++){const g=e[h].from,y=e[h].to,x=e[h].piece;o===x&&r!==g&&s===y&&(a++,bi(r)===bi(g)&&u++,Qa(r)===Qa(g)&&d++)}return a>0?u>0&&d>0?lr(r):d>0?lr(r).charAt(1):lr(r).charAt(0):""}function Bs(t,e,r,s,o,a=void 0,u=Qe.NORMAL){const d=bi(s);if(o===Gt&&(d===tO||d===sO))for(let h=0;h<w0.length;h++){const m=w0[h];t.push({color:e,from:r,to:s,piece:o,captured:a,promotion:m,flags:u|Qe.PROMOTION})}else t.push({color:e,from:r,to:s,piece:o,captured:a,flags:u})}function b0(t){let e=t.charAt(0);return e>="a"&&e<="h"?t.match(/[a-h]\d.*[a-h]\d/)?void 0:Gt:(e=e.toLowerCase(),e==="o"?Jt:e)}function Ff(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class so{_board=new Array(128);_turn=Nr;_header={};_kings={w:yr,b:yr};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_hash=0n;_positionCount=new Map;constructor(e=Af,{skipValidation:r=!1}={}){this.load(e,{skipValidation:r})}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:yr,b:yr},this._turn=Nr,this._castling={w:0,b:0},this._epSquare=yr,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{...Z5},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(e,{skipValidation:r=!1,preserveHeaders:s=!1}={}){let o=e.split(/\s+/);if(o.length>=2&&o.length<6){const d=["-","-","0","1"];e=o.concat(d.slice(-(6-o.length))).join(" ")}if(o=e.split(/\s+/),!r){const{ok:d,error:h}=oO(e);if(!d)throw new Error(h)}const a=o[0];let u=0;this.clear({preserveHeaders:s});for(let d=0;d<a.length;d++){const h=a.charAt(d);if(h==="/")u+=8;else if(Vw(h))u+=parseInt(h,10);else{const m=h<"a"?Nr:Yr;this._put({type:h.toLowerCase(),color:m},lr(u)),u++}}this._turn=o[1],o[2].indexOf("K")>-1&&(this._castling.w|=Qe.KSIDE_CASTLE),o[2].indexOf("Q")>-1&&(this._castling.w|=Qe.QSIDE_CASTLE),o[2].indexOf("k")>-1&&(this._castling.b|=Qe.KSIDE_CASTLE),o[2].indexOf("q")>-1&&(this._castling.b|=Qe.QSIDE_CASTLE),this._epSquare=o[3]==="-"?yr:Ue[o[3]],this._halfMoves=parseInt(o[4],10),this._moveNumber=parseInt(o[5],10),this._hash=this._computeHash(),this._updateSetup(e),this._incPositionCount()}fen({forceEnpassantSquare:e=!1}={}){let r=0,s="";for(let u=Ue.a8;u<=Ue.h1;u++){if(this._board[u]){r>0&&(s+=r,r=0);const{color:d,type:h}=this._board[u];s+=d===Nr?h.toUpperCase():h.toLowerCase()}else r++;u+1&136&&(r>0&&(s+=r),u!==Ue.h1&&(s+="/"),r=0,u+=8)}let o="";this._castling[Nr]&Qe.KSIDE_CASTLE&&(o+="K"),this._castling[Nr]&Qe.QSIDE_CASTLE&&(o+="Q"),this._castling[Yr]&Qe.KSIDE_CASTLE&&(o+="k"),this._castling[Yr]&Qe.QSIDE_CASTLE&&(o+="q"),o=o||"-";let a="-";if(this._epSquare!==yr)if(e)a=lr(this._epSquare);else{const u=this._epSquare+(this._turn===Nr?16:-16),d=[u+1,u-1];for(const h of d){if(h&136)continue;const m=this._turn;if(this._board[h]?.color===m&&this._board[h]?.type===Gt){this._makeMove({color:m,from:h,to:this._epSquare,piece:Gt,captured:Gt,flags:Qe.EP_CAPTURE});const g=!this._isKingAttacked(m);if(this._undoMove(),g){a=lr(this._epSquare);break}}}}return[s,this._turn,o,a,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(e){if(!this._board[e])return 0n;const{color:r,type:s}=this._board[e],o={w:0,b:1}[r],a={p:0,n:1,b:2,r:3,q:4,k:5}[s];return H5[o][a][e]}_epKey(){return this._epSquare===yr?0n:Q5[this._epSquare&7]}_castlingKey(){const e=this._castling.w>>5|this._castling.b>>3;return K5[e]}_computeHash(){let e=0n;for(let r=Ue.a8;r<=Ue.h1;r++){if(r&136){r+=7;continue}this._board[r]&&(e^=this._pieceKey(r))}return e^=this._epKey(),e^=this._castlingKey(),this._turn==="b"&&(e^=If),e}_updateSetup(e){this._history.length>0||(e!==Af?(this._header.SetUp="1",this._header.FEN=e):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Af)}get(e){return this._board[Ue[e]]}findPiece(e){const r=[];for(let s=Ue.a8;s<=Ue.h1;s++){if(s&136){s+=7;continue}!this._board[s]||this._board[s]?.color!==e.color||this._board[s].color===e.color&&this._board[s].type===e.type&&r.push(lr(s))}return r}put({type:e,color:r},s){return this._put({type:e,color:r},s)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(e,r){this._hash^=this._pieceKey(e),this._board[e]=r,this._hash^=this._pieceKey(e)}_put({type:e,color:r},s){if(eO.indexOf(e.toLowerCase())===-1||!(s in Ue))return!1;const o=Ue[s];if(e==Jt&&!(this._kings[r]==yr||this._kings[r]==o))return!1;const a=this._board[o];return a&&a.type===Jt&&(this._kings[a.color]=yr),this._set(o,{type:e,color:r}),e===Jt&&(this._kings[r]=o),!0}_clear(e){this._hash^=this._pieceKey(e),delete this._board[e]}remove(e){const r=this.get(e);return this._clear(Ue[e]),r&&r.type===Jt&&(this._kings[r.color]=yr),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),r}_updateCastlingRights(){this._hash^=this._castlingKey();const e=this._board[Ue.e1]?.type===Jt&&this._board[Ue.e1]?.color===Nr,r=this._board[Ue.e8]?.type===Jt&&this._board[Ue.e8]?.color===Yr;(!e||this._board[Ue.a1]?.type!==Sa||this._board[Ue.a1]?.color!==Nr)&&(this._castling.w&=-65),(!e||this._board[Ue.h1]?.type!==Sa||this._board[Ue.h1]?.color!==Nr)&&(this._castling.w&=-33),(!r||this._board[Ue.a8]?.type!==Sa||this._board[Ue.a8]?.color!==Yr)&&(this._castling.b&=-65),(!r||this._board[Ue.h8]?.type!==Sa||this._board[Ue.h8]?.color!==Yr)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){if(this._epSquare===yr)return;const e=this._epSquare+(this._turn===Nr?-16:16),r=this._epSquare+(this._turn===Nr?16:-16),s=[r+1,r-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||this._board[r]?.color!==pa(this._turn)||this._board[r]?.type!==Gt){this._hash^=this._epKey(),this._epSquare=yr;return}const o=a=>!(a&136)&&this._board[a]?.color===this._turn&&this._board[a]?.type===Gt;s.some(o)||(this._hash^=this._epKey(),this._epSquare=yr)}_attacked(e,r,s){const o=[];for(let a=Ue.a8;a<=Ue.h1;a++){if(a&136){a+=7;continue}if(this._board[a]===void 0||this._board[a].color!==e)continue;const u=this._board[a],d=a-r;if(d===0)continue;const h=d+119;if(Y5[h]&J5[u.type]){if(u.type===Gt){if(d>0&&u.color===Nr||d<=0&&u.color===Yr)if(s)o.push(lr(a));else return!0;continue}if(u.type==="n"||u.type==="k")if(s){o.push(lr(a));continue}else return!0;const m=X5[h];let g=a+m,y=!1;for(;g!==r;){if(this._board[g]!=null){y=!0;break}g+=m}if(!y)if(s){o.push(lr(a));continue}else return!0}}return s?o:!1}attackers(e,r){return r?this._attacked(r,Ue[e],!0):this._attacked(this._turn,Ue[e],!0)}_isKingAttacked(e){const r=this._kings[e];return r===-1?!1:this._attacked(pa(e),r)}hash(){return this._hash.toString(16)}isAttacked(e,r){return this._attacked(r,Ue[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},r=[];let s=0,o=0;for(let a=Ue.a8;a<=Ue.h1;a++){if(o=(o+1)%2,a&136){a+=7;continue}const u=this._board[a];u&&(e[u.type]=u.type in e?e[u.type]+1:1,u.type===Nu&&r.push(o),s++)}if(s===2)return!0;if(s===3&&(e[Nu]===1||e[Sh]===1))return!0;if(s===e[Nu]+2){let a=0;const u=r.length;for(let d=0;d<u;d++)a+=r[d];if(a===0||a===u)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:e=!1,square:r=void 0,piece:s=void 0}={}){const o=this._moves({square:r,piece:s});return e?o.map(a=>new mu(this,a)):o.map(a=>this._moveToSan(a,o))}_moves({legal:e=!0,piece:r=void 0,square:s=void 0}={}){const o=s?s.toLowerCase():void 0,a=r?.toLowerCase(),u=[],d=this._turn,h=pa(d);let m=Ue.a8,g=Ue.h1,y=!1;if(o)if(o in Ue)m=g=Ue[o],y=!0;else return[];for(let S=m;S<=g;S++){if(S&136){S+=7;continue}if(!this._board[S]||this._board[S].color===h)continue;const{type:C}=this._board[S];let _;if(C===Gt){if(a&&a!==C)continue;_=S+Mf[d][0],this._board[_]||(Bs(u,d,S,_,Gt),_=S+Mf[d][1],iO[d]===bi(S)&&!this._board[_]&&Bs(u,d,S,_,Gt,void 0,Qe.BIG_PAWN));for(let k=2;k<4;k++)_=S+Mf[d][k],!(_&136)&&(this._board[_]?.color===h?Bs(u,d,S,_,Gt,this._board[_].type,Qe.CAPTURE):_===this._epSquare&&Bs(u,d,S,_,Gt,Gt,Qe.EP_CAPTURE))}else{if(a&&a!==C)continue;for(let k=0,N=x0[C].length;k<N;k++){const T=x0[C][k];for(_=S;_+=T,!(_&136);){if(!this._board[_])Bs(u,d,S,_,C);else{if(this._board[_].color===d)break;Bs(u,d,S,_,C,this._board[_].type,Qe.CAPTURE);break}if(C===Sh||C===Jt)break}}}}if((a===void 0||a===Jt)&&(!y||g===this._kings[d])){if(this._castling[d]&Qe.KSIDE_CASTLE){const S=this._kings[d],C=S+2;!this._board[S+1]&&!this._board[C]&&!this._attacked(h,this._kings[d])&&!this._attacked(h,S+1)&&!this._attacked(h,C)&&Bs(u,d,this._kings[d],C,Jt,void 0,Qe.KSIDE_CASTLE)}if(this._castling[d]&Qe.QSIDE_CASTLE){const S=this._kings[d],C=S-2;!this._board[S-1]&&!this._board[S-2]&&!this._board[S-3]&&!this._attacked(h,this._kings[d])&&!this._attacked(h,S-1)&&!this._attacked(h,C)&&Bs(u,d,this._kings[d],C,Jt,void 0,Qe.QSIDE_CASTLE)}}if(!e||this._kings[d]===-1)return u;const x=[];for(let S=0,C=u.length;S<C;S++)this._makeMove(u[S]),this._isKingAttacked(d)||x.push(u[S]),this._undoMove();return x}move(e,{strict:r=!1}={}){let s=null;if(typeof e=="string")s=this._moveFromSan(e,r);else if(e===null)s=this._moveFromSan(Lf,r);else if(typeof e=="object"){const a=this._moves();for(let u=0,d=a.length;u<d;u++)if(e.from===lr(a[u].from)&&e.to===lr(a[u].to)&&(!("promotion"in a[u])||e.promotion===a[u].promotion)){s=a[u];break}}if(!s)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);if(this.isCheck()&&s.flags&Qe.NULL_MOVE)throw new Error("Null move not allowed when in check");const o=new mu(this,s);return this._makeMove(s),this._incPositionCount(),o}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(e,r){this._hash^=this._pieceKey(e),this._board[r]=this._board[e],delete this._board[e],this._hash^=this._pieceKey(r)}_makeMove(e){const r=this._turn,s=pa(r);if(this._push(e),e.flags&Qe.NULL_MOVE){r===Yr&&this._moveNumber++,this._halfMoves++,this._turn=s,this._epSquare=yr;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),e.captured&&(this._hash^=this._pieceKey(e.to)),this._movePiece(e.from,e.to),e.flags&Qe.EP_CAPTURE&&(this._turn===Yr?this._clear(e.to-16):this._clear(e.to+16)),e.promotion&&(this._clear(e.to),this._set(e.to,{type:e.promotion,color:r})),this._board[e.to].type===Jt){if(this._kings[r]=e.to,e.flags&Qe.KSIDE_CASTLE){const o=e.to-1,a=e.to+1;this._movePiece(a,o)}else if(e.flags&Qe.QSIDE_CASTLE){const o=e.to+1,a=e.to-2;this._movePiece(a,o)}this._castling[r]=0}if(this._castling[r]){for(let o=0,a=Vs[r].length;o<a;o++)if(e.from===Vs[r][o].square&&this._castling[r]&Vs[r][o].flag){this._castling[r]^=Vs[r][o].flag;break}}if(this._castling[s]){for(let o=0,a=Vs[s].length;o<a;o++)if(e.to===Vs[s][o].square&&this._castling[s]&Vs[s][o].flag){this._castling[s]^=Vs[s][o].flag;break}}if(this._hash^=this._castlingKey(),e.flags&Qe.BIG_PAWN){let o;r===Yr?o=e.to-16:o=e.to+16,!(e.to-1&136)&&this._board[e.to-1]?.type===Gt&&this._board[e.to-1]?.color===s||!(e.to+1&136)&&this._board[e.to+1]?.type===Gt&&this._board[e.to+1]?.color===s?(this._epSquare=o,this._hash^=this._epKey()):this._epSquare=yr}else this._epSquare=yr;e.piece===Gt?this._halfMoves=0:e.flags&(Qe.CAPTURE|Qe.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,r===Yr&&this._moveNumber++,this._turn=s,this._hash^=If}undo(){const e=this._hash,r=this._undoMove();if(r){const s=new mu(this,r);return this._decPositionCount(e),s}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const r=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=If;const s=this._turn,o=pa(s);if(r.flags&Qe.NULL_MOVE)return r;if(this._movePiece(r.to,r.from),r.piece&&(this._clear(r.from),this._set(r.from,{type:r.piece,color:s})),r.captured)if(r.flags&Qe.EP_CAPTURE){let a;s===Yr?a=r.to-16:a=r.to+16,this._set(a,{type:Gt,color:o})}else this._set(r.to,{type:r.captured,color:o});if(r.flags&(Qe.KSIDE_CASTLE|Qe.QSIDE_CASTLE)){let a,u;r.flags&Qe.KSIDE_CASTLE?(a=r.to+1,u=r.to-1):(a=r.to-2,u=r.to+1),this._movePiece(u,a)}return r}pgn({newline:e=`
`,maxWidth:r=0}={}){const s=[];let o=!1;for(const x in this._header)this._header[x]&&s.push(`[${x} "${this._header[x]}"]`+e),o=!0;o&&this._history.length&&s.push(e);const a=x=>{const S=this._comments[this.fen()];if(typeof S<"u"){const C=x.length>0?" ":"";x=`${x}${C}{${S}}`}return x},u=[];for(;this._history.length>0;)u.push(this._undoMove());const d=[];let h="";for(u.length===0&&d.push(a(""));u.length>0;){h=a(h);const x=u.pop();if(!x)break;if(!this._history.length&&x.color==="b"){const S=`${this._moveNumber}. ...`;h=h?`${h} ${S}`:S}else x.color==="w"&&(h.length&&d.push(h),h=this._moveNumber+".");h=h+" "+this._moveToSan(x,this._moves({legal:!0})),this._makeMove(x)}if(h.length&&d.push(a(h)),d.push(this._header.Result||"*"),r===0)return s.join("")+d.join(" ");const m=function(){return s.length>0&&s[s.length-1]===" "?(s.pop(),!0):!1},g=function(x,S){for(const C of S.split(" "))if(C){if(x+C.length>r){for(;m();)x--;s.push(e),x=0}s.push(C),x+=C.length,s.push(" "),x++}return m()&&x--,x};let y=0;for(let x=0;x<d.length;x++){if(y+d[x].length>r&&d[x].includes("{")){y=g(y,d[x]);continue}y+d[x].length>r&&x!==0?(s[s.length-1]===" "&&s.pop(),s.push(e),y=0):x!==0&&(s.push(" "),y++),s.push(d[x]),y+=d[x].length}return s.join("")}header(...e){for(let r=0;r<e.length;r+=2)typeof e[r]=="string"&&typeof e[r+1]=="string"&&(this._header[e[r]]=e[r+1]);return this._header}setHeader(e,r){return this._header[e]=r??_h[e]??null,this.getHeaders()}removeHeader(e){return e in this._header?(this._header[e]=_h[e]||null,!0):!1}getHeaders(){const e={};for(const[r,s]of Object.entries(this._header))s!==null&&(e[r]=s);return e}loadPgn(e,{strict:r=!1,newlineChar:s=`\r?
`}={}){s!==`\r?
`&&(e=e.replace(new RegExp(s,"g"),`
`));const o=q5(e);this.reset();const a=o.headers;let u="";for(const m in a)m.toLowerCase()==="fen"&&(u=a[m]),this.header(m,a[m]);if(!r)u&&this.load(u,{preserveHeaders:!0});else if(a.SetUp==="1"){if(!("FEN"in a))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(a.FEN,{preserveHeaders:!0})}let d=o.root;for(;d;){if(d.move){const m=this._moveFromSan(d.move,r);if(m==null)throw new Error(`Invalid move in PGN: ${d.move}`);this._makeMove(m),this._incPositionCount()}d.comment!==void 0&&(this._comments[this.fen()]=d.comment),d=d.variations[0]}const h=o.result;h&&Object.keys(this._header).length&&this._header.Result!==h&&this.setHeader("Result",h)}_moveToSan(e,r){let s="";if(e.flags&Qe.KSIDE_CASTLE)s="O-O";else if(e.flags&Qe.QSIDE_CASTLE)s="O-O-O";else{if(e.flags&Qe.NULL_MOVE)return Lf;if(e.piece!==Gt){const o=aO(e,r);s+=e.piece.toUpperCase()+o}e.flags&(Qe.CAPTURE|Qe.EP_CAPTURE)&&(e.piece===Gt&&(s+=lr(e.from)[0]),s+="x"),s+=lr(e.to),e.promotion&&(s+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?s+="#":s+="+"),this._undoMove(),s}_moveFromSan(e,r=!1){let s=Ff(e);if(r||(s==="0-0"?s="O-O":s==="0-0-0"&&(s="O-O-O")),s==Lf)return{color:this._turn,from:0,to:0,piece:"k",flags:Qe.NULL_MOVE};let o=b0(s),a=this._moves({legal:!0,piece:o});for(let x=0,S=a.length;x<S;x++)if(s===Ff(this._moveToSan(a[x],a)))return a[x];if(r)return null;let u,d,h,m,g,y=!1;if(d=s.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),d?(u=d[1],h=d[2],m=d[3],g=d[4],h.length==1&&(y=!0)):(d=s.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),d&&(u=d[1],h=d[2],m=d[3],g=d[4],h.length==1&&(y=!0))),o=b0(s),a=this._moves({legal:!0,piece:u||o}),!m)return null;for(let x=0,S=a.length;x<S;x++)if(h){if((!u||u.toLowerCase()==a[x].piece)&&Ue[h]==a[x].from&&Ue[m]==a[x].to&&(!g||g.toLowerCase()==a[x].promotion))return a[x];if(y){const C=lr(a[x].from);if((!u||u.toLowerCase()==a[x].piece)&&Ue[m]==a[x].to&&(h==C[0]||h==C[1])&&(!g||g.toLowerCase()==a[x].promotion))return a[x]}}else if(s===Ff(this._moveToSan(a[x],a)).replace("x",""))return a[x];return null}ascii(){let e=`   +------------------------+
`;for(let r=Ue.a8;r<=Ue.h1;r++){if(Qa(r)===0&&(e+=" "+"87654321"[bi(r)]+" |"),this._board[r]){const s=this._board[r].type,a=this._board[r].color===Nr?s.toUpperCase():s.toLowerCase();e+=" "+a+" "}else e+=" . ";r+1&136&&(e+=`|
`,r+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const r=this._moves({legal:!1});let s=0;const o=this._turn;for(let a=0,u=r.length;a<u;a++)this._makeMove(r[a]),this._isKingAttacked(o)||(e-1>0?s+=this.perft(e-1):s++),this._undoMove();return s}setTurn(e){return this._turn==e?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const e=[];let r=[];for(let s=Ue.a8;s<=Ue.h1;s++)this._board[s]==null?r.push(null):r.push({square:lr(s),type:this._board[s].type,color:this._board[s].color}),s+1&136&&(e.push(r),r=[],s+=8);return e}squareColor(e){if(e in Ue){const r=Ue[e];return(bi(r)+Qa(r))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const r=[],s=[];for(;this._history.length>0;)r.push(this._undoMove());for(;;){const o=r.pop();if(!o)break;e?s.push(new mu(this,o)):s.push(this._moveToSan(o,this._moves())),this._makeMove(o)}return s}_getPositionCount(e){return this._positionCount.get(e)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(e){const r=this._positionCount.get(e)??0;r===1?this._positionCount.delete(e):this._positionCount.set(e,r-1)}_pruneComments(){const e=[],r={},s=o=>{o in this._comments&&(r[o]=this._comments[o])};for(;this._history.length>0;)e.push(this._undoMove());for(s(this.fen());;){const o=e.pop();if(!o)break;this._makeMove(o),s(this.fen())}this._comments=r}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const r=this._comments[e];return delete this._comments[e],{fen:e,comment:r}})}setCastlingRights(e,r){for(const o of[Jt,qs])r[o]!==void 0&&(r[o]?this._castling[e]|=gu[o]:this._castling[e]&=~gu[o]);this._updateCastlingRights();const s=this.getCastlingRights(e);return(r[Jt]===void 0||r[Jt]===s[Jt])&&(r[qs]===void 0||r[qs]===s[qs])}getCastlingRights(e){return{[Jt]:(this._castling[e]&gu[Jt])!==0,[qs]:(this._castling[e]&gu[qs])!==0}}moveNumber(){return this._moveNumber}}const lO={};function Bw(t,e){const[r,s]=w.useState(null),[o,a]=w.useState(!1),[u,d]=w.useState(null),{toast:h}=ei(),[m,g]=w.useState(0),y=w.useRef(null),x=w.useRef(null);return w.useEffect(()=>{if(!e||!t)return;let C=null,_,k=!1;const N=window.location.protocol==="https:"?"wss:":"ws:",R=lO?.VITE_WS_URL||`${N}//${window.location.host}/ws`;return C=new WebSocket(R),C.onopen=()=>{a(!0),y.current=Date.now(),C?.send(JSON.stringify({type:"auth",userId:e.id})),x.current!=null&&window.clearInterval(x.current),x.current=window.setInterval(()=>{if(!C||C.readyState!==WebSocket.OPEN)return;C.send(JSON.stringify({type:"ping"}));const $=Date.now();y.current&&$-y.current>3e4&&C.close()},1e4)},C.onmessage=$=>{try{const K=JSON.parse($.data);if(K.type==="pong"){y.current=Date.now();return}d(K),K.type==="opponent_joined"&&h({title:"i th  kt ni",description:`${K.username}  tham gia vn u!`})}catch(K){console.error("Failed to parse WS message",K)}},C.onclose=()=>{if(a(!1),s(null),x.current!=null&&(window.clearInterval(x.current),x.current=null),k)return;const $=1e3,K=3e4,B=m+1,J=Math.min($*Math.pow(2,B),K),q=Math.random()*500;_=window.setTimeout(()=>{g(B)},J+q)},C.onerror=$=>{console.error("WebSocket error:",$),h({title:"Li kt ni",description:"Mt kt ni vi my ch vn u.",variant:"destructive"})},s(C),()=>{k=!0,x.current!=null&&(window.clearInterval(x.current),x.current=null),_!==void 0&&window.clearTimeout(_),C&&C.readyState===WebSocket.OPEN&&C.close()}},[t,e,h,m]),{isConnected:o,lastMessage:u,send:C=>{r&&r.readyState===WebSocket.OPEN?r.send(JSON.stringify(C)):console.warn("WebSocket is not open. Message not sent.")}}}const uO="https://cdn.jsdelivr.net/npm/stockfish@15.0.0/src/stockfish.min.js";let ma=null;function cO(){return ma||(ma=fetch(uO).then(t=>t.blob()).then(t=>URL.createObjectURL(t)).catch(t=>{throw console.error("Failed to load Stockfish",t),ma=null,t}),ma)}function dO(t,e=10){const[r,s]=w.useState(null),[o,a]=w.useState("0.0"),[u,d]=w.useState(!1),h=w.useRef(null),m=w.useRef("w");w.useEffect(()=>{let y=!1;return cO().then(x=>{if(y)return;const S=new Worker(x);S.onmessage=_=>{const k=_.data;if(typeof k=="string"){if(k.startsWith("bestmove")){const N=k.split(" ")[1];N&&(s({from:N.substring(0,2),to:N.substring(2,4)}),d(!1))}else if(k.includes("score cp")){const N=k.match(/score cp (-?\d+)/);if(N){let T=parseInt(N[1])/100;m.current==="b"&&(T=-T),a(T.toFixed(2))}}else if(k.includes("score mate")){const N=k.match(/score mate (-?\d+)/);if(N){let T=parseInt(N[1]);m.current==="b"&&(T=-T),a(T>0?`M${Math.abs(T)}`:`-M${Math.abs(T)}`)}}}};const C=Math.min(4,navigator.hardwareConcurrency||1);S.postMessage("uci"),S.postMessage(`setoption name Threads value ${C}`),S.postMessage("setoption name Hash value 128"),S.postMessage("setoption name MultiPV value 1"),S.postMessage("setoption name Skill Level value 20"),S.postMessage("setoption name UCI_LimitStrength value false"),S.postMessage("setoption name Ponder value false"),S.postMessage("isready"),h.current=S}).catch(x=>console.error("Failed to load Stockfish",x)),()=>{y=!0,h.current?.terminate(),h.current=null}},[]);const g=w.useCallback(y=>{if(!h.current)return;d(!0),s(null);const x=y.split(" ");x.length>1&&(m.current=x[1]),h.current.postMessage(`position fen ${y}`),h.current.postMessage("go movetime 1500")},[]);return{bestMove:r,evaluation:o,isThinking:u,search:g}}const Uw=w.createContext({dragDropManager:void 0});function mn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var S0=typeof Symbol=="function"&&Symbol.observable||"@@observable",_0=function(){return Math.random().toString(36).substring(7).split("").join(".")},C0={INIT:"@@redux/INIT"+_0(),REPLACE:"@@redux/REPLACE"+_0()};function qw(t,e,r){var s;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(mn(0));if(typeof e=="function"&&r===void 0&&(r=e,e=void 0),r!==void 0){if(typeof r!="function")throw new Error(mn(1));return r(qw)(t,e)}if(typeof t!="function")throw new Error(mn(2));var o=t,a=e,u=[],d=u,h=!1;function m(){d===u&&(d=u.slice())}function g(){if(h)throw new Error(mn(3));return a}function y(S){if(typeof S!="function")throw new Error(mn(4));if(h)throw new Error(mn(5));var C=!0;return m(),d.push(S),function(){if(C){if(h)throw new Error(mn(6));C=!1,m();var _=d.indexOf(S);d.splice(_,1),u=null}}}function x(S){if(!(function(k){if(typeof k!="object"||k===null)return!1;for(var N=k;Object.getPrototypeOf(N)!==null;)N=Object.getPrototypeOf(N);return Object.getPrototypeOf(k)===N})(S))throw new Error(mn(7));if(S.type===void 0)throw new Error(mn(8));if(h)throw new Error(mn(9));try{h=!0,a=o(a,S)}finally{h=!1}for(var C=u=d,_=0;_<C.length;_++)(0,C[_])();return S}return x({type:C0.INIT}),(s={dispatch:x,subscribe:y,getState:g,replaceReducer:function(S){if(typeof S!="function")throw new Error(mn(10));o=S,x({type:C0.REPLACE})}})[S0]=function(){var S,C=y;return(S={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(mn(11));function k(){_.next&&_.next(g())}return k(),{unsubscribe:C(k)}}})[S0]=function(){return this},S},s}function Ze(t,e,...r){if(typeof process<"u"&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let s;if(e===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;s=new Error(e.replace(/%s/g,(function(){return r[o++]}))),s.name="Invariant Violation"}throw s.framesToPop=1,s}}function Ww(t){return typeof t=="object"}const dp="dnd-core/INIT_COORDS",fp="dnd-core/BEGIN_DRAG",Hw="dnd-core/PUBLISH_DRAG_SOURCE",_c="dnd-core/HOVER",hp="dnd-core/DROP",pp="dnd-core/END_DRAG";function k0(t,e){return{type:dp,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const fO={type:dp,payload:{clientOffset:null,sourceClientOffset:null}};function hO(t){return function(e=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:o,getSourceClientOffset:a}=r,u=t.getMonitor(),d=t.getRegistry();t.dispatch(k0(o)),(function(x,S,C){Ze(!S.isDragging(),"Cannot call beginDrag while dragging."),x.forEach((function(_){Ze(C.getSource(_),"Expected sourceIds to be registered.")}))})(e,u,d);const h=(function(x,S){let C=null;for(let _=x.length-1;_>=0;_--)if(S.canDragSource(x[_])){C=x[_];break}return C})(e,u);if(h==null)return void t.dispatch(fO);let m=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");(function(x){Ze(typeof x=="function","When clientOffset is provided, getSourceClientOffset must be a function.")})(a),m=a(h)}t.dispatch(k0(o,m));const g=d.getSource(h).beginDrag(u,h);if(g==null)return;(function(x){Ze(Ww(x),"Item must be an object.")})(g),d.pinSource(h);const y=d.getSourceType(h);return{type:fp,payload:{itemType:y,item:g,sourceId:h,clientOffset:o||null,sourceClientOffset:m||null,isSourcePublic:!!s}}}}function pO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})))),s.forEach((function(o){pO(t,o,r[o])}))}return t}function gO(t){return function(e={}){const r=t.getMonitor(),s=t.getRegistry();(function(a){Ze(a.isDragging(),"Cannot call drop while not dragging."),Ze(!a.didDrop(),"Cannot call drop twice during one drag operation.")})(r),(function(a){const u=a.getTargetIds().filter(a.canDropOnTarget,a);return u.reverse(),u})(r).forEach(((a,u)=>{const d=(function(m,g,y,x){const S=y.getTarget(m);let C=S?S.drop(x,m):void 0;return(function(_){Ze(_===void 0||Ww(_),"Drop result must either be an object or undefined.")})(C),C===void 0&&(C=g===0?{}:x.getDropResult()),C})(a,u,s,r),h={type:hp,payload:{dropResult:mO({},e,d)}};t.dispatch(h)}))}}function vO(t){return function(){const e=t.getMonitor(),r=t.getRegistry();(function(o){Ze(o.isDragging(),"Cannot call endDrag while not dragging.")})(e);const s=e.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(e,s),r.unpinSource()),{type:pp}}}function Ch(t,e){return e===null?t===null:Array.isArray(t)?t.some((r=>r===e)):t===e}function yO(t){return function(e,{clientOffset:r}={}){(function(u){Ze(Array.isArray(u),"Expected targetIds to be an array.")})(e);const s=e.slice(0),o=t.getMonitor(),a=t.getRegistry();return(function(u,d,h){for(let m=u.length-1;m>=0;m--){const g=u[m];Ch(d.getTargetType(g),h)||u.splice(m,1)}})(s,a,o.getItemType()),(function(u,d,h){Ze(d.isDragging(),"Cannot call hover while not dragging."),Ze(!d.didDrop(),"Cannot call hover after drop.");for(let m=0;m<u.length;m++){const g=u[m];Ze(u.lastIndexOf(g)===m,"Expected targetIds to be unique in the passed array."),Ze(h.getTarget(g),"Expected targetIds to be registered.")}})(s,o,a),(function(u,d,h){u.forEach((function(m){h.getTarget(m).hover(d,m)}))})(s,o,a),{type:_c,payload:{targetIds:s,clientOffset:r||null}}}}function xO(t){return function(){if(t.getMonitor().isDragging())return{type:Hw}}}class wO{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store,s=(function(o){return{beginDrag:hO(o),publishDragSource:xO(o),hover:yO(o),drop:gO(o),endDrag:vO(o)}})(this);return Object.keys(s).reduce(((o,a)=>{const u=s[a];var d;return o[a]=(d=u,(...h)=>{const m=d.apply(e,h);m!==void 0&&r(m)}),o}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const s=this.store.getState().refCount>0;this.backend&&(s&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!s&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function T0(t,e){return{x:t.x-e.x,y:t.y-e.y}}const Na=[],mp=[];Na.__IS_NONE__=!0,mp.__IS_ALL__=!0;class bO{subscribeToStateChange(e,r={}){const{handlerIds:s}=r;Ze(typeof e=="function","listener must be a function."),Ze(s===void 0||Array.isArray(s),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;return this.store.subscribe((()=>{const a=this.store.getState(),u=a.stateId;try{u===o||u===o+1&&!(function(h,m){return h!==Na&&(h===mp||m===void 0||(g=h,m.filter((y=>g.indexOf(y)>-1))).length>0);var g})(a.dirtyHandlerIds,s)||e()}finally{o=u}}))}subscribeToOffsetChange(e){Ze(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;return this.store.subscribe((()=>{const s=this.store.getState().dragOffset;s!==r&&(r=s,e())}))}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return Ze(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);return Ze(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop()?!1:Ch(this.registry.getTargetType(e),this.getItemType())&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);return Ze(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic()?!1:this.registry.getSourceType(e)===this.getItemType()&&r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:s}=r;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),a=this.getItemType();if(a&&!Ch(o,a))return!1;const u=this.getTargetIds();if(!u.length)return!1;const d=u.indexOf(e);return s?d===u.length-1:d>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return(function(e){const{clientOffset:r,initialClientOffset:s,initialSourceClientOffset:o}=e;return r&&s&&o?T0((u=o,{x:(a=r).x+u.x,y:a.y+u.y}),s):null;var a,u})(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return(function(e){const{clientOffset:r,initialClientOffset:s}=e;return r&&s?T0(r,s):null})(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const E0=typeof global<"u"?global:self,N0=E0.MutationObserver||E0.WebKitMutationObserver;function Qw(t){return function(){const e=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(e),clearInterval(r),t()}}}const SO=typeof N0=="function"?function(t){let e=1;const r=new N0(t),s=document.createTextNode("");return r.observe(s,{characterData:!0}),function(){e=-e,s.data=e}}:Qw;class _O{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}const Kw=new class{enqueueTask(t){const{queue:e,requestFlush:r}=this;e.length||(r(),this.flushing=!0),e[e.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const e=this.index;if(this.index++,t[e].call(),this.index>this.capacity){for(let r=0,s=t.length-this.index;r<s;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=SO(this.flush),this.requestErrorThrow=Qw((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},CO=new class{create(t){const e=this.freeTasks,r=e.length?e.pop():new _O(this.onError,(s=>e[e.length]=s));return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}(Kw.registerPendingError),gp="dnd-core/ADD_SOURCE",vp="dnd-core/ADD_TARGET",yp="dnd-core/REMOVE_SOURCE",Cc="dnd-core/REMOVE_TARGET";function kh(t,e){e&&Array.isArray(t)?t.forEach((r=>kh(r,!1))):Ze(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var vn;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(vn||(vn={}));let kO=0;function TO(t){const e=(kO++).toString();switch(t){case vn.SOURCE:return`S${e}`;case vn.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function P0(t){switch(t[0]){case"S":return vn.SOURCE;case"T":return vn.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function O0(t,e){const r=t.entries();let s=!1;do{const{done:o,value:[,a]}=r.next();if(a===e)return!0;s=!!o}while(!s);return!1}class EO{addSource(e,r){kh(e),(function(o){Ze(typeof o.canDrag=="function","Expected canDrag to be a function."),Ze(typeof o.beginDrag=="function","Expected beginDrag to be a function."),Ze(typeof o.endDrag=="function","Expected endDrag to be a function.")})(r);const s=this.addHandler(vn.SOURCE,e,r);return this.store.dispatch((function(o){return{type:gp,payload:{sourceId:o}}})(s)),s}addTarget(e,r){kh(e,!0),(function(o){Ze(typeof o.canDrop=="function","Expected canDrop to be a function."),Ze(typeof o.hover=="function","Expected hover to be a function."),Ze(typeof o.drop=="function","Expected beginDrag to be a function.")})(r);const s=this.addHandler(vn.TARGET,e,r);return this.store.dispatch((function(o){return{type:vp,payload:{targetId:o}}})(s)),s}containsHandler(e){return O0(this.dragSources,e)||O0(this.dropTargets,e)}getSource(e,r=!1){return Ze(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Ze(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Ze(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Ze(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return P0(e)===vn.SOURCE}isTargetId(e){return P0(e)===vn.TARGET}removeSource(e){var r;Ze(this.getSource(e),"Expected an existing source."),this.store.dispatch((function(s){return{type:yp,payload:{sourceId:s}}})(e)),r=()=>{this.dragSources.delete(e),this.types.delete(e)},Kw.enqueueTask(CO.create(r))}removeTarget(e){Ze(this.getTarget(e),"Expected an existing target."),this.store.dispatch((function(r){return{type:Cc,payload:{targetId:r}}})(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);Ze(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){Ze(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,s){const o=TO(e);return this.types.set(o,r),e===vn.SOURCE?this.dragSources.set(o,s):e===vn.TARGET&&this.dropTargets.set(o,s),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const NO=(t,e)=>t===e;function PO(t=Na,e){switch(e.type){case _c:break;case gp:case vp:case Cc:case yp:return Na;default:return mp}const{targetIds:r=[],prevTargetIds:s=[]}=e.payload,o=(function(d,h){const m=new Map,g=x=>{m.set(x,m.has(x)?m.get(x)+1:1)};d.forEach(g),h.forEach(g);const y=[];return m.forEach(((x,S)=>{x===1&&y.push(S)})),y})(r,s);if(!(o.length>0||!(function(d,h,m=NO){if(d.length!==h.length)return!1;for(let g=0;g<d.length;++g)if(!m(d[g],h[g]))return!1;return!0})(r,s)))return Na;const a=s[s.length-1],u=r[r.length-1];return a!==u&&(a&&o.push(a),u&&o.push(u)),o}function OO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const j0={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function jO(t=j0,e){const{payload:r}=e;switch(e.type){case dp:case fp:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case _c:return s=t.clientOffset,o=r.clientOffset,!s&&!o||s&&o&&s.x===o.x&&s.y===o.y?t:(function(a){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{},h=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(d).filter((function(m){return Object.getOwnPropertyDescriptor(d,m).enumerable})))),h.forEach((function(m){OO(a,m,d[m])}))}return a})({},t,{clientOffset:r.clientOffset});case pp:case hp:return j0;default:return t}var s,o}function DO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})))),s.forEach((function(o){DO(t,o,r[o])}))}return t}const RO={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function IO(t=RO,e){const{payload:r}=e;switch(e.type){case fp:return io({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Hw:return io({},t,{isSourcePublic:!0});case _c:return io({},t,{targetIds:r.targetIds});case Cc:return t.targetIds.indexOf(r.targetId)===-1?t:io({},t,{targetIds:(s=t.targetIds,o=r.targetId,s.filter((a=>a!==o)))});case hp:return io({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case pp:return io({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}var s,o}function AO(t=0,e){switch(e.type){case gp:case vp:return t+1;case yp:case Cc:return t-1;default:return t}}function MO(t=0){return t+1}function LO(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})))),s.forEach((function(o){LO(t,o,r[o])}))}return t}function zO(t={},e){return{dirtyHandlerIds:PO(t.dirtyHandlerIds,{type:e.type,payload:FO({},e.payload,{prevTargetIds:(r=t,s="dragOperation.targetIds",o=[],s.split(".").reduce(((a,u)=>a&&a[u]?a[u]:o||null),r))})}),dragOffset:jO(t.dragOffset,e),refCount:AO(t.refCount,e),dragOperation:IO(t.dragOperation,e),stateId:MO(t.stateId)};var r,s,o}function $O(t,e=void 0,r={},s=!1){const o=(function(h){const m=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return qw(zO,h&&m&&m({name:"dnd-core",instanceId:"dnd-core"}))})(s),a=new bO(o,new EO(o)),u=new wO(o,a),d=t(u,e,r);return u.receiveBackend(d),u}function VO(t,e){if(t==null)return{};var r,s,o=(function(u,d){if(u==null)return{};var h,m,g={},y=Object.keys(u);for(m=0;m<y.length;m++)h=y[m],d.indexOf(h)>=0||(g[h]=u[h]);return g})(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}let D0=0;const vu=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var BO=w.memo((function(t){var{children:e}=t,r=VO(t,["children"]);const[s,o]=(function(a){if("manager"in a)return[{dragDropManager:a.manager},!1];const u=(function(h,m=R0(),g,y){const x=m;return x[vu]||(x[vu]={dragDropManager:$O(h,m,g,y)}),x[vu]})(a.backend,a.context,a.options,a.debugMode),d=!a.context;return[u,d]})(r);return w.useEffect((()=>{if(o){const a=R0();return++D0,()=>{--D0==0&&(a[vu]=null)}}}),[]),f.jsx(Uw.Provider,{value:s,children:e})}));function R0(){return typeof global<"u"?global:window}var UO=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,o,a;if(Array.isArray(e)){if((s=e.length)!=r.length)return!1;for(o=s;o--!=0;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((s=(a=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(o=s;o--!=0;)if(!Object.prototype.hasOwnProperty.call(r,a[o]))return!1;for(o=s;o--!=0;){var u=a[o];if(!t(e[u],r[u]))return!1}return!0}return e!=e&&r!=r};const Ni=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Gw(t,e,r){const[s,o]=w.useState((()=>e(t))),a=w.useCallback((()=>{const u=e(t);UO(s,u)||(o(u),r&&r())}),[s,t,r]);return Ni(a),[s,a]}function Zw(t,e,r){return(function(s,o,a){const[u,d]=Gw(s,o,a);return Ni((function(){const h=s.getHandlerId();if(h!=null)return s.subscribeToStateChange(d,{handlerIds:[h]})}),[s,d]),u})(e,t||(()=>({})),(()=>r.reconnect()))}function Yw(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),w.useMemo((()=>typeof t=="function"?t():t),r)}function qO(t){return w.useMemo((()=>t.hooks.dragSource()),[t])}function WO(t){return w.useMemo((()=>t.hooks.dragPreview()),[t])}let zf=!1,$f=!1;class HO{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Ze(!zf,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return zf=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{zf=!1}}isDragging(){if(!this.sourceId)return!1;Ze(!$f,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return $f=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{$f=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Vf=!1;class QO{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;Ze(!Vf,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Vf=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Vf=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Th(t,e,r,s){let o;if(o!==void 0)return!!o;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const a=Object.keys(t),u=Object.keys(e);if(a.length!==u.length)return!1;const d=Object.prototype.hasOwnProperty.bind(e);for(let h=0;h<a.length;h++){const m=a[h];if(!d(m))return!1;const g=t[m],y=e[m];if(o=void 0,o===!1||o===void 0&&g!==y)return!1}return!0}function Eh(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function KO(t){return(e=null,r=null)=>{if(!w.isValidElement(e)){const o=e;return t(o,r),o}const s=e;return(function(o){if(typeof o.type=="string")return;const a=o.type.displayName||o.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${a} into a <div>, or turn it into a drag source or a drop target itself.`)})(s),(function(o,a){const u=o.ref;return Ze(typeof u!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),w.cloneElement(o,u?{ref:d=>{I0(u,d),I0(a,d)}}:{ref:a})})(s,r?o=>t(o,r):t)}}function Xw(t){const e={};return Object.keys(t).forEach((r=>{const s=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const o=KO(s);e[r]=()=>o}})),e}function I0(t,e){typeof t=="function"?t(e):t.current=e}class GO{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,s=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();s&&this.disconnectDragPreview(),this.handlerId&&(r?s&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions)):this.lastConnectedDragPreview=r)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Th(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Th(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Xw({dragSource:(r,s)=>{this.clearDragSource(),this.dragSourceOptions=s||null,Eh(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,s)=>{this.clearDragPreview(),this.dragPreviewOptions=s||null,Eh(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class ZO{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;this.handlerId&&(r?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions)):this.lastConnectedDropTarget=r)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Th(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Xw({dropTarget:(r,s)=>{this.clearDropTarget(),this.dropTargetOptions=s,Eh(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Pi(){const{dragDropManager:t}=w.useContext(Uw);return Ze(t!=null,"Expected drag drop context"),t}class YO{beginDrag(){const e=this.spec,r=this.monitor;let s=null;return s=typeof e.item=="object"?e.item:typeof e.item=="function"?e.item(r):{},s??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag!="function"||e.canDrag(r)}isDragging(e,r){const s=this.spec,o=this.monitor,{isDragging:a}=s;return a?a(o):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,s=this.connector,{end:o}=e;o&&o(r.getItem(),r),s.reconnect()}constructor(e,r,s){this.spec=e,this.monitor=r,this.connector=s}}function XO(t,e,r){const s=Pi(),o=(function(u,d,h){const m=w.useMemo((()=>new YO(u,d,h)),[d,h]);return w.useEffect((()=>{m.spec=u}),[u]),m})(t,e,r),a=(function(u){return w.useMemo((()=>{const d=u.type;return Ze(d!=null,"spec.type must be defined"),d}),[u])})(t);Ni((function(){if(a!=null){const[u,d]=(function(h,m,g){const y=g.getRegistry(),x=y.addSource(h,m);return[x,()=>y.removeSource(x)]})(a,o,s);return e.receiveHandlerId(u),r.receiveHandlerId(u),d}}),[s,e,r,o,a])}function JO(t,e){const r=Yw(t,e);Ze(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const s=(function(){const a=Pi();return w.useMemo((()=>new HO(a)),[a])})(),o=(function(a,u){const d=Pi(),h=w.useMemo((()=>new GO(d.getBackend())),[d]);return Ni((()=>(h.dragSourceOptions=a||null,h.reconnect(),()=>h.disconnectDragSource())),[h,a]),Ni((()=>(h.dragPreviewOptions=u||null,h.reconnect(),()=>h.disconnectDragPreview())),[h,u]),h})(r.options,r.previewOptions);return XO(r,s,o),[Zw(r.collect,s,o),qO(o),WO(o)]}function ej(t){return w.useMemo((()=>t.hooks.dropTarget()),[t])}class tj{canDrop(){const e=this.spec,r=this.monitor;return!e.canDrop||e.canDrop(r.getItem(),r)}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function rj(t,e,r){const s=Pi(),o=(function(u,d){const h=w.useMemo((()=>new tj(u,d)),[d]);return w.useEffect((()=>{h.spec=u}),[u]),h})(t,e),a=(function(u){const{accept:d}=u;return w.useMemo((()=>(Ze(u.accept!=null,"accept must be defined"),Array.isArray(d)?d:[d])),[d])})(t);Ni((function(){const[u,d]=(function(h,m,g){const y=g.getRegistry(),x=y.addTarget(h,m);return[x,()=>y.removeTarget(x)]})(a,o,s);return e.receiveHandlerId(u),r.receiveHandlerId(u),d}),[s,e,o,r,a.map((u=>u.toString())).join("|")])}function nj(t,e){const r=Yw(t,e),s=(function(){const a=Pi();return w.useMemo((()=>new QO(a)),[a])})(),o=(function(a){const u=Pi(),d=w.useMemo((()=>new ZO(u.getBackend())),[u]);return Ni((()=>(d.dropTargetOptions=a||null,d.reconnect(),()=>d.disconnectDropTarget())),[a]),d})(r.options);return rj(r,s,o),[Zw(r.collect,s,o),ej(o)]}function Jw(t){let e=null;return()=>(e==null&&(e=t()),e)}class sj{enter(e){const r=this.entered.length;return this.entered=(function(s,o){const a=new Set,u=h=>a.add(h);s.forEach(u),o.forEach(u);const d=[];return a.forEach((h=>d.push(h))),d})(this.entered.filter((s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e)))),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;var s,o;return this.entered=(s=this.entered.filter(this.isNodeInDocument),o=e,s.filter((a=>a!==o))),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class ij{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach((s=>{const o=this.config.exposeProperties[s];o!=null&&(r[s]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const e1="__NATIVE_FILE__",t1="__NATIVE_URL__",r1="__NATIVE_TEXT__",n1="__NATIVE_HTML__";var A0=Object.freeze({__proto__:null,FILE:e1,HTML:n1,TEXT:r1,URL:t1});function Bf(t,e,r){const s=e.reduce(((o,a)=>o||t.getData(a)),"");return s??r}const Nh={[e1]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[n1]:{exposeProperties:{html:(t,e)=>Bf(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[t1]:{exposeProperties:{urls:(t,e)=>Bf(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[r1]:{exposeProperties:{text:(t,e)=>Bf(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Uf(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Nh).filter((r=>{const s=Nh[r];return!!s?.matchesTypes&&s.matchesTypes.some((o=>e.indexOf(o)>-1))}))[0]||null}const oj=Jw((()=>/firefox/i.test(navigator.userAgent))),M0=Jw((()=>!!window.safari));class L0{interpolate(e){const{xs:r,ys:s,c1s:o,c2s:a,c3s:u}=this;let d=r.length-1;if(e===r[d])return s[d];let h,m=0,g=u.length-1;for(;m<=g;){h=Math.floor(.5*(m+g));const S=r[h];if(S<e)m=h+1;else{if(!(S>e))return s[h];g=h-1}}d=Math.max(0,g);const y=e-r[d],x=y*y;return s[d]+o[d]*y+a[d]*x+u[d]*y*x}constructor(e,r){const{length:s}=e,o=[];for(let S=0;S<s;S++)o.push(S);o.sort(((S,C)=>e[S]<e[C]?-1:1));const a=[],u=[];let d,h;for(let S=0;S<s-1;S++)d=e[S+1]-e[S],h=r[S+1]-r[S],a.push(d),u.push(h/d);const m=[u[0]];for(let S=0;S<a.length-1;S++){const C=u[S],_=u[S+1];if(C*_<=0)m.push(0);else{d=a[S];const k=a[S+1],N=d+k;m.push(3*N/((N+k)/C+(N+d)/_))}}m.push(u[u.length-1]);const g=[],y=[];let x;for(let S=0;S<m.length-1;S++){x=u[S];const C=m[S],_=1/a[S],k=C+m[S+1]-x-x;g.push((x-C-k)*_),y.push(k*_*_)}this.xs=e,this.ys=r,this.c1s=m,this.c2s=g,this.c3s=y}}const aj=1;function s1(t){const e=t.nodeType===aj?t:t.parentElement;if(!e)return null;const{top:r,left:s}=e.getBoundingClientRect();return{x:s,y:r}}function yu(t){return{x:t.clientX,y:t.clientY}}function lj(t,e,r,s,o){const a=(u=e).nodeName==="IMG"&&(oj()||!(!((d=document.documentElement)===null||d===void 0)&&d.contains(u)));var u,d;const h=s1(a?t:e),m={x:r.x-h.x,y:r.y-h.y},{offsetWidth:g,offsetHeight:y}=t,{anchorX:x,anchorY:S}=s,{dragPreviewWidth:C,dragPreviewHeight:_}=(function(R,M,$,K){let B=R?M.width:$,J=R?M.height:K;return M0()&&R&&(J/=window.devicePixelRatio,B/=window.devicePixelRatio),{dragPreviewWidth:B,dragPreviewHeight:J}})(a,e,g,y),{offsetX:k,offsetY:N}=o,T=N===0||N;return{x:k===0||k?k:new L0([0,.5,1],[m.x,m.x/g*C,m.x+C-g]).interpolate(x),y:T?N:(()=>{let R=new L0([0,.5,1],[m.y,m.y/y*_,m.y+_-y]).interpolate(S);return M0()&&a&&(R+=(window.devicePixelRatio-1)*_),R})()}}let xu;function uj(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})))),s.forEach((function(o){uj(t,o,r[o])}))}return t}class cj{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var r;e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&((r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,r,s){return this.sourcePreviewNodeOptions.set(e,s),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,s){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,s);const o=u=>this.handleDragStart(u,e),a=u=>this.handleSelectStart(u);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",o),r.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",o),r.removeEventListener("selectstart",a),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const s=u=>this.handleDragEnter(u,e),o=u=>this.handleDragOver(u,e),a=u=>this.handleDrop(u,e);return r.addEventListener("dragenter",s),r.addEventListener("dragover",o),r.addEventListener("drop",a),()=>{r.removeEventListener("dragenter",s),r.removeEventListener("dragover",o),r.removeEventListener("drop",a)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return F0({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return F0({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(A0).some((r=>A0[r]===e))}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=(function(s,o){const a=Nh[s];if(!a)throw new Error(`native type ${s} has no configuration`);const u=new ij(a);return u.loadDataTransfer(o),u})(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;return this.currentDragSourceNode=null,this.rootElement&&((e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,s){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const a=this.sourceNodes.get(o);return a&&s1(a)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:a}=this;this.dragStartSourceIds=null;const u=yu(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:u});const{dataTransfer:d}=o,h=Uf(d);if(this.monitor.isDragging()){if(d&&typeof d.setDragImage=="function"){const g=this.monitor.getSourceId(),y=this.sourceNodes.get(g),x=this.sourcePreviewNodes.get(g)||y;if(x){const{anchorX:S,anchorY:C,offsetX:_,offsetY:k}=this.getCurrentSourcePreviewNodeOptions(),N=lj(y,x,u,{anchorX:S,anchorY:C},{offsetX:_,offsetY:k});d.setDragImage(x,N.x,N.y)}}try{d?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:m}=this.getCurrentSourcePreviewNodeOptions();m?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(h)this.beginDragNativeItem(h);else{if(d&&!d.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{var a;if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()&&((a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)),!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:u}=o,d=Uf(u);d&&this.beginDragNativeItem(d,u)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:a}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=o.altKey,a.length>0&&this.actions.hover(a,{clientOffset:yu(o)}),a.some((u=>this.monitor.canDropOnTarget(u)))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=o=>{var a;this.dragOverTargetIds=[],this.isDraggingNativeItem()&&((a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer))},this.handleTopDragOver=o=>{const{dragOverTargetIds:a}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return o.preventDefault(),void(o.dataTransfer&&(o.dataTransfer.dropEffect="none"));this.altKeyPressed=o.altKey,this.lastClientOffset=yu(o),this.scheduleHover(a),(a||[]).some((u=>this.monitor.canDropOnTarget(u)))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=o=>{var a;this.dropTargetIds=[],this.isDraggingNativeItem()?(o.preventDefault(),(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)):Uf(o.dataTransfer)&&o.preventDefault(),this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:a}=this;this.dropTargetIds=[],this.actions.hover(a,{clientOffset:yu(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const a=o.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(o.preventDefault(),a.dragDrop()))},this.options=new class{get window(){return this.globalContext?this.globalContext:typeof window<"u"?window:void 0}get document(){var o;return!((o=this.globalContext)===null||o===void 0)&&o.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var o;return((o=this.optionsArgs)===null||o===void 0?void 0:o.rootElement)||this.window}constructor(o,a){this.ownerDocument=null,this.globalContext=o,this.optionsArgs=a}}(r,s),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new sj(this.isNodeInDocument)}}const dj=function(t,e,r){return new cj(t,e,r)};var Hs;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(Hs||(Hs={}));class fj{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0&&e}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0&&e}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0&&e}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0&&e}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)===null||e===void 0||e}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,r,s,o;return(o=(s=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&s!==void 0?s:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&o!==void 0?o:0}get delayMouseStart(){var e,r,s,o;return(o=(s=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&s!==void 0?s:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&o!==void 0?o:0}get window(){return this.context&&this.context.window?this.context.window:typeof window<"u"?window:void 0}get document(){var e;return!((e=this.context)===null||e===void 0)&&e.document?this.context.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,r){this.args=e,this.context=r}}const hj=1,pj=0;function qf(t){return t.button===void 0||t.button===pj}function i1(t){return!!t.targetTouches}function Xu(t,e){return i1(t)?(function(r,s){return r.targetTouches.length===1?Xu(r.targetTouches[0]):s&&r.touches.length===1&&r.touches[0].target===s.target?Xu(r.touches[0]):void 0})(t,e):{x:t.clientX,y:t.clientY}}const z0=(()=>{let t=!1;try{addEventListener("test",(()=>{}),Object.defineProperty({},"passive",{get:()=>(t=!0,!0)}))}catch{}return t})(),ga={[Hs.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Hs.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Hs.keyboard]:{keydown:"keydown"}};class Pa{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(Ze(!Pa.isSetUp,"Cannot have two Touch backends at the same time."),Pa.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(Pa.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,r,s,o=!1){const a=z0?{capture:o,passive:!1}:o;this.listenerTypes.forEach((function(u){const d=ga[u][r];d&&e.addEventListener(d,s,a)}))}removeEventListener(e,r,s,o=!1){const a=z0?{capture:o,passive:!1}:o;this.listenerTypes.forEach((function(u){const d=ga[u][r];d&&e.removeEventListener(d,s,a)}))}connectDragSource(e,r){const s=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,r),this.addEventListener(r,"start",s),()=>{this.sourceNodes.delete(e),this.removeEventListener(r,"start",s)}}connectDragPreview(e,r,s){return this.sourcePreviewNodeOptions.set(e,s),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,r){const s=this.options.rootElement;if(!this.document||!s)return()=>{};const o=a=>{if(!this.document||!s||!this.monitor.isDragging())return;let u;switch(a.type){case ga.mouse.move:u={x:a.clientX,y:a.clientY};break;case ga.touch.move:var d,h;u={x:((d=a.touches[0])===null||d===void 0?void 0:d.clientX)||0,y:((h=a.touches[0])===null||h===void 0?void 0:h.clientY)||0}}const m=u!=null?this.document.elementFromPoint(u.x,u.y):void 0,g=m&&r.contains(m);return m===r||g?this.handleMove(a,e):void 0};return this.addEventListener(this.document.body,"move",o),this.targetNodes.set(e,r),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",o))}}getTopMoveStartHandler(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver((()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())})),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,r,s){this.getSourceClientOffset=o=>{const a=this.sourceNodes.get(o);return a&&(function(u){const d=u.nodeType===1?u:u.parentElement;if(!d)return;const{top:h,left:m}=d.getBoundingClientRect();return{x:m,y:h}})(a)},this.handleTopMoveStartCapture=o=>{qf(o)&&(this.moveStartSourceIds=[])},this.handleMoveStart=o=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(o)},this.handleTopMoveStart=o=>{if(!qf(o))return;const a=Xu(o);a&&(i1(o)&&(this.lastTargetTouchFallback=o.targetTouches[0]),this._mouseClientOffset=a),this.waitingForDelay=!1},this.handleTopMoveStartDelay=o=>{if(!qf(o))return;const a=o.type===ga.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,o),a),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(o,a)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(a)},this.handleTopMove=o=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:a,dragOverTargetIds:u}=this,d=this.options.enableHoverOutsideTarget,h=Xu(o,this.lastTargetTouchFallback);if(!h)return;if(this._isScrolling||!this.monitor.isDragging()&&(function(T,R,M,$,K){if(!K)return!1;const B=180*Math.atan2($-R,M-T)/Math.PI+180;for(let J=0;J<K.length;++J){const q=K[J];if(q&&(q.start==null||B>=q.start)&&(q.end==null||B<=q.end))return!0}return!1})(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,h.x,h.y,this.options.scrollAngleRanges))return void(this._isScrolling=!0);var m,g,y,x;if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&a&&(m=this._mouseClientOffset.x||0,g=this._mouseClientOffset.y||0,y=h.x,x=h.y,Math.sqrt(Math.pow(Math.abs(y-m),2)+Math.pow(Math.abs(x-g),2))>(this.options.touchSlop?this.options.touchSlop:0))&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(a,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const S=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(S),this.actions.publishDragSource(),o.cancelable&&o.preventDefault();const C=(u||[]).map((T=>this.targetNodes.get(T))).filter((T=>!!T)),_=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(h.x,h.y,C):this.document.elementsFromPoint(h.x,h.y),k=[];for(const T in _){if(!_.hasOwnProperty(T))continue;let R=_[T];for(R!=null&&k.push(R);R;)R=R.parentElement,R&&k.indexOf(R)===-1&&k.push(R)}const N=k.filter((T=>C.indexOf(T)>-1)).map((T=>this._getDropTargetId(T))).filter((T=>!!T)).filter(((T,R,M)=>M.indexOf(T)===R));if(d)for(const T in this.targetNodes){const R=this.targetNodes.get(T);if(S&&R&&R.contains(S)&&N.indexOf(T)===-1){N.unshift(T);break}}N.reverse(),this.actions.hover(N,{clientOffset:h})},this._getDropTargetId=o=>{const a=this.targetNodes.keys();let u=a.next();for(;u.done===!1;){const d=u.value;if(o===this.targetNodes.get(d))return d;u=a.next()}},this.handleTopMoveEndCapture=o=>{this._isScrolling=!1,this.lastTargetTouchFallback=void 0,(function(a){return a.buttons===void 0||(a.buttons&hj)==0})(o)&&(this.monitor.isDragging()&&!this.monitor.didDrop()?(o.cancelable&&o.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()):this.moveStartSourceIds=void 0)},this.handleCancelOnEscape=o=>{o.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new fj(s,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Hs.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Hs.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Hs.keyboard)}}const mj=function(t,e={},r={}){return new Pa(t,e,r)},Ka="abcdefgh".split(""),Pu={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},gj={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},vj={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},yj=[7,6,5,4,3,2,1,0],xj=[0,1,2,3,4,5,6,7],$0={wP:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),f.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),f.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),f.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),f.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[f.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),f.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),f.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),f.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[f.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),f.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),f.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),f.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),f.jsx("circle",{cx:"6",cy:"12",r:"2"}),f.jsx("circle",{cx:"14",cy:"9",r:"2"}),f.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),f.jsx("circle",{cx:"31",cy:"9",r:"2"}),f.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),f.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),f.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),f.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),f.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),f.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[f.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),f.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),f.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),f.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[f.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),f.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),f.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),f.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),f.jsx("circle",{cx:"6",cy:"12",r:"2"}),f.jsx("circle",{cx:"14",cy:"9",r:"2"}),f.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),f.jsx("circle",{cx:"31",cy:"9",r:"2"}),f.jsx("circle",{cx:"39",cy:"12",r:"2"}),f.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),f.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[f.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),f.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),f.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),f.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),f.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),f.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Ph(t,e,r){const s=e/8,o=t==="white"?yj:xj;return{x:(t==="white"?gj:vj)[r[0]]*s+s/2,y:o[parseInt(r[1],10)-1]*s+s/2}}function V0(t){let e=!1;return Object.keys(Pu).forEach((r=>{t[r]!==Pu[r]&&(e=!0)})),Object.keys(t).forEach((r=>{Pu[r]!==t[r]&&(e=!0)})),e}function B0(t){return t==="start"?Pu:typeof t=="string"?(function(e){if(!(function(a){a=a.replace(/ .+$/,""),a=(function(d){return d.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")})(a);const u=a.split("/");if(u.length!==8)return!1;for(let d=0;d<8;d++)if(u[d].length!==8||u[d].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0})(e))return{};const r=(e=e.replace(/ .+$/,"")).split("/"),s={};let o=8;for(let a=0;a<8;a++){const u=r[a].split("");let d=0;for(let h=0;h<u.length;h++)u[h].search(/[1-8]/)!==-1?d+=parseInt(u[h],10):(s[Ka[d]+o]=wj(u[h]),d+=1);o-=1}return s})(t):t}function wj(t){return t.toLowerCase()===t?"b"+t.toUpperCase():"w"+t.toUpperCase()}const o1=w.createContext({}),ys=()=>w.useContext(o1),bj=w.forwardRef((({allowDragOutsideBoard:t=!0,animationDuration:e=300,areArrowsAllowed:r=!0,arePiecesDraggable:s=!0,arePremovesAllowed:o=!1,autoPromoteToQueen:a=!1,boardOrientation:u="white",boardWidth:d,children:h,clearPremovesOnRightClick:m=!0,customArrows:g,customArrowColor:y="rgb(255,170,0)",customBoardStyle:x,customDarkSquareStyle:S={backgroundColor:"#B58863"},customDropSquareStyle:C={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:_={backgroundColor:"#F0D9B5"},customPieces:k,customPremoveDarkSquareStyle:N={backgroundColor:"#A42323"},customPremoveLightSquareStyle:T={backgroundColor:"#BD2828"},customSquare:R="div",customSquareStyles:M,dropOffBoardAction:$="snapback",id:K=0,isDraggablePiece:B=(()=>!0),getPositionObject:J=(()=>{}),onArrowsChange:q=(()=>{}),onDragOverSquare:U=(()=>{}),onMouseOutSquare:te=(()=>{}),onMouseOverSquare:Z=(()=>{}),onPieceClick:ee=(()=>{}),onPieceDragBegin:Y=(()=>{}),onPieceDragEnd:_e=(()=>{}),onPieceDrop:de=(()=>!0),onPromotionCheck:be=((We,Le,xt)=>(xt==="wP"&&We[1]==="7"&&Le[1]==="8"||xt==="bP"&&We[1]==="2"&&Le[1]==="1")&&Math.abs(We.charCodeAt(0)-Le.charCodeAt(0))<=1),onPromotionPieceSelect:W,onSquareClick:ce=(()=>{}),onSquareRightClick:oe=(()=>{}),position:j="start",promotionDialogVariant:X="default",promotionToSquare:Ne=null,showBoardNotation:ve=!0,showPromotionDialog:Me=!1,snapToCursor:Ke=!0},Ve)=>{const[We,Le]=w.useState(B0(j)),[xt,dr]=w.useState({removed:{},added:{}}),[Qt,Ot]=w.useState(void 0),[br,qr]=w.useState(Me&&!a),[mt,Te]=w.useState(null),[kt,Sr]=w.useState(Ne),[Or,rr]=w.useState([]),P=w.useRef(Or),[F,G]=w.useState(),[ge,pe]=w.useState(Object.assign(Object.assign({},$0),k)),[ie,ye]=w.useState(!1),[Ge,lt]=w.useState(),[ft,jr]=w.useState(!1);w.useImperativeHandle(Ve,(()=>({clearPremoves(it=!0){on(it)}}))),w.useEffect((()=>{pe(Object.assign(Object.assign({},$0),k))}),[k]),w.useEffect((()=>{qr(Me),Sr(Ne)}),[Ne,Me]),w.useEffect((()=>{var it,Ct,Et;an();const fe=B0(j),me=(function(Be,A){const nt={removed:{},added:{}};return Object.keys(Be).forEach((rt=>{A[rt]!==Be[rt]&&(nt.removed[rt]=Be[rt])})),Object.keys(A).forEach((rt=>{Be[rt]!==A[rt]&&(nt.added[rt]=A[rt])})),nt})(We,fe),Ae=((it=Object.keys(me.added))===null||it===void 0?void 0:it.length)<=2?(Et=(Ct=Object.entries(me.added))===null||Ct===void 0?void 0:Ct[0])===null||Et===void 0?void 0:Et[1][0]:void 0;if(ft)Le(fe),jr(!1),o&&Lr(Ae),Ge&&clearTimeout(Ge);else if(ie)Le(fe),jr(!1),o&&Lr(Ae);else{V0(fe)&&Qt!==void 0?Ot(Ae):V0(fe)?Ot(void 0):Ot("b"),dr(me),jr(!0);const Be=setTimeout((()=>{Le(fe),jr(!1),o&&Lr(Ae)}),e);lt(Be)}return ye(!1),J(fe),sn(),()=>{clearTimeout(Ge)}}),[j]);const{arrows:Wr,newArrow:Tt,clearArrows:sn,drawNewArrow:fr,onArrowDrawEnd:_r}=((it,Ct=!0,Et,fe)=>{const[me,Ae]=w.useState([]),[Be,A]=w.useState([]),[nt,rt]=w.useState();w.useEffect((()=>{Array.isArray(it)&&Ae(it?.filter((le=>le[0]!==le[1])))}),[it]),w.useEffect((()=>{Et?.(Be)}),[Be]);const Bt=[...Be,...me];return{arrows:Bt,newArrow:nt,clearArrows:function(){A([]),rt(void 0)},drawNewArrow:(le,nr)=>{Ct&&rt([le,nr,fe])},setArrows:A,onArrowDrawEnd:(le,nr)=>{if(le===nr||!Ct)return;let Nt;const pr=[le,nr,fe];Nt=Bt.every((([Xn,sr])=>!(Xn===le&&sr===nr)))?[...Be,pr]:Be.filter((([Xn,sr])=>!(Xn===le&&sr===nr))),rt(void 0),A(Nt)}}})(g,r,q,y);function Lr(it){if(P.current.length===0)return;const Ct=P.current[0];if(Ct.piece[0]!==void 0&&Ct.piece[0]!==it&&de.length)if(Ot(Ct.piece[0]),ye(!0),de(Ct.sourceSq,Ct.targetSq,Ct.piece)){const Et=[...P.current];Et.shift(),P.current=Et,rr([...Et])}else on()}function on(it=!0){it&&Ot(void 0),P.current=[],rr([])}function an(){Te(null),Sr(null),qr(!1)}const hr={animationDuration:e,arePiecesDraggable:s,arePremovesAllowed:o,boardOrientation:u,boardWidth:d,customArrowColor:y,customBoardStyle:x,customDarkSquareStyle:S,customDropSquareStyle:C,customLightSquareStyle:_,customPremoveDarkSquareStyle:N,customPremoveLightSquareStyle:T,customSquare:R,customSquareStyles:M,id:K,isDraggablePiece:B,onDragOverSquare:U,onMouseOutSquare:te,onMouseOverSquare:Z,onPieceClick:ee,onPieceDragBegin:Y,onPieceDragEnd:_e,onPieceDrop:de,onPromotionCheck:be,onPromotionPieceSelect:W,onSquareClick:ce,showBoardNotation:ve,snapToCursor:Ke,promotionDialogVariant:X,allowDragOutsideBoard:t,arrows:Wr,newArrow:Tt,onArrowDrawEnd:_r,chessPieces:ge,clearArrows:sn,drawNewArrow:fr,clearCurrentRightClickDown:function(){G(void 0)},currentPosition:We,handleSetPosition:function(it,Ct,Et,fe){if(it===Ct)return;if(sn(),o&&ft||o&&(Qt===Et[0]||P.current.filter((Ae=>Ae.piece[0]===Et[0])).length>0)){const Ae=[...P.current];return Ae.push({sourceSq:it,targetSq:Ct,piece:Et}),P.current=Ae,rr([...Ae]),void an()}if(!o&&ft)return;const me=Object.assign({},We);ye(!!fe),Ot(Et[0]),de.length?de(it,Ct,Et)||on():($!=="trash"||Ct||delete me[it],delete me[it],me[Ct]=Et,Le(me)),an(),J(me)},isWaitingForAnimation:ft,lastPieceColour:Qt,onRightClickDown:function(it){G(it)},onRightClickUp:function(it){if(F){if(F===it)return G(void 0),m&&on(!1),void oe(it)}else G(void 0)},positionDifferences:xt,promoteFromSquare:mt,promoteToSquare:kt,premoves:Or,setPromoteFromSquare:Te,setPromoteToSquare:Sr,setShowPromoteDialog:qr,showPromoteDialog:br,autoPromoteToQueen:a,currentRightClickDown:F};return f.jsx(o1.Provider,Object.assign({value:hr},{children:h}))}));function Sj({row:t,col:e}){const{boardOrientation:r,boardWidth:s,customDarkSquareStyle:o,customLightSquareStyle:a}=ys(),u=a.backgroundColor,d=o.backgroundColor,h=e===0,m=t===7;function g(){return r==="white"?8-t:t+1}function y(){return r==="black"?Ka[7-e]:Ka[e]}return h&&m?f.jsxs(f.Fragment,{children:[f.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:u}),q0(s))},{children:g()})),f.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:u}),U0(s))},{children:y()}))]}):m?f.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:e%2!=0?d:u}),U0(s))},{children:y()})):h?f.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:t%2==0?d:u}),q0(s))},{children:g()})):null}const U0=t=>({alignSelf:"flex-end",paddingLeft:t/8-t/48,fontSize:t/48}),q0=t=>({alignSelf:"flex-start",paddingRight:t/8-t/48,fontSize:t/48});function W0({isPremovedPiece:t=!1,piece:e,square:r,squares:s}){const{animationDuration:o,arePiecesDraggable:a,arePremovesAllowed:u,boardWidth:d,boardOrientation:h,chessPieces:m,currentPosition:g,id:y,isDraggablePiece:x,isWaitingForAnimation:S,onPieceClick:C,onPieceDragBegin:_,onPieceDragEnd:k,positionDifferences:N,premoves:T,onPromotionCheck:R}=ys(),[M,$]=w.useState({opacity:1,zIndex:5,touchAction:"none",cursor:a&&x({piece:e,sourceSquare:r})?"-webkit-grab":"default"}),[{canDrag:K,isDragging:B},J,q]=JO((()=>({type:"piece",item:()=>(_(e,r),{piece:e,square:r,id:y}),end:()=>k(e,r),collect:U=>({canDrag:x({piece:e,sourceSquare:r}),isDragging:!!U.isDragging()})})),[e,r,g,y]);return q((xu||(xu=new Image,xu.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),xu),{captureDraggingState:!0}),w.useEffect((()=>{$((U=>Object.assign(Object.assign({},U),{opacity:B?0:1})))}),[B]),w.useEffect((()=>{if(!u)return;let U=!1;!t&&T.find((te=>te.targetSq===r))&&(U=!0),T.find((te=>te.sourceSq===r&&te.piece===e))&&(U=!0),$((te=>Object.assign(Object.assign({},te),{display:U?"none":"unset"})))}),[g,T]),w.useEffect((()=>{var U;const te=(U=N.removed)===null||U===void 0?void 0:U[r];if(!N.added||!te)return;const Z=Object.entries(N.added).find((([ee,Y])=>Y===te||R(r,ee,te)));if(S&&te&&Z&&!t){const ee=r,Y=Z[0];if(ee&&Y){const _e=d/8;$((de=>Object.assign(Object.assign({},de),{transform:`translate(${(h==="black"?-1:1)*(Y.charCodeAt(0)-ee.charCodeAt(0))*_e}px, ${(h==="black"?-1:1)*(Number(ee[1])-Number(Y[1]))*_e}px)`,transition:`transform ${o}ms`,zIndex:6})))}}}),[N]),w.useEffect((()=>{const{sourceSq:U}={sourceSq:s[r]};U&&$((te=>Object.assign(Object.assign({},te),{transform:"translate(0px, 0px)",transition:"transform 0ms"})))}),[g]),w.useEffect((()=>{$((U=>Object.assign(Object.assign({},U),{cursor:a&&x({piece:e,sourceSquare:r})?"-webkit-grab":"default"})))}),[r,g,a]),f.jsx("div",Object.assign({ref:a&&K?J:null,onClick:()=>C(e),"data-piece":e,style:M},{children:typeof m[e]=="function"?m[e]({squareWidth:d/8,isDragging:B,square:r}):f.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:d/8,height:d/8},{children:f.jsx("g",{children:m[e]})}))}))}function _j({square:t,squareColor:e,setSquares:r,squareHasPremove:s,children:o}){const a=w.useRef(null),{autoPromoteToQueen:u,boardWidth:d,boardOrientation:h,clearArrows:m,currentPosition:g,currentRightClickDown:y,customBoardStyle:x,customDarkSquareStyle:S,customDropSquareStyle:C,customLightSquareStyle:_,customPremoveDarkSquareStyle:k,customPremoveLightSquareStyle:N,customSquare:T,customSquareStyles:R,drawNewArrow:M,handleSetPosition:$,isWaitingForAnimation:K,lastPieceColour:B,onArrowDrawEnd:J,onDragOverSquare:q,onMouseOutSquare:U,onMouseOverSquare:te,onPieceDrop:Z,onPromotionCheck:ee,onRightClickDown:Y,onRightClickUp:_e,onSquareClick:de,setPromoteFromSquare:be,setPromoteToSquare:W,setShowPromoteDialog:ce}=ys(),[{isOver:oe},j]=nj((()=>({accept:"piece",drop:X,collect:ve=>({isOver:!!ve.isOver()})})),[t,g,Z,K,B]);function X(ve){ee(ve.square,t,ve.piece)?u?$(ve.square,t,ve.piece[0]==="w"?"wQ":"bQ"):(be(ve.square),W(t),ce(!0)):$(ve.square,t,ve.piece,!0)}w.useEffect((()=>{if(a.current){const{x:ve,y:Me}=a.current.getBoundingClientRect();r((Ke=>Object.assign(Object.assign({},Ke),{[t]:{x:ve,y:Me}})))}}),[d,h]);const Ne=Object.assign(Object.assign(Object.assign(Object.assign({},Cj(t,h,x)),e==="black"?S:_),s&&(e==="black"?k:N)),oe&&C);return f.jsx("div",Object.assign({ref:j,style:Ne,"data-square-color":e,"data-square":t,onMouseOver:ve=>{ve.buttons===2&&y&&M(y,t),ve.relatedTarget&&ve.currentTarget.contains(ve.relatedTarget)||te(t)},onMouseOut:ve=>{ve.relatedTarget&&ve.currentTarget.contains(ve.relatedTarget)||U(t)},onMouseDown:ve=>{ve.button===2&&Y(t)},onMouseUp:ve=>{ve.button===2&&(y&&J(y,t),_e(t))},onDragEnter:()=>q(t),onClick:()=>{de(t),m()},onContextMenu:ve=>{ve.preventDefault()}},{children:f.jsx(T,typeof T=="string"?Object.assign({ref:a,style:Object.assign(Object.assign(Object.assign({},Q0(d)),H0),!s&&R?.[t])},{children:o}):Object.assign({ref:a,square:t,squareColor:e,style:Object.assign(Object.assign(Object.assign({},Q0(d)),H0),!s&&R?.[t])},{children:o}))}))}const H0={display:"flex",justifyContent:"center"},Q0=t=>({width:t/8,height:t/8}),Cj=(t,e,r)=>r?.borderRadius?t==="a1"?e==="white"?{borderBottomLeftRadius:r.borderRadius}:{borderTopRightRadius:r.borderRadius}:t==="a8"?e==="white"?{borderTopLeftRadius:r.borderRadius}:{borderBottomRightRadius:r.borderRadius}:t==="h1"?e==="white"?{borderBottomRightRadius:r.borderRadius}:{borderTopLeftRadius:r.borderRadius}:t==="h8"?e==="white"?{borderTopRightRadius:r.borderRadius}:{borderBottomLeftRadius:r.borderRadius}:{}:{};function kj(){const[t,e]=w.useState({}),{boardOrientation:r,boardWidth:s,currentPosition:o,id:a,premoves:u,showBoardNotation:d}=ys();return f.jsx("div",Object.assign({"data-boardid":a},{children:[...Array(8)].map(((h,m)=>f.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:s}},{children:[...Array(8)].map(((g,y)=>{const x=r==="black"?Ka[7-y]+(m+1):Ka[y]+(8-m),S=y%2==m%2?"white":"black",C=u.find((k=>k.sourceSq===x||k.targetSq===x)),_=u.find((k=>k.targetSq===x));return f.jsxs(_j,Object.assign({square:x,squareColor:S,setSquares:e,squareHasPremove:!!C},{children:[o[x]&&f.jsx(W0,{piece:o[x],square:x,squares:t}),_&&f.jsx(W0,{isPremovedPiece:!0,piece:_.piece,square:x,squares:t}),d&&f.jsx(Sj,{row:m,col:y})]}),`${y}${m}`)}))}),m.toString())))}))}const Tj=()=>{const{arrows:t,newArrow:e,boardOrientation:r,boardWidth:s,customArrowColor:o}=ys(),a=[...t,e].filter(Boolean);return f.jsx("svg",Object.assign({width:s,height:s,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:a.map(((u,d)=>{const[h,m,g]=u;if(h===m)return null;const y=Ph(r,s,h),x=Ph(r,s,m);let S=s/32;const C=d===t.length;t.some((R=>R[0]!==h&&R[1]===m))&&!C&&(S=s/16);const _=x.x-y.x,k=x.y-y.y,N=Math.hypot(k,_),T={x:y.x+_*(N-S)/N,y:y.y+k*(N-S)/N};return f.jsxs(w.Fragment,{children:[f.jsx("marker",Object.assign({id:`arrowhead-${d}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:f.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:g??o})})),f.jsx("line",{x1:y.x,y1:y.y,x2:T.x,y2:T.y,opacity:C?"0.5":"0.65",stroke:g??o,strokeWidth:C?.9*s/40:s/40,markerEnd:`url(#arrowhead-${d})`})]},`${h}-${m}${C?"-active":""}`)}))}))};function Ej({option:t}){const[e,r]=w.useState(!1),{boardWidth:s,chessPieces:o,customDarkSquareStyle:a,customLightSquareStyle:u,handleSetPosition:d,onPromotionPieceSelect:h,promoteFromSquare:m,promoteToSquare:g,promotionDialogVariant:y}=ys(),x=()=>{switch(t[1]){case"Q":return a.backgroundColor;case"R":return u.backgroundColor;case"N":return y==="default"?u.backgroundColor:a.backgroundColor;case"B":return y==="default"?a.backgroundColor:u.backgroundColor}};return f.jsx("div",Object.assign({onClick:()=>{h?.length?h(t):d(m,g,t,!0)},onMouseOver:()=>r(!0),onMouseOut:()=>r(!1),"data-piece":t,style:{cursor:"pointer",backgroundColor:e?x():`${x()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof o[t]=="function"?f.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:o[t]({squareWidth:s/8,isDragging:!1})})):f.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:s/8,height:s/8,style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:f.jsx("g",{children:o[t]})}))}))}function Nj(){const{boardOrientation:t,boardWidth:e,promotionDialogVariant:r,promoteToSquare:s}=ys(),o=s?.[1]==="1"?"b":"w",a=[`${o??"w"}Q`,`${o??"w"}R`,`${o??"w"}N`,`${o??"w"}B`],u={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-e/8}px, ${-e/8}px)`},vertical:{transform:`translate(${-e/16}px, ${-e/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*e/8}px)`,width:"100%",height:e/4+"px",top:0,backgroundColor:"white",left:0}},d=Ph(t,e,s||"a8");return f.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${d?.y}px`,left:`${d?.x}px`,zIndex:1e3},u[r]),title:"Choose promotion piece"},{children:a.map((h=>f.jsx(Ej,{option:h},h)))}))}const Pj={whiteKing:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:f.jsx("g",{children:f.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function Oj({children:t}){try{return f.jsx(f.Fragment,{children:t})}catch(e){return console.log(e),f.jsx(a1,{showError:!0})}}function a1({showError:t=!1}){return f.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[f.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:Pj.whiteKing})),t&&f.jsx("h1",{children:"Something went wrong"})]}))}function jj(){const t=w.useRef(null),{boardWidth:e,clearCurrentRightClickDown:r,onPromotionPieceSelect:s,setShowPromoteDialog:o,showPromoteDialog:a,customBoardStyle:u}=ys();return w.useEffect((()=>{function d(h){t.current&&!t.current.contains(h.target)&&r()}return document.addEventListener("mouseup",d),()=>{document.removeEventListener("mouseup",d)}}),[]),e?f.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:f.jsxs("div",Object.assign({ref:t,style:Object.assign(Object.assign({position:"relative"},Dj(e)),u)},{children:[f.jsx(kj,{}),f.jsx(Tj,{}),a&&f.jsxs(f.Fragment,{children:[f.jsx("div",{onClick:()=>{o(!1),s?.()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:e,height:e}}),f.jsx(Nj,{})]})]}))})):f.jsx(a1,{})}const Dj=t=>({cursor:"default",height:t,width:t});function Rj({boardContainer:t}){const{boardWidth:e,chessPieces:r,id:s,snapToCursor:o,allowDragOutsideBoard:a}=ys(),u=(function(x){const S=Pi().getMonitor(),[C,_]=Gw(S,x);return w.useEffect((()=>S.subscribeToOffsetChange(_))),w.useEffect((()=>S.subscribeToStateChange(_))),C})((x=>({item:x.getItem(),clientOffset:x.getClientOffset(),sourceClientOffset:x.getSourceClientOffset(),isDragging:x.isDragging()}))),{isDragging:d,item:h,clientOffset:m,sourceClientOffset:g}=u,y=w.useCallback(((x,S)=>{if(!x||!S)return{display:"none"};let{x:C,y:_}=o?x:S;const k=e/8/2;if(o&&(C-=k,_-=k),!a){const{left:T,top:R}=t,M=T-k,$=R-k,K=T+e-k,B=R+e-k;C=Math.max(M,Math.min(C,K)),_=Math.max($,Math.min(_,B))}const N=`translate(${C}px, ${_}px)`;return{transform:N,WebkitTransform:N,touchAction:"none"}}),[e,a,o,t]);return d&&h.id===s?f.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:f.jsx("div",Object.assign({style:y(m,g)},{children:typeof r[h.piece]=="function"?r[h.piece]({squareWidth:e/8,isDragging:!0}):f.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:e/8,height:e/8},{children:f.jsx("g",{children:r[h.piece]})}))}))})):null}const Ij=w.forwardRef(((t,e)=>{var r;const{customDndBackend:s,customDndBackendOptions:o}=t,a=(function(M,$){var K={};for(var B in M)Object.prototype.hasOwnProperty.call(M,B)&&$.indexOf(B)<0&&(K[B]=M[B]);if(M!=null&&typeof Object.getOwnPropertySymbols=="function"){var J=0;for(B=Object.getOwnPropertySymbols(M);J<B.length;J++)$.indexOf(B[J])<0&&Object.prototype.propertyIsEnumerable.call(M,B[J])&&(K[B[J]]=M[B[J]])}return K})(t,["customDndBackend","customDndBackendOptions"]),[u,d]=w.useState(),[h,m]=w.useState(!1),[g,y]=w.useState(!1),[x,S]=w.useState(t.boardWidth),C=w.useRef(null),_=w.useRef(null),[k,N]=w.useState({left:0,top:0}),T=(r=C.current)===null||r===void 0?void 0:r.getBoundingClientRect();w.useEffect((()=>{N({left:T?.left?T?.left:0,top:T?.top?T?.top:0})}),[T]),w.useEffect((()=>{y("ontouchstart"in window),m(!0),d(window)}),[]),w.useEffect((()=>{var M;if(t.boardWidth===void 0&&(!((M=C.current)===null||M===void 0)&&M.offsetWidth)){const $=new ResizeObserver((()=>{var K;S((K=C.current)===null||K===void 0?void 0:K.offsetWidth)}));return $.observe(C.current),()=>{$.disconnect()}}}),[C.current,u]);const R=s||(g?mj:dj);return h&&u?f.jsx(Oj,{children:f.jsxs("div",Object.assign({ref:_,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[f.jsx("div",{ref:C,style:{width:"100%"}}),f.jsx(BO,Object.assign({backend:R,context:u,options:s?o:void 0},{children:x&&f.jsxs(bj,Object.assign({boardWidth:x},a,{ref:e},{children:[f.jsx(Rj,{boardContainer:k}),f.jsx(jj,{})]}))}))]}))}):null})),Aj=w.memo(function({game:e,onMove:r,orientation:s="white",isThinking:o=!1,disabled:a=!1,lastMove:u,onReset:d}){const h=w.useRef(null),[m,g]=w.useState(320),[y,x]=w.useState(null),[S,C]=w.useState({}),[_,k]=w.useState({}),[N,T]=w.useState(null);w.useEffect(()=>{const q=()=>{if(h.current){const te=Math.min(h.current.clientWidth,600);g(te)}},U=new ResizeObserver(q);return h.current&&U.observe(h.current),q(),()=>U.disconnect()},[]),w.useEffect(()=>{if(e.inCheck()){const q=e.board();let U="";const te="abcdefgh";for(let Z=0;Z<8;Z++){for(let ee=0;ee<8;ee++){const Y=q[Z][ee];if(Y&&Y.type==="k"&&Y.color===e.turn()){const _e=te[ee],de=8-Z;U=`${_e}${de}`;break}}if(U)break}if(U){k({[U]:{background:"radial-gradient(circle, rgba(255,0,0,0.8) 0%, transparent 80%)",boxShadow:"inset 0 0 10px 2px rgba(255,0,0,0.8)"}});return}}k({})},[e]);function R(q){const U=e.moves({square:q,verbose:!0});if(U.length===0)return;const te={};U.forEach(Z=>{const ee=e.get(Z.to),Y=e.get(q);te[Z.to]={background:ee&&Y&&ee.color!==Y.color?"radial-gradient(circle, rgba(255, 215, 0, 0.6) 40%, transparent 40%)":"radial-gradient(circle, rgba(255, 215, 0, 0.3) 25%, transparent 25%)",borderRadius:"50%"}}),te[q]={background:"rgba(255, 215, 0, 0.4)"},C(te)}function M(q){if(N&&!a){if(q){const U=q[1]?.toLowerCase();if(!U||!"qrbn".includes(U)||!r(N.from,N.to,U))return}T(null),x(null),C({})}}function $(q){if(!(a||o||e.isGameOver()))if(y){if(y===q){x(null),C({});return}const U=e.get(y);if(U?.type==="p"&&(U.color==="w"&&q[1]==="8"||U.color==="b"&&q[1]==="1")&&e.moves({square:y,verbose:!0}).find(de=>de.to===q)){T({from:y,to:q});return}if(r(y,q)){x(null),C({});return}const ee=e.get(q);if(ee&&ee.color===e.turn()){x(q),R(q);return}x(null),C({})}else{const U=e.get(q);U&&U.color===e.turn()&&(x(q),R(q))}}const K={...u?{[u.from]:{background:"rgba(255, 215, 0, 0.3)"},[u.to]:{background:"rgba(255, 215, 0, 0.3)"}}:{},...S,..._},B=e.isGameOver(),J=B?e.isCheckmate()?e.turn()==="w"?"en thng":"Trng thng":"Ha":"";return f.jsxs("div",{ref:h,className:`
        w-full aspect-square max-w-[600px] mx-auto 
        bg-slate-900 rounded-lg shadow-2xl overflow-hidden 
        border-[6px] border-slate-800
        transition-all duration-300
        ${o?"ring-4 ring-indigo-500/30":""}
        relative
      `,children:[f.jsx(Ij,{position:e.fen(),onPieceDrop:(q,U,te)=>{if(a||o||e.isGameOver())return!1;if(te[1]==="P"&&q[1]==="7"&&U[1]==="8"||te[1]==="p"&&q[1]==="2"&&U[1]==="1")return a||T({from:q,to:U}),!1;const ee=r(q,U);return ee&&(x(null),C({})),ee},onSquareClick:$,customSquareStyles:K,boardOrientation:s,boardWidth:m,customDarkSquareStyle:{backgroundColor:"#312e81"},customLightSquareStyle:{backgroundColor:"#e2e8f0"},customDropSquareStyle:{boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.2)"},animationDuration:300}),N&&f.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm rounded-lg",children:f.jsxs("div",{className:"bg-slate-800 p-4 rounded-2xl flex flex-col gap-4 shadow-2xl border border-white/10 animate-in zoom-in-95",children:[f.jsx("div",{className:"text-white text-sm font-bold text-center uppercase tracking-widest opacity-50",children:"Select Promotion"}),f.jsx("div",{className:"flex gap-3",children:["q","r","b","n"].map(q=>f.jsx("div",{className:"w-16 h-16 cursor-pointer bg-slate-700 hover:bg-indigo-600 rounded-xl p-2 transition-all hover:scale-110 active:scale-95",onClick:()=>M(`${e.turn()}${q.toUpperCase()}`),children:f.jsx("img",{src:`https://images.chesscomfiles.com/chess-themes/pieces/neo/150/${e.turn()}${q}.png`,alt:q,className:"w-full h-full object-contain"})},q))}),f.jsx(ot,{variant:"ghost",className:"text-slate-400 hover:text-white hover:bg-white/5",onClick:()=>M(void 0),children:"Cancel"})]})}),B&&f.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/70 backdrop-blur-md animate-in fade-in duration-500",children:f.jsxs("div",{className:"text-center p-8",children:[f.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl shadow-indigo-500/50 animate-bounce",children:f.jsx(cc,{className:"w-10 h-10 text-white"})}),f.jsx("h2",{className:"text-4xl font-black italic text-white mb-2 tracking-tighter",children:"GAME OVER"}),f.jsx("div",{className:"text-xl font-bold text-indigo-400 uppercase tracking-[0.2em] mb-8",children:J}),f.jsx("div",{className:"flex gap-4 justify-center",children:f.jsxs(ot,{onClick:d,className:"bg-white text-black hover:bg-slate-200 font-bold px-8 h-12 rounded-xl",children:[f.jsx(ox,{className:"w-4 h-4 mr-2"}),"Play Again"]})})]})})]})});function Mj({onFlip:t,onResign:e,onDraw:r,onReset:s,gameMode:o,disabled:a=!1}){return f.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[f.jsx(ot,{variant:"secondary",size:"icon",onClick:t,className:"bg-slate-800 hover:bg-slate-700 text-slate-200 border border-white/10",title:"Flip Board",children:f.jsx(aC,{className:"w-5 h-5"})}),o==="ai"&&f.jsxs(ot,{variant:"secondary",onClick:s,className:"bg-emerald-600/20 hover:bg-emerald-600/30 text-emerald-400 border border-emerald-500/20",children:[f.jsx(ox,{className:"w-4 h-4 mr-2"}),"Vn mi"]}),o==="online"&&f.jsxs(f.Fragment,{children:[f.jsxs(ot,{variant:"destructive",onClick:e,disabled:a,className:"bg-red-500/10 hover:bg-red-500/20 text-red-500 border border-red-500/20",children:[f.jsx(tC,{className:"w-4 h-4 mr-2"}),"Xin thua"]}),f.jsxs(ot,{variant:"secondary",onClick:r,disabled:a,className:"bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20",children:[f.jsx(nC,{className:"w-4 h-4 mr-2"}),"Xin ha"]})]})]})}var Lj=w.createContext(void 0);function xp(t){const e=w.useContext(Lj);return t||e||"ltr"}function Fj(t,[e,r]){return Math.min(r,Math.max(e,t))}function zj(t,e){return w.useReducer((r,s)=>e[r][s]??r,t)}var wp="ScrollArea",[l1]=ti(wp),[$j,xn]=l1(wp),u1=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:s="hover",dir:o,scrollHideDelay:a=600,...u}=t,[d,h]=w.useState(null),[m,g]=w.useState(null),[y,x]=w.useState(null),[S,C]=w.useState(null),[_,k]=w.useState(null),[N,T]=w.useState(0),[R,M]=w.useState(0),[$,K]=w.useState(!1),[B,J]=w.useState(!1),q=ur(e,te=>h(te)),U=xp(o);return f.jsx($j,{scope:r,type:s,dir:U,scrollHideDelay:a,scrollArea:d,viewport:m,onViewportChange:g,content:y,onContentChange:x,scrollbarX:S,onScrollbarXChange:C,scrollbarXEnabled:$,onScrollbarXEnabledChange:K,scrollbarY:_,onScrollbarYChange:k,scrollbarYEnabled:B,onScrollbarYEnabledChange:J,onCornerWidthChange:T,onCornerHeightChange:M,children:f.jsx(St.div,{dir:U,...u,ref:q,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":R+"px",...t.style}})})});u1.displayName=wp;var c1="ScrollAreaViewport",d1=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:s,nonce:o,...a}=t,u=xn(c1,r),d=w.useRef(null),h=ur(e,d,u.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),f.jsx(St.div,{"data-radix-scroll-area-viewport":"",...a,ref:h,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:f.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});d1.displayName=c1;var Yn="ScrollAreaScrollbar",bp=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,o=xn(Yn,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:u}=o,d=t.orientation==="horizontal";return w.useEffect(()=>(d?a(!0):u(!0),()=>{d?a(!1):u(!1)}),[d,a,u]),o.type==="hover"?f.jsx(Vj,{...s,ref:e,forceMount:r}):o.type==="scroll"?f.jsx(Bj,{...s,ref:e,forceMount:r}):o.type==="auto"?f.jsx(f1,{...s,ref:e,forceMount:r}):o.type==="always"?f.jsx(Sp,{...s,ref:e}):null});bp.displayName=Yn;var Vj=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,o=xn(Yn,t.__scopeScrollArea),[a,u]=w.useState(!1);return w.useEffect(()=>{const d=o.scrollArea;let h=0;if(d){const m=()=>{window.clearTimeout(h),u(!0)},g=()=>{h=window.setTimeout(()=>u(!1),o.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",g)}}},[o.scrollArea,o.scrollHideDelay]),f.jsx(ri,{present:r||a,children:f.jsx(f1,{"data-state":a?"visible":"hidden",...s,ref:e})})}),Bj=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,o=xn(Yn,t.__scopeScrollArea),a=t.orientation==="horizontal",u=Tc(()=>h("SCROLL_END"),100),[d,h]=zj("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>h("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,o.scrollHideDelay,h]),w.useEffect(()=>{const m=o.viewport,g=a?"scrollLeft":"scrollTop";if(m){let y=m[g];const x=()=>{const S=m[g];y!==S&&(h("SCROLL"),u()),y=S};return m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[o.viewport,a,h,u]),f.jsx(ri,{present:r||d!=="hidden",children:f.jsx(Sp,{"data-state":d==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:ut(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:ut(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),f1=w.forwardRef((t,e)=>{const r=xn(Yn,t.__scopeScrollArea),{forceMount:s,...o}=t,[a,u]=w.useState(!1),d=t.orientation==="horizontal",h=Tc(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,g=r.viewport.offsetHeight<r.viewport.scrollHeight;u(d?m:g)}},10);return So(r.viewport,h),So(r.content,h),f.jsx(ri,{present:s||a,children:f.jsx(Sp,{"data-state":a?"visible":"hidden",...o,ref:e})})}),Sp=w.forwardRef((t,e)=>{const{orientation:r="vertical",...s}=t,o=xn(Yn,t.__scopeScrollArea),a=w.useRef(null),u=w.useRef(0),[d,h]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=v1(d.viewport,d.content),g={...s,sizes:d,onSizesChange:h,hasThumb:m>0&&m<1,onThumbChange:x=>a.current=x,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:x=>u.current=x};function y(x,S){return Kj(x,u.current,d,S)}return r==="horizontal"?f.jsx(Uj,{...g,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const x=o.viewport.scrollLeft,S=K0(x,d,o.dir);a.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollLeft=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollLeft=y(x,o.dir))}}):r==="vertical"?f.jsx(qj,{...g,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const x=o.viewport.scrollTop,S=K0(x,d);a.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollTop=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollTop=y(x))}}):null}),Uj=w.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...o}=t,a=xn(Yn,t.__scopeScrollArea),[u,d]=w.useState(),h=w.useRef(null),m=ur(e,h,a.onScrollbarXChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),f.jsx(p1,{"data-orientation":"horizontal",...o,ref:m,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":kc(r)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.x),onDragScroll:g=>t.onDragScroll(g.x),onWheelScroll:(g,y)=>{if(a.viewport){const x=a.viewport.scrollLeft+g.deltaX;t.onWheelScroll(x),x1(x,y)&&g.preventDefault()}},onResize:()=>{h.current&&a.viewport&&u&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:ec(u.paddingLeft),paddingEnd:ec(u.paddingRight)}})}})}),qj=w.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...o}=t,a=xn(Yn,t.__scopeScrollArea),[u,d]=w.useState(),h=w.useRef(null),m=ur(e,h,a.onScrollbarYChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),f.jsx(p1,{"data-orientation":"vertical",...o,ref:m,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":kc(r)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.y),onDragScroll:g=>t.onDragScroll(g.y),onWheelScroll:(g,y)=>{if(a.viewport){const x=a.viewport.scrollTop+g.deltaY;t.onWheelScroll(x),x1(x,y)&&g.preventDefault()}},onResize:()=>{h.current&&a.viewport&&u&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:ec(u.paddingTop),paddingEnd:ec(u.paddingBottom)}})}})}),[Wj,h1]=l1(Yn),p1=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:o,onThumbChange:a,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:m,onWheelScroll:g,onResize:y,...x}=t,S=xn(Yn,r),[C,_]=w.useState(null),k=ur(e,q=>_(q)),N=w.useRef(null),T=w.useRef(""),R=S.viewport,M=s.content-s.viewport,$=tr(g),K=tr(h),B=Tc(y,10);function J(q){if(N.current){const U=q.clientX-N.current.left,te=q.clientY-N.current.top;m({x:U,y:te})}}return w.useEffect(()=>{const q=U=>{const te=U.target;C?.contains(te)&&$(U,M)};return document.addEventListener("wheel",q,{passive:!1}),()=>document.removeEventListener("wheel",q,{passive:!1})},[R,C,M,$]),w.useEffect(K,[s,K]),So(C,B),So(S.content,B),f.jsx(Wj,{scope:r,scrollbar:C,hasThumb:o,onThumbChange:tr(a),onThumbPointerUp:tr(u),onThumbPositionChange:K,onThumbPointerDown:tr(d),children:f.jsx(St.div,{...x,ref:k,style:{position:"absolute",...x.style},onPointerDown:ut(t.onPointerDown,q=>{q.button===0&&(q.target.setPointerCapture(q.pointerId),N.current=C.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),J(q))}),onPointerMove:ut(t.onPointerMove,J),onPointerUp:ut(t.onPointerUp,q=>{const U=q.target;U.hasPointerCapture(q.pointerId)&&U.releasePointerCapture(q.pointerId),document.body.style.webkitUserSelect=T.current,S.viewport&&(S.viewport.style.scrollBehavior=""),N.current=null})})})}),Ju="ScrollAreaThumb",m1=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,o=h1(Ju,t.__scopeScrollArea);return f.jsx(ri,{present:r||o.hasThumb,children:f.jsx(Hj,{ref:e,...s})})}),Hj=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:s,...o}=t,a=xn(Ju,r),u=h1(Ju,r),{onThumbPositionChange:d}=u,h=ur(e,y=>u.onThumbChange(y)),m=w.useRef(void 0),g=Tc(()=>{m.current&&(m.current(),m.current=void 0)},100);return w.useEffect(()=>{const y=a.viewport;if(y){const x=()=>{if(g(),!m.current){const S=Gj(y,d);m.current=S,d()}};return d(),y.addEventListener("scroll",x),()=>y.removeEventListener("scroll",x)}},[a.viewport,g,d]),f.jsx(St.div,{"data-state":u.hasThumb?"visible":"hidden",...o,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ut(t.onPointerDownCapture,y=>{const S=y.target.getBoundingClientRect(),C=y.clientX-S.left,_=y.clientY-S.top;u.onThumbPointerDown({x:C,y:_})}),onPointerUp:ut(t.onPointerUp,u.onThumbPointerUp)})});m1.displayName=Ju;var _p="ScrollAreaCorner",g1=w.forwardRef((t,e)=>{const r=xn(_p,t.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?f.jsx(Qj,{...t,ref:e}):null});g1.displayName=_p;var Qj=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,...s}=t,o=xn(_p,r),[a,u]=w.useState(0),[d,h]=w.useState(0),m=!!(a&&d);return So(o.scrollbarX,()=>{const g=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(g),h(g)}),So(o.scrollbarY,()=>{const g=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(g),u(g)}),m?f.jsx(St.div,{...s,ref:e,style:{width:a,height:d,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ec(t){return t?parseInt(t,10):0}function v1(t,e){const r=t/e;return isNaN(r)?0:r}function kc(t){const e=v1(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-r)*e;return Math.max(s,18)}function Kj(t,e,r,s="ltr"){const o=kc(r),a=o/2,u=e||a,d=o-u,h=r.scrollbar.paddingStart+u,m=r.scrollbar.size-r.scrollbar.paddingEnd-d,g=r.content-r.viewport,y=s==="ltr"?[0,g]:[g*-1,0];return y1([h,m],y)(t)}function K0(t,e,r="ltr"){const s=kc(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-o,u=e.content-e.viewport,d=a-s,h=r==="ltr"?[0,u]:[u*-1,0],m=Fj(t,h);return y1([0,u],[0,d])(m)}function y1(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(r-t[0])}}function x1(t,e){return t>0&&t<e}var Gj=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},s=0;return(function o(){const a={left:t.scrollLeft,top:t.scrollTop},u=r.left!==a.left,d=r.top!==a.top;(u||d)&&e(),r=a,s=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(s)};function Tc(t,e){const r=tr(t),s=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),w.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,e)},[r,e])}function So(t,e){const r=tr(e);yn(()=>{let s=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return o.observe(t),()=>{window.cancelAnimationFrame(s),o.unobserve(t)}}},[t,r])}var w1=u1,Zj=d1,Yj=g1;const Cp=w.forwardRef(({className:t,children:e,...r},s)=>f.jsxs(w1,{ref:s,className:at("relative overflow-hidden",t),...r,children:[f.jsx(Zj,{className:"h-full w-full rounded-[inherit]",children:e}),f.jsx(b1,{}),f.jsx(Yj,{})]}));Cp.displayName=w1.displayName;const b1=w.forwardRef(({className:t,orientation:e="vertical",...r},s)=>f.jsx(bp,{ref:s,orientation:e,className:at("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:f.jsx(m1,{className:"relative flex-1 rounded-full bg-border"})}));b1.displayName=bp.displayName;function Xj({history:t}){const e=w.useRef(null);w.useEffect(()=>{if(e.current){const s=e.current.querySelector("[data-radix-scroll-area-viewport]");s&&(s.scrollTop=s.scrollHeight)}},[t]);const r=[];for(let s=0;s<t.length;s+=2)r.push({number:Math.floor(s/2)+1,white:t[s],black:t[s+1]||""});return f.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden flex flex-col h-full shadow-lg",children:[f.jsxs("div",{className:"px-4 py-3 bg-white/5 border-b border-white/5 flex justify-between items-center",children:[f.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-slate-400",children:"Move History"}),f.jsxs("span",{className:"text-[10px] bg-indigo-500/20 text-indigo-300 px-2 py-0.5 rounded-full font-mono",children:[t.length," moves"]})]}),f.jsx(Cp,{className:"flex-1 p-4 h-[200px]",ref:e,children:f.jsx("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-y-1 gap-x-2 text-sm font-medium",children:r.map((s,o)=>f.jsxs("div",{className:"contents group",children:[f.jsxs("div",{className:"text-slate-600 font-mono py-1 text-right pr-1 group-hover:text-slate-400 transition-colors",children:[s.number,"."]}),f.jsx("div",{className:"bg-indigo-500/5 text-indigo-200 py-1 px-2 rounded hover:bg-indigo-500/10 transition-colors cursor-default text-center",children:s.white}),f.jsx("div",{className:`py-1 px-2 rounded transition-colors text-center cursor-default ${s.black?"bg-indigo-500/5 text-indigo-200 hover:bg-indigo-500/10":""}`,children:s.black})]},o))})})]})}function Jj({messages:t,onSendMessage:e,disabled:r}){const[s,o]=w.useState(""),a=w.useRef(null);w.useEffect(()=>{if(a.current){const d=a.current.querySelector("[data-radix-scroll-area-viewport]");d&&(d.scrollTop=d.scrollHeight)}},[t]);const u=d=>{d.preventDefault(),s.trim()&&(e(s),o(""))};return f.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden flex flex-col h-[300px] lg:h-full",children:[f.jsx("div",{className:"px-4 py-3 bg-white/5 border-b border-white/5",children:f.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-indigo-400",children:"Tr chuyn trc tip"})}),f.jsx(Cp,{className:"flex-1 p-4",ref:a,children:f.jsxs("div",{className:"space-y-4",children:[t.length===0&&f.jsx("div",{className:"text-center text-slate-600 text-xs mt-4 italic",children:"Cha c tin nhn no. Hy ni xin cho!"}),t.map((d,h)=>f.jsxs("div",{className:`flex flex-col ${d.isMe?"items-end":"items-start"}`,children:[!d.isMe&&f.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 ml-1",children:d.sender}),f.jsx("div",{className:`
                  px-3 py-2 rounded-xl text-sm max-w-[85%] shadow-sm
                  ${d.isMe?"bg-indigo-600 text-white rounded-tr-sm":"bg-slate-800 text-slate-200 border border-white/5 rounded-tl-sm"}
                `,children:d.text})]},h))]})}),f.jsxs("form",{onSubmit:u,className:"p-3 bg-slate-900/50 border-t border-white/5 flex gap-2",children:[f.jsx(Vn,{value:s,onChange:d=>o(d.target.value),placeholder:"Nhp tin nhn...",className:"bg-slate-800 border-none focus-visible:ring-indigo-500/50",disabled:r}),f.jsx(ot,{type:"submit",size:"icon",disabled:r||!s.trim(),className:"bg-indigo-600 hover:bg-indigo-500",children:f.jsx(lC,{className:"w-4 h-4"})})]})]})}function eD({evaluation:t,orientation:e}){const[r,s]=w.useState(50);w.useEffect(()=>{let a=0;if(t.startsWith("M")||t.startsWith("-M"))a=!t.startsWith("-")?100:-100;else{const d=parseFloat(t);isNaN(d)||(a=d)}let u=50+a*5;t.includes("M")&&(t.startsWith("-")?u=0:u=100),u=Math.max(2,Math.min(98,u)),s(u)},[t]);const o=e==="white";return f.jsxs("div",{className:"w-6 h-[400px] md:h-[500px] bg-slate-700 rounded-sm overflow-hidden flex flex-col relative border border-slate-600 shadow-inner",children:[f.jsx("div",{className:"absolute inset-0 bg-[#403d39] w-full h-full"}),f.jsx("div",{className:"absolute w-full bg-white transition-all duration-700 ease-in-out",style:{height:`${r}%`,[o?"bottom":"top"]:0}}),f.jsx("div",{className:`absolute w-full text-center text-[10px] font-bold z-10 
          ${o?r>50?"bottom-1 text-slate-800":"top-1 text-white":r>50?"top-1 text-slate-800":"bottom-1 text-white"}
      `,children:t})]})}function tD({fen:t}){const e=w.useMemo(()=>{const s={p:8,n:2,b:2,r:2,q:1},o={w:{p:0,n:0,b:0,r:0,q:0},b:{p:0,n:0,b:0,r:0,q:0}},a=t.split(" ")[0];for(const h of a){if(h==="/"||!isNaN(parseInt(h)))continue;const m=h===h.toUpperCase()?"w":"b",g=h.toLowerCase();o[m][g]!==void 0&&o[m][g]++}const u=[],d=[];return Object.keys(s).forEach(h=>{for(let m=0;m<s[h]-o.w[h];m++)u.push(`w${h.toUpperCase()}`);for(let m=0;m<s[h]-o.b[h];m++)d.push(`b${h.toUpperCase()}`)}),{whiteCaptured:u,blackCaptured:d}},[t]),r=s=>f.jsx("div",{className:"flex flex-wrap gap-0.5 min-h-[24px]",children:s.map((o,a)=>f.jsx("img",{src:`https://images.chesscomfiles.com/chess-themes/pieces/neo/150/${o.toLowerCase()}.png`,alt:o,className:"w-5 h-5 md:w-6 md:h-6 object-contain opacity-80"},a))});return f.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[f.jsxs("div",{className:"flex justify-between items-center bg-white/5 rounded-lg p-2 border border-white/10",children:[f.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:"Captured by Black"}),r(e.whiteCaptured)]}),f.jsxs("div",{className:"flex justify-between items-center bg-white/5 rounded-lg p-2 border border-white/10",children:[f.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:"Captured by White"}),r(e.blackCaptured)]})]})}function rD(){const{mode:t,id:e}=fy(),[r,s]=ji(),{user:o}=Di(),{toast:a}=ei(),[u,d]=w.useState(new so),[h,m]=w.useState(u.fen()),[g,y]=w.useState([]),[x,S]=w.useState("white"),[C,_]=w.useState(null),[k,N]=w.useState([]),[T,R]=w.useState(!1),[M,$]=w.useState(!0),[K,B]=w.useState(null),[J,q]=w.useState(!1),[U,te]=w.useState(null),[Z,ee]=w.useState(t==="online"),[Y,_e]=w.useState(null),[de,be]=w.useState(null),[W,ce]=w.useState(!1),[oe,j]=w.useState(!1),[X,Ne]=w.useState(typeof navigator<"u"?!navigator.onLine:!1),[ve,Me]=w.useState(6e5),[Ke,Ve]=w.useState(6e5),[We,Le]=w.useState(null),[xt,dr]=w.useState(null),[Qt,Ot]=w.useState(null),[br,qr]=w.useState(null),{isConnected:mt,lastMessage:Te,send:kt}=Bw(t==="online"?e:null,o??null),{bestMove:Sr,evaluation:Or,isThinking:rr,search:P}=dO(),[F,G]=w.useState(t==="online"&&e==="random"),[ge,pe]=w.useState(!1),[ie,ye]=w.useState(!1),Ge=w.useRef(0),lt=w.useRef(null),ft=w.useRef(null),jr=w.useCallback(()=>{if(br&&br.state==="running")return br;const fe=window.AudioContext||window.webkitAudioContext;if(!fe)return null;const me=br||new fe;return me.state==="suspended"&&me.resume().catch(()=>{}),qr(me),me},[br]);w.useEffect(()=>{const fe=()=>{jr(),window.removeEventListener("click",fe),window.removeEventListener("keydown",fe)};return window.addEventListener("click",fe),window.addEventListener("keydown",fe),()=>{window.removeEventListener("click",fe),window.removeEventListener("keydown",fe)}},[jr]);const Wr=w.useCallback(fe=>{try{const me=jr();if(!me)return;const Ae=me.createOscillator(),Be=me.createGain();let A=1040,nt=.12;switch(fe){case"capture":A=720;break;case"check":A=1280,nt=.2;break;case"start":A=960,nt=.3;break;case"end":A=560,nt=.5;break;default:A=1040}Ae.frequency.value=A,Be.gain.value=.3,Be.gain.setValueAtTime(0,me.currentTime),Be.gain.linearRampToValueAtTime(.3,me.currentTime+.02),Be.gain.exponentialRampToValueAtTime(.01,me.currentTime+nt),Ae.connect(Be),Be.connect(me.destination),Ae.start(me.currentTime),Ae.stop(me.currentTime+nt+.1)}catch(me){console.error("Audio playback failed",me)}},[jr]),Tt=w.useCallback((fe,me=!1)=>{const Ae=typeof performance<"u"?performance.now():Date.now();!me&&Ae-Ge.current<80||(Ge.current=Ae,!(!M&&!me)&&Wr(fe))},[M,Wr]),sn=fe=>{const me=Math.max(0,Math.floor(fe/1e3)),Ae=Math.floor(me/60).toString().padStart(2,"0"),Be=(me%60).toString().padStart(2,"0");return`${Ae}:${Be}`},fr=w.useCallback(()=>{const fe=new so;d(fe),m(fe.fen()),y([]),B(null),q(!1),te(null),Me(6e5),Ve(6e5),Le(Date.now()),j(!1),ft.current=null},[]);w.useEffect(()=>{const fe=()=>{Ne(!1),a({title:" kt ni li mng",description:"Bn c th tip tc vn u."})},me=()=>{Ne(!0),a({title:"Mt kt ni mng",description:"Vui lng kim tra li internet ca bn.",variant:"destructive"})};return window.addEventListener("online",fe),window.addEventListener("offline",me),()=>{window.removeEventListener("online",fe),window.removeEventListener("offline",me)}},[a]);const _r=w.useCallback((fe,me,Ae="q")=>{try{const Be=new so(u.fen()),A=Be.move({from:fe,to:me,promotion:Ae});if(A){if(d(Be),m(Be.fen()),y(nt=>{const rt=`${fe}-${me}`;return nt[nt.length-1]===rt?nt:[...nt,rt]}),B({from:fe,to:me}),Le(Date.now()),Be.isGameOver()){q(!0);let nt="Ha";Be.isCheckmate()&&(nt=Be.turn()==="w"?"en thng":"Trng thng"),te(nt),Tt("end"),t==="online"&&(a({title:"Vn u kt thc",description:`${nt}. ang tr v snh chnh...`}),setTimeout(()=>{s("/")},3500))}else Be.inCheck()?Tt("check"):A.captured?Tt("capture"):Tt("move");return!0}}catch(Be){console.error("Invalid move",Be)}return!1},[u,Tt,t,a,s]);w.useEffect(()=>{_e(null),be(null),N([]),q(!1),te(null),_(t==="ai"?"w":null),S("white"),ee(t==="online"),G(t==="online"&&e==="random"),ce(!1),j(!1),Me(6e5),Ve(6e5),Le(null),ye(!1),fr()},[e,t,fr]),w.useEffect(()=>{!o&&t==="online"&&s("/auth")},[o,t,s]),w.useEffect(()=>{t==="ai"&&(_("w"),ee(!1),ce(!0)),t==="online"&&e==="random"&&mt&&!ge&&o&&(pe(!0),kt({type:"find_match",userId:o.id}))},[t,e,o,mt,ge,s,kt]),w.useEffect(()=>{mt||(pe(!1),ye(!1))},[mt]),w.useEffect(()=>{if(t!=="online"||!mt||!o||!e||e==="random"||ie)return;const fe=setTimeout(()=>{kt({type:"join",roomId:e,userId:o.id,username:o.username}),ye(!0)},100);return()=>clearTimeout(fe)},[t,mt,o,e,ie,kt]),w.useEffect(()=>{if(!(!Te||t!=="online"))switch(Te.type){case"match_found":G(!1),Te.roomId&&s(`/game/online/${Te.roomId}`);break;case"move":if(Te?.from&&Te?.to&&Te.fen){const fe=`${Te.from}-${Te.to}-${Te.fen}`;if(ft.current===fe)break;ft.current=fe;try{const me=new so(Te.fen);d(me),m(me.fen()),B({from:Te.from,to:Te.to}),y(Ae=>{const Be=`${Te.from}-${Te.to}`;return Ae[Ae.length-1]===Be?Ae:[...Ae,Be]}),typeof Te.whiteTimeMs=="number"&&Me(Te.whiteTimeMs),typeof Te.blackTimeMs=="number"&&Ve(Te.blackTimeMs),Le(Date.now()),me.inCheck()?Tt("check"):me.history({verbose:!0}).pop()?.captured?Tt("capture"):Tt("move")}catch(me){console.error("Failed to apply remote move",me)}}break;case"chat":if(!Te.text||Te.sender===o?.username)break;N(fe=>{const me=fe[fe.length-1];return me&&!me.isMe&&me.sender===Te.sender&&me.text===Te.text&&Date.now()-me._ts<500?fe:[...fe,{sender:Te.sender,text:Te.text,isMe:!1,_ts:Date.now()}]});break;case"draw_request":if(Te.sender===o?.username||oe)break;j(!0),a({title:"Li mi ha",description:`${Te.sender} mun xin ha vn u.`,action:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ot,{size:"sm",onClick:()=>kt({type:"draw_respond",roomId:e,accepted:!0}),children:"ng "}),f.jsx(ot,{size:"sm",variant:"outline",onClick:()=>kt({type:"draw_respond",roomId:e,accepted:!1}),children:"T chi"})]}),duration:15e3});break;case"draw_respond":Te.accepted?(q(!0),te("Ha (tha thun)"),Tt("end"),a({title:"Vn u kt thc",description:"Hai bn  ng  ha. ang tr v snh chnh..."}),setTimeout(()=>{s("/")},3500)):a({title:"Li mi b t chi",description:"i th mun tip tc nh."}),j(!1);break;case"voice_signal":if(Te.senderId===o?.id)break;if(Te.signal&&Te.signal.type==="audio")try{lt.current||(lt.current=new Audio),lt.current.src=Te.signal.data,lt.current.play().catch(fe=>{console.warn("Voice play failed",fe)})}catch(fe){console.warn("Voice play failed",fe)}break;case"start_game":if(W)break;ce(!0),ee(!1),_(Te.color),S(Te.color==="w"?"white":"black"),fr(),Tt("start"),a({title:"Vn u bt u",description:`Bn cm qun ${Te.color==="w"?"Trng":"en"}`});break;case"game_over":if(J)break;q(!0),te(Te.result),Tt("end"),a({title:"Vn u kt thc",description:`Kt qu: ${Te.result}. ang tr v snh chnh...`}),j(!1),setTimeout(()=>{s("/")},3500);break;case"state":if(Te.fen){const fe=new so(Te.fen);d(fe),m(fe.fen()),y([]),B(null),ee(!1),ce(!0),typeof Te.whiteTimeMs=="number"&&Me(Te.whiteTimeMs),typeof Te.blackTimeMs=="number"&&Ve(Te.blackTimeMs),Le(Date.now())}break;case"role":{const fe=Te.role;fe==="w"||fe==="b"?(_(fe),S(fe==="w"?"white":"black")):_(null),typeof Te.waiting=="boolean"?ee(Te.waiting):ee(!1);break}case"stats":typeof Te.count=="number"&&_e(Te.count);break;case"opponent_info":typeof Te.id=="number"&&be({id:Te.id,username:Te.username||"i th"});break}},[e,Te,t,Tt,fr,_r,a,o,kt,s,W,oe,J]),w.useEffect(()=>{t==="ai"&&u.turn()==="b"&&!u.isGameOver()&&P(u.fen())},[h,t,u,P]),w.useEffect(()=>{t==="ai"&&Sr&&u.turn()==="b"&&_r(Sr.from,Sr.to,"q")},[Sr,u,_r]),w.useEffect(()=>{if(!T||!mt||t!=="online"){xt&&(xt.state!=="inactive"&&xt.stop(),dr(null)),Qt&&(Qt.getTracks().forEach(me=>me.stop()),Ot(null));return}let fe;if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){R(!1),a({title:"Mic khng c h tr",description:"Trnh duyt ca bn khng h tr m mic.",variant:"destructive"});return}return navigator.mediaDevices.getUserMedia({audio:!0}).then(me=>{fe=new MediaRecorder(me),Ot(me),fe.ondataavailable=async Ae=>{if(Ae.data.size>0&&mt){const Be=new FileReader;Be.onloadend=()=>{const A=Be.result;kt({type:"voice_signal",roomId:e,senderId:o?.id,signal:{type:"audio",data:A}})},Be.readAsDataURL(Ae.data)}},fe.start(500),dr(fe)}).catch(me=>{console.error("Mic access error",me),R(!1),Qt&&(Qt.getTracks().forEach(Ae=>Ae.stop()),Ot(null)),a({title:"Li truy cp Mic",description:"Vui lng cho php truy cp micro  s dng tnh nng ny.",variant:"destructive"})}),()=>{fe&&fe.state!=="inactive"&&fe.stop(),Qt&&(Qt.getTracks().forEach(me=>me.stop()),Ot(null))}},[T,mt,e,o,kt,a,t]),w.useEffect(()=>{if(t!=="online"||J||Z||!W||!mt){Le(null);return}We||Le(Date.now());const fe=setInterval(()=>{Le(me=>{const Ae=Date.now(),A=Ae-(me??Ae),nt=Math.min(A,2e3);return nt<=0||(u.turn()==="w"?Me(rt=>Math.max(0,rt-nt)):Ve(rt=>Math.max(0,rt-nt))),Ae})},100);return()=>clearInterval(fe)},[t,J,Z,W,mt,u,We]);const Lr=w.useCallback((fe,me,Ae="q")=>{if(u.isGameOver()||Z)return!1;if(t==="online"){if(!C||u.turn()!==C)return!1;if(!mt||!e)return a({title:"Mt kt ni",description:"ang c gng kt ni li...",variant:"destructive"}),!1;try{const A=new so(u.fen());if(!A.move({from:fe,to:me,promotion:Ae}))return!1;const rt=A.fen();if(d(A),m(rt),B({from:fe,to:me}),y(Bt=>{const le=`${fe}-${me}`;return Bt[Bt.length-1]===le?Bt:[...Bt,le]}),Le(Date.now()),Tt("move"),kt({type:"move",roomId:e,move:{from:fe,to:me},fen:rt,promotion:Ae}),A.isGameOver()){let Bt="Ha",le;A.isCheckmate()&&(Bt=A.turn()==="w"?"en thng":"Trng thng",le=A.turn()==="w"?"b":"w"),kt({type:"game_over",roomId:e,result:Bt,winnerColor:le})}return!0}catch(A){return console.error("Invalid online move",A),!1}}return t==="ai"&&u.turn()==="b"?!1:_r(fe,me,Ae)},[u,t,C,mt,kt,_r,e,Z,a,Tt]);if(F)return f.jsxs("div",{className:"min-h-screen bg-[#020617] flex items-center justify-center overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,rgba(79,70,229,0.15)_0%,transparent_70%)]"}),f.jsxs("div",{className:"text-center relative z-10 p-12 glass-card rounded-3xl border border-white/10 animate-in zoom-in-95 duration-500",children:[f.jsx("div",{className:"w-24 h-24 border-8 border-indigo-500/20 border-t-indigo-500 rounded-full animate-spin mx-auto mb-8 shadow-[0_0_40px_rgba(79,70,229,0.3)]"}),f.jsx("h2",{className:"text-4xl font-black italic text-white mb-4 tracking-tighter uppercase",children:"ang tm i th"}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-sm animate-pulse",children:"ang ghp trn vi k th xng tm..."}),f.jsx(ot,{variant:"ghost",className:"mt-8 text-slate-500 hover:text-white",onClick:()=>s("/"),children:"Hy tm kim"})]})]});const on=w.useCallback(fe=>{const me=fe.trim();if(me)if(t==="online"){const Ae=o?.username||"Ti";N(Be=>[...Be,{sender:Ae,text:me,isMe:!0}]),kt({type:"chat",roomId:e,text:me,sender:Ae})}else N(Ae=>[...Ae,{sender:"Ti",text:me,isMe:!0}])},[t,kt,o,e,N]),an=w.useCallback(()=>{navigator.clipboard.writeText(e||""),a({title:" sao chp",description:"M phng  c sao chp."})},[e,a]);w.useMemo(()=>t==="ai"?"Bn u vi AI":t==="offline"?"Chi Offline":C?C==="w"?"Bn cm qun Trng":"Bn cm qun en":"ang xem trn",[t,C]);const hr=t==="online"&&!C,it=t==="online"?!C||Z:!1,Ct=Y!==null?Math.min(Y,2):null,Et=Y!==null?Math.max(Y-2,0):null;return f.jsxs("div",{className:"min-h-screen bg-[#020617] text-white p-4 md:p-6 lg:p-8 relative",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsxs("header",{className:"max-w-7xl mx-auto mb-6 flex items-center justify-between glass-card p-4 rounded-2xl",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(ot,{variant:"ghost",size:"icon",onClick:()=>s("/"),className:"hover:bg-white/10 rounded-xl",children:f.jsx(ix,{className:"w-5 h-5 text-slate-400"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-xl font-black italic tracking-tighter text-white",children:["Chess",f.jsx("span",{className:"text-indigo-500",children:"Pro"})]}),t==="online"&&de?f.jsxs("div",{className:"mt-1 text-xs text-slate-300",children:["i th: ",f.jsx("span",{className:"font-bold text-white",children:de.username})]}):f.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-[0.2em]",children:"c vua ca ngi vit"}),f.jsx("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500 uppercase tracking-widest mt-1",children:t==="online"?f.jsxs(f.Fragment,{children:[f.jsxs("span",{className:`flex items-center gap-1 ${X||!mt?"text-red-500":"text-emerald-500"}`,children:[X||!mt?f.jsx(Rv,{className:"w-3 h-3"}):f.jsx(dC,{className:"w-3 h-3"}),X?"Mt mng":mt?" kt ni":"Mt kt ni"]}),f.jsx("span",{className:"text-slate-700 mx-1",children:""}),f.jsxs("span",{children:["Phng: ",e]}),f.jsx("button",{onClick:an,className:"hover:text-white transition-colors",children:f.jsx(Ov,{className:"w-3 h-3 ml-1"})}),Ct!==null&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-slate-700 mx-1",children:""}),f.jsxs("span",{className:"text-slate-500 hidden md:inline",children:[Ct," chi",Et&&Et>0?` / ${Et} xem`:""]})]})]}):f.jsx("span",{children:t==="ai"?"u vi Stockfish 15":"Chi trn cng my"})})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[t==="ai"&&f.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[f.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-500 tracking-wider",children:"nh gi"}),f.jsx("span",{className:`text-sm font-mono font-bold ${Or.includes("-")?"text-red-400":"text-emerald-400"}`,children:Or})]}),f.jsxs("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg relative group cursor-help",children:[f.jsx(uc,{className:"w-5 h-5 text-white"}),f.jsx("div",{className:"absolute top-12 right-0 w-max bg-black/80 p-2 rounded text-xs hidden group-hover:block z-50 border border-white/10",children:"Vua c"})]})]})]}),f.jsxs("main",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-[1fr_350px] gap-6 items-start",children:[f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs("div",{className:"glass-card p-6 md:p-10 rounded-[2.5rem] flex flex-col justify-center items-center relative min-h-[500px] border border-white/5 shadow-2xl",children:[rr&&f.jsxs("div",{className:"absolute top-6 right-6 flex items-center gap-2 bg-black/60 px-4 py-2 rounded-2xl border border-yellow-500/30 z-10 animate-in slide-in-from-right-5 duration-300 shadow-xl backdrop-blur-md",children:[f.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-ping"}),f.jsx("span",{className:"text-[10px] font-black text-yellow-400 uppercase tracking-[0.2em]",children:"AI ang tnh..."})]}),!mt&&t==="online"&&f.jsx("div",{className:"absolute inset-0 z-50 bg-black/60 backdrop-blur-sm rounded-[2.5rem] flex items-center justify-center",children:f.jsxs("div",{className:"text-center p-8 glass-card border-red-500/30 rounded-3xl max-w-sm animate-pulse",children:[f.jsx(Rv,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),f.jsx("h3",{className:"text-xl font-black italic mb-2 tracking-tight text-red-500",children:"MT KT NI"}),f.jsx("p",{className:"text-slate-400 text-sm font-bold uppercase tracking-widest",children:"ang th kt ni li..."})]})}),Z&&t==="online"&&!hr&&mt&&f.jsx("div",{className:"absolute inset-0 z-40 bg-black/40 backdrop-blur-sm rounded-[2.5rem] flex items-center justify-center",children:f.jsxs("div",{className:"text-center p-8 glass-card border-white/10 rounded-3xl max-w-sm",children:[f.jsx(lx,{className:"w-12 h-12 text-indigo-400 mx-auto mb-4 animate-pulse"}),f.jsx("h3",{className:"text-xl font-black italic mb-2 tracking-tight",children:"ANG CH I TH"}),f.jsxs("p",{className:"text-slate-400 text-sm font-bold uppercase tracking-widest",children:["Gi m phng: ",f.jsx("span",{className:"text-white select-all",children:e})]}),f.jsxs(ot,{variant:"outline",size:"sm",onClick:an,className:"mt-4 border-white/10 hover:bg-white/5 rounded-xl font-bold",children:[f.jsx(Ov,{className:"w-4 h-4 mr-2"})," Sao chp m"]})]})}),f.jsxs("div",{className:"flex gap-8 items-center w-full justify-center",children:[(t==="ai"||hr)&&f.jsx(eD,{evaluation:Or,orientation:x}),f.jsxs("div",{className:"flex flex-col gap-6 w-full max-w-[600px]",children:[f.jsx(Aj,{game:u,onMove:Lr,orientation:x,isThinking:rr,disabled:it||!mt,lastMove:K,onReset:fr}),f.jsx(tD,{fen:h})]})]})]}),f.jsxs("div",{className:"glass-card p-6 rounded-3xl flex flex-col md:flex-row justify-between items-center gap-6 border border-white/5 shadow-xl",children:[f.jsxs("div",{className:"flex items-center gap-5 w-full md:w-auto",children:[f.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center border transition-all duration-500 shrink-0 ${u.turn()==="w"?"bg-white border-white":"bg-slate-800 border-white/10"}`,children:f.jsx("div",{className:`w-8 h-8 rounded-full ${u.turn()==="w"?"bg-slate-900":"bg-white"}`})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.3em] mb-1",children:"Lt i"}),f.jsxs("div",{className:"text-2xl font-black italic text-indigo-400 tracking-tight",children:[u.turn()==="w"?"Trng":"en"," ang i"]}),t==="online"&&f.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-[11px] font-mono w-full max-w-[300px]",children:[f.jsxs("div",{className:`flex items-center justify-between gap-2 px-3 py-1.5 rounded-lg border transition-colors ${u.turn()==="w"?"border-emerald-500/70 bg-emerald-500/10 text-emerald-200":"border-white/5 text-slate-400 bg-white/5"}`,children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-white border border-slate-400"}),f.jsx("span",{className:"uppercase tracking-widest text-[9px] font-bold",children:C==="w"?"BN":"I TH"})]}),f.jsx("span",{className:"font-bold",children:sn(ve)})]}),f.jsxs("div",{className:`flex items-center justify-between gap-2 px-3 py-1.5 rounded-lg border transition-colors ${u.turn()==="b"?"border-emerald-500/70 bg-emerald-500/10 text-emerald-200":"border-white/5 text-slate-400 bg-white/5"}`,children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-black border border-slate-600"}),f.jsx("span",{className:"uppercase tracking-widest text-[9px] font-bold",children:C==="b"?"BN":"I TH"})]}),f.jsx("span",{className:"font-bold",children:sn(Ke)})]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Mj,{onFlip:()=>S(fe=>fe==="white"?"black":"white"),onResign:()=>{hr||window.confirm("Bn chc chn mun xin thua?")&&kt({type:"game_over",roomId:e,result:C==="w"?"en thng (Xin thua)":"Trng thng (Xin thua)"})},onDraw:()=>{if(!(hr||J||!mt)){if(oe){a({title:" gi li mi",description:"ang ch hi m..."});return}j(!0),kt({type:"draw_request",roomId:e,sender:o?.username}),a({title:" gi li mi ha",description:"ang ch i th..."})}},onReset:fr,gameMode:t,disabled:hr||!mt}),f.jsx("div",{className:"h-10 w-[1px] bg-white/10 mx-2"}),f.jsx(ot,{variant:"outline",size:"icon",onClick:()=>{$(fe=>{const me=!fe;return me&&Tt("move",!0),me})},className:`w-12 h-12 rounded-2xl transition-all duration-300 ${M?"bg-slate-800 border-white/10 text-slate-100":"bg-slate-900 border-slate-600 text-slate-500"}`,title:M?"Tt m thanh":"Bt m thanh",children:M?f.jsx(uC,{className:"w-5 h-5"}):f.jsx(cC,{className:"w-5 h-5"})}),f.jsx(ot,{variant:"outline",size:"icon",onClick:()=>{if(t!=="online"||hr||!mt){a({title:"Khng th bt Mic",description:"Mic ch kh dng khi ang chi Online.",variant:"destructive"});return}R(fe=>!fe)},className:`w-12 h-12 rounded-2xl transition-all duration-300 ${T?"bg-indigo-500 text-white border-transparent shadow-[0_0_15px_rgba(79,70,229,0.5)]":"bg-slate-800 border-white/10 text-slate-400"}`,title:T?"Tt Mic":"Bt Mic",children:T?f.jsx(iC,{className:"w-5 h-5 animate-pulse"}):f.jsx(sC,{className:"w-5 h-5"})})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-1 gap-6 h-full content-start",children:[f.jsx(Xj,{history:g}),f.jsx(Jj,{messages:k,onSendMessage:on,disabled:t==="ai"})]})]})]})}var Wf="rovingFocusGroup.onEntryFocus",nD={bubbles:!1,cancelable:!0},Ec="RovingFocusGroup",[Oh,S1,sD]=jy(Ec),[iD,_1]=ti(Ec,[sD]),[oD,aD]=iD(Ec),C1=w.forwardRef((t,e)=>f.jsx(Oh.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Oh.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(lD,{...t,ref:e})})}));C1.displayName=Ec;var lD=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:o=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...y}=t,x=w.useRef(null),S=ur(e,x),C=xp(a),[_=null,k]=Bh({prop:u,defaultProp:d,onChange:h}),[N,T]=w.useState(!1),R=tr(m),M=S1(r),$=w.useRef(!1),[K,B]=w.useState(0);return w.useEffect(()=>{const J=x.current;if(J)return J.addEventListener(Wf,R),()=>J.removeEventListener(Wf,R)},[R]),f.jsx(oD,{scope:r,orientation:s,dir:C,loop:o,currentTabStopId:_,onItemFocus:w.useCallback(J=>k(J),[k]),onItemShiftTab:w.useCallback(()=>T(!0),[]),onFocusableItemAdd:w.useCallback(()=>B(J=>J+1),[]),onFocusableItemRemove:w.useCallback(()=>B(J=>J-1),[]),children:f.jsx(St.div,{tabIndex:N||K===0?-1:0,"data-orientation":s,...y,ref:S,style:{outline:"none",...t.style},onMouseDown:ut(t.onMouseDown,()=>{$.current=!0}),onFocus:ut(t.onFocus,J=>{const q=!$.current;if(J.target===J.currentTarget&&q&&!N){const U=new CustomEvent(Wf,nD);if(J.currentTarget.dispatchEvent(U),!U.defaultPrevented){const te=M().filter(de=>de.focusable),Z=te.find(de=>de.active),ee=te.find(de=>de.id===_),_e=[Z,ee,...te].filter(Boolean).map(de=>de.ref.current);E1(_e,g)}}$.current=!1}),onBlur:ut(t.onBlur,()=>T(!1))})})}),k1="RovingFocusGroupItem",T1=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:o=!1,tabStopId:a,...u}=t,d=xx(),h=a||d,m=aD(k1,r),g=m.currentTabStopId===h,y=S1(r),{onFocusableItemAdd:x,onFocusableItemRemove:S}=m;return w.useEffect(()=>{if(s)return x(),()=>S()},[s,x,S]),f.jsx(Oh.ItemSlot,{scope:r,id:h,focusable:s,active:o,children:f.jsx(St.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:ut(t.onMouseDown,C=>{s?m.onItemFocus(h):C.preventDefault()}),onFocus:ut(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:ut(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){m.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const _=dD(C,m.orientation,m.dir);if(_!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let N=y().filter(T=>T.focusable).map(T=>T.ref.current);if(_==="last")N.reverse();else if(_==="prev"||_==="next"){_==="prev"&&N.reverse();const T=N.indexOf(C.currentTarget);N=m.loop?fD(N,T+1):N.slice(T+1)}setTimeout(()=>E1(N))}})})})});T1.displayName=k1;var uD={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cD(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function dD(t,e,r){const s=cD(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return uD[s]}function E1(t,e=!1){const r=document.activeElement;for(const s of t)if(s===r||(s.focus({preventScroll:e}),document.activeElement!==r))return}function fD(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var hD=C1,pD=T1,kp="Tabs",[mD]=ti(kp,[_1]),N1=_1(),[gD,Tp]=mD(kp),P1=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,onValueChange:o,defaultValue:a,orientation:u="horizontal",dir:d,activationMode:h="automatic",...m}=t,g=xp(d),[y,x]=Bh({prop:s,onChange:o,defaultProp:a});return f.jsx(gD,{scope:r,baseId:xx(),value:y,onValueChange:x,orientation:u,dir:g,activationMode:h,children:f.jsx(St.div,{dir:g,"data-orientation":u,...m,ref:e})})});P1.displayName=kp;var O1="TabsList",j1=w.forwardRef((t,e)=>{const{__scopeTabs:r,loop:s=!0,...o}=t,a=Tp(O1,r),u=N1(r);return f.jsx(hD,{asChild:!0,...u,orientation:a.orientation,dir:a.dir,loop:s,children:f.jsx(St.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});j1.displayName=O1;var D1="TabsTrigger",R1=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,disabled:o=!1,...a}=t,u=Tp(D1,r),d=N1(r),h=M1(u.baseId,s),m=L1(u.baseId,s),g=s===u.value;return f.jsx(pD,{asChild:!0,...d,focusable:!o,active:g,children:f.jsx(St.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...a,ref:e,onMouseDown:ut(t.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?u.onValueChange(s):y.preventDefault()}),onKeyDown:ut(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(s)}),onFocus:ut(t.onFocus,()=>{const y=u.activationMode!=="manual";!g&&!o&&y&&u.onValueChange(s)})})})});R1.displayName=D1;var I1="TabsContent",A1=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,forceMount:o,children:a,...u}=t,d=Tp(I1,r),h=M1(d.baseId,s),m=L1(d.baseId,s),g=s===d.value,y=w.useRef(g);return w.useEffect(()=>{const x=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(x)},[]),f.jsx(ri,{present:o||g,children:({present:x})=>f.jsx(St.div,{"data-state":g?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:m,tabIndex:0,...u,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:x&&a})})});A1.displayName=I1;function M1(t,e){return`${t}-trigger-${e}`}function L1(t,e){return`${t}-content-${e}`}var vD=P1,F1=j1,z1=R1,$1=A1;const yD=vD,V1=w.forwardRef(({className:t,...e},r)=>f.jsx(F1,{ref:r,className:at("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));V1.displayName=F1.displayName;const jh=w.forwardRef(({className:t,...e},r)=>f.jsx(z1,{ref:r,className:at("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));jh.displayName=z1.displayName;const Dh=w.forwardRef(({className:t,...e},r)=>f.jsx($1,{ref:r,className:at("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Dh.displayName=$1.displayName;const B1=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:r,className:at("w-full caption-bottom text-sm",t),...e})}));B1.displayName="Table";const U1=w.forwardRef(({className:t,...e},r)=>f.jsx("thead",{ref:r,className:at("[&_tr]:border-b",t),...e}));U1.displayName="TableHeader";const q1=w.forwardRef(({className:t,...e},r)=>f.jsx("tbody",{ref:r,className:at("[&_tr:last-child]:border-0",t),...e}));q1.displayName="TableBody";const xD=w.forwardRef(({className:t,...e},r)=>f.jsx("tfoot",{ref:r,className:at("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));xD.displayName="TableFooter";const Rh=w.forwardRef(({className:t,...e},r)=>f.jsx("tr",{ref:r,className:at("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Rh.displayName="TableRow";const _a=w.forwardRef(({className:t,...e},r)=>f.jsx("th",{ref:r,className:at("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));_a.displayName="TableHead";const Ca=w.forwardRef(({className:t,...e},r)=>f.jsx("td",{ref:r,className:at("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ca.displayName="TableCell";const wD=w.forwardRef(({className:t,...e},r)=>f.jsx("caption",{ref:r,className:at("mt-4 text-sm text-muted-foreground",t),...e}));wD.displayName="TableCaption";var Ep="Avatar",[bD]=ti(Ep),[SD,W1]=bD(Ep),H1=w.forwardRef((t,e)=>{const{__scopeAvatar:r,...s}=t,[o,a]=w.useState("idle");return f.jsx(SD,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:f.jsx(St.span,{...s,ref:e})})});H1.displayName=Ep;var Q1="AvatarImage",K1=w.forwardRef((t,e)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:o=()=>{},...a}=t,u=W1(Q1,r),d=_D(s,a),h=tr(m=>{o(m),u.onImageLoadingStatusChange(m)});return yn(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?f.jsx(St.img,{...a,ref:e,src:s}):null});K1.displayName=Q1;var G1="AvatarFallback",Z1=w.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:s,...o}=t,a=W1(G1,r),[u,d]=w.useState(s===void 0);return w.useEffect(()=>{if(s!==void 0){const h=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(h)}},[s]),u&&a.imageLoadingStatus!=="loaded"?f.jsx(St.span,{...o,ref:e}):null});Z1.displayName=G1;function G0(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function _D(t,{referrerPolicy:e,crossOrigin:r}){const s=kD(),o=w.useRef(null),a=s?(o.current||(o.current=new window.Image),o.current):null,[u,d]=w.useState(()=>G0(a,t));return yn(()=>{d(G0(a,t))},[a,t]),yn(()=>{const h=y=>()=>{d(y)};if(!a)return;const m=h("loaded"),g=h("error");return a.addEventListener("load",m),a.addEventListener("error",g),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",m),a.removeEventListener("error",g)}},[a,r,e]),u}function CD(){return()=>{}}function kD(){return w.useSyncExternalStore(CD,()=>!0,()=>!1)}var Y1=H1,X1=K1,J1=Z1;const eb=w.forwardRef(({className:t,...e},r)=>f.jsx(Y1,{ref:r,className:at(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));eb.displayName=Y1.displayName;const TD=w.forwardRef(({className:t,...e},r)=>f.jsx(X1,{ref:r,className:at("aspect-square h-full w-full",t),...e}));TD.displayName=X1.displayName;const tb=w.forwardRef(({className:t,...e},r)=>f.jsx(J1,{ref:r,className:at("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));tb.displayName=J1.displayName;const ED="auth_token";function ND(){try{return localStorage.getItem(ED)}catch{return null}}function PD(){const{user:t}=Di(),{toast:e}=ei(),[r,s]=ji(),[o,a]=w.useState(""),[u,d]=w.useState(null),{data:h,isLoading:m}=Du({queryKey:["/api/leaderboard"]}),{data:g}=Du({queryKey:["/api/users/search",o],queryFn:async()=>o?(await fetch(`${tn}/api/users/search?q=${encodeURIComponent(o)}`)).json():[],enabled:o.length>0});return f.jsxs("div",{className:"min-h-screen bg-[#020617] text-white relative p-6",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[f.jsx(ot,{variant:"ghost",size:"icon",onClick:()=>s("/"),children:f.jsx(X_,{className:"w-6 h-6"})}),f.jsxs("h1",{className:"text-3xl font-black italic tracking-tighter",children:["Cng ng",f.jsx("span",{className:"text-indigo-500",children:"Hub"})]})]}),u&&f.jsxs(Bn,{className:"bg-indigo-600/10 border-indigo-500/30 backdrop-blur-md mb-8",children:[f.jsxs(hs,{className:"flex flex-row items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 rounded-2xl bg-indigo-500/20 flex items-center justify-center border border-indigo-500/30",children:f.jsx(Dv,{className:"w-8 h-8 text-indigo-400"})}),f.jsxs("div",{children:[f.jsx(ps,{className:"text-2xl text-white",children:u.username}),f.jsxs(xw,{className:"text-indigo-300",children:["Hng: ",u.rating," Elo"]})]})]}),f.jsx(ot,{variant:"outline",size:"sm",onClick:()=>d(null),children:"ng"})]}),f.jsxs(Un,{children:[f.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10 text-center",children:[f.jsx("div",{className:"text-sm text-slate-400",children:"Thng"}),f.jsx("div",{className:"text-xl font-bold text-emerald-400",children:u.wins||0})]}),f.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10 text-center",children:[f.jsx("div",{className:"text-sm text-slate-400",children:"Thua"}),f.jsx("div",{className:"text-xl font-bold text-red-400",children:u.losses||0})]}),f.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10 text-center",children:[f.jsx("div",{className:"text-sm text-slate-400",children:"Ha"}),f.jsx("div",{className:"text-xl font-bold text-amber-400",children:u.draws||0})]})]}),f.jsxs(ot,{className:"w-full bg-indigo-500 hover:bg-indigo-600",onClick:async()=>{const y=$w(6).toUpperCase();try{const x=ND();(await fetch(`${tn}/api/invite`,{method:"POST",headers:x?{"Content-Type":"application/json",Authorization:`Bearer ${x}`}:{"Content-Type":"application/json"},body:JSON.stringify({toUserId:u.id,roomId:y})})).ok&&(e({title:" gi li mi",description:`ang ch ${u.username} chp nhn...`}),s(`/game/online/${y}`))}catch(x){console.error("Send invite failed",x)}},children:[f.jsx(ax,{className:"w-4 h-4 mr-2"}),"Gi li mi thch u"]})]})]}),f.jsxs(yD,{defaultValue:"leaderboard",className:"w-full",children:[f.jsxs(V1,{className:"grid w-full grid-cols-2 bg-slate-900/50 p-1 rounded-xl mb-8",children:[f.jsxs(jh,{value:"leaderboard",className:"rounded-lg data-[state=active]:bg-indigo-600 data-[state=active]:text-white",children:[f.jsx(cc,{className:"w-4 h-4 mr-2"}),"Bng xp hng"]}),f.jsxs(jh,{value:"search",className:"rounded-lg data-[state=active]:bg-indigo-600 data-[state=active]:text-white",children:[f.jsx(jv,{className:"w-4 h-4 mr-2"}),"Tm ngi chi"]})]}),f.jsx(Dh,{value:"leaderboard",children:f.jsxs(Bn,{className:"glass-card border-none text-slate-200",children:[f.jsx(hs,{children:f.jsxs(ps,{className:"flex items-center gap-2",children:[f.jsx(uc,{className:"w-6 h-6 text-yellow-500"}),"Cao th hng u"]})}),f.jsx(Un,{children:m?f.jsx("div",{className:"text-center py-8 text-slate-500",children:"ang ti..."}):f.jsxs(B1,{children:[f.jsx(U1,{children:f.jsxs(Rh,{className:"hover:bg-transparent border-white/10",children:[f.jsx(_a,{className:"text-slate-400",children:"Hng"}),f.jsx(_a,{className:"text-slate-400",children:"Ngi chi"}),f.jsx(_a,{className:"text-right text-slate-400",children:"Elo"}),f.jsx(_a,{className:"text-right text-slate-400",children:"Vn"})]})}),f.jsx(q1,{children:h?.map((y,x)=>f.jsxs(Rh,{className:"hover:bg-white/5 border-white/5 cursor-pointer",onClick:()=>d(y),children:[f.jsxs(Ca,{className:"font-bold",children:[x===0&&f.jsx("span",{className:"text-yellow-500",children:""}),x===1&&f.jsx("span",{className:"text-slate-400",children:""}),x===2&&f.jsx("span",{className:"text-amber-700",children:""}),x>2&&f.jsxs("span",{className:"text-slate-500",children:["#",x+1]})]}),f.jsx(Ca,{className:"font-medium text-indigo-300",children:f.jsxs("div",{className:"flex items-center gap-2",children:[y.username,y.id!==t?.id&&f.jsx(ot,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:S=>{S.stopPropagation(),d(y)},children:f.jsx(Dv,{className:"w-3 h-3"})})]})}),f.jsx(Ca,{className:"text-right font-mono font-bold",children:y.rating}),f.jsx(Ca,{className:"text-right text-slate-500",children:y.gamesPlayed})]},y.id))})]})})]})}),f.jsx(Dh,{value:"search",children:f.jsxs(Bn,{className:"glass-card border-none text-slate-200",children:[f.jsxs(hs,{children:[f.jsx(ps,{children:"Tm ngi chi"}),f.jsxs("div",{className:"relative",children:[f.jsx(jv,{className:"absolute left-3 top-3 h-4 w-4 text-slate-500"}),f.jsx(Vn,{placeholder:"Tm theo tn ti khon...",className:"pl-10 bg-slate-900/50 border-white/10 text-white",value:o,onChange:y=>a(y.target.value)})]})]}),f.jsx(Un,{children:f.jsxs("div",{className:"space-y-4",children:[g?.map(y=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-900/30 rounded-xl border border-white/5 cursor-pointer hover:border-indigo-500/50 transition-all",onClick:()=>d(y),children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(eb,{children:f.jsx(tb,{className:"bg-indigo-600 text-white",children:y.username.substring(0,2).toUpperCase()})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-white",children:y.username}),f.jsxs("div",{className:"text-xs text-slate-500",children:["Elo: ",y.rating]})]})]}),f.jsx("div",{className:"flex gap-2",children:f.jsx(ot,{size:"sm",variant:"secondary",className:"bg-white/10 hover:bg-white/20",onClick:x=>{x.stopPropagation(),d(y)},children:"Xem Profile"})})]},y.id)),o&&g?.length===0&&f.jsx("div",{className:"text-center text-slate-500 py-8",children:"Khng tm thy ngi chi no"})]})})]})})]})]})]})}function Mn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Oi(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const rb=6048e5,OD=864e5;let jD={};function Nc(){return jD}function Ga(t,e){const r=Nc(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Mn(t),a=o.getDay(),u=(a<s?7:0)+a-s;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function tc(t){return Ga(t,{weekStartsOn:1})}function nb(t){const e=Mn(t),r=e.getFullYear(),s=Oi(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=tc(s),a=Oi(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const u=tc(a);return e.getTime()>=o.getTime()?r+1:e.getTime()>=u.getTime()?r:r-1}function Z0(t){const e=Mn(t);return e.setHours(0,0,0,0),e}function Y0(t){const e=Mn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function DD(t,e){const r=Z0(t),s=Z0(e),o=+r-Y0(r),a=+s-Y0(s);return Math.round((o-a)/OD)}function RD(t){const e=nb(t),r=Oi(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),tc(r)}function ID(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function AD(t){if(!ID(t)&&typeof t!="number")return!1;const e=Mn(t);return!isNaN(Number(e))}function MD(t){const e=Mn(t),r=Oi(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const LD={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},FD=(t,e,r)=>{let s;const o=LD[t];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Hf(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const zD={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$D={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VD={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BD={date:Hf({formats:zD,defaultWidth:"full"}),time:Hf({formats:$D,defaultWidth:"full"}),dateTime:Hf({formats:VD,defaultWidth:"full"})},UD={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qD=(t,e,r,s)=>UD[t];function va(t){return(e,r)=>{const s=r?.context?String(r.context):"standalone";let o;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,d=r?.width?String(r.width):u;o=t.formattingValues[d]||t.formattingValues[u]}else{const u=t.defaultWidth,d=r?.width?String(r.width):t.defaultWidth;o=t.values[d]||t.values[u]}const a=t.argumentCallback?t.argumentCallback(e):e;return o[a]}}const WD={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},HD={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},QD={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},KD={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},GD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZD={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},YD=(t,e)=>{const r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},XD={ordinalNumber:YD,era:va({values:WD,defaultWidth:"wide"}),quarter:va({values:HD,defaultWidth:"wide",argumentCallback:t=>t-1}),month:va({values:QD,defaultWidth:"wide"}),day:va({values:KD,defaultWidth:"wide"}),dayPeriod:va({values:GD,defaultWidth:"wide",formattingValues:ZD,defaultFormattingWidth:"wide"})};function ya(t){return(e,r={})=>{const s=r.width,o=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],a=e.match(o);if(!a)return null;const u=a[0],d=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?eR(d,y=>y.test(u)):JD(d,y=>y.test(u));let m;m=t.valueCallback?t.valueCallback(h):h,m=r.valueCallback?r.valueCallback(m):m;const g=e.slice(u.length);return{value:m,rest:g}}}function JD(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function eR(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function tR(t){return(e,r={})=>{const s=e.match(t.matchPattern);if(!s)return null;const o=s[0],a=e.match(t.parsePattern);if(!a)return null;let u=t.valueCallback?t.valueCallback(a[0]):a[0];u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}const rR=/^(\d+)(th|st|nd|rd)?/i,nR=/\d+/i,sR={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},iR={any:[/^b/i,/^(a|c)/i]},oR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aR={any:[/1/i,/2/i,/3/i,/4/i]},lR={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uR={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cR={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dR={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fR={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},hR={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pR={ordinalNumber:tR({matchPattern:rR,parsePattern:nR,valueCallback:t=>parseInt(t,10)}),era:ya({matchPatterns:sR,defaultMatchWidth:"wide",parsePatterns:iR,defaultParseWidth:"any"}),quarter:ya({matchPatterns:oR,defaultMatchWidth:"wide",parsePatterns:aR,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ya({matchPatterns:lR,defaultMatchWidth:"wide",parsePatterns:uR,defaultParseWidth:"any"}),day:ya({matchPatterns:cR,defaultMatchWidth:"wide",parsePatterns:dR,defaultParseWidth:"any"}),dayPeriod:ya({matchPatterns:fR,defaultMatchWidth:"any",parsePatterns:hR,defaultParseWidth:"any"})},mR={code:"en-US",formatDistance:FD,formatLong:BD,formatRelative:qD,localize:XD,match:pR,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gR(t){const e=Mn(t);return DD(e,MD(e))+1}function vR(t){const e=Mn(t),r=+tc(e)-+RD(e);return Math.round(r/rb)+1}function sb(t,e){const r=Mn(t),s=r.getFullYear(),o=Nc(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=Oi(t,0);u.setFullYear(s+1,0,a),u.setHours(0,0,0,0);const d=Ga(u,e),h=Oi(t,0);h.setFullYear(s,0,a),h.setHours(0,0,0,0);const m=Ga(h,e);return r.getTime()>=d.getTime()?s+1:r.getTime()>=m.getTime()?s:s-1}function yR(t,e){const r=Nc(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=sb(t,e),a=Oi(t,0);return a.setFullYear(o,0,s),a.setHours(0,0,0,0),Ga(a,e)}function xR(t,e){const r=Mn(t),s=+Ga(r,e)-+yR(r,e);return Math.round(s/rb)+1}function bt(t,e){const r=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return r+s}const Us={y(t,e){const r=t.getFullYear(),s=r>0?r:1-r;return bt(e==="yy"?s%100:s,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):bt(r+1,2)},d(t,e){return bt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(t,e){return bt(t.getHours()%12||12,e.length)},H(t,e){return bt(t.getHours(),e.length)},m(t,e){return bt(t.getMinutes(),e.length)},s(t,e){return bt(t.getSeconds(),e.length)},S(t,e){const r=e.length,s=t.getMilliseconds(),o=Math.trunc(s*Math.pow(10,r-3));return bt(o,e.length)}},oo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},X0={G:function(t,e,r){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});default:return r.era(s,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const s=t.getFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return Us.y(t,e)},Y:function(t,e,r,s){const o=sb(t,s),a=o>0?o:1-o;if(e==="YY"){const u=a%100;return bt(u,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):bt(a,e.length)},R:function(t,e){const r=nb(t);return bt(r,e.length)},u:function(t,e){const r=t.getFullYear();return bt(r,e.length)},Q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return bt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return bt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,r){const s=t.getMonth();switch(e){case"M":case"MM":return Us.M(t,e);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,r){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return bt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,r,s){const o=xR(t,s);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):bt(o,e.length)},I:function(t,e,r){const s=vR(t);return e==="Io"?r.ordinalNumber(s,{unit:"week"}):bt(s,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Us.d(t,e)},D:function(t,e,r){const s=gR(t);return e==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):bt(s,e.length)},E:function(t,e,r){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,r,s){const o=t.getDay(),a=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return bt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,s){const o=t.getDay(),a=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return bt(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){const s=t.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return bt(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,r){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,r){const s=t.getHours();let o;switch(s===12?o=oo.noon:s===0?o=oo.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,r){const s=t.getHours();let o;switch(s>=17?o=oo.evening:s>=12?o=oo.afternoon:s>=4?o=oo.morning:o=oo.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Us.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Us.H(t,e)},K:function(t,e,r){const s=t.getHours()%12;return e==="Ko"?r.ordinalNumber(s,{unit:"hour"}):bt(s,e.length)},k:function(t,e,r){let s=t.getHours();return s===0&&(s=24),e==="ko"?r.ordinalNumber(s,{unit:"hour"}):bt(s,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Us.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Us.s(t,e)},S:function(t,e){return Us.S(t,e)},X:function(t,e,r){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return ey(s);case"XXXX":case"XX":return vi(s);default:return vi(s,":")}},x:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"x":return ey(s);case"xxxx":case"xx":return vi(s);default:return vi(s,":")}},O:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+J0(s,":");default:return"GMT"+vi(s,":")}},z:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+J0(s,":");default:return"GMT"+vi(s,":")}},t:function(t,e,r){const s=Math.trunc(t.getTime()/1e3);return bt(s,e.length)},T:function(t,e,r){const s=t.getTime();return bt(s,e.length)}};function J0(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),o=Math.trunc(s/60),a=s%60;return a===0?r+String(o):r+String(o)+e+bt(a,2)}function ey(t,e){return t%60===0?(t>0?"-":"+")+bt(Math.abs(t)/60,2):vi(t,e)}function vi(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),o=bt(Math.trunc(s/60),2),a=bt(s%60,2);return r+o+e+a}const ty=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},ib=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},wR=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return ty(t,e);let a;switch(s){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",ty(s,e)).replace("{{time}}",ib(o,e))},bR={p:ib,P:wR},SR=/^D+$/,_R=/^Y+$/,CR=["D","DD","YY","YYYY"];function kR(t){return SR.test(t)}function TR(t){return _R.test(t)}function ER(t,e,r){const s=NR(t,e,r);if(console.warn(s),CR.includes(t))throw new RangeError(s)}function NR(t,e,r){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const PR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jR=/^'([^]*?)'?$/,DR=/''/g,RR=/[a-zA-Z]/;function IR(t,e,r){const s=Nc(),o=s.locale??mR,a=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,d=Mn(t);if(!AD(d))throw new RangeError("Invalid time value");let h=e.match(OR).map(g=>{const y=g[0];if(y==="p"||y==="P"){const x=bR[y];return x(g,o.formatLong)}return g}).join("").match(PR).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:AR(g)};if(X0[y])return{isToken:!0,value:g};if(y.match(RR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});o.localize.preprocessor&&(h=o.localize.preprocessor(d,h));const m={firstWeekContainsDate:a,weekStartsOn:u,locale:o};return h.map(g=>{if(!g.isToken)return g.value;const y=g.value;(TR(y)||kR(y))&&ER(y,e,String(t));const x=X0[y[0]];return x(d,y,o.localize,m)}).join("")}function AR(t){const e=t.match(jR);return e?e[1].replace(DR,"'"):t}const MR="auth_token";function wu(){try{return localStorage.getItem(MR)}catch{return null}}function LR(){const{user:t}=Di(),e=sc(),[,r]=ji(),{toast:s}=ei(),[o,a]=w.useState(""),[u,d]=w.useState(!1),[h,m]=w.useState(!1),[g,y]=w.useState([]),{data:x,isLoading:S}=Du({queryKey:[`/api/games/${t?.id}`],enabled:!!t?.id});if(w.useEffect(()=>{t?.email&&a(t.email)},[t?.email]),w.useEffect(()=>{(async()=>{if(t){m(!0);try{const k=wu(),N=await fetch(`${tn}/api/inbox`,{headers:k?{Authorization:`Bearer ${k}`}:{}});if(N.ok){const T=await N.json();y(T||[])}}catch(k){console.error("Failed to load inbox",k)}finally{m(!1)}}})()},[t]),!t)return null;const C=async()=>{if(!o){s({title:"Li",description:"Vui lng nhp email",variant:"destructive"});return}d(!0);try{const _=wu(),k=await fetch(tn+"/api/user/email",{method:"POST",headers:_?{"Content-Type":"application/json",Authorization:`Bearer ${_}`}:{"Content-Type":"application/json"},body:JSON.stringify({email:o})});if(!k.ok){const N=await k.json().catch(()=>null);throw new Error(N?.message||"Lu email tht bi")}e.setQueryData([Tn.users.me.path],N=>N&&{...N,email:o}),s({title:" lu email",description:"Email s dng  t li mt khu khi qun."})}catch(_){const k=_ instanceof Error?_.message:"C li xy ra, vui lng th li";s({title:"Li",description:k,variant:"destructive"})}finally{d(!1)}};return f.jsxs("div",{className:"min-h-screen bg-[#020617] text-white p-4 md:p-8 relative overflow-hidden",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[f.jsx("header",{className:"flex items-center justify-between mb-8",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(ot,{variant:"ghost",size:"icon",onClick:()=>r("/"),className:"hover:bg-white/10 rounded-xl",children:f.jsx(ix,{className:"w-5 h-5 text-slate-400"})}),f.jsxs("h1",{className:"text-3xl font-black italic tracking-tighter",children:["H s ",f.jsx("span",{className:"text-indigo-500",children:"ngi chi"})]})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsxs(Bn,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md",children:[f.jsxs(hs,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(ps,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"im Elo"}),f.jsx(cc,{className:"w-4 h-4 text-yellow-500"})]}),f.jsxs(Un,{children:[f.jsx("div",{className:"text-4xl font-black text-white",children:t.rating||0}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Elo hin ti"})]})]}),f.jsxs(Bn,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md md:col-span-3",children:[f.jsx(hs,{className:"flex flex-row items-center justify-between pb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(nh,{className:"w-4 h-4 text-indigo-400"}),f.jsx(ps,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"Email ti khon"})]})}),f.jsxs(Un,{children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-stretch md:items-center",children:[f.jsx(Vn,{type:"email",placeholder:"ban@example.com",value:o,onChange:_=>a(_.target.value),className:"glass-input h-11 rounded-xl text-sm md:text-base"}),f.jsx(ot,{onClick:C,disabled:u,className:"md:w-auto w-full h-11 rounded-xl font-bold",children:u?"ang lu...":"Lu email"})]}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Email dng  nhn m khi bn bm qun mt khu."})]})]}),f.jsxs(Bn,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md",children:[f.jsxs(hs,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(ps,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"S vn  chi"}),f.jsx(ax,{className:"w-4 h-4 text-indigo-500"})]}),f.jsxs(Un,{children:[f.jsx("div",{className:"text-4xl font-black text-white",children:t.gamesPlayed||0}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Tng s vn"})]})]}),f.jsxs(Bn,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md",children:[f.jsxs(hs,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(ps,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"Tham gia t"}),f.jsx(J_,{className:"w-4 h-4 text-emerald-500"})]}),f.jsxs(Un,{children:[f.jsx("div",{className:"text-xl font-bold text-white",children:"Hm nay"}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Va tham gia"})]})]}),f.jsxs(Bn,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md md:col-span-3",children:[f.jsx(hs,{className:"flex flex-row items-center justify-between pb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(nh,{className:"w-4 h-4 text-indigo-400"}),f.jsx(ps,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"Hm th li mi u"})]})}),f.jsx(Un,{children:h?f.jsx("div",{className:"text-sm text-slate-500",children:"ang ti li mi..."}):g.length===0?f.jsx("div",{className:"text-sm text-slate-500",children:"Cha c li mi no."}):f.jsx("div",{className:"space-y-3",children:g.map(_=>f.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-slate-900/60 px-4 py-3",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-sm font-bold text-white",children:[_.fromUsername," mi bn u c"]}),f.jsxs("div",{className:"text-[11px] text-slate-500",children:["M phng: ",_.roomId]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ot,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 rounded-lg",onClick:async()=>{try{const k=wu(),N=await fetch(`${tn}/api/invite/${_.id}/respond`,{method:"POST",headers:k?{"Content-Type":"application/json",Authorization:`Bearer ${k}`}:{"Content-Type":"application/json"},body:JSON.stringify({action:"accept"})});if(N.ok){const T=await N.json();y(R=>R.filter(M=>M.id!==_.id)),T.roomId&&r(`/game/online/${T.roomId}`)}}catch(k){console.error("Accept invite failed",k)}},children:"Chp nhn"}),f.jsx(ot,{size:"sm",variant:"outline",className:"rounded-lg border-red-500/40 text-red-400",onClick:async()=>{try{const k=wu();(await fetch(`${tn}/api/invite/${_.id}/respond`,{method:"POST",headers:k?{"Content-Type":"application/json",Authorization:`Bearer ${k}`}:{"Content-Type":"application/json"},body:JSON.stringify({action:"decline"})})).ok&&y(T=>T.filter(R=>R.id!==_.id))}catch(k){console.error("Decline invite failed",k)}},children:"T chi"})]})]},_.id))})})]})]}),f.jsxs("div",{className:"bg-slate-900/50 border border-white/10 rounded-3xl overflow-hidden backdrop-blur-md",children:[f.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center gap-2",children:[f.jsx(rC,{className:"w-5 h-5 text-indigo-400"}),f.jsx("h2",{className:"text-xl font-bold text-white",children:"Lch s thi u"})]}),f.jsx("div",{className:"divide-y divide-white/5",children:S?f.jsx("div",{className:"p-8 text-center text-slate-500",children:"ang ti lch s..."}):x&&x.length>0?x.map(_=>{const k=_.whitePlayerId===t.id,N=_.result||"",T=N.includes("Trng thng")?"w":N.includes("en thng")?"b":N.includes("Ha")?"draw":null,$=T===(k?"w":"b")?"bg-emerald-500":T==="draw"?"bg-slate-500":"bg-red-500",K=k?"Cm qun Trng":"Cm qun en",B=N||"Kt qu cha xc nh",J=_.createdAt?IR(new Date(_.createdAt),"MMM d, HH:mm"):"-";return f.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-white/5 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-2 h-12 rounded-full ${$}`}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-white",children:B}),f.jsx("div",{className:"text-sm text-slate-400",children:K})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-sm font-mono text-slate-500",children:J}),f.jsxs("div",{className:"text-xs text-indigo-400 mt-1",children:["ID: ",_.id]})]})]},_.id)}):f.jsx("div",{className:"p-8 text-center text-slate-500",children:"Cha c vn no. Hy bt u mt vn u!"})})]})]})]})}function FR(){const{user:t}=Di(),{toast:e}=ei(),[,r]=ji(),{lastMessage:s}=Bw("global",t??null);return w.useEffect(()=>{if(s?.type==="new_invite"){const o=s.invite;e({title:"Li mi thch u mi",description:`${o.fromUsername} mun thch u vi bn!`,action:f.jsx("div",{className:"flex gap-2",children:f.jsx(ot,{size:"sm",onClick:()=>r(`/game/online/${o.roomId}`),children:"Chp nhn"})}),duration:1e4})}},[s,e,r]),null}function bu({component:t,...e}){const{user:r,isLoading:s}=Di();return s?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#020617]",children:f.jsx(Cu,{className:"w-10 h-10 animate-spin text-indigo-500"})}):r?f.jsx(t,{...e}):f.jsx(my,{to:"/auth"})}function zR(){return f.jsxs(f.Fragment,{children:[f.jsx(FR,{}),f.jsxs(g2,{children:[f.jsx(to,{path:"/auth",component:L5}),f.jsx(to,{path:"/",children:()=>f.jsx(bu,{component:F5})}),f.jsx(to,{path:"/game/:mode/:id",children:()=>f.jsx(bu,{component:rD})}),f.jsx(to,{path:"/social",children:()=>f.jsx(bu,{component:PD})}),f.jsx(to,{path:"/profile",children:()=>f.jsx(bu,{component:LR})}),f.jsx(to,{component:o5})]})]})}function $R(){return f.jsx(M2,{client:t_,children:f.jsxs(_T,{children:[f.jsx(GC,{}),f.jsx(zR,{})]})})}window.addEventListener("unhandledrejection",t=>{t.preventDefault(),console.warn("Unhandled promise rejected:",t.reason)});GS.createRoot(document.getElementById("root")).render(f.jsx($R,{}));
