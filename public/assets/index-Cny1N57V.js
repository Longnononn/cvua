function MS(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();function Jy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hf={exports:{}},ua={},pf={exports:{}},tt={};var Xg;function LS(){if(Xg)return tt;Xg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=y&&j[y]||j["@@iterator"],typeof j=="function"?j:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function C(j,X,Pe){this.props=j,this.context=X,this.refs=_,this.updater=Pe||S}C.prototype.isReactComponent={},C.prototype.setState=function(j,X){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,X,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function P(){}P.prototype=C.prototype;function T(j,X,Pe){this.props=j,this.context=X,this.refs=_,this.updater=Pe||S}var D=T.prototype=new P;D.constructor=T,k(D,C.prototype),D.isPureReactComponent=!0;var M=Array.isArray,V=Object.prototype.hasOwnProperty,G={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function J(j,X,Pe){var pe,Ve={},We=null,He=null;if(X!=null)for(pe in X.ref!==void 0&&(He=X.ref),X.key!==void 0&&(We=""+X.key),X)V.call(X,pe)&&!B.hasOwnProperty(pe)&&(Ve[pe]=X[pe]);var Ue=arguments.length-2;if(Ue===1)Ve.children=Pe;else if(1<Ue){for(var Qe=Array(Ue),_t=0;_t<Ue;_t++)Qe[_t]=arguments[_t+2];Ve.children=Qe}if(j&&j.defaultProps)for(pe in Ue=j.defaultProps,Ue)Ve[pe]===void 0&&(Ve[pe]=Ue[pe]);return{$$typeof:t,type:j,key:We,ref:He,props:Ve,_owner:G.current}}function H(j,X){return{$$typeof:t,type:j.type,key:X,ref:j.ref,props:j.props,_owner:j._owner}}function U(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function te(j){var X={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Pe){return X[Pe]})}var Z=/\/+/g;function re(j,X){return typeof j=="object"&&j!==null&&j.key!=null?te(""+j.key):X.toString(36)}function Y(j,X,Pe,pe,Ve){var We=typeof j;(We==="undefined"||We==="boolean")&&(j=null);var He=!1;if(j===null)He=!0;else switch(We){case"string":case"number":He=!0;break;case"object":switch(j.$$typeof){case t:case e:He=!0}}if(He)return He=j,Ve=Ve(He),j=pe===""?"."+re(He,0):pe,M(Ve)?(Pe="",j!=null&&(Pe=j.replace(Z,"$&/")+"/"),Y(Ve,X,Pe,"",function(_t){return _t})):Ve!=null&&(U(Ve)&&(Ve=H(Ve,Pe+(!Ve.key||He&&He.key===Ve.key?"":(""+Ve.key).replace(Z,"$&/")+"/")+j)),X.push(Ve)),1;if(He=0,pe=pe===""?".":pe+":",M(j))for(var Ue=0;Ue<j.length;Ue++){We=j[Ue];var Qe=pe+re(We,Ue);He+=Y(We,X,Pe,Qe,Ve)}else if(Qe=x(j),typeof Qe=="function")for(j=Qe.call(j),Ue=0;!(We=j.next()).done;)We=We.value,Qe=pe+re(We,Ue++),He+=Y(We,X,Pe,Qe,Ve);else if(We==="object")throw X=String(j),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return He}function _e(j,X,Pe){if(j==null)return j;var pe=[],Ve=0;return Y(j,pe,"","",function(We){return X.call(Pe,We,Ve++)}),pe}function ce(j){if(j._status===-1){var X=j._result;X=X(),X.then(function(Pe){(j._status===0||j._status===-1)&&(j._status=1,j._result=Pe)},function(Pe){(j._status===0||j._status===-1)&&(j._status=2,j._result=Pe)}),j._status===-1&&(j._status=0,j._result=X)}if(j._status===1)return j._result.default;throw j._result}var we={current:null},Q={transition:null},le={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:Q,ReactCurrentOwner:G};function ue(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:_e,forEach:function(j,X,Pe){_e(j,function(){X.apply(this,arguments)},Pe)},count:function(j){var X=0;return _e(j,function(){X++}),X},toArray:function(j){return _e(j,function(X){return X})||[]},only:function(j){if(!U(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},tt.Component=C,tt.Fragment=r,tt.Profiler=o,tt.PureComponent=T,tt.StrictMode=s,tt.Suspense=h,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,tt.act=ue,tt.cloneElement=function(j,X,Pe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var pe=k({},j.props),Ve=j.key,We=j.ref,He=j._owner;if(X!=null){if(X.ref!==void 0&&(We=X.ref,He=G.current),X.key!==void 0&&(Ve=""+X.key),j.type&&j.type.defaultProps)var Ue=j.type.defaultProps;for(Qe in X)V.call(X,Qe)&&!B.hasOwnProperty(Qe)&&(pe[Qe]=X[Qe]===void 0&&Ue!==void 0?Ue[Qe]:X[Qe])}var Qe=arguments.length-2;if(Qe===1)pe.children=Pe;else if(1<Qe){Ue=Array(Qe);for(var _t=0;_t<Qe;_t++)Ue[_t]=arguments[_t+2];pe.children=Ue}return{$$typeof:t,type:j.type,key:Ve,ref:We,props:pe,_owner:He}},tt.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},tt.createElement=J,tt.createFactory=function(j){var X=J.bind(null,j);return X.type=j,X},tt.createRef=function(){return{current:null}},tt.forwardRef=function(j){return{$$typeof:d,render:j}},tt.isValidElement=U,tt.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:ce}},tt.memo=function(j,X){return{$$typeof:m,type:j,compare:X===void 0?null:X}},tt.startTransition=function(j){var X=Q.transition;Q.transition={};try{j()}finally{Q.transition=X}},tt.unstable_act=ue,tt.useCallback=function(j,X){return we.current.useCallback(j,X)},tt.useContext=function(j){return we.current.useContext(j)},tt.useDebugValue=function(){},tt.useDeferredValue=function(j){return we.current.useDeferredValue(j)},tt.useEffect=function(j,X){return we.current.useEffect(j,X)},tt.useId=function(){return we.current.useId()},tt.useImperativeHandle=function(j,X,Pe){return we.current.useImperativeHandle(j,X,Pe)},tt.useInsertionEffect=function(j,X){return we.current.useInsertionEffect(j,X)},tt.useLayoutEffect=function(j,X){return we.current.useLayoutEffect(j,X)},tt.useMemo=function(j,X){return we.current.useMemo(j,X)},tt.useReducer=function(j,X,Pe){return we.current.useReducer(j,X,Pe)},tt.useRef=function(j){return we.current.useRef(j)},tt.useState=function(j){return we.current.useState(j)},tt.useSyncExternalStore=function(j,X,Pe){return we.current.useSyncExternalStore(j,X,Pe)},tt.useTransition=function(){return we.current.useTransition()},tt.version="18.3.1",tt}var Jg;function nc(){return Jg||(Jg=1,pf.exports=LS()),pf.exports}var ev;function FS(){if(ev)return ua;ev=1;var t=nc(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var g,y={},x=null,S=null;m!==void 0&&(x=""+m),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)s.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(d&&d.defaultProps)for(g in h=d.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:d,key:x,ref:S,props:y,_owner:o.current}}return ua.Fragment=r,ua.jsx=u,ua.jsxs=u,ua}var tv;function zS(){return tv||(tv=1,hf.exports=FS()),hf.exports}var f=zS(),du={},mf={exports:{}},Ur={},gf={exports:{}},vf={};var rv;function $S(){return rv||(rv=1,(function(t){function e(Q,le){var ue=Q.length;Q.push(le);e:for(;0<ue;){var j=ue-1>>>1,X=Q[j];if(0<o(X,le))Q[j]=le,Q[ue]=X,ue=j;else break e}}function r(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var le=Q[0],ue=Q.pop();if(ue!==le){Q[0]=ue;e:for(var j=0,X=Q.length,Pe=X>>>1;j<Pe;){var pe=2*(j+1)-1,Ve=Q[pe],We=pe+1,He=Q[We];if(0>o(Ve,ue))We<X&&0>o(He,Ve)?(Q[j]=He,Q[We]=ue,j=We):(Q[j]=Ve,Q[pe]=ue,j=pe);else if(We<X&&0>o(He,ue))Q[j]=He,Q[We]=ue,j=We;else break e}}return le}function o(Q,le){var ue=Q.sortIndex-le.sortIndex;return ue!==0?ue:Q.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],g=1,y=null,x=3,S=!1,k=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(Q){for(var le=r(m);le!==null;){if(le.callback===null)s(m);else if(le.startTime<=Q)s(m),le.sortIndex=le.expirationTime,e(h,le);else break;le=r(m)}}function M(Q){if(_=!1,D(Q),!k)if(r(h)!==null)k=!0,ce(V);else{var le=r(m);le!==null&&we(M,le.startTime-Q)}}function V(Q,le){k=!1,_&&(_=!1,P(J),J=-1),S=!0;var ue=x;try{for(D(le),y=r(h);y!==null&&(!(y.expirationTime>le)||Q&&!te());){var j=y.callback;if(typeof j=="function"){y.callback=null,x=y.priorityLevel;var X=j(y.expirationTime<=le);le=t.unstable_now(),typeof X=="function"?y.callback=X:y===r(h)&&s(h),D(le)}else s(h);y=r(h)}if(y!==null)var Pe=!0;else{var pe=r(m);pe!==null&&we(M,pe.startTime-le),Pe=!1}return Pe}finally{y=null,x=ue,S=!1}}var G=!1,B=null,J=-1,H=5,U=-1;function te(){return!(t.unstable_now()-U<H)}function Z(){if(B!==null){var Q=t.unstable_now();U=Q;var le=!0;try{le=B(!0,Q)}finally{le?re():(G=!1,B=null)}}else G=!1}var re;if(typeof T=="function")re=function(){T(Z)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,_e=Y.port2;Y.port1.onmessage=Z,re=function(){_e.postMessage(null)}}else re=function(){C(Z,0)};function ce(Q){B=Q,G||(G=!0,re())}function we(Q,le){J=C(function(){Q(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){k||S||(k=!0,ce(V))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var le=3;break;default:le=x}var ue=x;x=le;try{return Q()}finally{x=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ue=x;x=Q;try{return le()}finally{x=ue}},t.unstable_scheduleCallback=function(Q,le,ue){var j=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?j+ue:j):ue=j,Q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ue+X,Q={id:g++,callback:le,priorityLevel:Q,startTime:ue,expirationTime:X,sortIndex:-1},ue>j?(Q.sortIndex=ue,e(m,Q),r(h)===null&&Q===r(m)&&(_?(P(J),J=-1):_=!0,we(M,ue-j))):(Q.sortIndex=X,e(h,Q),k||S||(k=!0,ce(V))),Q},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(Q){var le=x;return function(){var ue=x;x=le;try{return Q.apply(this,arguments)}finally{x=ue}}}})(vf)),vf}var nv;function VS(){return nv||(nv=1,gf.exports=$S()),gf.exports}var sv;function BS(){if(sv)return Ur;sv=1;var t=nc(),e=VS();function r(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function a(n,i){u(n,i),u(n+"Capture",i)}function u(n,i){for(o[n]=i,n=0;n<i.length;n++)s.add(i[n])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function x(n){return h.call(y,n)?!0:h.call(g,n)?!1:m.test(n)?y[n]=!0:(g[n]=!0,!1)}function S(n,i,l,c){if(l!==null&&l.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function k(n,i,l,c){if(i===null||typeof i>"u"||S(n,i,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function _(n,i,l,c,p,v,b){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=n,this.type=i,this.sanitizeURL=v,this.removeEmptyString=b}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){C[n]=new _(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];C[i]=new _(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){C[n]=new _(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){C[n]=new _(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){C[n]=new _(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){C[n]=new _(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){C[n]=new _(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){C[n]=new _(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){C[n]=new _(n,5,!1,n.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function T(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(P,T);C[i]=new _(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(P,T);C[i]=new _(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(P,T);C[i]=new _(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){C[n]=new _(n,1,!1,n.toLowerCase(),null,!1,!1)}),C.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){C[n]=new _(n,1,!1,n.toLowerCase(),null,!0,!0)});function D(n,i,l,c){var p=C.hasOwnProperty(i)?C[i]:null;(p!==null?p.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(k(i,l,p,c)&&(l=null),c||p===null?x(i)&&(l===null?n.removeAttribute(i):n.setAttribute(i,""+l)):p.mustUseProperty?n[p.propertyName]=l===null?p.type===3?!1:"":l:(i=p.attributeName,c=p.attributeNamespace,l===null?n.removeAttribute(i):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,c?n.setAttributeNS(c,i,l):n.setAttribute(i,l))))}var M=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),G=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),te=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),we=Symbol.for("react.offscreen"),Q=Symbol.iterator;function le(n){return n===null||typeof n!="object"?null:(n=Q&&n[Q]||n["@@iterator"],typeof n=="function"?n:null)}var ue=Object.assign,j;function X(n){if(j===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||""}return`
`+j+n}var Pe=!1;function pe(n,i){if(!n||Pe)return"";Pe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch($){var c=$}Reflect.construct(n,[],i)}else{try{i.call()}catch($){c=$}n.call(i.prototype)}else{try{throw Error()}catch($){c=$}n()}}catch($){if($&&c&&typeof $.stack=="string"){for(var p=$.stack.split(`
`),v=c.stack.split(`
`),b=p.length-1,E=v.length-1;1<=b&&0<=E&&p[b]!==v[E];)E--;for(;1<=b&&0<=E;b--,E--)if(p[b]!==v[E]){if(b!==1||E!==1)do if(b--,E--,0>E||p[b]!==v[E]){var O=`
`+p[b].replace(" at new "," at ");return n.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",n.displayName)),O}while(1<=b&&0<=E);break}}}finally{Pe=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?X(n):""}function Ve(n){switch(n.tag){case 5:return X(n.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return n=pe(n.type,!1),n;case 11:return n=pe(n.type.render,!1),n;case 1:return n=pe(n.type,!0),n;default:return""}}function We(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case B:return"Fragment";case G:return"Portal";case H:return"Profiler";case J:return"StrictMode";case re:return"Suspense";case Y:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case te:return(n.displayName||"Context")+".Consumer";case U:return(n._context.displayName||"Context")+".Provider";case Z:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case _e:return i=n.displayName||null,i!==null?i:We(n.type)||"Memo";case ce:i=n._payload,n=n._init;try{return We(n(i))}catch{}}return null}function He(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return We(i);case 8:return i===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ue(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Qe(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _t(n){var i=Qe(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return p.call(this)},set:function(b){c=""+b,v.call(this,b)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function br(n){n._valueTracker||(n._valueTracker=_t(n))}function Gt(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),c="";return n&&(c=Qe(n)?n.checked?"true":"false":n.value),n=c,n!==l?(i.setValue(n),!0):!1}function jt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function yn(n,i){var l=i.checked;return ue({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function nn(n,i){var l=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;l=Ue(i.value!=null?i.value:l),n._wrapperState={initialChecked:c,initialValue:l,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Sr(n,i){i=i.checked,i!=null&&D(n,"checked",i,!1)}function qr(n,i){Sr(n,i);var l=Ue(i.value),c=i.type;if(l!=null)c==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?Ar(n,i.type,l):i.hasOwnProperty("defaultValue")&&Ar(n,i.type,Ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function xn(n,i,l){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,l||i===n.value||(n.value=i),n.defaultValue=i}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function Ar(n,i,l){(i!=="number"||jt(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var Mr=Array.isArray;function rr(n,i,l,c){if(n=n.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<n.length;l++)p=i.hasOwnProperty("$"+n[l].value),n[l].selected!==p&&(n[l].selected=p),p&&c&&(n[l].defaultSelected=!0)}else{for(l=""+Ue(l),i=null,p=0;p<n.length;p++){if(n[p].value===l){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}i!==null||n[p].disabled||(i=n[p])}i!==null&&(i.selected=!0)}}function N(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(r(91));return ue({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function A(n,i){var l=i.value;if(l==null){if(l=i.children,i=i.defaultValue,l!=null){if(i!=null)throw Error(r(92));if(Mr(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),l=i}n._wrapperState={initialValue:Ue(l)}}function K(n,i){var l=Ue(i.value),c=Ue(i.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),i.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),c!=null&&(n.defaultValue=""+c)}function me(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function he(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ee(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?he(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ge,Ke=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,l,c,p){MSApp.execUnsafeLocalFunction(function(){return n(i,l,c,p)})}:n})(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(ge=ge||document.createElement("div"),ge.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ge.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function it(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sn=["Webkit","ms","Moz","O"];Object.keys(ht).forEach(function(n){sn.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),ht[i]=ht[n]})});function Fe(n,i,l){return i==null||typeof i=="boolean"||i===""?"":l||typeof i!="number"||i===0||ht.hasOwnProperty(n)&&ht[n]?(""+i).trim():i+"px"}function ve(n,i){n=n.style;for(var l in i)if(i.hasOwnProperty(l)){var c=l.indexOf("--")===0,p=Fe(l,i[l],c);l==="float"&&(l="cssFloat"),c?n.setProperty(l,p):n[l]=p}}var xt=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wt(n,i){if(i){if(xt[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(r(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(r(61))}if(i.style!=null&&typeof i.style!="object")throw Error(r(62))}}function $t(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lt=null;function Lr(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Vt=null,hr=null,Me=null;function bt(n){if(n=Ko(n)){if(typeof Vt!="function")throw Error(r(280));var i=n.stateNode;i&&(i=El(i),Vt(n.stateNode,n.type,i))}}function Et(n){hr?Me?Me.push(n):Me=[n]:hr=n}function Ht(){if(hr){var n=hr,i=Me;if(Me=hr=null,bt(n),i)for(n=0;n<i.length;n++)bt(i[n])}}function nr(n,i){return n(i)}function je(){}var rt=!1;function z(n,i,l){if(rt)return n(i,l);rt=!0;try{return nr(n,i,l)}finally{rt=!1,(hr!==null||Me!==null)&&(je(),Ht())}}function sr(n,i){var l=n.stateNode;if(l===null)return null;var c=El(l);if(c===null)return null;l=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,i,typeof l));return l}var mt=!1;if(d)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){mt=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{mt=!1}function de(n,i,l,c,p,v,b,E,O){var $=Array.prototype.slice.call(arguments,3);try{i.apply(l,$)}catch(ie){this.onError(ie)}}var ir=!1,Ct=null,pr=!1,Xn=null,or={onError:function(n){ir=!0,Ct=n}};function rl(n,i,l,c,p,v,b,E,O){ir=!1,Ct=null,de.apply(or,arguments)}function nl(n,i,l,c,p,v,b,E,O){if(rl.apply(this,arguments),ir){if(ir){var $=Ct;ir=!1,Ct=null}else throw Error(r(198));pr||(pr=!0,Xn=$)}}function Ee(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function sl(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function To(n){if(Ee(n)!==n)throw Error(r(188))}function Oc(n){var i=n.alternate;if(!i){if(i=Ee(n),i===null)throw Error(r(188));return i!==n?null:n}for(var l=n,c=i;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return To(p),n;if(v===c)return To(p),i;v=v.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=v;else{for(var b=!1,E=p.child;E;){if(E===l){b=!0,l=p,c=v;break}if(E===c){b=!0,c=p,l=v;break}E=E.sibling}if(!b){for(E=v.child;E;){if(E===l){b=!0,l=v,c=p;break}if(E===c){b=!0,c=v,l=p;break}E=E.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:i}function Po(n){return n=Oc(n),n!==null?il(n):null}function il(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=il(n);if(i!==null)return i;n=n.sibling}return null}var ol=e.unstable_scheduleCallback,al=e.unstable_cancelCallback,ll=e.unstable_shouldYield,ul=e.unstable_requestPaint,Rt=e.unstable_now,jc=e.unstable_getCurrentPriorityLevel,No=e.unstable_ImmediatePriority,Oo=e.unstable_UserBlockingPriority,xs=e.unstable_NormalPriority,Rc=e.unstable_LowPriority,cl=e.unstable_IdlePriority,ri=null,on=null;function mr(n){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(ri,n,void 0,(n.current.flags&128)===128)}catch{}}var I=Math.clz32?Math.clz32:De,q=Math.log,W=Math.LN2;function De(n){return n>>>=0,n===0?32:31-(q(n)/W|0)|0}var Re=64,ot=4194304;function Hr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Jn(n,i){var l=n.pendingLanes;if(l===0)return 0;var c=0,p=n.suspendedLanes,v=n.pingedLanes,b=l&268435455;if(b!==0){var E=b&~p;E!==0?c=Hr(E):(v&=b,v!==0&&(c=Hr(v)))}else b=l&~p,b!==0?c=Hr(b):v!==0&&(c=Hr(v));if(c===0)return 0;if(i!==0&&i!==c&&(i&p)===0&&(p=c&-c,v=i&-i,p>=v||p===16&&(v&4194240)!==0))return i;if((c&4)!==0&&(c|=l&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)l=31-I(i),p=1<<l,c|=n[l],i&=~p;return c}function tb(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rb(n,i){for(var l=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,v=n.pendingLanes;0<v;){var b=31-I(v),E=1<<b,O=p[b];O===-1?((E&l)===0||(E&c)!==0)&&(p[b]=tb(E,i)):O<=i&&(n.expiredLanes|=E),v&=~E}}function Dc(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Np(){var n=Re;return Re<<=1,(Re&4194240)===0&&(Re=64),n}function Ic(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function jo(n,i,l){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-I(i),n[i]=l}function nb(n,i){var l=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<l;){var p=31-I(l),v=1<<p;i[p]=0,c[p]=-1,n[p]=-1,l&=~v}}function Ac(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var c=31-I(l),p=1<<c;p&i|n[c]&i&&(n[c]|=i),l&=~p}}var gt=0;function Op(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var jp,Mc,Rp,Dp,Ip,Lc=!1,dl=[],ws=null,bs=null,Ss=null,Ro=new Map,Do=new Map,_s=[],sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ap(n,i){switch(n){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Ro.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(i.pointerId)}}function Io(n,i,l,c,p,v){return n===null||n.nativeEvent!==v?(n={blockedOn:i,domEventName:l,eventSystemFlags:c,nativeEvent:v,targetContainers:[p]},i!==null&&(i=Ko(i),i!==null&&Mc(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),n)}function ib(n,i,l,c,p){switch(i){case"focusin":return ws=Io(ws,n,i,l,c,p),!0;case"dragenter":return bs=Io(bs,n,i,l,c,p),!0;case"mouseover":return Ss=Io(Ss,n,i,l,c,p),!0;case"pointerover":var v=p.pointerId;return Ro.set(v,Io(Ro.get(v)||null,n,i,l,c,p)),!0;case"gotpointercapture":return v=p.pointerId,Do.set(v,Io(Do.get(v)||null,n,i,l,c,p)),!0}return!1}function Mp(n){var i=ni(n.target);if(i!==null){var l=Ee(i);if(l!==null){if(i=l.tag,i===13){if(i=sl(l),i!==null){n.blockedOn=i,Ip(n.priority,function(){Rp(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fl(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=zc(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);Lt=c,l.target.dispatchEvent(c),Lt=null}else return i=Ko(l),i!==null&&Mc(i),n.blockedOn=l,!1;i.shift()}return!0}function Lp(n,i,l){fl(n)&&l.delete(i)}function ob(){Lc=!1,ws!==null&&fl(ws)&&(ws=null),bs!==null&&fl(bs)&&(bs=null),Ss!==null&&fl(Ss)&&(Ss=null),Ro.forEach(Lp),Do.forEach(Lp)}function Ao(n,i){n.blockedOn===i&&(n.blockedOn=null,Lc||(Lc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ob)))}function Mo(n){function i(p){return Ao(p,n)}if(0<dl.length){Ao(dl[0],n);for(var l=1;l<dl.length;l++){var c=dl[l];c.blockedOn===n&&(c.blockedOn=null)}}for(ws!==null&&Ao(ws,n),bs!==null&&Ao(bs,n),Ss!==null&&Ao(Ss,n),Ro.forEach(i),Do.forEach(i),l=0;l<_s.length;l++)c=_s[l],c.blockedOn===n&&(c.blockedOn=null);for(;0<_s.length&&(l=_s[0],l.blockedOn===null);)Mp(l),l.blockedOn===null&&_s.shift()}var Ii=M.ReactCurrentBatchConfig,hl=!0;function ab(n,i,l,c){var p=gt,v=Ii.transition;Ii.transition=null;try{gt=1,Fc(n,i,l,c)}finally{gt=p,Ii.transition=v}}function lb(n,i,l,c){var p=gt,v=Ii.transition;Ii.transition=null;try{gt=4,Fc(n,i,l,c)}finally{gt=p,Ii.transition=v}}function Fc(n,i,l,c){if(hl){var p=zc(n,i,l,c);if(p===null)rd(n,i,c,pl,l),Ap(n,c);else if(ib(p,n,i,l,c))c.stopPropagation();else if(Ap(n,c),i&4&&-1<sb.indexOf(n)){for(;p!==null;){var v=Ko(p);if(v!==null&&jp(v),v=zc(n,i,l,c),v===null&&rd(n,i,c,pl,l),v===p)break;p=v}p!==null&&c.stopPropagation()}else rd(n,i,c,null,l)}}var pl=null;function zc(n,i,l,c){if(pl=null,n=Lr(c),n=ni(n),n!==null)if(i=Ee(n),i===null)n=null;else if(l=i.tag,l===13){if(n=sl(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return pl=n,null}function Fp(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jc()){case No:return 1;case Oo:return 4;case xs:case Rc:return 16;case cl:return 536870912;default:return 16}default:return 16}}var Cs=null,$c=null,ml=null;function zp(){if(ml)return ml;var n,i=$c,l=i.length,c,p="value"in Cs?Cs.value:Cs.textContent,v=p.length;for(n=0;n<l&&i[n]===p[n];n++);var b=l-n;for(c=1;c<=b&&i[l-c]===p[v-c];c++);return ml=p.slice(n,1<c?1-c:void 0)}function gl(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function vl(){return!0}function $p(){return!1}function Qr(n){function i(l,c,p,v,b){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(l=n[E],this[E]=l?l(v):v[E]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?vl:$p,this.isPropagationStopped=$p,this}return ue(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),i}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vc=Qr(Ai),Lo=ue({},Ai,{view:0,detail:0}),ub=Qr(Lo),Bc,Uc,Fo,yl=ue({},Lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Fo&&(Fo&&n.type==="mousemove"?(Bc=n.screenX-Fo.screenX,Uc=n.screenY-Fo.screenY):Uc=Bc=0,Fo=n),Bc)},movementY:function(n){return"movementY"in n?n.movementY:Uc}}),Vp=Qr(yl),cb=ue({},yl,{dataTransfer:0}),db=Qr(cb),fb=ue({},Lo,{relatedTarget:0}),qc=Qr(fb),hb=ue({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),pb=Qr(hb),mb=ue({},Ai,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gb=Qr(mb),vb=ue({},Ai,{data:0}),Bp=Qr(vb),yb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bb(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=wb[n])?!!i[n]:!1}function Wc(){return bb}var Sb=ue({},Lo,{key:function(n){if(n.key){var i=yb[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=gl(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?xb[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wc,charCode:function(n){return n.type==="keypress"?gl(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?gl(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),_b=Qr(Sb),Cb=ue({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Up=Qr(Cb),kb=ue({},Lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wc}),Eb=Qr(kb),Tb=ue({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pb=Qr(Tb),Nb=ue({},yl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ob=Qr(Nb),jb=[9,13,27,32],Hc=d&&"CompositionEvent"in window,zo=null;d&&"documentMode"in document&&(zo=document.documentMode);var Rb=d&&"TextEvent"in window&&!zo,qp=d&&(!Hc||zo&&8<zo&&11>=zo),Wp=" ",Hp=!1;function Qp(n,i){switch(n){case"keyup":return jb.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Mi=!1;function Db(n,i){switch(n){case"compositionend":return Kp(i);case"keypress":return i.which!==32?null:(Hp=!0,Wp);case"textInput":return n=i.data,n===Wp&&Hp?null:n;default:return null}}function Ib(n,i){if(Mi)return n==="compositionend"||!Hc&&Qp(n,i)?(n=zp(),ml=$c=Cs=null,Mi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return qp&&i.locale!=="ko"?null:i.data;default:return null}}var Ab={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Ab[n.type]:i==="textarea"}function Zp(n,i,l,c){Et(c),i=_l(i,"onChange"),0<i.length&&(l=new Vc("onChange","change",null,l,c),n.push({event:l,listeners:i}))}var $o=null,Vo=null;function Mb(n){pm(n,0)}function xl(n){var i=Vi(n);if(Gt(i))return n}function Lb(n,i){if(n==="change")return i}var Yp=!1;if(d){var Qc;if(d){var Kc="oninput"in document;if(!Kc){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),Kc=typeof Xp.oninput=="function"}Qc=Kc}else Qc=!1;Yp=Qc&&(!document.documentMode||9<document.documentMode)}function Jp(){$o&&($o.detachEvent("onpropertychange",em),Vo=$o=null)}function em(n){if(n.propertyName==="value"&&xl(Vo)){var i=[];Zp(i,Vo,n,Lr(n)),z(Mb,i)}}function Fb(n,i,l){n==="focusin"?(Jp(),$o=i,Vo=l,$o.attachEvent("onpropertychange",em)):n==="focusout"&&Jp()}function zb(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xl(Vo)}function $b(n,i){if(n==="click")return xl(i)}function Vb(n,i){if(n==="input"||n==="change")return xl(i)}function Bb(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var wn=typeof Object.is=="function"?Object.is:Bb;function Bo(n,i){if(wn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),c=Object.keys(i);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!h.call(i,p)||!wn(n[p],i[p]))return!1}return!0}function tm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function rm(n,i){var l=tm(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=i&&c>=i)return{node:l,offset:i-n};n=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=tm(l)}}function nm(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?nm(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function sm(){for(var n=window,i=jt();i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=jt(n.document)}return i}function Gc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function Ub(n){var i=sm(),l=n.focusedElem,c=n.selectionRange;if(i!==l&&l&&l.ownerDocument&&nm(l.ownerDocument.documentElement,l)){if(c!==null&&Gc(l)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in l)l.selectionStart=i,l.selectionEnd=Math.min(n,l.value.length);else if(n=(i=l.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var p=l.textContent.length,v=Math.min(c.start,p);c=c.end===void 0?v:Math.min(c.end,p),!n.extend&&v>c&&(p=c,c=v,v=p),p=rm(l,v);var b=rm(l,c);p&&b&&(n.rangeCount!==1||n.anchorNode!==p.node||n.anchorOffset!==p.offset||n.focusNode!==b.node||n.focusOffset!==b.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),n.removeAllRanges(),v>c?(n.addRange(i),n.extend(b.node,b.offset)):(i.setEnd(b.node,b.offset),n.addRange(i)))}}for(i=[],n=l;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<i.length;l++)n=i[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var qb=d&&"documentMode"in document&&11>=document.documentMode,Li=null,Zc=null,Uo=null,Yc=!1;function im(n,i,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yc||Li==null||Li!==jt(c)||(c=Li,"selectionStart"in c&&Gc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Uo&&Bo(Uo,c)||(Uo=c,c=_l(Zc,"onSelect"),0<c.length&&(i=new Vc("onSelect","select",null,i,l),n.push({event:i,listeners:c}),i.target=Li)))}function wl(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var Fi={animationend:wl("Animation","AnimationEnd"),animationiteration:wl("Animation","AnimationIteration"),animationstart:wl("Animation","AnimationStart"),transitionend:wl("Transition","TransitionEnd")},Xc={},om={};d&&(om=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function bl(n){if(Xc[n])return Xc[n];if(!Fi[n])return n;var i=Fi[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in om)return Xc[n]=i[l];return n}var am=bl("animationend"),lm=bl("animationiteration"),um=bl("animationstart"),cm=bl("transitionend"),dm=new Map,fm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(n,i){dm.set(n,i),a(i,[n])}for(var Jc=0;Jc<fm.length;Jc++){var ed=fm[Jc],Wb=ed.toLowerCase(),Hb=ed[0].toUpperCase()+ed.slice(1);ks(Wb,"on"+Hb)}ks(am,"onAnimationEnd"),ks(lm,"onAnimationIteration"),ks(um,"onAnimationStart"),ks("dblclick","onDoubleClick"),ks("focusin","onFocus"),ks("focusout","onBlur"),ks(cm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qb=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function hm(n,i,l){var c=n.type||"unknown-event";n.currentTarget=l,nl(c,i,void 0,n),n.currentTarget=null}function pm(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],p=c.event;c=c.listeners;e:{var v=void 0;if(i)for(var b=c.length-1;0<=b;b--){var E=c[b],O=E.instance,$=E.currentTarget;if(E=E.listener,O!==v&&p.isPropagationStopped())break e;hm(p,E,$),v=O}else for(b=0;b<c.length;b++){if(E=c[b],O=E.instance,$=E.currentTarget,E=E.listener,O!==v&&p.isPropagationStopped())break e;hm(p,E,$),v=O}}}if(pr)throw n=Xn,pr=!1,Xn=null,n}function Tt(n,i){var l=i[ld];l===void 0&&(l=i[ld]=new Set);var c=n+"__bubble";l.has(c)||(mm(i,n,2,!1),l.add(c))}function td(n,i,l){var c=0;i&&(c|=4),mm(l,n,c,i)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function Wo(n){if(!n[Sl]){n[Sl]=!0,s.forEach(function(l){l!=="selectionchange"&&(Qb.has(l)||td(l,!1,n),td(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Sl]||(i[Sl]=!0,td("selectionchange",!1,i))}}function mm(n,i,l,c){switch(Fp(i)){case 1:var p=ab;break;case 4:p=lb;break;default:p=Fc}l=p.bind(null,i,l,n),p=void 0,!mt||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(i,l,{capture:!0,passive:p}):n.addEventListener(i,l,!0):p!==void 0?n.addEventListener(i,l,{passive:p}):n.addEventListener(i,l,!1)}function rd(n,i,l,c,p){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var E=c.stateNode.containerInfo;if(E===p||E.nodeType===8&&E.parentNode===p)break;if(b===4)for(b=c.return;b!==null;){var O=b.tag;if((O===3||O===4)&&(O=b.stateNode.containerInfo,O===p||O.nodeType===8&&O.parentNode===p))return;b=b.return}for(;E!==null;){if(b=ni(E),b===null)return;if(O=b.tag,O===5||O===6){c=v=b;continue e}E=E.parentNode}}c=c.return}z(function(){var $=v,ie=Lr(l),oe=[];e:{var ne=dm.get(n);if(ne!==void 0){var be=Vc,ke=n;switch(n){case"keypress":if(gl(l)===0)break e;case"keydown":case"keyup":be=_b;break;case"focusin":ke="focus",be=qc;break;case"focusout":ke="blur",be=qc;break;case"beforeblur":case"afterblur":be=qc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Vp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=db;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=Eb;break;case am:case lm:case um:be=pb;break;case cm:be=Pb;break;case"scroll":be=ub;break;case"wheel":be=Ob;break;case"copy":case"cut":case"paste":be=gb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Up}var Te=(i&4)!==0,Bt=!Te&&n==="scroll",L=Te?ne!==null?ne+"Capture":null:ne;Te=[];for(var R=$,F;R!==null;){F=R;var fe=F.stateNode;if(F.tag===5&&fe!==null&&(F=fe,L!==null&&(fe=sr(R,L),fe!=null&&Te.push(Ho(R,fe,F)))),Bt)break;R=R.return}0<Te.length&&(ne=new be(ne,ke,null,l,ie),oe.push({event:ne,listeners:Te}))}}if((i&7)===0){e:{if(ne=n==="mouseover"||n==="pointerover",be=n==="mouseout"||n==="pointerout",ne&&l!==Lt&&(ke=l.relatedTarget||l.fromElement)&&(ni(ke)||ke[es]))break e;if((be||ne)&&(ne=ie.window===ie?ie:(ne=ie.ownerDocument)?ne.defaultView||ne.parentWindow:window,be?(ke=l.relatedTarget||l.toElement,be=$,ke=ke?ni(ke):null,ke!==null&&(Bt=Ee(ke),ke!==Bt||ke.tag!==5&&ke.tag!==6)&&(ke=null)):(be=null,ke=$),be!==ke)){if(Te=Vp,fe="onMouseLeave",L="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(Te=Up,fe="onPointerLeave",L="onPointerEnter",R="pointer"),Bt=be==null?ne:Vi(be),F=ke==null?ne:Vi(ke),ne=new Te(fe,R+"leave",be,l,ie),ne.target=Bt,ne.relatedTarget=F,fe=null,ni(ie)===$&&(Te=new Te(L,R+"enter",ke,l,ie),Te.target=F,Te.relatedTarget=Bt,fe=Te),Bt=fe,be&&ke)t:{for(Te=be,L=ke,R=0,F=Te;F;F=zi(F))R++;for(F=0,fe=L;fe;fe=zi(fe))F++;for(;0<R-F;)Te=zi(Te),R--;for(;0<F-R;)L=zi(L),F--;for(;R--;){if(Te===L||L!==null&&Te===L.alternate)break t;Te=zi(Te),L=zi(L)}Te=null}else Te=null;be!==null&&gm(oe,ne,be,Te,!1),ke!==null&&Bt!==null&&gm(oe,Bt,ke,Te,!0)}}e:{if(ne=$?Vi($):window,be=ne.nodeName&&ne.nodeName.toLowerCase(),be==="select"||be==="input"&&ne.type==="file")var Ne=Lb;else if(Gp(ne))if(Yp)Ne=Vb;else{Ne=zb;var Ie=Fb}else(be=ne.nodeName)&&be.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(Ne=$b);if(Ne&&(Ne=Ne(n,$))){Zp(oe,Ne,l,ie);break e}Ie&&Ie(n,ne,$),n==="focusout"&&(Ie=ne._wrapperState)&&Ie.controlled&&ne.type==="number"&&Ar(ne,"number",ne.value)}switch(Ie=$?Vi($):window,n){case"focusin":(Gp(Ie)||Ie.contentEditable==="true")&&(Li=Ie,Zc=$,Uo=null);break;case"focusout":Uo=Zc=Li=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,im(oe,l,ie);break;case"selectionchange":if(qb)break;case"keydown":case"keyup":im(oe,l,ie)}var Ae;if(Hc)e:{switch(n){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Mi?Qp(n,l)&&(Be="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Be="onCompositionStart");Be&&(qp&&l.locale!=="ko"&&(Mi||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Mi&&(Ae=zp()):(Cs=ie,$c="value"in Cs?Cs.value:Cs.textContent,Mi=!0)),Ie=_l($,Be),0<Ie.length&&(Be=new Bp(Be,n,null,l,ie),oe.push({event:Be,listeners:Ie}),Ae?Be.data=Ae:(Ae=Kp(l),Ae!==null&&(Be.data=Ae)))),(Ae=Rb?Db(n,l):Ib(n,l))&&($=_l($,"onBeforeInput"),0<$.length&&(ie=new Bp("onBeforeInput","beforeinput",null,l,ie),oe.push({event:ie,listeners:$}),ie.data=Ae))}pm(oe,i)})}function Ho(n,i,l){return{instance:n,listener:i,currentTarget:l}}function _l(n,i){for(var l=i+"Capture",c=[];n!==null;){var p=n,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=sr(n,l),v!=null&&c.unshift(Ho(n,v,p)),v=sr(n,i),v!=null&&c.push(Ho(n,v,p))),n=n.return}return c}function zi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function gm(n,i,l,c,p){for(var v=i._reactName,b=[];l!==null&&l!==c;){var E=l,O=E.alternate,$=E.stateNode;if(O!==null&&O===c)break;E.tag===5&&$!==null&&(E=$,p?(O=sr(l,v),O!=null&&b.unshift(Ho(l,O,E))):p||(O=sr(l,v),O!=null&&b.push(Ho(l,O,E)))),l=l.return}b.length!==0&&n.push({event:i,listeners:b})}var Kb=/\r\n?/g,Gb=/\u0000|\uFFFD/g;function vm(n){return(typeof n=="string"?n:""+n).replace(Kb,`
`).replace(Gb,"")}function Cl(n,i,l){if(i=vm(i),vm(n)!==i&&l)throw Error(r(425))}function kl(){}var nd=null,sd=null;function id(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var od=typeof setTimeout=="function"?setTimeout:void 0,Zb=typeof clearTimeout=="function"?clearTimeout:void 0,ym=typeof Promise=="function"?Promise:void 0,Yb=typeof queueMicrotask=="function"?queueMicrotask:typeof ym<"u"?function(n){return ym.resolve(null).then(n).catch(Xb)}:od;function Xb(n){setTimeout(function(){throw n})}function ad(n,i){var l=i,c=0;do{var p=l.nextSibling;if(n.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(c===0){n.removeChild(p),Mo(i);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=p}while(l);Mo(i)}function Es(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function xm(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}var $i=Math.random().toString(36).slice(2),Ln="__reactFiber$"+$i,Qo="__reactProps$"+$i,es="__reactContainer$"+$i,ld="__reactEvents$"+$i,Jb="__reactListeners$"+$i,eS="__reactHandles$"+$i;function ni(n){var i=n[Ln];if(i)return i;for(var l=n.parentNode;l;){if(i=l[es]||l[Ln]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=xm(n);n!==null;){if(l=n[Ln])return l;n=xm(n)}return i}n=l,l=n.parentNode}return null}function Ko(n){return n=n[Ln]||n[es],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Vi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function El(n){return n[Qo]||null}var ud=[],Bi=-1;function Ts(n){return{current:n}}function Pt(n){0>Bi||(n.current=ud[Bi],ud[Bi]=null,Bi--)}function kt(n,i){Bi++,ud[Bi]=n.current,n.current=i}var Ps={},_r=Ts(Ps),Fr=Ts(!1),si=Ps;function Ui(n,i){var l=n.type.contextTypes;if(!l)return Ps;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in l)p[v]=i[v];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=p),p}function zr(n){return n=n.childContextTypes,n!=null}function Tl(){Pt(Fr),Pt(_r)}function wm(n,i,l){if(_r.current!==Ps)throw Error(r(168));kt(_r,i),kt(Fr,l)}function bm(n,i,l){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var p in c)if(!(p in i))throw Error(r(108,He(n)||"Unknown",p));return ue({},l,c)}function Pl(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Ps,si=_r.current,kt(_r,n),kt(Fr,Fr.current),!0}function Sm(n,i,l){var c=n.stateNode;if(!c)throw Error(r(169));l?(n=bm(n,i,si),c.__reactInternalMemoizedMergedChildContext=n,Pt(Fr),Pt(_r),kt(_r,n)):Pt(Fr),kt(Fr,l)}var ts=null,Nl=!1,cd=!1;function _m(n){ts===null?ts=[n]:ts.push(n)}function tS(n){Nl=!0,_m(n)}function Ns(){if(!cd&&ts!==null){cd=!0;var n=0,i=gt;try{var l=ts;for(gt=1;n<l.length;n++){var c=l[n];do c=c(!0);while(c!==null)}ts=null,Nl=!1}catch(p){throw ts!==null&&(ts=ts.slice(n+1)),ol(No,Ns),p}finally{gt=i,cd=!1}}return null}var qi=[],Wi=0,Ol=null,jl=0,an=[],ln=0,ii=null,rs=1,ns="";function oi(n,i){qi[Wi++]=jl,qi[Wi++]=Ol,Ol=n,jl=i}function Cm(n,i,l){an[ln++]=rs,an[ln++]=ns,an[ln++]=ii,ii=n;var c=rs;n=ns;var p=32-I(c)-1;c&=~(1<<p),l+=1;var v=32-I(i)+p;if(30<v){var b=p-p%5;v=(c&(1<<b)-1).toString(32),c>>=b,p-=b,rs=1<<32-I(i)+p|l<<p|c,ns=v+n}else rs=1<<v|l<<p|c,ns=n}function dd(n){n.return!==null&&(oi(n,1),Cm(n,1,0))}function fd(n){for(;n===Ol;)Ol=qi[--Wi],qi[Wi]=null,jl=qi[--Wi],qi[Wi]=null;for(;n===ii;)ii=an[--ln],an[ln]=null,ns=an[--ln],an[ln]=null,rs=an[--ln],an[ln]=null}var Kr=null,Gr=null,Ot=!1,bn=null;function km(n,i){var l=fn(5,null,null,0);l.elementType="DELETED",l.stateNode=i,l.return=n,i=n.deletions,i===null?(n.deletions=[l],n.flags|=16):i.push(l)}function Em(n,i){switch(n.tag){case 5:var l=n.type;return i=i.nodeType!==1||l.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,Kr=n,Gr=Es(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,Kr=n,Gr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(l=ii!==null?{id:rs,overflow:ns}:null,n.memoizedState={dehydrated:i,treeContext:l,retryLane:1073741824},l=fn(18,null,null,0),l.stateNode=i,l.return=n,n.child=l,Kr=n,Gr=null,!0):!1;default:return!1}}function hd(n){return(n.mode&1)!==0&&(n.flags&128)===0}function pd(n){if(Ot){var i=Gr;if(i){var l=i;if(!Em(n,i)){if(hd(n))throw Error(r(418));i=Es(l.nextSibling);var c=Kr;i&&Em(n,i)?km(c,l):(n.flags=n.flags&-4097|2,Ot=!1,Kr=n)}}else{if(hd(n))throw Error(r(418));n.flags=n.flags&-4097|2,Ot=!1,Kr=n}}}function Tm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Kr=n}function Rl(n){if(n!==Kr)return!1;if(!Ot)return Tm(n),Ot=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!id(n.type,n.memoizedProps)),i&&(i=Gr)){if(hd(n))throw Pm(),Error(r(418));for(;i;)km(n,i),i=Es(i.nextSibling)}if(Tm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(i===0){Gr=Es(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++}n=n.nextSibling}Gr=null}}else Gr=Kr?Es(n.stateNode.nextSibling):null;return!0}function Pm(){for(var n=Gr;n;)n=Es(n.nextSibling)}function Hi(){Gr=Kr=null,Ot=!1}function md(n){bn===null?bn=[n]:bn.push(n)}var rS=M.ReactCurrentBatchConfig;function Go(n,i,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var c=l.stateNode}if(!c)throw Error(r(147,n));var p=c,v=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(b){var E=p.refs;b===null?delete E[v]:E[v]=b},i._stringRef=v,i)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function Dl(n,i){throw n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function Nm(n){var i=n._init;return i(n._payload)}function Om(n){function i(L,R){if(n){var F=L.deletions;F===null?(L.deletions=[R],L.flags|=16):F.push(R)}}function l(L,R){if(!n)return null;for(;R!==null;)i(L,R),R=R.sibling;return null}function c(L,R){for(L=new Map;R!==null;)R.key!==null?L.set(R.key,R):L.set(R.index,R),R=R.sibling;return L}function p(L,R){return L=Ls(L,R),L.index=0,L.sibling=null,L}function v(L,R,F){return L.index=F,n?(F=L.alternate,F!==null?(F=F.index,F<R?(L.flags|=2,R):F):(L.flags|=2,R)):(L.flags|=1048576,R)}function b(L){return n&&L.alternate===null&&(L.flags|=2),L}function E(L,R,F,fe){return R===null||R.tag!==6?(R=af(F,L.mode,fe),R.return=L,R):(R=p(R,F),R.return=L,R)}function O(L,R,F,fe){var Ne=F.type;return Ne===B?ie(L,R,F.props.children,fe,F.key):R!==null&&(R.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ce&&Nm(Ne)===R.type)?(fe=p(R,F.props),fe.ref=Go(L,R,F),fe.return=L,fe):(fe=nu(F.type,F.key,F.props,null,L.mode,fe),fe.ref=Go(L,R,F),fe.return=L,fe)}function $(L,R,F,fe){return R===null||R.tag!==4||R.stateNode.containerInfo!==F.containerInfo||R.stateNode.implementation!==F.implementation?(R=lf(F,L.mode,fe),R.return=L,R):(R=p(R,F.children||[]),R.return=L,R)}function ie(L,R,F,fe,Ne){return R===null||R.tag!==7?(R=pi(F,L.mode,fe,Ne),R.return=L,R):(R=p(R,F),R.return=L,R)}function oe(L,R,F){if(typeof R=="string"&&R!==""||typeof R=="number")return R=af(""+R,L.mode,F),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case V:return F=nu(R.type,R.key,R.props,null,L.mode,F),F.ref=Go(L,null,R),F.return=L,F;case G:return R=lf(R,L.mode,F),R.return=L,R;case ce:var fe=R._init;return oe(L,fe(R._payload),F)}if(Mr(R)||le(R))return R=pi(R,L.mode,F,null),R.return=L,R;Dl(L,R)}return null}function ne(L,R,F,fe){var Ne=R!==null?R.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return Ne!==null?null:E(L,R,""+F,fe);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case V:return F.key===Ne?O(L,R,F,fe):null;case G:return F.key===Ne?$(L,R,F,fe):null;case ce:return Ne=F._init,ne(L,R,Ne(F._payload),fe)}if(Mr(F)||le(F))return Ne!==null?null:ie(L,R,F,fe,null);Dl(L,F)}return null}function be(L,R,F,fe,Ne){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return L=L.get(F)||null,E(R,L,""+fe,Ne);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case V:return L=L.get(fe.key===null?F:fe.key)||null,O(R,L,fe,Ne);case G:return L=L.get(fe.key===null?F:fe.key)||null,$(R,L,fe,Ne);case ce:var Ie=fe._init;return be(L,R,F,Ie(fe._payload),Ne)}if(Mr(fe)||le(fe))return L=L.get(F)||null,ie(R,L,fe,Ne,null);Dl(R,fe)}return null}function ke(L,R,F,fe){for(var Ne=null,Ie=null,Ae=R,Be=R=0,ur=null;Ae!==null&&Be<F.length;Be++){Ae.index>Be?(ur=Ae,Ae=null):ur=Ae.sibling;var dt=ne(L,Ae,F[Be],fe);if(dt===null){Ae===null&&(Ae=ur);break}n&&Ae&&dt.alternate===null&&i(L,Ae),R=v(dt,R,Be),Ie===null?Ne=dt:Ie.sibling=dt,Ie=dt,Ae=ur}if(Be===F.length)return l(L,Ae),Ot&&oi(L,Be),Ne;if(Ae===null){for(;Be<F.length;Be++)Ae=oe(L,F[Be],fe),Ae!==null&&(R=v(Ae,R,Be),Ie===null?Ne=Ae:Ie.sibling=Ae,Ie=Ae);return Ot&&oi(L,Be),Ne}for(Ae=c(L,Ae);Be<F.length;Be++)ur=be(Ae,L,Be,F[Be],fe),ur!==null&&(n&&ur.alternate!==null&&Ae.delete(ur.key===null?Be:ur.key),R=v(ur,R,Be),Ie===null?Ne=ur:Ie.sibling=ur,Ie=ur);return n&&Ae.forEach(function(Fs){return i(L,Fs)}),Ot&&oi(L,Be),Ne}function Te(L,R,F,fe){var Ne=le(F);if(typeof Ne!="function")throw Error(r(150));if(F=Ne.call(F),F==null)throw Error(r(151));for(var Ie=Ne=null,Ae=R,Be=R=0,ur=null,dt=F.next();Ae!==null&&!dt.done;Be++,dt=F.next()){Ae.index>Be?(ur=Ae,Ae=null):ur=Ae.sibling;var Fs=ne(L,Ae,dt.value,fe);if(Fs===null){Ae===null&&(Ae=ur);break}n&&Ae&&Fs.alternate===null&&i(L,Ae),R=v(Fs,R,Be),Ie===null?Ne=Fs:Ie.sibling=Fs,Ie=Fs,Ae=ur}if(dt.done)return l(L,Ae),Ot&&oi(L,Be),Ne;if(Ae===null){for(;!dt.done;Be++,dt=F.next())dt=oe(L,dt.value,fe),dt!==null&&(R=v(dt,R,Be),Ie===null?Ne=dt:Ie.sibling=dt,Ie=dt);return Ot&&oi(L,Be),Ne}for(Ae=c(L,Ae);!dt.done;Be++,dt=F.next())dt=be(Ae,L,Be,dt.value,fe),dt!==null&&(n&&dt.alternate!==null&&Ae.delete(dt.key===null?Be:dt.key),R=v(dt,R,Be),Ie===null?Ne=dt:Ie.sibling=dt,Ie=dt);return n&&Ae.forEach(function(AS){return i(L,AS)}),Ot&&oi(L,Be),Ne}function Bt(L,R,F,fe){if(typeof F=="object"&&F!==null&&F.type===B&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case V:e:{for(var Ne=F.key,Ie=R;Ie!==null;){if(Ie.key===Ne){if(Ne=F.type,Ne===B){if(Ie.tag===7){l(L,Ie.sibling),R=p(Ie,F.props.children),R.return=L,L=R;break e}}else if(Ie.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ce&&Nm(Ne)===Ie.type){l(L,Ie.sibling),R=p(Ie,F.props),R.ref=Go(L,Ie,F),R.return=L,L=R;break e}l(L,Ie);break}else i(L,Ie);Ie=Ie.sibling}F.type===B?(R=pi(F.props.children,L.mode,fe,F.key),R.return=L,L=R):(fe=nu(F.type,F.key,F.props,null,L.mode,fe),fe.ref=Go(L,R,F),fe.return=L,L=fe)}return b(L);case G:e:{for(Ie=F.key;R!==null;){if(R.key===Ie)if(R.tag===4&&R.stateNode.containerInfo===F.containerInfo&&R.stateNode.implementation===F.implementation){l(L,R.sibling),R=p(R,F.children||[]),R.return=L,L=R;break e}else{l(L,R);break}else i(L,R);R=R.sibling}R=lf(F,L.mode,fe),R.return=L,L=R}return b(L);case ce:return Ie=F._init,Bt(L,R,Ie(F._payload),fe)}if(Mr(F))return ke(L,R,F,fe);if(le(F))return Te(L,R,F,fe);Dl(L,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,R!==null&&R.tag===6?(l(L,R.sibling),R=p(R,F),R.return=L,L=R):(l(L,R),R=af(F,L.mode,fe),R.return=L,L=R),b(L)):l(L,R)}return Bt}var Qi=Om(!0),jm=Om(!1),Il=Ts(null),Al=null,Ki=null,gd=null;function vd(){gd=Ki=Al=null}function yd(n){var i=Il.current;Pt(Il),n._currentValue=i}function xd(n,i,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===l)break;n=n.return}}function Gi(n,i){Al=n,gd=Ki=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&($r=!0),n.firstContext=null)}function un(n){var i=n._currentValue;if(gd!==n)if(n={context:n,memoizedValue:i,next:null},Ki===null){if(Al===null)throw Error(r(308));Ki=n,Al.dependencies={lanes:0,firstContext:n}}else Ki=Ki.next=n;return i}var ai=null;function wd(n){ai===null?ai=[n]:ai.push(n)}function Rm(n,i,l,c){var p=i.interleaved;return p===null?(l.next=l,wd(i)):(l.next=p.next,p.next=l),i.interleaved=l,ss(n,c)}function ss(n,i){n.lanes|=i;var l=n.alternate;for(l!==null&&(l.lanes|=i),l=n,n=n.return;n!==null;)n.childLanes|=i,l=n.alternate,l!==null&&(l.childLanes|=i),l=n,n=n.return;return l.tag===3?l.stateNode:null}var Os=!1;function bd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dm(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function is(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function js(n,i,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var p=c.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),c.pending=i,ss(n,l)}return p=c.interleaved,p===null?(i.next=i,wd(c)):(i.next=p.next,p.next=i),c.interleaved=i,ss(n,l)}function Ml(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,l|=c,i.lanes=l,Ac(n,l)}}function Im(n,i){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?p=v=b:v=v.next=b,l=l.next}while(l!==null);v===null?p=v=i:v=v.next=i}else p=v=i;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:c.shared,effects:c.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}function Ll(n,i,l,c){var p=n.updateQueue;Os=!1;var v=p.firstBaseUpdate,b=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var O=E,$=O.next;O.next=null,b===null?v=$:b.next=$,b=O;var ie=n.alternate;ie!==null&&(ie=ie.updateQueue,E=ie.lastBaseUpdate,E!==b&&(E===null?ie.firstBaseUpdate=$:E.next=$,ie.lastBaseUpdate=O))}if(v!==null){var oe=p.baseState;b=0,ie=$=O=null,E=v;do{var ne=E.lane,be=E.eventTime;if((c&ne)===ne){ie!==null&&(ie=ie.next={eventTime:be,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ke=n,Te=E;switch(ne=i,be=l,Te.tag){case 1:if(ke=Te.payload,typeof ke=="function"){oe=ke.call(be,oe,ne);break e}oe=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Te.payload,ne=typeof ke=="function"?ke.call(be,oe,ne):ke,ne==null)break e;oe=ue({},oe,ne);break e;case 2:Os=!0}}E.callback!==null&&E.lane!==0&&(n.flags|=64,ne=p.effects,ne===null?p.effects=[E]:ne.push(E))}else be={eventTime:be,lane:ne,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ie===null?($=ie=be,O=oe):ie=ie.next=be,b|=ne;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;ne=E,E=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);if(ie===null&&(O=oe),p.baseState=O,p.firstBaseUpdate=$,p.lastBaseUpdate=ie,i=p.shared.interleaved,i!==null){p=i;do b|=p.lane,p=p.next;while(p!==i)}else v===null&&(p.shared.lanes=0);ci|=b,n.lanes=b,n.memoizedState=oe}}function Am(n,i,l){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],p=c.callback;if(p!==null){if(c.callback=null,c=l,typeof p!="function")throw Error(r(191,p));p.call(c)}}}var Zo={},Fn=Ts(Zo),Yo=Ts(Zo),Xo=Ts(Zo);function li(n){if(n===Zo)throw Error(r(174));return n}function Sd(n,i){switch(kt(Xo,i),kt(Yo,n),kt(Fn,Zo),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ee(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ee(i,n)}Pt(Fn),kt(Fn,i)}function Zi(){Pt(Fn),Pt(Yo),Pt(Xo)}function Mm(n){li(Xo.current);var i=li(Fn.current),l=ee(i,n.type);i!==l&&(kt(Yo,n),kt(Fn,l))}function _d(n){Yo.current===n&&(Pt(Fn),Pt(Yo))}var Dt=Ts(0);function Fl(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Cd=[];function kd(){for(var n=0;n<Cd.length;n++)Cd[n]._workInProgressVersionPrimary=null;Cd.length=0}var zl=M.ReactCurrentDispatcher,Ed=M.ReactCurrentBatchConfig,ui=0,It=null,Zt=null,ar=null,$l=!1,Jo=!1,ea=0,nS=0;function Cr(){throw Error(r(321))}function Td(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!wn(n[l],i[l]))return!1;return!0}function Pd(n,i,l,c,p,v){if(ui=v,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,zl.current=n===null||n.memoizedState===null?aS:lS,n=l(c,p),Jo){v=0;do{if(Jo=!1,ea=0,25<=v)throw Error(r(301));v+=1,ar=Zt=null,i.updateQueue=null,zl.current=uS,n=l(c,p)}while(Jo)}if(zl.current=Ul,i=Zt!==null&&Zt.next!==null,ui=0,ar=Zt=It=null,$l=!1,i)throw Error(r(300));return n}function Nd(){var n=ea!==0;return ea=0,n}function zn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?It.memoizedState=ar=n:ar=ar.next=n,ar}function cn(){if(Zt===null){var n=It.alternate;n=n!==null?n.memoizedState:null}else n=Zt.next;var i=ar===null?It.memoizedState:ar.next;if(i!==null)ar=i,Zt=n;else{if(n===null)throw Error(r(310));Zt=n,n={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},ar===null?It.memoizedState=ar=n:ar=ar.next=n}return ar}function ta(n,i){return typeof i=="function"?i(n):i}function Od(n){var i=cn(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=Zt,p=c.baseQueue,v=l.pending;if(v!==null){if(p!==null){var b=p.next;p.next=v.next,v.next=b}c.baseQueue=p=v,l.pending=null}if(p!==null){v=p.next,c=c.baseState;var E=b=null,O=null,$=v;do{var ie=$.lane;if((ui&ie)===ie)O!==null&&(O=O.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:n(c,$.action);else{var oe={lane:ie,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};O===null?(E=O=oe,b=c):O=O.next=oe,It.lanes|=ie,ci|=ie}$=$.next}while($!==null&&$!==v);O===null?b=c:O.next=E,wn(c,i.memoizedState)||($r=!0),i.memoizedState=c,i.baseState=b,i.baseQueue=O,l.lastRenderedState=c}if(n=l.interleaved,n!==null){p=n;do v=p.lane,It.lanes|=v,ci|=v,p=p.next;while(p!==n)}else p===null&&(l.lanes=0);return[i.memoizedState,l.dispatch]}function jd(n){var i=cn(),l=i.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var c=l.dispatch,p=l.pending,v=i.memoizedState;if(p!==null){l.pending=null;var b=p=p.next;do v=n(v,b.action),b=b.next;while(b!==p);wn(v,i.memoizedState)||($r=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),l.lastRenderedState=v}return[v,c]}function Lm(){}function Fm(n,i){var l=It,c=cn(),p=i(),v=!wn(c.memoizedState,p);if(v&&(c.memoizedState=p,$r=!0),c=c.queue,Rd(Vm.bind(null,l,c,n),[n]),c.getSnapshot!==i||v||ar!==null&&ar.memoizedState.tag&1){if(l.flags|=2048,ra(9,$m.bind(null,l,c,p,i),void 0,null),lr===null)throw Error(r(349));(ui&30)!==0||zm(l,i,p)}return p}function zm(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=It.updateQueue,i===null?(i={lastEffect:null,stores:null},It.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function $m(n,i,l,c){i.value=l,i.getSnapshot=c,Bm(i)&&Um(n)}function Vm(n,i,l){return l(function(){Bm(i)&&Um(n)})}function Bm(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!wn(n,l)}catch{return!0}}function Um(n){var i=ss(n,1);i!==null&&kn(i,n,1,-1)}function qm(n){var i=zn();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:n},i.queue=n,n=n.dispatch=oS.bind(null,It,n),[i.memoizedState,n]}function ra(n,i,l,c){return n={tag:n,create:i,destroy:l,deps:c,next:null},i=It.updateQueue,i===null?(i={lastEffect:null,stores:null},It.updateQueue=i,i.lastEffect=n.next=n):(l=i.lastEffect,l===null?i.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,i.lastEffect=n)),n}function Wm(){return cn().memoizedState}function Vl(n,i,l,c){var p=zn();It.flags|=n,p.memoizedState=ra(1|i,l,void 0,c===void 0?null:c)}function Bl(n,i,l,c){var p=cn();c=c===void 0?null:c;var v=void 0;if(Zt!==null){var b=Zt.memoizedState;if(v=b.destroy,c!==null&&Td(c,b.deps)){p.memoizedState=ra(i,l,v,c);return}}It.flags|=n,p.memoizedState=ra(1|i,l,v,c)}function Hm(n,i){return Vl(8390656,8,n,i)}function Rd(n,i){return Bl(2048,8,n,i)}function Qm(n,i){return Bl(4,2,n,i)}function Km(n,i){return Bl(4,4,n,i)}function Gm(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Zm(n,i,l){return l=l!=null?l.concat([n]):null,Bl(4,4,Gm.bind(null,i,n),l)}function Dd(){}function Ym(n,i){var l=cn();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&Td(i,c[1])?c[0]:(l.memoizedState=[n,i],n)}function Xm(n,i){var l=cn();i=i===void 0?null:i;var c=l.memoizedState;return c!==null&&i!==null&&Td(i,c[1])?c[0]:(n=n(),l.memoizedState=[n,i],n)}function Jm(n,i,l){return(ui&21)===0?(n.baseState&&(n.baseState=!1,$r=!0),n.memoizedState=l):(wn(l,i)||(l=Np(),It.lanes|=l,ci|=l,n.baseState=!0),i)}function sS(n,i){var l=gt;gt=l!==0&&4>l?l:4,n(!0);var c=Ed.transition;Ed.transition={};try{n(!1),i()}finally{gt=l,Ed.transition=c}}function eg(){return cn().memoizedState}function iS(n,i,l){var c=As(n);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},tg(n))rg(i,l);else if(l=Rm(n,i,l,c),l!==null){var p=jr();kn(l,n,c,p),ng(l,i,c)}}function oS(n,i,l){var c=As(n),p={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(tg(n))rg(i,p);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var b=i.lastRenderedState,E=v(b,l);if(p.hasEagerState=!0,p.eagerState=E,wn(E,b)){var O=i.interleaved;O===null?(p.next=p,wd(i)):(p.next=O.next,O.next=p),i.interleaved=p;return}}catch{}l=Rm(n,i,p,c),l!==null&&(p=jr(),kn(l,n,c,p),ng(l,i,c))}}function tg(n){var i=n.alternate;return n===It||i!==null&&i===It}function rg(n,i){Jo=$l=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function ng(n,i,l){if((l&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,l|=c,i.lanes=l,Ac(n,l)}}var Ul={readContext:un,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},aS={readContext:un,useCallback:function(n,i){return zn().memoizedState=[n,i===void 0?null:i],n},useContext:un,useEffect:Hm,useImperativeHandle:function(n,i,l){return l=l!=null?l.concat([n]):null,Vl(4194308,4,Gm.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Vl(4194308,4,n,i)},useInsertionEffect:function(n,i){return Vl(4,2,n,i)},useMemo:function(n,i){var l=zn();return i=i===void 0?null:i,n=n(),l.memoizedState=[n,i],n},useReducer:function(n,i,l){var c=zn();return i=l!==void 0?l(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=iS.bind(null,It,n),[c.memoizedState,n]},useRef:function(n){var i=zn();return n={current:n},i.memoizedState=n},useState:qm,useDebugValue:Dd,useDeferredValue:function(n){return zn().memoizedState=n},useTransition:function(){var n=qm(!1),i=n[0];return n=sS.bind(null,n[1]),zn().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,l){var c=It,p=zn();if(Ot){if(l===void 0)throw Error(r(407));l=l()}else{if(l=i(),lr===null)throw Error(r(349));(ui&30)!==0||zm(c,i,l)}p.memoizedState=l;var v={value:l,getSnapshot:i};return p.queue=v,Hm(Vm.bind(null,c,v,n),[n]),c.flags|=2048,ra(9,$m.bind(null,c,v,l,i),void 0,null),l},useId:function(){var n=zn(),i=lr.identifierPrefix;if(Ot){var l=ns,c=rs;l=(c&~(1<<32-I(c)-1)).toString(32)+l,i=":"+i+"R"+l,l=ea++,0<l&&(i+="H"+l.toString(32)),i+=":"}else l=nS++,i=":"+i+"r"+l.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},lS={readContext:un,useCallback:Ym,useContext:un,useEffect:Rd,useImperativeHandle:Zm,useInsertionEffect:Qm,useLayoutEffect:Km,useMemo:Xm,useReducer:Od,useRef:Wm,useState:function(){return Od(ta)},useDebugValue:Dd,useDeferredValue:function(n){var i=cn();return Jm(i,Zt.memoizedState,n)},useTransition:function(){var n=Od(ta)[0],i=cn().memoizedState;return[n,i]},useMutableSource:Lm,useSyncExternalStore:Fm,useId:eg,unstable_isNewReconciler:!1},uS={readContext:un,useCallback:Ym,useContext:un,useEffect:Rd,useImperativeHandle:Zm,useInsertionEffect:Qm,useLayoutEffect:Km,useMemo:Xm,useReducer:jd,useRef:Wm,useState:function(){return jd(ta)},useDebugValue:Dd,useDeferredValue:function(n){var i=cn();return Zt===null?i.memoizedState=n:Jm(i,Zt.memoizedState,n)},useTransition:function(){var n=jd(ta)[0],i=cn().memoizedState;return[n,i]},useMutableSource:Lm,useSyncExternalStore:Fm,useId:eg,unstable_isNewReconciler:!1};function Sn(n,i){if(n&&n.defaultProps){i=ue({},i),n=n.defaultProps;for(var l in n)i[l]===void 0&&(i[l]=n[l]);return i}return i}function Id(n,i,l,c){i=n.memoizedState,l=l(c,i),l=l==null?i:ue({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var ql={isMounted:function(n){return(n=n._reactInternals)?Ee(n)===n:!1},enqueueSetState:function(n,i,l){n=n._reactInternals;var c=jr(),p=As(n),v=is(c,p);v.payload=i,l!=null&&(v.callback=l),i=js(n,v,p),i!==null&&(kn(i,n,p,c),Ml(i,n,p))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var c=jr(),p=As(n),v=is(c,p);v.tag=1,v.payload=i,l!=null&&(v.callback=l),i=js(n,v,p),i!==null&&(kn(i,n,p,c),Ml(i,n,p))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=jr(),c=As(n),p=is(l,c);p.tag=2,i!=null&&(p.callback=i),i=js(n,p,c),i!==null&&(kn(i,n,c,l),Ml(i,n,c))}};function sg(n,i,l,c,p,v,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,v,b):i.prototype&&i.prototype.isPureReactComponent?!Bo(l,c)||!Bo(p,v):!0}function ig(n,i,l){var c=!1,p=Ps,v=i.contextType;return typeof v=="object"&&v!==null?v=un(v):(p=zr(i)?si:_r.current,c=i.contextTypes,v=(c=c!=null)?Ui(n,p):Ps),i=new i(l,v),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ql,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=p,n.__reactInternalMemoizedMaskedChildContext=v),i}function og(n,i,l,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,c),i.state!==n&&ql.enqueueReplaceState(i,i.state,null)}function Ad(n,i,l,c){var p=n.stateNode;p.props=l,p.state=n.memoizedState,p.refs={},bd(n);var v=i.contextType;typeof v=="object"&&v!==null?p.context=un(v):(v=zr(i)?si:_r.current,p.context=Ui(n,v)),p.state=n.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Id(n,i,v,l),p.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&ql.enqueueReplaceState(p,p.state,null),Ll(n,l,p,c),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308)}function Yi(n,i){try{var l="",c=i;do l+=Ve(c),c=c.return;while(c);var p=l}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:i,stack:p,digest:null}}function Md(n,i,l){return{value:n,source:null,stack:l??null,digest:i??null}}function Ld(n,i){try{console.error(i.value)}catch(l){setTimeout(function(){throw l})}}var cS=typeof WeakMap=="function"?WeakMap:Map;function ag(n,i,l){l=is(-1,l),l.tag=3,l.payload={element:null};var c=i.value;return l.callback=function(){Yl||(Yl=!0,Xd=c),Ld(n,i)},l}function lg(n,i,l){l=is(-1,l),l.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var p=i.value;l.payload=function(){return c(p)},l.callback=function(){Ld(n,i)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Ld(n,i),typeof c!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var b=i.stack;this.componentDidCatch(i.value,{componentStack:b!==null?b:""})}),l}function ug(n,i,l){var c=n.pingCache;if(c===null){c=n.pingCache=new cS;var p=new Set;c.set(i,p)}else p=c.get(i),p===void 0&&(p=new Set,c.set(i,p));p.has(l)||(p.add(l),n=CS.bind(null,n,i,l),i.then(n,n))}function cg(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function dg(n,i,l,c,p){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(i=is(-1,1),i.tag=2,js(l,i,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=p,n)}var dS=M.ReactCurrentOwner,$r=!1;function Or(n,i,l,c){i.child=n===null?jm(i,null,l,c):Qi(i,n.child,l,c)}function fg(n,i,l,c,p){l=l.render;var v=i.ref;return Gi(i,p),c=Pd(n,i,l,c,v,p),l=Nd(),n!==null&&!$r?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~p,os(n,i,p)):(Ot&&l&&dd(i),i.flags|=1,Or(n,i,c,p),i.child)}function hg(n,i,l,c,p){if(n===null){var v=l.type;return typeof v=="function"&&!of(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(i.tag=15,i.type=v,pg(n,i,v,c,p)):(n=nu(l.type,null,c,i,i.mode,p),n.ref=i.ref,n.return=i,i.child=n)}if(v=n.child,(n.lanes&p)===0){var b=v.memoizedProps;if(l=l.compare,l=l!==null?l:Bo,l(b,c)&&n.ref===i.ref)return os(n,i,p)}return i.flags|=1,n=Ls(v,c),n.ref=i.ref,n.return=i,i.child=n}function pg(n,i,l,c,p){if(n!==null){var v=n.memoizedProps;if(Bo(v,c)&&n.ref===i.ref)if($r=!1,i.pendingProps=c=v,(n.lanes&p)!==0)(n.flags&131072)!==0&&($r=!0);else return i.lanes=n.lanes,os(n,i,p)}return Fd(n,i,l,c,p)}function mg(n,i,l){var c=i.pendingProps,p=c.children,v=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Ji,Zr),Zr|=l;else{if((l&1073741824)===0)return n=v!==null?v.baseLanes|l:l,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,kt(Ji,Zr),Zr|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=v!==null?v.baseLanes:l,kt(Ji,Zr),Zr|=c}else v!==null?(c=v.baseLanes|l,i.memoizedState=null):c=l,kt(Ji,Zr),Zr|=c;return Or(n,i,p,l),i.child}function gg(n,i){var l=i.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(i.flags|=512,i.flags|=2097152)}function Fd(n,i,l,c,p){var v=zr(l)?si:_r.current;return v=Ui(i,v),Gi(i,p),l=Pd(n,i,l,c,v,p),c=Nd(),n!==null&&!$r?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~p,os(n,i,p)):(Ot&&c&&dd(i),i.flags|=1,Or(n,i,l,p),i.child)}function vg(n,i,l,c,p){if(zr(l)){var v=!0;Pl(i)}else v=!1;if(Gi(i,p),i.stateNode===null)Hl(n,i),ig(i,l,c),Ad(i,l,c,p),c=!0;else if(n===null){var b=i.stateNode,E=i.memoizedProps;b.props=E;var O=b.context,$=l.contextType;typeof $=="object"&&$!==null?$=un($):($=zr(l)?si:_r.current,$=Ui(i,$));var ie=l.getDerivedStateFromProps,oe=typeof ie=="function"||typeof b.getSnapshotBeforeUpdate=="function";oe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==c||O!==$)&&og(i,b,c,$),Os=!1;var ne=i.memoizedState;b.state=ne,Ll(i,c,b,p),O=i.memoizedState,E!==c||ne!==O||Fr.current||Os?(typeof ie=="function"&&(Id(i,l,ie,c),O=i.memoizedState),(E=Os||sg(i,l,E,c,ne,O,$))?(oe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=O),b.props=c,b.state=O,b.context=$,c=E):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{b=i.stateNode,Dm(n,i),E=i.memoizedProps,$=i.type===i.elementType?E:Sn(i.type,E),b.props=$,oe=i.pendingProps,ne=b.context,O=l.contextType,typeof O=="object"&&O!==null?O=un(O):(O=zr(l)?si:_r.current,O=Ui(i,O));var be=l.getDerivedStateFromProps;(ie=typeof be=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==oe||ne!==O)&&og(i,b,c,O),Os=!1,ne=i.memoizedState,b.state=ne,Ll(i,c,b,p);var ke=i.memoizedState;E!==oe||ne!==ke||Fr.current||Os?(typeof be=="function"&&(Id(i,l,be,c),ke=i.memoizedState),($=Os||sg(i,l,$,c,ne,ke,O)||!1)?(ie||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,ke,O),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,ke,O)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===n.memoizedProps&&ne===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&ne===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ke),b.props=c,b.state=ke,b.context=O,c=$):(typeof b.componentDidUpdate!="function"||E===n.memoizedProps&&ne===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&ne===n.memoizedState||(i.flags|=1024),c=!1)}return zd(n,i,l,c,v,p)}function zd(n,i,l,c,p,v){gg(n,i);var b=(i.flags&128)!==0;if(!c&&!b)return p&&Sm(i,l,!1),os(n,i,v);c=i.stateNode,dS.current=i;var E=b&&typeof l.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&b?(i.child=Qi(i,n.child,null,v),i.child=Qi(i,null,E,v)):Or(n,i,E,v),i.memoizedState=c.state,p&&Sm(i,l,!0),i.child}function yg(n){var i=n.stateNode;i.pendingContext?wm(n,i.pendingContext,i.pendingContext!==i.context):i.context&&wm(n,i.context,!1),Sd(n,i.containerInfo)}function xg(n,i,l,c,p){return Hi(),md(p),i.flags|=256,Or(n,i,l,c),i.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function Vd(n){return{baseLanes:n,cachePool:null,transitions:null}}function wg(n,i,l){var c=i.pendingProps,p=Dt.current,v=!1,b=(i.flags&128)!==0,E;if((E=b)||(E=n!==null&&n.memoizedState===null?!1:(p&2)!==0),E?(v=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(p|=1),kt(Dt,p&1),n===null)return pd(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(b=c.children,n=c.fallback,v?(c=i.mode,v=i.child,b={mode:"hidden",children:b},(c&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=b):v=su(b,c,0,null),n=pi(n,c,l,null),v.return=i,n.return=i,v.sibling=n,i.child=v,i.child.memoizedState=Vd(l),i.memoizedState=$d,n):Bd(i,b));if(p=n.memoizedState,p!==null&&(E=p.dehydrated,E!==null))return fS(n,i,b,c,E,p,l);if(v){v=c.fallback,b=i.mode,p=n.child,E=p.sibling;var O={mode:"hidden",children:c.children};return(b&1)===0&&i.child!==p?(c=i.child,c.childLanes=0,c.pendingProps=O,i.deletions=null):(c=Ls(p,O),c.subtreeFlags=p.subtreeFlags&14680064),E!==null?v=Ls(E,v):(v=pi(v,b,l,null),v.flags|=2),v.return=i,c.return=i,c.sibling=v,i.child=c,c=v,v=i.child,b=n.child.memoizedState,b=b===null?Vd(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},v.memoizedState=b,v.childLanes=n.childLanes&~l,i.memoizedState=$d,c}return v=n.child,n=v.sibling,c=Ls(v,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=l),c.return=i,c.sibling=null,n!==null&&(l=i.deletions,l===null?(i.deletions=[n],i.flags|=16):l.push(n)),i.child=c,i.memoizedState=null,c}function Bd(n,i){return i=su({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function Wl(n,i,l,c){return c!==null&&md(c),Qi(i,n.child,null,l),n=Bd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function fS(n,i,l,c,p,v,b){if(l)return i.flags&256?(i.flags&=-257,c=Md(Error(r(422))),Wl(n,i,b,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(v=c.fallback,p=i.mode,c=su({mode:"visible",children:c.children},p,0,null),v=pi(v,p,b,null),v.flags|=2,c.return=i,v.return=i,c.sibling=v,i.child=c,(i.mode&1)!==0&&Qi(i,n.child,null,b),i.child.memoizedState=Vd(b),i.memoizedState=$d,v);if((i.mode&1)===0)return Wl(n,i,b,null);if(p.data==="$!"){if(c=p.nextSibling&&p.nextSibling.dataset,c)var E=c.dgst;return c=E,v=Error(r(419)),c=Md(v,c,void 0),Wl(n,i,b,c)}if(E=(b&n.childLanes)!==0,$r||E){if(c=lr,c!==null){switch(b&-b){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(c.suspendedLanes|b))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,ss(n,p),kn(c,n,p,-1))}return sf(),c=Md(Error(r(421))),Wl(n,i,b,c)}return p.data==="$?"?(i.flags|=128,i.child=n.child,i=kS.bind(null,n),p._reactRetry=i,null):(n=v.treeContext,Gr=Es(p.nextSibling),Kr=i,Ot=!0,bn=null,n!==null&&(an[ln++]=rs,an[ln++]=ns,an[ln++]=ii,rs=n.id,ns=n.overflow,ii=i),i=Bd(i,c.children),i.flags|=4096,i)}function bg(n,i,l){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),xd(n.return,i,l)}function Ud(n,i,l,c,p){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=l,v.tailMode=p)}function Sg(n,i,l){var c=i.pendingProps,p=c.revealOrder,v=c.tail;if(Or(n,i,c.children,l),c=Dt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&bg(n,l,i);else if(n.tag===19)bg(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(kt(Dt,c),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(l=i.child,p=null;l!==null;)n=l.alternate,n!==null&&Fl(n)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),Ud(i,!1,p,l,v);break;case"backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(n=p.alternate,n!==null&&Fl(n)===null){i.child=p;break}n=p.sibling,p.sibling=l,l=p,p=n}Ud(i,!0,l,null,v);break;case"together":Ud(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Hl(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function os(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),ci|=i.lanes,(l&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,l=Ls(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=Ls(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function hS(n,i,l){switch(i.tag){case 3:yg(i),Hi();break;case 5:Mm(i);break;case 1:zr(i.type)&&Pl(i);break;case 4:Sd(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,p=i.memoizedProps.value;kt(Il,c._currentValue),c._currentValue=p;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(kt(Dt,Dt.current&1),i.flags|=128,null):(l&i.child.childLanes)!==0?wg(n,i,l):(kt(Dt,Dt.current&1),n=os(n,i,l),n!==null?n.sibling:null);kt(Dt,Dt.current&1);break;case 19:if(c=(l&i.childLanes)!==0,(n.flags&128)!==0){if(c)return Sg(n,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),kt(Dt,Dt.current),c)break;return null;case 22:case 23:return i.lanes=0,mg(n,i,l)}return os(n,i,l)}var _g,qd,Cg,kg;_g=function(n,i){for(var l=i.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},qd=function(){},Cg=function(n,i,l,c){var p=n.memoizedProps;if(p!==c){n=i.stateNode,li(Fn.current);var v=null;switch(l){case"input":p=yn(n,p),c=yn(n,c),v=[];break;case"select":p=ue({},p,{value:void 0}),c=ue({},c,{value:void 0}),v=[];break;case"textarea":p=N(n,p),c=N(n,c),v=[];break;default:typeof p.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=kl)}wt(l,c);var b;l=null;for($ in p)if(!c.hasOwnProperty($)&&p.hasOwnProperty($)&&p[$]!=null)if($==="style"){var E=p[$];for(b in E)E.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?v||(v=[]):(v=v||[]).push($,null));for($ in c){var O=c[$];if(E=p?.[$],c.hasOwnProperty($)&&O!==E&&(O!=null||E!=null))if($==="style")if(E){for(b in E)!E.hasOwnProperty(b)||O&&O.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in O)O.hasOwnProperty(b)&&E[b]!==O[b]&&(l||(l={}),l[b]=O[b])}else l||(v||(v=[]),v.push($,l)),l=O;else $==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,E=E?E.__html:void 0,O!=null&&E!==O&&(v=v||[]).push($,O)):$==="children"?typeof O!="string"&&typeof O!="number"||(v=v||[]).push($,""+O):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(O!=null&&$==="onScroll"&&Tt("scroll",n),v||E===O||(v=[])):(v=v||[]).push($,O))}l&&(v=v||[]).push("style",l);var $=v;(i.updateQueue=$)&&(i.flags|=4)}},kg=function(n,i,l,c){l!==c&&(i.flags|=4)};function na(n,i){if(!Ot)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function kr(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(i)for(var p=n.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&14680064,c|=p.flags&14680064,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=l,i}function pS(n,i,l){var c=i.pendingProps;switch(fd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(i),null;case 1:return zr(i.type)&&Tl(),kr(i),null;case 3:return c=i.stateNode,Zi(),Pt(Fr),Pt(_r),kd(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(Rl(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,bn!==null&&(tf(bn),bn=null))),qd(n,i),kr(i),null;case 5:_d(i);var p=li(Xo.current);if(l=i.type,n!==null&&i.stateNode!=null)Cg(n,i,l,c,p),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(r(166));return kr(i),null}if(n=li(Fn.current),Rl(i)){c=i.stateNode,l=i.type;var v=i.memoizedProps;switch(c[Ln]=i,c[Qo]=v,n=(i.mode&1)!==0,l){case"dialog":Tt("cancel",c),Tt("close",c);break;case"iframe":case"object":case"embed":Tt("load",c);break;case"video":case"audio":for(p=0;p<qo.length;p++)Tt(qo[p],c);break;case"source":Tt("error",c);break;case"img":case"image":case"link":Tt("error",c),Tt("load",c);break;case"details":Tt("toggle",c);break;case"input":nn(c,v),Tt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!v.multiple},Tt("invalid",c);break;case"textarea":A(c,v),Tt("invalid",c)}wt(l,v),p=null;for(var b in v)if(v.hasOwnProperty(b)){var E=v[b];b==="children"?typeof E=="string"?c.textContent!==E&&(v.suppressHydrationWarning!==!0&&Cl(c.textContent,E,n),p=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(v.suppressHydrationWarning!==!0&&Cl(c.textContent,E,n),p=["children",""+E]):o.hasOwnProperty(b)&&E!=null&&b==="onScroll"&&Tt("scroll",c)}switch(l){case"input":br(c),xn(c,v,!0);break;case"textarea":br(c),me(c);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(c.onclick=kl)}c=p,i.updateQueue=c,c!==null&&(i.flags|=4)}else{b=p.nodeType===9?p:p.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=he(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=b.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=b.createElement(l,{is:c.is}):(n=b.createElement(l),l==="select"&&(b=n,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):n=b.createElementNS(n,l),n[Ln]=i,n[Qo]=c,_g(n,i,!1,!1),i.stateNode=n;e:{switch(b=$t(l,c),l){case"dialog":Tt("cancel",n),Tt("close",n),p=c;break;case"iframe":case"object":case"embed":Tt("load",n),p=c;break;case"video":case"audio":for(p=0;p<qo.length;p++)Tt(qo[p],n);p=c;break;case"source":Tt("error",n),p=c;break;case"img":case"image":case"link":Tt("error",n),Tt("load",n),p=c;break;case"details":Tt("toggle",n),p=c;break;case"input":nn(n,c),p=yn(n,c),Tt("invalid",n);break;case"option":p=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},p=ue({},c,{value:void 0}),Tt("invalid",n);break;case"textarea":A(n,c),p=N(n,c),Tt("invalid",n);break;default:p=c}wt(l,p),E=p;for(v in E)if(E.hasOwnProperty(v)){var O=E[v];v==="style"?ve(n,O):v==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Ke(n,O)):v==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&it(n,O):typeof O=="number"&&it(n,""+O):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?O!=null&&v==="onScroll"&&Tt("scroll",n):O!=null&&D(n,v,O,b))}switch(l){case"input":br(n),xn(n,c,!1);break;case"textarea":br(n),me(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Ue(c.value));break;case"select":n.multiple=!!c.multiple,v=c.value,v!=null?rr(n,!!c.multiple,v,!1):c.defaultValue!=null&&rr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof p.onClick=="function"&&(n.onclick=kl)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return kr(i),null;case 6:if(n&&i.stateNode!=null)kg(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(l=li(Xo.current),li(Fn.current),Rl(i)){if(c=i.stateNode,l=i.memoizedProps,c[Ln]=i,(v=c.nodeValue!==l)&&(n=Kr,n!==null))switch(n.tag){case 3:Cl(c.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Cl(c.nodeValue,l,(n.mode&1)!==0)}v&&(i.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Ln]=i,i.stateNode=c}return kr(i),null;case 13:if(Pt(Dt),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ot&&Gr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Pm(),Hi(),i.flags|=98560,v=!1;else if(v=Rl(i),c!==null&&c.dehydrated!==null){if(n===null){if(!v)throw Error(r(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Ln]=i}else Hi(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kr(i),v=!1}else bn!==null&&(tf(bn),bn=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=l,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(Dt.current&1)!==0?Yt===0&&(Yt=3):sf())),i.updateQueue!==null&&(i.flags|=4),kr(i),null);case 4:return Zi(),qd(n,i),n===null&&Wo(i.stateNode.containerInfo),kr(i),null;case 10:return yd(i.type._context),kr(i),null;case 17:return zr(i.type)&&Tl(),kr(i),null;case 19:if(Pt(Dt),v=i.memoizedState,v===null)return kr(i),null;if(c=(i.flags&128)!==0,b=v.rendering,b===null)if(c)na(v,!1);else{if(Yt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(b=Fl(n),b!==null){for(i.flags|=128,na(v,!1),c=b.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=l,l=i.child;l!==null;)v=l,n=c,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,n=b.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return kt(Dt,Dt.current&1|2),i.child}n=n.sibling}v.tail!==null&&Rt()>eo&&(i.flags|=128,c=!0,na(v,!1),i.lanes=4194304)}else{if(!c)if(n=Fl(b),n!==null){if(i.flags|=128,c=!0,l=n.updateQueue,l!==null&&(i.updateQueue=l,i.flags|=4),na(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Ot)return kr(i),null}else 2*Rt()-v.renderingStartTime>eo&&l!==1073741824&&(i.flags|=128,c=!0,na(v,!1),i.lanes=4194304);v.isBackwards?(b.sibling=i.child,i.child=b):(l=v.last,l!==null?l.sibling=b:i.child=b,v.last=b)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=Rt(),i.sibling=null,l=Dt.current,kt(Dt,c?l&1|2:l&1),i):(kr(i),null);case 22:case 23:return nf(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(Zr&1073741824)!==0&&(kr(i),i.subtreeFlags&6&&(i.flags|=8192)):kr(i),null;case 24:return null;case 25:return null}throw Error(r(156,i.tag))}function mS(n,i){switch(fd(i),i.tag){case 1:return zr(i.type)&&Tl(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Zi(),Pt(Fr),Pt(_r),kd(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return _d(i),null;case 13:if(Pt(Dt),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Hi()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Pt(Dt),null;case 4:return Zi(),null;case 10:return yd(i.type._context),null;case 22:case 23:return nf(),null;case 24:return null;default:return null}}var Ql=!1,Er=!1,gS=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Xi(n,i){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){Ft(n,i,c)}else l.current=null}function Wd(n,i,l){try{l()}catch(c){Ft(n,i,c)}}var Eg=!1;function vS(n,i){if(nd=hl,n=sm(),Gc(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var b=0,E=-1,O=-1,$=0,ie=0,oe=n,ne=null;t:for(;;){for(var be;oe!==l||p!==0&&oe.nodeType!==3||(E=b+p),oe!==v||c!==0&&oe.nodeType!==3||(O=b+c),oe.nodeType===3&&(b+=oe.nodeValue.length),(be=oe.firstChild)!==null;)ne=oe,oe=be;for(;;){if(oe===n)break t;if(ne===l&&++$===p&&(E=b),ne===v&&++ie===c&&(O=b),(be=oe.nextSibling)!==null)break;oe=ne,ne=oe.parentNode}oe=be}l=E===-1||O===-1?null:{start:E,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(sd={focusedElem:n,selectionRange:l},hl=!1,Ce=i;Ce!==null;)if(i=Ce,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,Ce=n;else for(;Ce!==null;){i=Ce;try{var ke=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ke!==null){var Te=ke.memoizedProps,Bt=ke.memoizedState,L=i.stateNode,R=L.getSnapshotBeforeUpdate(i.elementType===i.type?Te:Sn(i.type,Te),Bt);L.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var F=i.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(fe){Ft(i,i.return,fe)}if(n=i.sibling,n!==null){n.return=i.return,Ce=n;break}Ce=i.return}return ke=Eg,Eg=!1,ke}function sa(n,i,l){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var p=c=c.next;do{if((p.tag&n)===n){var v=p.destroy;p.destroy=void 0,v!==void 0&&Wd(i,l,v)}p=p.next}while(p!==c)}}function Kl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var l=i=i.next;do{if((l.tag&n)===n){var c=l.create;l.destroy=c()}l=l.next}while(l!==i)}}function Hd(n){var i=n.ref;if(i!==null){var l=n.stateNode;n.tag,n=l,typeof i=="function"?i(n):i.current=n}}function Tg(n){var i=n.alternate;i!==null&&(n.alternate=null,Tg(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[Ln],delete i[Qo],delete i[ld],delete i[Jb],delete i[eS])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Pg(n){return n.tag===5||n.tag===3||n.tag===4}function Ng(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Pg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Qd(n,i,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?l.nodeType===8?l.parentNode.insertBefore(n,i):l.insertBefore(n,i):(l.nodeType===8?(i=l.parentNode,i.insertBefore(n,l)):(i=l,i.appendChild(n)),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=kl));else if(c!==4&&(n=n.child,n!==null))for(Qd(n,i,l),n=n.sibling;n!==null;)Qd(n,i,l),n=n.sibling}function Kd(n,i,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Kd(n,i,l),n=n.sibling;n!==null;)Kd(n,i,l),n=n.sibling}var gr=null,_n=!1;function Rs(n,i,l){for(l=l.child;l!==null;)Og(n,i,l),l=l.sibling}function Og(n,i,l){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(ri,l)}catch{}switch(l.tag){case 5:Er||Xi(l,i);case 6:var c=gr,p=_n;gr=null,Rs(n,i,l),gr=c,_n=p,gr!==null&&(_n?(n=gr,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):gr.removeChild(l.stateNode));break;case 18:gr!==null&&(_n?(n=gr,l=l.stateNode,n.nodeType===8?ad(n.parentNode,l):n.nodeType===1&&ad(n,l),Mo(n)):ad(gr,l.stateNode));break;case 4:c=gr,p=_n,gr=l.stateNode.containerInfo,_n=!0,Rs(n,i,l),gr=c,_n=p;break;case 0:case 11:case 14:case 15:if(!Er&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){p=c=c.next;do{var v=p,b=v.destroy;v=v.tag,b!==void 0&&((v&2)!==0||(v&4)!==0)&&Wd(l,i,b),p=p.next}while(p!==c)}Rs(n,i,l);break;case 1:if(!Er&&(Xi(l,i),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(E){Ft(l,i,E)}Rs(n,i,l);break;case 21:Rs(n,i,l);break;case 22:l.mode&1?(Er=(c=Er)||l.memoizedState!==null,Rs(n,i,l),Er=c):Rs(n,i,l);break;default:Rs(n,i,l)}}function jg(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new gS),i.forEach(function(c){var p=ES.bind(null,n,c);l.has(c)||(l.add(c),c.then(p,p))})}}function Cn(n,i){var l=i.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c];try{var v=n,b=i,E=b;e:for(;E!==null;){switch(E.tag){case 5:gr=E.stateNode,_n=!1;break e;case 3:gr=E.stateNode.containerInfo,_n=!0;break e;case 4:gr=E.stateNode.containerInfo,_n=!0;break e}E=E.return}if(gr===null)throw Error(r(160));Og(v,b,p),gr=null,_n=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch($){Ft(p,i,$)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Rg(i,n),i=i.sibling}function Rg(n,i){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Cn(i,n),$n(n),c&4){try{sa(3,n,n.return),Kl(3,n)}catch(Te){Ft(n,n.return,Te)}try{sa(5,n,n.return)}catch(Te){Ft(n,n.return,Te)}}break;case 1:Cn(i,n),$n(n),c&512&&l!==null&&Xi(l,l.return);break;case 5:if(Cn(i,n),$n(n),c&512&&l!==null&&Xi(l,l.return),n.flags&32){var p=n.stateNode;try{it(p,"")}catch(Te){Ft(n,n.return,Te)}}if(c&4&&(p=n.stateNode,p!=null)){var v=n.memoizedProps,b=l!==null?l.memoizedProps:v,E=n.type,O=n.updateQueue;if(n.updateQueue=null,O!==null)try{E==="input"&&v.type==="radio"&&v.name!=null&&Sr(p,v),$t(E,b);var $=$t(E,v);for(b=0;b<O.length;b+=2){var ie=O[b],oe=O[b+1];ie==="style"?ve(p,oe):ie==="dangerouslySetInnerHTML"?Ke(p,oe):ie==="children"?it(p,oe):D(p,ie,oe,$)}switch(E){case"input":qr(p,v);break;case"textarea":K(p,v);break;case"select":var ne=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var be=v.value;be!=null?rr(p,!!v.multiple,be,!1):ne!==!!v.multiple&&(v.defaultValue!=null?rr(p,!!v.multiple,v.defaultValue,!0):rr(p,!!v.multiple,v.multiple?[]:"",!1))}p[Qo]=v}catch(Te){Ft(n,n.return,Te)}}break;case 6:if(Cn(i,n),$n(n),c&4){if(n.stateNode===null)throw Error(r(162));p=n.stateNode,v=n.memoizedProps;try{p.nodeValue=v}catch(Te){Ft(n,n.return,Te)}}break;case 3:if(Cn(i,n),$n(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Mo(i.containerInfo)}catch(Te){Ft(n,n.return,Te)}break;case 4:Cn(i,n),$n(n);break;case 13:Cn(i,n),$n(n),p=n.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(Yd=Rt())),c&4&&jg(n);break;case 22:if(ie=l!==null&&l.memoizedState!==null,n.mode&1?(Er=($=Er)||ie,Cn(i,n),Er=$):Cn(i,n),$n(n),c&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!ie&&(n.mode&1)!==0)for(Ce=n,ie=n.child;ie!==null;){for(oe=Ce=ie;Ce!==null;){switch(ne=Ce,be=ne.child,ne.tag){case 0:case 11:case 14:case 15:sa(4,ne,ne.return);break;case 1:Xi(ne,ne.return);var ke=ne.stateNode;if(typeof ke.componentWillUnmount=="function"){c=ne,l=ne.return;try{i=c,ke.props=i.memoizedProps,ke.state=i.memoizedState,ke.componentWillUnmount()}catch(Te){Ft(c,l,Te)}}break;case 5:Xi(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Ag(oe);continue}}be!==null?(be.return=ne,Ce=be):Ag(oe)}ie=ie.sibling}e:for(ie=null,oe=n;;){if(oe.tag===5){if(ie===null){ie=oe;try{p=oe.stateNode,$?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(E=oe.stateNode,O=oe.memoizedProps.style,b=O!=null&&O.hasOwnProperty("display")?O.display:null,E.style.display=Fe("display",b))}catch(Te){Ft(n,n.return,Te)}}}else if(oe.tag===6){if(ie===null)try{oe.stateNode.nodeValue=$?"":oe.memoizedProps}catch(Te){Ft(n,n.return,Te)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===n)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===n)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===n)break e;ie===oe&&(ie=null),oe=oe.return}ie===oe&&(ie=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Cn(i,n),$n(n),c&4&&jg(n);break;case 21:break;default:Cn(i,n),$n(n)}}function $n(n){var i=n.flags;if(i&2){try{e:{for(var l=n.return;l!==null;){if(Pg(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 5:var p=c.stateNode;c.flags&32&&(it(p,""),c.flags&=-33);var v=Ng(n);Kd(n,v,p);break;case 3:case 4:var b=c.stateNode.containerInfo,E=Ng(n);Qd(n,E,b);break;default:throw Error(r(161))}}catch(O){Ft(n,n.return,O)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function yS(n,i,l){Ce=n,Dg(n)}function Dg(n,i,l){for(var c=(n.mode&1)!==0;Ce!==null;){var p=Ce,v=p.child;if(p.tag===22&&c){var b=p.memoizedState!==null||Ql;if(!b){var E=p.alternate,O=E!==null&&E.memoizedState!==null||Er;E=Ql;var $=Er;if(Ql=b,(Er=O)&&!$)for(Ce=p;Ce!==null;)b=Ce,O=b.child,b.tag===22&&b.memoizedState!==null?Mg(p):O!==null?(O.return=b,Ce=O):Mg(p);for(;v!==null;)Ce=v,Dg(v),v=v.sibling;Ce=p,Ql=E,Er=$}Ig(n)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,Ce=v):Ig(n)}}function Ig(n){for(;Ce!==null;){var i=Ce;if((i.flags&8772)!==0){var l=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Er||Kl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Er)if(l===null)c.componentDidMount();else{var p=i.elementType===i.type?l.memoizedProps:Sn(i.type,l.memoizedProps);c.componentDidUpdate(p,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&Am(i,v,c);break;case 3:var b=i.updateQueue;if(b!==null){if(l=null,i.child!==null)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}Am(i,b,l)}break;case 5:var E=i.stateNode;if(l===null&&i.flags&4){l=E;var O=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var $=i.alternate;if($!==null){var ie=$.memoizedState;if(ie!==null){var oe=ie.dehydrated;oe!==null&&Mo(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Er||i.flags&512&&Hd(i)}catch(ne){Ft(i,i.return,ne)}}if(i===n){Ce=null;break}if(l=i.sibling,l!==null){l.return=i.return,Ce=l;break}Ce=i.return}}function Ag(n){for(;Ce!==null;){var i=Ce;if(i===n){Ce=null;break}var l=i.sibling;if(l!==null){l.return=i.return,Ce=l;break}Ce=i.return}}function Mg(n){for(;Ce!==null;){var i=Ce;try{switch(i.tag){case 0:case 11:case 15:var l=i.return;try{Kl(4,i)}catch(O){Ft(i,l,O)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var p=i.return;try{c.componentDidMount()}catch(O){Ft(i,p,O)}}var v=i.return;try{Hd(i)}catch(O){Ft(i,v,O)}break;case 5:var b=i.return;try{Hd(i)}catch(O){Ft(i,b,O)}}}catch(O){Ft(i,i.return,O)}if(i===n){Ce=null;break}var E=i.sibling;if(E!==null){E.return=i.return,Ce=E;break}Ce=i.return}}var xS=Math.ceil,Gl=M.ReactCurrentDispatcher,Gd=M.ReactCurrentOwner,dn=M.ReactCurrentBatchConfig,lt=0,lr=null,Qt=null,vr=0,Zr=0,Ji=Ts(0),Yt=0,ia=null,ci=0,Zl=0,Zd=0,oa=null,Vr=null,Yd=0,eo=1/0,as=null,Yl=!1,Xd=null,Ds=null,Xl=!1,Is=null,Jl=0,aa=0,Jd=null,eu=-1,tu=0;function jr(){return(lt&6)!==0?Rt():eu!==-1?eu:eu=Rt()}function As(n){return(n.mode&1)===0?1:(lt&2)!==0&&vr!==0?vr&-vr:rS.transition!==null?(tu===0&&(tu=Np()),tu):(n=gt,n!==0||(n=window.event,n=n===void 0?16:Fp(n.type)),n)}function kn(n,i,l,c){if(50<aa)throw aa=0,Jd=null,Error(r(185));jo(n,l,c),((lt&2)===0||n!==lr)&&(n===lr&&((lt&2)===0&&(Zl|=l),Yt===4&&Ms(n,vr)),Br(n,c),l===1&&lt===0&&(i.mode&1)===0&&(eo=Rt()+500,Nl&&Ns()))}function Br(n,i){var l=n.callbackNode;rb(n,i);var c=Jn(n,n===lr?vr:0);if(c===0)l!==null&&al(l),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(l!=null&&al(l),i===1)n.tag===0?tS(Fg.bind(null,n)):_m(Fg.bind(null,n)),Yb(function(){(lt&6)===0&&Ns()}),l=null;else{switch(Op(c)){case 1:l=No;break;case 4:l=Oo;break;case 16:l=xs;break;case 536870912:l=cl;break;default:l=xs}l=Hg(l,Lg.bind(null,n))}n.callbackPriority=i,n.callbackNode=l}}function Lg(n,i){if(eu=-1,tu=0,(lt&6)!==0)throw Error(r(327));var l=n.callbackNode;if(to()&&n.callbackNode!==l)return null;var c=Jn(n,n===lr?vr:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=ru(n,c);else{i=c;var p=lt;lt|=2;var v=$g();(lr!==n||vr!==i)&&(as=null,eo=Rt()+500,fi(n,i));do try{SS();break}catch(E){zg(n,E)}while(!0);vd(),Gl.current=v,lt=p,Qt!==null?i=0:(lr=null,vr=0,i=Yt)}if(i!==0){if(i===2&&(p=Dc(n),p!==0&&(c=p,i=ef(n,p))),i===1)throw l=ia,fi(n,0),Ms(n,c),Br(n,Rt()),l;if(i===6)Ms(n,c);else{if(p=n.current.alternate,(c&30)===0&&!wS(p)&&(i=ru(n,c),i===2&&(v=Dc(n),v!==0&&(c=v,i=ef(n,v))),i===1))throw l=ia,fi(n,0),Ms(n,c),Br(n,Rt()),l;switch(n.finishedWork=p,n.finishedLanes=c,i){case 0:case 1:throw Error(r(345));case 2:hi(n,Vr,as);break;case 3:if(Ms(n,c),(c&130023424)===c&&(i=Yd+500-Rt(),10<i)){if(Jn(n,0)!==0)break;if(p=n.suspendedLanes,(p&c)!==c){jr(),n.pingedLanes|=n.suspendedLanes&p;break}n.timeoutHandle=od(hi.bind(null,n,Vr,as),i);break}hi(n,Vr,as);break;case 4:if(Ms(n,c),(c&4194240)===c)break;for(i=n.eventTimes,p=-1;0<c;){var b=31-I(c);v=1<<b,b=i[b],b>p&&(p=b),c&=~v}if(c=p,c=Rt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*xS(c/1960))-c,10<c){n.timeoutHandle=od(hi.bind(null,n,Vr,as),c);break}hi(n,Vr,as);break;case 5:hi(n,Vr,as);break;default:throw Error(r(329))}}}return Br(n,Rt()),n.callbackNode===l?Lg.bind(null,n):null}function ef(n,i){var l=oa;return n.current.memoizedState.isDehydrated&&(fi(n,i).flags|=256),n=ru(n,i),n!==2&&(i=Vr,Vr=l,i!==null&&tf(i)),n}function tf(n){Vr===null?Vr=n:Vr.push.apply(Vr,n)}function wS(n){for(var i=n;;){if(i.flags&16384){var l=i.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var p=l[c],v=p.getSnapshot;p=p.value;try{if(!wn(v(),p))return!1}catch{return!1}}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ms(n,i){for(i&=~Zd,i&=~Zl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var l=31-I(i),c=1<<l;n[l]=-1,i&=~c}}function Fg(n){if((lt&6)!==0)throw Error(r(327));to();var i=Jn(n,0);if((i&1)===0)return Br(n,Rt()),null;var l=ru(n,i);if(n.tag!==0&&l===2){var c=Dc(n);c!==0&&(i=c,l=ef(n,c))}if(l===1)throw l=ia,fi(n,0),Ms(n,i),Br(n,Rt()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,hi(n,Vr,as),Br(n,Rt()),null}function rf(n,i){var l=lt;lt|=1;try{return n(i)}finally{lt=l,lt===0&&(eo=Rt()+500,Nl&&Ns())}}function di(n){Is!==null&&Is.tag===0&&(lt&6)===0&&to();var i=lt;lt|=1;var l=dn.transition,c=gt;try{if(dn.transition=null,gt=1,n)return n()}finally{gt=c,dn.transition=l,lt=i,(lt&6)===0&&Ns()}}function nf(){Zr=Ji.current,Pt(Ji)}function fi(n,i){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,Zb(l)),Qt!==null)for(l=Qt.return;l!==null;){var c=l;switch(fd(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Tl();break;case 3:Zi(),Pt(Fr),Pt(_r),kd();break;case 5:_d(c);break;case 4:Zi();break;case 13:Pt(Dt);break;case 19:Pt(Dt);break;case 10:yd(c.type._context);break;case 22:case 23:nf()}l=l.return}if(lr=n,Qt=n=Ls(n.current,null),vr=Zr=i,Yt=0,ia=null,Zd=Zl=ci=0,Vr=oa=null,ai!==null){for(i=0;i<ai.length;i++)if(l=ai[i],c=l.interleaved,c!==null){l.interleaved=null;var p=c.next,v=l.pending;if(v!==null){var b=v.next;v.next=p,c.next=b}l.pending=c}ai=null}return n}function zg(n,i){do{var l=Qt;try{if(vd(),zl.current=Ul,$l){for(var c=It.memoizedState;c!==null;){var p=c.queue;p!==null&&(p.pending=null),c=c.next}$l=!1}if(ui=0,ar=Zt=It=null,Jo=!1,ea=0,Gd.current=null,l===null||l.return===null){Yt=1,ia=i,Qt=null;break}e:{var v=n,b=l.return,E=l,O=i;if(i=vr,E.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=O,ie=E,oe=ie.tag;if((ie.mode&1)===0&&(oe===0||oe===11||oe===15)){var ne=ie.alternate;ne?(ie.updateQueue=ne.updateQueue,ie.memoizedState=ne.memoizedState,ie.lanes=ne.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var be=cg(b);if(be!==null){be.flags&=-257,dg(be,b,E,v,i),be.mode&1&&ug(v,$,i),i=be,O=$;var ke=i.updateQueue;if(ke===null){var Te=new Set;Te.add(O),i.updateQueue=Te}else ke.add(O);break e}else{if((i&1)===0){ug(v,$,i),sf();break e}O=Error(r(426))}}else if(Ot&&E.mode&1){var Bt=cg(b);if(Bt!==null){(Bt.flags&65536)===0&&(Bt.flags|=256),dg(Bt,b,E,v,i),md(Yi(O,E));break e}}v=O=Yi(O,E),Yt!==4&&(Yt=2),oa===null?oa=[v]:oa.push(v),v=b;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var L=ag(v,O,i);Im(v,L);break e;case 1:E=O;var R=v.type,F=v.stateNode;if((v.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Ds===null||!Ds.has(F)))){v.flags|=65536,i&=-i,v.lanes|=i;var fe=lg(v,E,i);Im(v,fe);break e}}v=v.return}while(v!==null)}Bg(l)}catch(Ne){i=Ne,Qt===l&&l!==null&&(Qt=l=l.return);continue}break}while(!0)}function $g(){var n=Gl.current;return Gl.current=Ul,n===null?Ul:n}function sf(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),lr===null||(ci&268435455)===0&&(Zl&268435455)===0||Ms(lr,vr)}function ru(n,i){var l=lt;lt|=2;var c=$g();(lr!==n||vr!==i)&&(as=null,fi(n,i));do try{bS();break}catch(p){zg(n,p)}while(!0);if(vd(),lt=l,Gl.current=c,Qt!==null)throw Error(r(261));return lr=null,vr=0,Yt}function bS(){for(;Qt!==null;)Vg(Qt)}function SS(){for(;Qt!==null&&!ll();)Vg(Qt)}function Vg(n){var i=Wg(n.alternate,n,Zr);n.memoizedProps=n.pendingProps,i===null?Bg(n):Qt=i,Gd.current=null}function Bg(n){var i=n;do{var l=i.alternate;if(n=i.return,(i.flags&32768)===0){if(l=pS(l,i,Zr),l!==null){Qt=l;return}}else{if(l=mS(l,i),l!==null){l.flags&=32767,Qt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Yt=6,Qt=null;return}}if(i=i.sibling,i!==null){Qt=i;return}Qt=i=n}while(i!==null);Yt===0&&(Yt=5)}function hi(n,i,l){var c=gt,p=dn.transition;try{dn.transition=null,gt=1,_S(n,i,l,c)}finally{dn.transition=p,gt=c}return null}function _S(n,i,l,c){do to();while(Is!==null);if((lt&6)!==0)throw Error(r(327));l=n.finishedWork;var p=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var v=l.lanes|l.childLanes;if(nb(n,v),n===lr&&(Qt=lr=null,vr=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Xl||(Xl=!0,Hg(xs,function(){return to(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=dn.transition,dn.transition=null;var b=gt;gt=1;var E=lt;lt|=4,Gd.current=null,vS(n,l),Rg(l,n),Ub(sd),hl=!!nd,sd=nd=null,n.current=l,yS(l),ul(),lt=E,gt=b,dn.transition=v}else n.current=l;if(Xl&&(Xl=!1,Is=n,Jl=p),v=n.pendingLanes,v===0&&(Ds=null),mr(l.stateNode),Br(n,Rt()),i!==null)for(c=n.onRecoverableError,l=0;l<i.length;l++)p=i[l],c(p.value,{componentStack:p.stack,digest:p.digest});if(Yl)throw Yl=!1,n=Xd,Xd=null,n;return(Jl&1)!==0&&n.tag!==0&&to(),v=n.pendingLanes,(v&1)!==0?n===Jd?aa++:(aa=0,Jd=n):aa=0,Ns(),null}function to(){if(Is!==null){var n=Op(Jl),i=dn.transition,l=gt;try{if(dn.transition=null,gt=16>n?16:n,Is===null)var c=!1;else{if(n=Is,Is=null,Jl=0,(lt&6)!==0)throw Error(r(331));var p=lt;for(lt|=4,Ce=n.current;Ce!==null;){var v=Ce,b=v.child;if((Ce.flags&16)!==0){var E=v.deletions;if(E!==null){for(var O=0;O<E.length;O++){var $=E[O];for(Ce=$;Ce!==null;){var ie=Ce;switch(ie.tag){case 0:case 11:case 15:sa(8,ie,v)}var oe=ie.child;if(oe!==null)oe.return=ie,Ce=oe;else for(;Ce!==null;){ie=Ce;var ne=ie.sibling,be=ie.return;if(Tg(ie),ie===$){Ce=null;break}if(ne!==null){ne.return=be,Ce=ne;break}Ce=be}}}var ke=v.alternate;if(ke!==null){var Te=ke.child;if(Te!==null){ke.child=null;do{var Bt=Te.sibling;Te.sibling=null,Te=Bt}while(Te!==null)}}Ce=v}}if((v.subtreeFlags&2064)!==0&&b!==null)b.return=v,Ce=b;else e:for(;Ce!==null;){if(v=Ce,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:sa(9,v,v.return)}var L=v.sibling;if(L!==null){L.return=v.return,Ce=L;break e}Ce=v.return}}var R=n.current;for(Ce=R;Ce!==null;){b=Ce;var F=b.child;if((b.subtreeFlags&2064)!==0&&F!==null)F.return=b,Ce=F;else e:for(b=R;Ce!==null;){if(E=Ce,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Kl(9,E)}}catch(Ne){Ft(E,E.return,Ne)}if(E===b){Ce=null;break e}var fe=E.sibling;if(fe!==null){fe.return=E.return,Ce=fe;break e}Ce=E.return}}if(lt=p,Ns(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(ri,n)}catch{}c=!0}return c}finally{gt=l,dn.transition=i}}return!1}function Ug(n,i,l){i=Yi(l,i),i=ag(n,i,1),n=js(n,i,1),i=jr(),n!==null&&(jo(n,1,i),Br(n,i))}function Ft(n,i,l){if(n.tag===3)Ug(n,n,l);else for(;i!==null;){if(i.tag===3){Ug(i,n,l);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ds===null||!Ds.has(c))){n=Yi(l,n),n=lg(i,n,1),i=js(i,n,1),n=jr(),i!==null&&(jo(i,1,n),Br(i,n));break}}i=i.return}}function CS(n,i,l){var c=n.pingCache;c!==null&&c.delete(i),i=jr(),n.pingedLanes|=n.suspendedLanes&l,lr===n&&(vr&l)===l&&(Yt===4||Yt===3&&(vr&130023424)===vr&&500>Rt()-Yd?fi(n,0):Zd|=l),Br(n,i)}function qg(n,i){i===0&&((n.mode&1)===0?i=1:(i=ot,ot<<=1,(ot&130023424)===0&&(ot=4194304)));var l=jr();n=ss(n,i),n!==null&&(jo(n,i,l),Br(n,l))}function kS(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),qg(n,l)}function ES(n,i){var l=0;switch(n.tag){case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(r(314))}c!==null&&c.delete(i),qg(n,l)}var Wg;Wg=function(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps||Fr.current)$r=!0;else{if((n.lanes&l)===0&&(i.flags&128)===0)return $r=!1,hS(n,i,l);$r=(n.flags&131072)!==0}else $r=!1,Ot&&(i.flags&1048576)!==0&&Cm(i,jl,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Hl(n,i),n=i.pendingProps;var p=Ui(i,_r.current);Gi(i,l),p=Pd(null,i,c,n,p,l);var v=Nd();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,zr(c)?(v=!0,Pl(i)):v=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,bd(i),p.updater=ql,i.stateNode=p,p._reactInternals=i,Ad(i,c,n,l),i=zd(null,i,c,!0,v,l)):(i.tag=0,Ot&&v&&dd(i),Or(null,i,p,l),i=i.child),i;case 16:c=i.elementType;e:{switch(Hl(n,i),n=i.pendingProps,p=c._init,c=p(c._payload),i.type=c,p=i.tag=PS(c),n=Sn(c,n),p){case 0:i=Fd(null,i,c,n,l);break e;case 1:i=vg(null,i,c,n,l);break e;case 11:i=fg(null,i,c,n,l);break e;case 14:i=hg(null,i,c,Sn(c.type,n),l);break e}throw Error(r(306,c,""))}return i;case 0:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:Sn(c,p),Fd(n,i,c,p,l);case 1:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:Sn(c,p),vg(n,i,c,p,l);case 3:e:{if(yg(i),n===null)throw Error(r(387));c=i.pendingProps,v=i.memoizedState,p=v.element,Dm(n,i),Ll(i,c,null,l);var b=i.memoizedState;if(c=b.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){p=Yi(Error(r(423)),i),i=xg(n,i,c,l,p);break e}else if(c!==p){p=Yi(Error(r(424)),i),i=xg(n,i,c,l,p);break e}else for(Gr=Es(i.stateNode.containerInfo.firstChild),Kr=i,Ot=!0,bn=null,l=jm(i,null,c,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Hi(),c===p){i=os(n,i,l);break e}Or(n,i,c,l)}i=i.child}return i;case 5:return Mm(i),n===null&&pd(i),c=i.type,p=i.pendingProps,v=n!==null?n.memoizedProps:null,b=p.children,id(c,p)?b=null:v!==null&&id(c,v)&&(i.flags|=32),gg(n,i),Or(n,i,b,l),i.child;case 6:return n===null&&pd(i),null;case 13:return wg(n,i,l);case 4:return Sd(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Qi(i,null,c,l):Or(n,i,c,l),i.child;case 11:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:Sn(c,p),fg(n,i,c,p,l);case 7:return Or(n,i,i.pendingProps,l),i.child;case 8:return Or(n,i,i.pendingProps.children,l),i.child;case 12:return Or(n,i,i.pendingProps.children,l),i.child;case 10:e:{if(c=i.type._context,p=i.pendingProps,v=i.memoizedProps,b=p.value,kt(Il,c._currentValue),c._currentValue=b,v!==null)if(wn(v.value,b)){if(v.children===p.children&&!Fr.current){i=os(n,i,l);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var E=v.dependencies;if(E!==null){b=v.child;for(var O=E.firstContext;O!==null;){if(O.context===c){if(v.tag===1){O=is(-1,l&-l),O.tag=2;var $=v.updateQueue;if($!==null){$=$.shared;var ie=$.pending;ie===null?O.next=O:(O.next=ie.next,ie.next=O),$.pending=O}}v.lanes|=l,O=v.alternate,O!==null&&(O.lanes|=l),xd(v.return,l,i),E.lanes|=l;break}O=O.next}}else if(v.tag===10)b=v.type===i.type?null:v.child;else if(v.tag===18){if(b=v.return,b===null)throw Error(r(341));b.lanes|=l,E=b.alternate,E!==null&&(E.lanes|=l),xd(b,l,i),b=v.sibling}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===i){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}Or(n,i,p.children,l),i=i.child}return i;case 9:return p=i.type,c=i.pendingProps.children,Gi(i,l),p=un(p),c=c(p),i.flags|=1,Or(n,i,c,l),i.child;case 14:return c=i.type,p=Sn(c,i.pendingProps),p=Sn(c.type,p),hg(n,i,c,p,l);case 15:return pg(n,i,i.type,i.pendingProps,l);case 17:return c=i.type,p=i.pendingProps,p=i.elementType===c?p:Sn(c,p),Hl(n,i),i.tag=1,zr(c)?(n=!0,Pl(i)):n=!1,Gi(i,l),ig(i,c,p),Ad(i,c,p,l),zd(null,i,c,!0,n,l);case 19:return Sg(n,i,l);case 22:return mg(n,i,l)}throw Error(r(156,i.tag))};function Hg(n,i){return ol(n,i)}function TS(n,i,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(n,i,l,c){return new TS(n,i,l,c)}function of(n){return n=n.prototype,!(!n||!n.isReactComponent)}function PS(n){if(typeof n=="function")return of(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Z)return 11;if(n===_e)return 14}return 2}function Ls(n,i){var l=n.alternate;return l===null?(l=fn(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function nu(n,i,l,c,p,v){var b=2;if(c=n,typeof n=="function")of(n)&&(b=1);else if(typeof n=="string")b=5;else e:switch(n){case B:return pi(l.children,p,v,i);case J:b=8,p|=8;break;case H:return n=fn(12,l,i,p|2),n.elementType=H,n.lanes=v,n;case re:return n=fn(13,l,i,p),n.elementType=re,n.lanes=v,n;case Y:return n=fn(19,l,i,p),n.elementType=Y,n.lanes=v,n;case we:return su(l,p,v,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:b=10;break e;case te:b=9;break e;case Z:b=11;break e;case _e:b=14;break e;case ce:b=16,c=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return i=fn(b,l,i,p),i.elementType=n,i.type=c,i.lanes=v,i}function pi(n,i,l,c){return n=fn(7,n,c,i),n.lanes=l,n}function su(n,i,l,c){return n=fn(22,n,c,i),n.elementType=we,n.lanes=l,n.stateNode={isHidden:!1},n}function af(n,i,l){return n=fn(6,n,null,i),n.lanes=l,n}function lf(n,i,l){return i=fn(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function NS(n,i,l,c,p){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ic(0),this.expirationTimes=Ic(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ic(0),this.identifierPrefix=c,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function uf(n,i,l,c,p,v,b,E,O){return n=new NS(n,i,l,E,O),i===1?(i=1,v===!0&&(i|=8)):i=0,v=fn(3,null,null,i),n.current=v,v.stateNode=n,v.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},bd(v),n}function OS(n,i,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:c==null?null:""+c,children:n,containerInfo:i,implementation:l}}function Qg(n){if(!n)return Ps;n=n._reactInternals;e:{if(Ee(n)!==n||n.tag!==1)throw Error(r(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(zr(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(zr(l))return bm(n,l,i)}return i}function Kg(n,i,l,c,p,v,b,E,O){return n=uf(l,c,!0,n,p,v,b,E,O),n.context=Qg(null),l=n.current,c=jr(),p=As(l),v=is(c,p),v.callback=i??null,js(l,v,p),n.current.lanes=p,jo(n,p,c),Br(n,c),n}function iu(n,i,l,c){var p=i.current,v=jr(),b=As(p);return l=Qg(l),i.context===null?i.context=l:i.pendingContext=l,i=is(v,b),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=js(p,i,b),n!==null&&(kn(n,p,b,v),Ml(n,p,b)),b}function ou(n){return n=n.current,n.child?(n.child.tag===5,n.child.stateNode):null}function Gg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function cf(n,i){Gg(n,i),(n=n.alternate)&&Gg(n,i)}function jS(){return null}var Zg=typeof reportError=="function"?reportError:function(n){console.error(n)};function df(n){this._internalRoot=n}au.prototype.render=df.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));iu(n,i,null,null)},au.prototype.unmount=df.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;di(function(){iu(null,n,null,null)}),i[es]=null}};function au(n){this._internalRoot=n}au.prototype.unstable_scheduleHydration=function(n){if(n){var i=Dp();n={blockedOn:null,target:n,priority:i};for(var l=0;l<_s.length&&i!==0&&i<_s[l].priority;l++);_s.splice(l,0,n),l===0&&Mp(n)}};function ff(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function lu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Yg(){}function RS(n,i,l,c,p){if(p){if(typeof c=="function"){var v=c;c=function(){var $=ou(b);v.call($)}}var b=Kg(i,c,n,0,null,!1,!1,"",Yg);return n._reactRootContainer=b,n[es]=b.current,Wo(n.nodeType===8?n.parentNode:n),di(),b}for(;p=n.lastChild;)n.removeChild(p);if(typeof c=="function"){var E=c;c=function(){var $=ou(O);E.call($)}}var O=uf(n,0,!1,null,null,!1,!1,"",Yg);return n._reactRootContainer=O,n[es]=O.current,Wo(n.nodeType===8?n.parentNode:n),di(function(){iu(i,O,l,c)}),O}function uu(n,i,l,c,p){var v=l._reactRootContainer;if(v){var b=v;if(typeof p=="function"){var E=p;p=function(){var O=ou(b);E.call(O)}}iu(i,b,n,p)}else b=RS(l,i,n,p,c);return ou(b)}jp=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var l=Hr(i.pendingLanes);l!==0&&(Ac(i,l|1),Br(i,Rt()),(lt&6)===0&&(eo=Rt()+500,Ns()))}break;case 13:di(function(){var c=ss(n,1);if(c!==null){var p=jr();kn(c,n,1,p)}}),cf(n,1)}},Mc=function(n){if(n.tag===13){var i=ss(n,134217728);if(i!==null){var l=jr();kn(i,n,134217728,l)}cf(n,134217728)}},Rp=function(n){if(n.tag===13){var i=As(n),l=ss(n,i);if(l!==null){var c=jr();kn(l,n,i,c)}cf(n,i)}},Dp=function(){return gt},Ip=function(n,i){var l=gt;try{return gt=n,i()}finally{gt=l}},Vt=function(n,i,l){switch(i){case"input":if(qr(n,l),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<l.length;i++){var c=l[i];if(c!==n&&c.form===n.form){var p=El(c);if(!p)throw Error(r(90));Gt(c),qr(c,p)}}}break;case"textarea":K(n,l);break;case"select":i=l.value,i!=null&&rr(n,!!l.multiple,i,!1)}},nr=rf,je=di;var DS={usingClientEntryPoint:!1,Events:[Ko,Vi,El,Et,Ht,rf]},la={findFiberByHostInstance:ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IS={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Po(n),n===null?null:n.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||jS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{ri=cu.inject(IS),on=cu}catch{}}return Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DS,Ur.createPortal=function(n,i){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ff(i))throw Error(r(200));return OS(n,i,null,l)},Ur.createRoot=function(n,i){if(!ff(n))throw Error(r(299));var l=!1,c="",p=Zg;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=uf(n,1,!1,null,null,l,!1,c,p),n[es]=i.current,Wo(n.nodeType===8?n.parentNode:n),new df(i)},Ur.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=Po(i),n=n===null?null:n.stateNode,n},Ur.flushSync=function(n){return di(n)},Ur.hydrate=function(n,i,l){if(!lu(i))throw Error(r(200));return uu(null,n,i,!0,l)},Ur.hydrateRoot=function(n,i,l){if(!ff(n))throw Error(r(405));var c=l!=null&&l.hydratedSources||null,p=!1,v="",b=Zg;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),i=Kg(i,null,n,1,l??null,p,!1,v,b),n[es]=i.current,Wo(n),c)for(n=0;n<c.length;n++)l=c[n],p=l._getVersion,p=p(l._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[l,p]:i.mutableSourceEagerHydrationData.push(l,p);return new au(i)},Ur.render=function(n,i,l){if(!lu(i))throw Error(r(200));return uu(null,n,i,!1,l)},Ur.unmountComponentAtNode=function(n){if(!lu(n))throw Error(r(40));return n._reactRootContainer?(di(function(){uu(null,null,n,!1,function(){n._reactRootContainer=null,n[es]=null})}),!0):!1},Ur.unstable_batchedUpdates=rf,Ur.unstable_renderSubtreeIntoContainer=function(n,i,l,c){if(!lu(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return uu(n,i,l,!1,c)},Ur.version="18.3.1-next-f1338f8080-20240426",Ur}var iv;function e0(){if(iv)return mf.exports;iv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mf.exports=BS(),mf.exports}var ov;function US(){if(ov)return du;ov=1;var t=e0();return du.createRoot=t.createRoot,du.hydrateRoot=t.hydrateRoot,du}var qS=US();function WS(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,s,o,a,u=[],d="",h=t.split("/");for(h[0]||h.shift();o=h.shift();)r=o[0],r==="*"?(u.push(r),d+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=o.indexOf("?",1),a=o.indexOf(".",1),u.push(o.substring(1,~s?s:~a?a:o.length)),d+=~s&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(d+=(~s?"?":"")+"\\"+o.substring(a))):d+="/"+o;return{keys:u,pattern:new RegExp("^"+d+(e?"(?=$|/)":"/?$"),"i")}}var w=nc();const Ze=Jy(w),t0=MS({__proto__:null,default:Ze},[w]);var yf={exports:{}},xf={};var av;function HS(){if(av)return xf;av=1;var t=nc();function e(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var r=typeof Object.is=="function"?Object.is:e,s=t.useState,o=t.useEffect,a=t.useLayoutEffect,u=t.useDebugValue;function d(y,x){var S=x(),k=s({inst:{value:S,getSnapshot:x}}),_=k[0].inst,C=k[1];return a(function(){_.value=S,_.getSnapshot=x,h(_)&&C({inst:_})},[y,S,x]),o(function(){return h(_)&&C({inst:_}),y(function(){h(_)&&C({inst:_})})},[y]),u(S),S}function h(y){var x=y.getSnapshot;y=y.value;try{var S=x();return!r(y,S)}catch{return!0}}function m(y,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return xf.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,xf}var lv;function QS(){return lv||(lv=1,yf.exports=HS()),yf.exports}var KS=QS();const GS=t0.useInsertionEffect,ZS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",r0=ZS?w.useLayoutEffect:w.useEffect,YS=GS||r0,Ah=t=>{const e=w.useRef([t,(...r)=>e[0](...r)]).current;return YS(()=>{e[0]=t}),e[1]},XS="popstate",Mh="pushState",Lh="replaceState",JS="hashchange",uv=[XS,Mh,Lh,JS],e2=t=>{for(const e of uv)addEventListener(e,t);return()=>{for(const e of uv)removeEventListener(e,t)}},n0=(t,e)=>KS.useSyncExternalStore(e2,t,e),t2=()=>location.search,r2=({ssrSearch:t=""}={})=>n0(t2,()=>t),cv=()=>location.pathname,n2=({ssrPath:t}={})=>n0(cv,t?()=>t:cv),s2=(t,{replace:e=!1,state:r=null}={})=>history[e?Lh:Mh](r,"",t),i2=(t={})=>[n2(t),s2],dv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[dv]>"u"){for(const t of[Mh,Lh]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),s=new Event(t);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,dv,{value:!0})}const o2=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",s0=(t="")=>t==="/"?"":t,a2=(t,e)=>t[0]==="~"?t.slice(1):s0(e)+t,l2=(t="",e)=>o2(fv(s0(t)),fv(e)),fv=t=>{try{return decodeURI(t)}catch{return t}},i0={hook:i2,searchHook:r2,parser:WS,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},o0=w.createContext(i0),Ya=()=>w.useContext(o0),a0={},l0=w.createContext(a0),u0=()=>w.useContext(l0),sc=t=>{const[e,r]=t.hook(t);return[l2(t.base,e),Ah((s,o)=>r(a2(s,t.base),o))]},ji=()=>sc(Ya()),c0=(t,e,r,s)=>{const{pattern:o,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",s),u=o.exec(r)||[],[d,...h]=u;return d!==void 0?[!0,(()=>{const m=a!==!1?Object.fromEntries(a.map((y,x)=>[y,h[x]])):u.groups;let g={...h};return m&&Object.assign(g,m),g})(),...s?[d]:[]]:[!1,null]},u2=({children:t,...e})=>{const r=Ya(),s=e.hook?i0:r;let o=s;const[a,u]=e.ssrPath?.split("?")??[];u&&(e.ssrSearch=u,e.ssrPath=a),e.hrefs=e.hrefs??e.hook?.hrefs;let d=w.useRef({}),h=d.current,m=h;for(let g in s){const y=g==="base"?s[g]+(e[g]||""):e[g]||s[g];h===m&&y!==m[g]&&(d.current=m={...m}),m[g]=y,y!==s[g]&&(o=m)}return w.createElement(o0.Provider,{value:o,children:t})},hv=({children:t,component:e},r)=>e?w.createElement(e,{params:r}):typeof t=="function"?t(r):t,c2=t=>{let e=w.useRef(a0),r=e.current;for(const s in t)t[s]!==r[s]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},ro=({path:t,nest:e,match:r,...s})=>{const o=Ya(),[a]=sc(o),[u,d,h]=r??c0(o.parser,t,a,e),m=c2({...u0(),...d});if(!u)return null;const g=h?w.createElement(u2,{base:h},hv(s,m)):hv(s,m);return w.createElement(l0.Provider,{value:m,children:g})},no=w.forwardRef((t,e)=>{const r=Ya(),[s,o]=sc(r),{to:a="",href:u=a,onClick:d,asChild:h,children:m,className:g,replace:y,state:x,...S}=t,k=Ah(C=>{C.ctrlKey||C.metaKey||C.altKey||C.shiftKey||C.button!==0||(d?.(C),C.defaultPrevented||(C.preventDefault(),o(u,t)))}),_=r.hrefs(u[0]==="~"?u.slice(1):r.base+u,r);return h&&w.isValidElement(m)?w.cloneElement(m,{onClick:k,href:_}):w.createElement("a",{...S,onClick:k,href:_,className:g?.call?g(s===u):g,children:m,ref:e})}),d0=t=>Array.isArray(t)?t.flatMap(e=>d0(e&&e.type===w.Fragment?e.props.children:e)):[t],d2=({children:t,location:e})=>{const r=Ya(),[s]=sc(r);for(const o of d0(t)){let a=0;if(w.isValidElement(o)&&(a=c0(r.parser,o.props.path,e||s,o.props.nest))[0])return w.cloneElement(o,{match:a})}return null},f0=t=>{const{to:e,href:r=e}=t,[,s]=ji(),o=Ah(()=>s(e||r,t));return r0(()=>{o()},[]),null};var _o=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Si=typeof window>"u"||"Deno"in globalThis;function pn(){}function f2(t,e){return typeof t=="function"?t(e):t}function Kf(t){return typeof t=="number"&&t>=0&&t!==1/0}function h0(t,e){return Math.max(t+(e||0)-Date.now(),0)}function uo(t,e){return typeof t=="function"?t(e):t}function Pn(t,e){return typeof t=="function"?t(e):t}function pv(t,e){const{type:r="all",exact:s,fetchStatus:o,predicate:a,queryKey:u,stale:d}=t;if(u){if(s){if(e.queryHash!==Fh(u,e.options))return!1}else if(!ja(e.queryKey,u))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||o&&o!==e.state.fetchStatus||a&&!a(e))}function mv(t,e){const{exact:r,status:s,predicate:o,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(_i(e.options.mutationKey)!==_i(a))return!1}else if(!ja(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||o&&!o(e))}function Fh(t,e){return(e?.queryKeyHashFn||_i)(t)}function _i(t){return JSON.stringify(t,(e,r)=>Gf(r)?Object.keys(r).sort().reduce((s,o)=>(s[o]=r[o],s),{}):r)}function ja(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!ja(t[r],e[r])):!1}function p0(t,e){if(t===e)return t;const r=gv(t)&&gv(e);if(r||Gf(t)&&Gf(e)){const s=r?t:Object.keys(t),o=s.length,a=r?e:Object.keys(e),u=a.length,d=r?[]:{};let h=0;for(let m=0;m<u;m++){const g=r?m:a[m];(!r&&s.includes(g)||r)&&t[g]===void 0&&e[g]===void 0?(d[g]=void 0,h++):(d[g]=p0(t[g],e[g]),d[g]===t[g]&&t[g]!==void 0&&h++)}return o===u&&h===o?t:d}return e}function ju(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function gv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Gf(t){if(!vv(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!vv(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function vv(t){return Object.prototype.toString.call(t)==="[object Object]"}function h2(t){return new Promise(e=>{setTimeout(e,t)})}function Zf(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?p0(t,e):e}function p2(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function m2(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var zh=Symbol();function m0(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===zh?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var g2=class extends _o{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Si&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},$h=new g2,v2=class extends _o{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Si&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Ru=new v2;function Yf(){let t,e;const r=new Promise((o,a)=>{t=o,e=a});r.status="pending",r.catch(()=>{});function s(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{s({status:"fulfilled",value:o}),t(o)},r.reject=o=>{s({status:"rejected",reason:o}),e(o)},r}function y2(t){return Math.min(1e3*2**t,3e4)}function g0(t){return(t??"online")==="online"?Ru.isOnline():!0}var v0=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function wf(t){return t instanceof v0}function y0(t){let e=!1,r=0,s=!1,o;const a=Yf(),u=_=>{s||(x(new v0(_)),t.abort?.())},d=()=>{e=!0},h=()=>{e=!1},m=()=>$h.isFocused()&&(t.networkMode==="always"||Ru.isOnline())&&t.canRun(),g=()=>g0(t.networkMode)&&t.canRun(),y=_=>{s||(s=!0,t.onSuccess?.(_),o?.(),a.resolve(_))},x=_=>{s||(s=!0,t.onError?.(_),o?.(),a.reject(_))},S=()=>new Promise(_=>{o=C=>{(s||m())&&_(C)},t.onPause?.()}).then(()=>{o=void 0,s||t.onContinue?.()}),k=()=>{if(s)return;let _;const C=r===0?t.initialPromise:void 0;try{_=C??t.fn()}catch(P){_=Promise.reject(P)}Promise.resolve(_).then(y).catch(P=>{if(s)return;const T=t.retry??(Si?0:3),D=t.retryDelay??y2,M=typeof D=="function"?D(r,P):D,V=T===!0||typeof T=="number"&&r<T||typeof T=="function"&&T(r,P);if(e||!V){x(P);return}r++,t.onFail?.(r,P),h2(M).then(()=>m()?void 0:S()).then(()=>{e?x(P):k()})})};return{promise:a,cancel:u,continue:()=>(o?.(),a),cancelRetry:d,continueRetry:h,canStart:g,start:()=>(g()?k():S().then(k),a)}}function x2(){let t=[],e=0,r=d=>{d()},s=d=>{d()},o=d=>setTimeout(d,0);const a=d=>{e?t.push(d):o(()=>{r(d)})},u=()=>{const d=t;t=[],d.length&&o(()=>{s(()=>{d.forEach(h=>{r(h)})})})};return{batch:d=>{let h;e++;try{h=d()}finally{e--,e||u()}return h},batchCalls:d=>(...h)=>{a(()=>{d(...h)})},schedule:a,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{o=d}}}var er=x2(),x0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kf(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Si?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},w2=class extends x0{#e;#t;#n;#r;#o;#i;constructor(t){super(),this.#i=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=b2(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const r=Zf(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(pn).catch(pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Pn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!h0(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#i?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},o=()=>{const d=m0(this.options,e),h={queryKey:this.queryKey,meta:this.meta};return s(h),this.#i=!1,this.options.persister?this.options.persister(d,h,this):d(h)},a={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#s({type:"fetch",meta:a.fetchOptions?.meta});const u=d=>{wf(d)&&d.silent||this.#s({type:"error",error:d}),wf(d)||(this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#r=y0({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(h){u(h);return}this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:u,onFail:(d,h)=>{this.#s({type:"failed",failureCount:d,error:h})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#r.start()}#s(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...w0(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return wf(s)&&s.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),er.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function w0(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:g0(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function b2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var S2=class extends _o{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const s=e.queryKey,o=e.queryHash??Fh(s,e);let a=this.get(o);return a||(a=new w2({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>pv(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>pv(t,r)):e}notify(t){er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){er.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_2=class extends x0{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||b0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=y0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#r({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#r({type:"pending",context:o,variables:t,isPaused:r})}const s=await this.#n.start();return await this.#t.config.onSuccess?.(s,t,this.state.context,this),await this.options.onSuccess?.(s,t,this.state.context),await this.#t.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,t,this.state.context),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#t.config.onError?.(s,t,this.state.context,this),await this.options.onError?.(s,t,this.state.context),await this.#t.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,t,this.state.context),s}finally{this.#r({type:"error",error:s})}}finally{this.#t.runNext(this)}}#r(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),er.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function b0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var C2=class extends _o{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){const s=new _2({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(s),s}add(t){const e=fu(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=fu(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter(s=>s!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(fu(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(fu(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(r=>mv(e,r))}findAll(t={}){return this.getAll().filter(e=>mv(t,e))}notify(t){er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return er.batch(()=>Promise.all(t.map(e=>e.continue().catch(pn))))}};function fu(t){return t.options.scope?.id??String(t.mutationId)}function yv(t){return{onFetch:(e,r)=>{const s=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let d={pages:[],pageParams:[]},h=0;const m=async()=>{let g=!1;const y=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},x=m0(e.options,e.fetchOptions),S=async(k,_,C)=>{if(g)return Promise.reject();if(_==null&&k.pages.length)return Promise.resolve(k);const P={queryKey:e.queryKey,pageParam:_,direction:C?"backward":"forward",meta:e.options.meta};y(P);const T=await x(P),{maxPages:D}=e.options,M=C?m2:p2;return{pages:M(k.pages,T,D),pageParams:M(k.pageParams,_,D)}};if(o&&a.length){const k=o==="backward",_=k?k2:xv,C={pages:a,pageParams:u},P=_(s,C);d=await S(C,P,k)}else{const k=t??a.length;do{const _=h===0?u[0]??s.initialPageParam:xv(s,d);if(h>0&&_==null)break;d=await S(d,_),h++}while(h<k)}return d};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function xv(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function k2(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var E2=class{#e;#t;#n;#r;#o;#i;#s;#a;constructor(t={}){this.#e=t.queryCache||new S2,this.#t=t.mutationCache||new C2,this.#n=t.defaultOptions||{},this.#r=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=$h.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Ru.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),s=this.#e.build(this,r);return t.revalidateIfStale&&s.isStaleByTime(uo(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(s.queryHash)?.state.data,u=f2(e,a);if(u!==void 0)return this.#e.build(this,s).setData(u,{...r,manual:!0})}setQueriesData(t,e,r){return er.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;er.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e,s={type:"active",...t};return er.batch(()=>(r.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},s=er.batch(()=>this.#e.findAll(t).map(o=>o.cancel(r)));return Promise.all(s).then(pn).catch(pn)}invalidateQueries(t={},e={}){return er.batch(()=>{if(this.#e.findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:e?.cancelRefetch??!0},s=er.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(pn)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(pn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(uo(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(pn).catch(pn)}fetchInfiniteQuery(t){return t.behavior=yv(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(pn).catch(pn)}ensureInfiniteQueryData(t){return t.behavior=yv(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ru.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(_i(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()];let r={};return e.forEach(s=>{ja(t,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(t,e){this.#o.set(_i(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#o.values()];let r={};return e.forEach(s=>{ja(t,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Fh(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===zh&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},T2=class extends _o{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#s=Yf(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#o;#i;#s;#a;#m;#f;#h;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),wv(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Xf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Xf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#t.removeObserver(this)}setOptions(t,e){const r=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),r._defaulted&&!ju(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&bv(this.#t,s,this.options,r)&&this.#d(),this.updateResult(e),o&&(this.#t!==s||Pn(this.options.enabled,this.#t)!==Pn(r.enabled,this.#t)||uo(this.options.staleTime,this.#t)!==uo(r.staleTime,this.#t))&&this.#g();const a=this.#v();o&&(this.#t!==s||Pn(this.options.enabled,this.#t)!==Pn(r.enabled,this.#t)||a!==this.#l)&&this.#y(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return N2(this,r)&&(this.#r=r,this.#i=this.options,this.#o=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(t,e){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),e?.(s),t[s])})}),r}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#S();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(pn)),e}#g(){this.#w();const t=uo(this.options.staleTime,this.#t);if(Si||this.#r.isStale||!Kf(t))return;const r=h0(this.#r.dataUpdatedAt,t)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(t){this.#b(),this.#l=t,!(Si||Pn(this.options.enabled,this.#t)===!1||!Kf(this.#l)||this.#l===0)&&(this.#c=setInterval(()=>{(this.options.refetchIntervalInBackground||$h.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#w(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#b(){this.#c&&(clearInterval(this.#c),this.#c=void 0)}createResult(t,e){const r=this.#t,s=this.options,o=this.#r,a=this.#o,u=this.#i,h=t!==r?t.state:this.#n,{state:m}=t;let g={...m},y=!1,x;if(e._optimisticResults){const B=this.hasListeners(),J=!B&&wv(t,e),H=B&&bv(t,r,e,s);(J||H)&&(g={...g,...w0(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:S,errorUpdatedAt:k,status:_}=g;if(e.select&&g.data!==void 0)if(o&&g.data===a?.data&&e.select===this.#m)x=this.#f;else try{this.#m=e.select,x=e.select(g.data),x=Zf(o?.data,x,e),this.#f=x,this.#a=null}catch(B){this.#a=B}else x=g.data;if(e.placeholderData!==void 0&&x===void 0&&_==="pending"){let B;if(o?.isPlaceholderData&&e.placeholderData===u?.placeholderData)B=o.data;else if(B=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,e.select&&B!==void 0)try{B=e.select(B),this.#a=null}catch(J){this.#a=J}B!==void 0&&(_="success",x=Zf(o?.data,B,e),y=!0)}this.#a&&(S=this.#a,x=this.#f,k=Date.now(),_="error");const C=g.fetchStatus==="fetching",P=_==="pending",T=_==="error",D=P&&C,M=x!==void 0,G={status:_,fetchStatus:g.fetchStatus,isPending:P,isSuccess:_==="success",isError:T,isInitialLoading:D,isLoading:D,data:x,dataUpdatedAt:g.dataUpdatedAt,error:S,errorUpdatedAt:k,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:C,isRefetching:C&&!P,isLoadingError:T&&!M,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:T&&M,isStale:Vh(t,e),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const B=U=>{G.status==="error"?U.reject(G.error):G.data!==void 0&&U.resolve(G.data)},J=()=>{const U=this.#s=G.promise=Yf();B(U)},H=this.#s;switch(H.status){case"pending":t.queryHash===r.queryHash&&B(H);break;case"fulfilled":(G.status==="error"||G.data!==H.value)&&J();break;case"rejected":(G.status!=="error"||G.error!==H.reason)&&J();break}}return G}updateResult(t){const e=this.#r,r=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#i=this.options,this.#o.data!==void 0&&(this.#h=this.#t),ju(r,e))return;this.#r=r;const s={},o=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,u=typeof a=="function"?a():a;if(u==="all"||!u&&!this.#p.size)return!0;const d=new Set(u??this.#p);return this.options.throwOnError&&d.add("error"),Object.keys(this.#r).some(h=>{const m=h;return this.#r[m]!==e[m]&&d.has(m)})};t?.listeners!==!1&&o()&&(s.listeners=!0),this.#_({...s,...t})}#S(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#_(t){er.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function P2(t,e){return Pn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function wv(t,e){return P2(t,e)||t.state.data!==void 0&&Xf(t,e,e.refetchOnMount)}function Xf(t,e,r){if(Pn(e.enabled,t)!==!1){const s=typeof r=="function"?r(t):r;return s==="always"||s!==!1&&Vh(t,e)}return!1}function bv(t,e,r,s){return(t!==e||Pn(s.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Vh(t,r)}function Vh(t,e){return Pn(e.enabled,t)!==!1&&t.isStaleByTime(uo(e.staleTime,t))}function N2(t,e){return!ju(t.getCurrentResult(),e)}var O2=class extends _o{#e;#t=void 0;#n;#r;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),ju(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&_i(r.mutationKey)!==_i(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#o(),this.#i()}mutate(e,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#o(){const e=this.#n?.state??b0();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#i(e){er.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,r,s),this.#r.onSettled?.(e.data,null,r,s)):e?.type==="error"&&(this.#r.onError?.(e.error,r,s),this.#r.onSettled?.(void 0,e.error,r,s))}this.listeners.forEach(r=>{r(this.#t)})})}},S0=w.createContext(void 0),ic=t=>{const e=w.useContext(S0);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},j2=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(S0.Provider,{value:t,children:e})),_0=w.createContext(!1),R2=()=>w.useContext(_0);_0.Provider;function D2(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var I2=w.createContext(D2()),A2=()=>w.useContext(I2);function C0(t,e){return typeof t=="function"?t(...e):!!t}function Jf(){}var M2=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},L2=t=>{w.useEffect(()=>{t.clearReset()},[t])},F2=({result:t,errorResetBoundary:e,throwOnError:r,query:s})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&C0(r,[t.error,s]),z2=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},$2=(t,e)=>t.isLoading&&t.isFetching&&!e,V2=(t,e)=>t?.suspense&&e.isPending,Sv=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function B2(t,e,r){const s=ic(),o=R2(),a=A2(),u=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(u),u._optimisticResults=o?"isRestoring":"optimistic",z2(u),M2(u,a),L2(a);const d=!s.getQueryCache().get(u.queryHash),[h]=w.useState(()=>new e(s,u)),m=h.getOptimisticResult(u);if(w.useSyncExternalStore(w.useCallback(g=>{const y=o?Jf:h.subscribe(er.batchCalls(g));return h.updateResult(),y},[h,o]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),w.useEffect(()=>{h.setOptions(u,{listeners:!1})},[u,h]),V2(u,m))throw Sv(u,h,a);if(F2({result:m,errorResetBoundary:a,throwOnError:u.throwOnError,query:s.getQueryCache().get(u.queryHash)}))throw m.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(u,m),u.experimental_prefetchInRender&&!Si&&$2(m,o)&&(d?Sv(u,h,a):s.getQueryCache().get(u.queryHash)?.promise)?.catch(Jf).finally(()=>{h.updateResult()}),u.notifyOnChangeProps?m:h.trackResult(m)}function Du(t,e){return B2(t,T2)}function bf(t,e){const r=ic(),[s]=w.useState(()=>new O2(r,t));w.useEffect(()=>{s.setOptions(t)},[s,t]);const o=w.useSyncExternalStore(w.useCallback(u=>s.subscribe(er.batchCalls(u)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=w.useCallback((u,d)=>{s.mutate(u,d).catch(Jf)},[s]);if(o.error&&C0(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}const U2={},q2="auth_token";function W2(t){const e=t.trim();return e?/^https?:\/\//i.test(e)?e.replace(/\/+$/g,""):/^\/\//.test(e)?`https:${e.replace(/\/+$/g,"")}`:e.startsWith("/")?e.replace(/\/+$/g,""):`https://${e.replace(/\/+$/g,"")}`:""}function H2(){const t=U2?.VITE_API_BASE_URL,r=t?W2(t):"https://chesspro-api.longnononpro.workers.dev";return r||""}const Pr=H2();function Q2(){try{return localStorage.getItem(q2)}catch{return null}}function K2(t){const e=Q2();return e?{...t,Authorization:`Bearer ${e}`}:t}async function G2(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const Z2=({on401:t})=>async({queryKey:e})=>{const r=await fetch(Pr+e.join("/"),{headers:K2({})});return await G2(r),await r.json()},Y2=new E2({defaultOptions:{queries:{queryFn:Z2({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),X2=1,J2=1e6;let Sf=0;function e_(){return Sf=(Sf+1)%Number.MAX_SAFE_INTEGER,Sf.toString()}const _f=new Map,_v=t=>{if(_f.has(t))return;const e=setTimeout(()=>{_f.delete(t),Ea({type:"REMOVE_TOAST",toastId:t})},J2);_f.set(t,e)},t_=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,X2)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?_v(r):t.toasts.forEach(s=>{_v(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},_u=[];let Cu={toasts:[]};function Ea(t){Cu=t_(Cu,t),_u.forEach(e=>{e(Cu)})}function r_({...t}){const e=e_(),r=o=>Ea({type:"UPDATE_TOAST",toast:{...o,id:e}}),s=()=>Ea({type:"DISMISS_TOAST",toastId:e});return Ea({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:o=>{o||s()}}}),{id:e,dismiss:s,update:r}}function Ri(){const[t,e]=w.useState(Cu);return w.useEffect(()=>(_u.push(e),()=>{const r=_u.indexOf(e);r>-1&&_u.splice(r,1)}),[t]),{...t,toast:r_,dismiss:r=>Ea({type:"DISMISS_TOAST",toastId:r})}}var oc=e0();const n_=Jy(oc);function st(t,e,{checkForDefaultPrevented:r=!0}={}){return function(o){if(t?.(o),r===!1||!o.defaultPrevented)return e?.(o)}}function Cv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function k0(...t){return e=>{let r=!1;const s=t.map(o=>{const a=Cv(o,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let o=0;o<s.length;o++){const a=s[o];typeof a=="function"?a():Cv(t[o],null)}}}}function dr(...t){return w.useCallback(k0(...t),t)}function ei(t,e=[]){let r=[];function s(a,u){const d=w.createContext(u),h=r.length;r=[...r,u];const m=y=>{const{scope:x,children:S,...k}=y,_=x?.[t]?.[h]||d,C=w.useMemo(()=>k,Object.values(k));return f.jsx(_.Provider,{value:C,children:S})};m.displayName=a+"Provider";function g(y,x){const S=x?.[t]?.[h]||d,k=w.useContext(S);if(k)return k;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${a}\``)}return[m,g]}const o=()=>{const a=r.map(u=>w.createContext(u));return function(d){const h=d?.[t]||a;return w.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return o.scopeName=t,[s,s_(o,...e)]}function s_(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const u=s.reduce((d,{useScope:h,scopeName:m})=>{const y=h(a)[`__scope${m}`];return{...d,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return r.scopeName=e.scopeName,r}function Iu(t){const e=i_(t),r=w.forwardRef((s,o)=>{const{children:a,...u}=s,d=w.Children.toArray(a),h=d.find(a_);if(h){const m=h.props.children,g=d.map(y=>y===h?w.Children.count(m)>1?w.Children.only(null):w.isValidElement(m)?m.props.children:null:y);return f.jsx(e,{...u,ref:o,children:w.isValidElement(m)?w.cloneElement(m,void 0,g):null})}return f.jsx(e,{...u,ref:o,children:a})});return r.displayName=`${t}.Slot`,r}var E0=Iu("Slot");function i_(t){const e=w.forwardRef((r,s)=>{const{children:o,...a}=r;if(w.isValidElement(o)){const u=u_(o),d=l_(a,o.props);return o.type!==w.Fragment&&(d.ref=s?k0(s,u):u),w.cloneElement(o,d)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var T0=Symbol("radix.slottable");function o_(t){const e=({children:r})=>f.jsx(f.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=T0,e}function a_(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===T0}function l_(t,e){const r={...e};for(const s in e){const o=t[s],a=e[s];/^on[A-Z]/.test(s)?o&&a?r[s]=(...d)=>{a(...d),o(...d)}:o&&(r[s]=o):s==="style"?r[s]={...o,...a}:s==="className"&&(r[s]=[o,a].filter(Boolean).join(" "))}return{...t,...r}}function u_(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function P0(t){const e=t+"CollectionProvider",[r,s]=ei(e),[o,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),u=_=>{const{scope:C,children:P}=_,T=Ze.useRef(null),D=Ze.useRef(new Map).current;return f.jsx(o,{scope:C,itemMap:D,collectionRef:T,children:P})};u.displayName=e;const d=t+"CollectionSlot",h=Iu(d),m=Ze.forwardRef((_,C)=>{const{scope:P,children:T}=_,D=a(d,P),M=dr(C,D.collectionRef);return f.jsx(h,{ref:M,children:T})});m.displayName=d;const g=t+"CollectionItemSlot",y="data-radix-collection-item",x=Iu(g),S=Ze.forwardRef((_,C)=>{const{scope:P,children:T,...D}=_,M=Ze.useRef(null),V=dr(C,M),G=a(g,P);return Ze.useEffect(()=>(G.itemMap.set(M,{ref:M,...D}),()=>{G.itemMap.delete(M)})),f.jsx(x,{[y]:"",ref:V,children:T})});S.displayName=g;function k(_){const C=a(t+"CollectionConsumer",_);return Ze.useCallback(()=>{const T=C.collectionRef.current;if(!T)return[];const D=Array.from(T.querySelectorAll(`[${y}]`));return Array.from(C.itemMap.values()).sort((G,B)=>D.indexOf(G.ref.current)-D.indexOf(B.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:u,Slot:m,ItemSlot:S},k,s]}var c_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],yt=c_.reduce((t,e)=>{const r=Iu(`Primitive.${e}`),s=w.forwardRef((o,a)=>{const{asChild:u,...d}=o,h=u?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(h,{...d,ref:a})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function N0(t,e){t&&oc.flushSync(()=>t.dispatchEvent(e))}function tr(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...r)=>e.current?.(...r),[])}function d_(t,e=globalThis?.document){const r=tr(t);w.useEffect(()=>{const s=o=>{o.key==="Escape"&&r(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[r,e])}var f_="DismissableLayer",eh="dismissableLayer.update",h_="dismissableLayer.pointerDownOutside",p_="dismissableLayer.focusOutside",kv,O0=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bh=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:u,onDismiss:d,...h}=t,m=w.useContext(O0),[g,y]=w.useState(null),x=g?.ownerDocument??globalThis?.document,[,S]=w.useState({}),k=dr(e,B=>y(B)),_=Array.from(m.layers),[C]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),P=_.indexOf(C),T=g?_.indexOf(g):-1,D=m.layersWithOutsidePointerEventsDisabled.size>0,M=T>=P,V=g_(B=>{const J=B.target,H=[...m.branches].some(U=>U.contains(J));!M||H||(o?.(B),u?.(B),B.defaultPrevented||d?.())},x),G=v_(B=>{const J=B.target;[...m.branches].some(U=>U.contains(J))||(a?.(B),u?.(B),B.defaultPrevented||d?.())},x);return d_(B=>{T===m.layers.size-1&&(s?.(B),!B.defaultPrevented&&d&&(B.preventDefault(),d()))},x),w.useEffect(()=>{if(g)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(kv=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Ev(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=kv)}},[g,x,r,m]),w.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Ev())},[g,m]),w.useEffect(()=>{const B=()=>S({});return document.addEventListener(eh,B),()=>document.removeEventListener(eh,B)},[]),f.jsx(yt.div,{...h,ref:k,style:{pointerEvents:D?M?"auto":"none":void 0,...t.style},onFocusCapture:st(t.onFocusCapture,G.onFocusCapture),onBlurCapture:st(t.onBlurCapture,G.onBlurCapture),onPointerDownCapture:st(t.onPointerDownCapture,V.onPointerDownCapture)})});Bh.displayName=f_;var m_="DismissableLayerBranch",j0=w.forwardRef((t,e)=>{const r=w.useContext(O0),s=w.useRef(null),o=dr(e,s);return w.useEffect(()=>{const a=s.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),f.jsx(yt.div,{...t,ref:o})});j0.displayName=m_;function g_(t,e=globalThis?.document){const r=tr(t),s=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const a=d=>{if(d.target&&!s.current){let h=function(){R0(h_,r,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=h,e.addEventListener("click",o.current,{once:!0})):h()}else e.removeEventListener("click",o.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,r]),{onPointerDownCapture:()=>s.current=!0}}function v_(t,e=globalThis?.document){const r=tr(t),s=w.useRef(!1);return w.useEffect(()=>{const o=a=>{a.target&&!s.current&&R0(p_,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ev(){const t=new CustomEvent(eh);document.dispatchEvent(t)}function R0(t,e,r,{discrete:s}){const o=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),s?N0(o,a):o.dispatchEvent(a)}var y_=Bh,x_=j0,gn=globalThis?.document?w.useLayoutEffect:()=>{},w_="Portal",D0=w.forwardRef((t,e)=>{const{container:r,...s}=t,[o,a]=w.useState(!1);gn(()=>a(!0),[]);const u=r||o&&globalThis?.document?.body;return u?n_.createPortal(f.jsx(yt.div,{...s,ref:e}),u):null});D0.displayName=w_;function b_(t,e){return w.useReducer((r,s)=>e[r][s]??r,t)}var ti=t=>{const{present:e,children:r}=t,s=S_(e),o=typeof r=="function"?r({present:s.isPresent}):w.Children.only(r),a=dr(s.ref,__(o));return typeof r=="function"||s.isPresent?w.cloneElement(o,{ref:a}):null};ti.displayName="Presence";function S_(t){const[e,r]=w.useState(),s=w.useRef({}),o=w.useRef(t),a=w.useRef("none"),u=t?"mounted":"unmounted",[d,h]=b_(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const m=hu(s.current);a.current=d==="mounted"?m:"none"},[d]),gn(()=>{const m=s.current,g=o.current;if(g!==t){const x=a.current,S=hu(m);t?h("MOUNT"):S==="none"||m?.display==="none"?h("UNMOUNT"):h(g&&x!==S?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,h]),gn(()=>{if(e){let m;const g=e.ownerDocument.defaultView??window,y=S=>{const _=hu(s.current).includes(S.animationName);if(S.target===e&&_&&(h("ANIMATION_END"),!o.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",m=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},x=S=>{S.target===e&&(a.current=hu(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{g.clearTimeout(m),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:w.useCallback(m=>{m&&(s.current=getComputedStyle(m)),r(m)},[])}}function hu(t){return t?.animationName||"none"}function __(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Uh({prop:t,defaultProp:e,onChange:r=()=>{}}){const[s,o]=C_({defaultProp:e,onChange:r}),a=t!==void 0,u=a?t:s,d=tr(r),h=w.useCallback(m=>{if(a){const y=typeof m=="function"?m(t):m;y!==t&&d(y)}else o(m)},[a,t,o,d]);return[u,h]}function C_({defaultProp:t,onChange:e}){const r=w.useState(t),[s]=r,o=w.useRef(s),a=tr(e);return w.useEffect(()=>{o.current!==s&&(a(s),o.current=s)},[s,o,a]),r}var k_="VisuallyHidden",ac=w.forwardRef((t,e)=>f.jsx(yt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));ac.displayName=k_;var E_=ac,qh="ToastProvider",[Wh,T_,P_]=P0("Toast"),[I0]=ei("Toast",[P_]),[N_,lc]=I0(qh),A0=t=>{const{__scopeToast:e,label:r="Notification",duration:s=5e3,swipeDirection:o="right",swipeThreshold:a=50,children:u}=t,[d,h]=w.useState(null),[m,g]=w.useState(0),y=w.useRef(!1),x=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${qh}\`. Expected non-empty \`string\`.`),f.jsx(Wh.Provider,{scope:e,children:f.jsx(N_,{scope:e,label:r,duration:s,swipeDirection:o,swipeThreshold:a,toastCount:m,viewport:d,onViewportChange:h,onToastAdd:w.useCallback(()=>g(S=>S+1),[]),onToastRemove:w.useCallback(()=>g(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:x,children:u})})};A0.displayName=qh;var M0="ToastViewport",O_=["F8"],th="toast.viewportPause",rh="toast.viewportResume",L0=w.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:s=O_,label:o="Notifications ({hotkey})",...a}=t,u=lc(M0,r),d=T_(r),h=w.useRef(null),m=w.useRef(null),g=w.useRef(null),y=w.useRef(null),x=dr(e,y,u.onViewportChange),S=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),k=u.toastCount>0;w.useEffect(()=>{const C=P=>{s.length!==0&&s.every(D=>P[D]||P.code===D)&&y.current?.focus()};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[s]),w.useEffect(()=>{const C=h.current,P=y.current;if(k&&C&&P){const T=()=>{if(!u.isClosePausedRef.current){const G=new CustomEvent(th);P.dispatchEvent(G),u.isClosePausedRef.current=!0}},D=()=>{if(u.isClosePausedRef.current){const G=new CustomEvent(rh);P.dispatchEvent(G),u.isClosePausedRef.current=!1}},M=G=>{!C.contains(G.relatedTarget)&&D()},V=()=>{C.contains(document.activeElement)||D()};return C.addEventListener("focusin",T),C.addEventListener("focusout",M),C.addEventListener("pointermove",T),C.addEventListener("pointerleave",V),window.addEventListener("blur",T),window.addEventListener("focus",D),()=>{C.removeEventListener("focusin",T),C.removeEventListener("focusout",M),C.removeEventListener("pointermove",T),C.removeEventListener("pointerleave",V),window.removeEventListener("blur",T),window.removeEventListener("focus",D)}}},[k,u.isClosePausedRef]);const _=w.useCallback(({tabbingDirection:C})=>{const T=d().map(D=>{const M=D.ref.current,V=[M,...U_(M)];return C==="forwards"?V:V.reverse()});return(C==="forwards"?T.reverse():T).flat()},[d]);return w.useEffect(()=>{const C=y.current;if(C){const P=T=>{const D=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!D){const V=document.activeElement,G=T.shiftKey;if(T.target===C&&G){m.current?.focus();return}const H=_({tabbingDirection:G?"backwards":"forwards"}),U=H.findIndex(te=>te===V);Cf(H.slice(U+1))?T.preventDefault():G?m.current?.focus():g.current?.focus()}};return C.addEventListener("keydown",P),()=>C.removeEventListener("keydown",P)}},[d,_]),f.jsxs(x_,{ref:h,role:"region","aria-label":o.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:k?void 0:"none"},children:[k&&f.jsx(nh,{ref:m,onFocusFromOutsideViewport:()=>{const C=_({tabbingDirection:"forwards"});Cf(C)}}),f.jsx(Wh.Slot,{scope:r,children:f.jsx(yt.ol,{tabIndex:-1,...a,ref:x})}),k&&f.jsx(nh,{ref:g,onFocusFromOutsideViewport:()=>{const C=_({tabbingDirection:"backwards"});Cf(C)}})]})});L0.displayName=M0;var F0="ToastFocusProxy",nh=w.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...o}=t,a=lc(F0,r);return f.jsx(ac,{"aria-hidden":!0,tabIndex:0,...o,ref:e,style:{position:"fixed"},onFocus:u=>{const d=u.relatedTarget;!a.viewport?.contains(d)&&s()}})});nh.displayName=F0;var uc="Toast",j_="toast.swipeStart",R_="toast.swipeMove",D_="toast.swipeCancel",I_="toast.swipeEnd",z0=w.forwardRef((t,e)=>{const{forceMount:r,open:s,defaultOpen:o,onOpenChange:a,...u}=t,[d=!0,h]=Uh({prop:s,defaultProp:o,onChange:a});return f.jsx(ti,{present:r||d,children:f.jsx(L_,{open:d,...u,ref:e,onClose:()=>h(!1),onPause:tr(t.onPause),onResume:tr(t.onResume),onSwipeStart:st(t.onSwipeStart,m=>{m.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:st(t.onSwipeMove,m=>{const{x:g,y}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","move"),m.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:st(t.onSwipeCancel,m=>{m.currentTarget.setAttribute("data-swipe","cancel"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:st(t.onSwipeEnd,m=>{const{x:g,y}=m.detail.delta;m.currentTarget.setAttribute("data-swipe","end"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),m.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),m.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),m.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),h(!1)})})})});z0.displayName=uc;var[A_,M_]=I0(uc,{onClose(){}}),L_=w.forwardRef((t,e)=>{const{__scopeToast:r,type:s="foreground",duration:o,open:a,onClose:u,onEscapeKeyDown:d,onPause:h,onResume:m,onSwipeStart:g,onSwipeMove:y,onSwipeCancel:x,onSwipeEnd:S,...k}=t,_=lc(uc,r),[C,P]=w.useState(null),T=dr(e,Y=>P(Y)),D=w.useRef(null),M=w.useRef(null),V=o||_.duration,G=w.useRef(0),B=w.useRef(V),J=w.useRef(0),{onToastAdd:H,onToastRemove:U}=_,te=tr(()=>{C?.contains(document.activeElement)&&_.viewport?.focus(),u()}),Z=w.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(J.current),G.current=new Date().getTime(),J.current=window.setTimeout(te,Y))},[te]);w.useEffect(()=>{const Y=_.viewport;if(Y){const _e=()=>{Z(B.current),m?.()},ce=()=>{const we=new Date().getTime()-G.current;B.current=B.current-we,window.clearTimeout(J.current),h?.()};return Y.addEventListener(th,ce),Y.addEventListener(rh,_e),()=>{Y.removeEventListener(th,ce),Y.removeEventListener(rh,_e)}}},[_.viewport,V,h,m,Z]),w.useEffect(()=>{a&&!_.isClosePausedRef.current&&Z(V)},[a,V,_.isClosePausedRef,Z]),w.useEffect(()=>(H(),()=>U()),[H,U]);const re=w.useMemo(()=>C?H0(C):null,[C]);return _.viewport?f.jsxs(f.Fragment,{children:[re&&f.jsx(F_,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:re}),f.jsx(A_,{scope:r,onClose:te,children:oc.createPortal(f.jsx(Wh.ItemSlot,{scope:r,children:f.jsx(y_,{asChild:!0,onEscapeKeyDown:st(d,()=>{_.isFocusedToastEscapeKeyDownRef.current||te(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(yt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":_.swipeDirection,...k,ref:T,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:st(t.onKeyDown,Y=>{Y.key==="Escape"&&(d?.(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,te()))}),onPointerDown:st(t.onPointerDown,Y=>{Y.button===0&&(D.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:st(t.onPointerMove,Y=>{if(!D.current)return;const _e=Y.clientX-D.current.x,ce=Y.clientY-D.current.y,we=!!M.current,Q=["left","right"].includes(_.swipeDirection),le=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,ue=Q?le(0,_e):0,j=Q?0:le(0,ce),X=Y.pointerType==="touch"?10:2,Pe={x:ue,y:j},pe={originalEvent:Y,delta:Pe};we?(M.current=Pe,pu(R_,y,pe,{discrete:!1})):Tv(Pe,_.swipeDirection,X)?(M.current=Pe,pu(j_,g,pe,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(_e)>X||Math.abs(ce)>X)&&(D.current=null)}),onPointerUp:st(t.onPointerUp,Y=>{const _e=M.current,ce=Y.target;if(ce.hasPointerCapture(Y.pointerId)&&ce.releasePointerCapture(Y.pointerId),M.current=null,D.current=null,_e){const we=Y.currentTarget,Q={originalEvent:Y,delta:_e};Tv(_e,_.swipeDirection,_.swipeThreshold)?pu(I_,S,Q,{discrete:!0}):pu(D_,x,Q,{discrete:!0}),we.addEventListener("click",le=>le.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),F_=t=>{const{__scopeToast:e,children:r,...s}=t,o=lc(uc,e),[a,u]=w.useState(!1),[d,h]=w.useState(!1);return V_(()=>u(!0)),w.useEffect(()=>{const m=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(m)},[]),d?null:f.jsx(D0,{asChild:!0,children:f.jsx(ac,{...s,children:a&&f.jsxs(f.Fragment,{children:[o.label," ",r]})})})},z_="ToastTitle",$0=w.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return f.jsx(yt.div,{...s,ref:e})});$0.displayName=z_;var $_="ToastDescription",V0=w.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return f.jsx(yt.div,{...s,ref:e})});V0.displayName=$_;var B0="ToastAction",U0=w.forwardRef((t,e)=>{const{altText:r,...s}=t;return r.trim()?f.jsx(W0,{altText:r,asChild:!0,children:f.jsx(Hh,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${B0}\`. Expected non-empty \`string\`.`),null)});U0.displayName=B0;var q0="ToastClose",Hh=w.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t,o=M_(q0,r);return f.jsx(W0,{asChild:!0,children:f.jsx(yt.button,{type:"button",...s,ref:e,onClick:st(t.onClick,o.onClose)})})});Hh.displayName=q0;var W0=w.forwardRef((t,e)=>{const{__scopeToast:r,altText:s,...o}=t;return f.jsx(yt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...o,ref:e})});function H0(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),B_(s)){const o=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!o)if(a){const u=s.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...H0(s))}}),e}function pu(t,e,r,{discrete:s}){const o=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&o.addEventListener(t,e,{once:!0}),s?N0(o,a):o.dispatchEvent(a)}var Tv=(t,e,r=0)=>{const s=Math.abs(t.x),o=Math.abs(t.y),a=s>o;return e==="left"||e==="right"?a&&s>r:!a&&o>r};function V_(t=()=>{}){const e=tr(t);gn(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[e])}function B_(t){return t.nodeType===t.ELEMENT_NODE}function U_(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Cf(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var q_=A0,Q0=L0,K0=z0,G0=$0,Z0=V0,Y0=U0,X0=Hh;function J0(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(r=J0(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function ex(){for(var t,e,r=0,s="",o=arguments.length;r<o;r++)(t=arguments[r])&&(e=J0(t))&&(s&&(s+=" "),s+=e);return s}const Pv=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Nv=ex,Qh=(t,e)=>r=>{var s;if(e?.variants==null)return Nv(t,r?.class,r?.className);const{variants:o,defaultVariants:a}=e,u=Object.keys(o).map(m=>{const g=r?.[m],y=a?.[m];if(g===null)return null;const x=Pv(g)||Pv(y);return o[m][x]}),d=r&&Object.entries(r).reduce((m,g)=>{let[y,x]=g;return x===void 0||(m[y]=x),m},{}),h=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((m,g)=>{let{class:y,className:x,...S}=g;return Object.entries(S).every(k=>{let[_,C]=k;return Array.isArray(C)?C.includes({...a,...d}[_]):{...a,...d}[_]===C})?[...m,y,x]:m},[]);return Nv(t,u,h,r?.class,r?.className)};const W_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tx=(...t)=>t.filter((e,r,s)=>!!e&&s.indexOf(e)===r).join(" ");var H_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Q_=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:a,iconNode:u,...d},h)=>w.createElement("svg",{ref:h,...H_,width:e,height:e,stroke:t,strokeWidth:s?Number(r)*24/Number(e):r,className:tx("lucide",o),...d},[...u.map(([m,g])=>w.createElement(m,g)),...Array.isArray(a)?a:[a]]));const St=(t,e)=>{const r=w.forwardRef(({className:s,...o},a)=>w.createElement(Q_,{ref:a,iconNode:e,className:tx(`lucide-${W_(t)}`,s),...o}));return r.displayName=`${t}`,r};const K_=St("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const wa=St("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const G_=St("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Z_=St("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Y_=St("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const cc=St("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const X_=St("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const J_=St("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const rx=St("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const ku=St("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const sh=St("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const eC=St("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const tC=St("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const rC=St("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const nx=St("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Ov=St("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const nC=St("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const sx=St("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);const dc=St("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);const jv=St("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const sC=St("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const iC=St("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);const oC=St("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);const aC=St("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const lC=St("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const uC=St("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const cC=St("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Kh="-",dC=t=>{const e=hC(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{const d=u.split(Kh);return d[0]===""&&d.length!==1&&d.shift(),ix(d,e)||fC(u)},getConflictingClassGroupIds:(u,d)=>{const h=r[u]||[];return d&&s[u]?[...h,...s[u]]:h}}},ix=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),o=s?ix(t.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(Kh);return e.validators.find(({validator:u})=>u(a))?.classGroupId},Rv=/^\[(.+)\]$/,fC=t=>{if(Rv.test(t)){const e=Rv.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},hC=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return mC(Object.entries(t.classGroups),r).forEach(([a,u])=>{ih(u,s,a,e)}),s},ih=(t,e,r,s)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:Dv(e,o);a.classGroupId=r;return}if(typeof o=="function"){if(pC(o)){ih(o(s),e,r,s);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,u])=>{ih(u,Dv(e,a),r,s)})})},Dv=(t,e)=>{let r=t;return e.split(Kh).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},pC=t=>t.isThemeGetter,mC=(t,e)=>e?t.map(([r,s])=>{const o=s.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([u,d])=>[e+u,d])):a);return[r,o]}):t,gC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const o=(a,u)=>{r.set(a,u),e++,e>t&&(e=0,s=r,r=new Map)};return{get(a){let u=r.get(a);if(u!==void 0)return u;if((u=s.get(a))!==void 0)return o(a,u),u},set(a,u){r.has(a)?r.set(a,u):o(a,u)}}},ox="!",vC=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,o=e[0],a=e.length,u=d=>{const h=[];let m=0,g=0,y;for(let C=0;C<d.length;C++){let P=d[C];if(m===0){if(P===o&&(s||d.slice(C,C+a)===e)){h.push(d.slice(g,C)),g=C+a;continue}if(P==="/"){y=C;continue}}P==="["?m++:P==="]"&&m--}const x=h.length===0?d:d.substring(g),S=x.startsWith(ox),k=S?x.substring(1):x,_=y&&y>g?y-g:void 0;return{modifiers:h,hasImportantModifier:S,baseClassName:k,maybePostfixModifierPosition:_}};return r?d=>r({className:d,parseClassName:u}):u},yC=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},xC=t=>({cache:gC(t.cacheSize),parseClassName:vC(t),...dC(t)}),wC=/\s+/,bC=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:o}=e,a=[],u=t.trim().split(wC);let d="";for(let h=u.length-1;h>=0;h-=1){const m=u[h],{modifiers:g,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:S}=r(m);let k=!!S,_=s(k?x.substring(0,S):x);if(!_){if(!k){d=m+(d.length>0?" "+d:d);continue}if(_=s(x),!_){d=m+(d.length>0?" "+d:d);continue}k=!1}const C=yC(g).join(":"),P=y?C+ox:C,T=P+_;if(a.includes(T))continue;a.push(T);const D=o(_,k);for(let M=0;M<D.length;++M){const V=D[M];a.push(P+V)}d=m+(d.length>0?" "+d:d)}return d};function SC(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=ax(e))&&(s&&(s+=" "),s+=r);return s}const ax=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=ax(t[s]))&&(r&&(r+=" "),r+=e);return r};function _C(t,...e){let r,s,o,a=u;function u(h){const m=e.reduce((g,y)=>y(g),t());return r=xC(m),s=r.cache.get,o=r.cache.set,a=d,d(h)}function d(h){const m=s(h);if(m)return m;const g=bC(h,r);return o(h,g),g}return function(){return a(SC.apply(null,arguments))}}const Nt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},lx=/^\[(?:([a-z-]+):)?(.+)\]$/i,CC=/^\d+\/\d+$/,kC=new Set(["px","full","screen"]),EC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,TC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,PC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,NC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ls=t=>co(t)||kC.has(t)||CC.test(t),zs=t=>Co(t,"length",FC),co=t=>!!t&&!Number.isNaN(Number(t)),kf=t=>Co(t,"number",co),ca=t=>!!t&&Number.isInteger(Number(t)),jC=t=>t.endsWith("%")&&co(t.slice(0,-1)),Xe=t=>lx.test(t),$s=t=>EC.test(t),RC=new Set(["length","size","percentage"]),DC=t=>Co(t,RC,ux),IC=t=>Co(t,"position",ux),AC=new Set(["image","url"]),MC=t=>Co(t,AC,$C),LC=t=>Co(t,"",zC),da=()=>!0,Co=(t,e,r)=>{const s=lx.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},FC=t=>TC.test(t)&&!PC.test(t),ux=()=>!1,zC=t=>NC.test(t),$C=t=>OC.test(t),VC=()=>{const t=Nt("colors"),e=Nt("spacing"),r=Nt("blur"),s=Nt("brightness"),o=Nt("borderColor"),a=Nt("borderRadius"),u=Nt("borderSpacing"),d=Nt("borderWidth"),h=Nt("contrast"),m=Nt("grayscale"),g=Nt("hueRotate"),y=Nt("invert"),x=Nt("gap"),S=Nt("gradientColorStops"),k=Nt("gradientColorStopPositions"),_=Nt("inset"),C=Nt("margin"),P=Nt("opacity"),T=Nt("padding"),D=Nt("saturate"),M=Nt("scale"),V=Nt("sepia"),G=Nt("skew"),B=Nt("space"),J=Nt("translate"),H=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],te=()=>["auto",Xe,e],Z=()=>[Xe,e],re=()=>["",ls,zs],Y=()=>["auto",co,Xe],_e=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ce=()=>["solid","dashed","dotted","double","none"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],le=()=>["","0",Xe],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>[co,Xe];return{cacheSize:500,separator:":",theme:{colors:[da],spacing:[ls,zs],blur:["none","",$s,Xe],brightness:j(),borderColor:[t],borderRadius:["none","","full",$s,Xe],borderSpacing:Z(),borderWidth:re(),contrast:j(),grayscale:le(),hueRotate:j(),invert:le(),gap:Z(),gradientColorStops:[t],gradientColorStopPositions:[jC,zs],inset:te(),margin:te(),opacity:j(),padding:Z(),saturate:j(),scale:j(),sepia:le(),skew:j(),space:Z(),translate:Z()},classGroups:{aspect:[{aspect:["auto","square","video",Xe]}],container:["container"],columns:[{columns:[$s]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._e(),Xe]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ca,Xe]}],basis:[{basis:te()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Xe]}],grow:[{grow:le()}],shrink:[{shrink:le()}],order:[{order:["first","last","none",ca,Xe]}],"grid-cols":[{"grid-cols":[da]}],"col-start-end":[{col:["auto",{span:["full",ca,Xe]},Xe]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[da]}],"row-start-end":[{row:["auto",{span:[ca,Xe]},Xe]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Xe]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Xe,e]}],"min-w":[{"min-w":[Xe,e,"min","max","fit"]}],"max-w":[{"max-w":[Xe,e,"none","full","min","max","fit","prose",{screen:[$s]},$s]}],h:[{h:[Xe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Xe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Xe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Xe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$s,zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",kf]}],"font-family":[{font:[da]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Xe]}],"line-clamp":[{"line-clamp":["none",co,kf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ls,Xe]}],"list-image":[{"list-image":["none",Xe]}],"list-style-type":[{list:["none","disc","decimal",Xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ls,zs]}],"underline-offset":[{"underline-offset":["auto",ls,Xe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._e(),IC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",DC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},MC]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...ce(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:ce()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...ce()]}],"outline-offset":[{"outline-offset":[ls,Xe]}],"outline-w":[{outline:[ls,zs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[ls,zs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$s,LC]}],"shadow-color":[{shadow:[da]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...we(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":we()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",$s,Xe]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[D]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[D]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Xe]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",Xe]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",Xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[ca,Xe]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Xe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ls,zs,kf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},BC=_C(VC);function nt(...t){return BC(ex(t))}const UC=q_,cx=w.forwardRef(({className:t,...e},r)=>f.jsx(Q0,{ref:r,className:nt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));cx.displayName=Q0.displayName;const qC=Qh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dx=w.forwardRef(({className:t,variant:e,...r},s)=>f.jsx(K0,{ref:s,className:nt(qC({variant:e}),t),...r}));dx.displayName=K0.displayName;const WC=w.forwardRef(({className:t,...e},r)=>f.jsx(Y0,{ref:r,className:nt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));WC.displayName=Y0.displayName;const fx=w.forwardRef(({className:t,...e},r)=>f.jsx(X0,{ref:r,className:nt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(uC,{className:"h-4 w-4"})}));fx.displayName=X0.displayName;const hx=w.forwardRef(({className:t,...e},r)=>f.jsx(G0,{ref:r,className:nt("text-sm font-semibold",t),...e}));hx.displayName=G0.displayName;const px=w.forwardRef(({className:t,...e},r)=>f.jsx(Z0,{ref:r,className:nt("text-sm opacity-90",t),...e}));px.displayName=Z0.displayName;function HC(){const{toasts:t}=Ri();return f.jsxs(UC,{children:[t.map(function({id:e,title:r,description:s,action:o,...a}){return f.jsxs(dx,{...a,children:[f.jsxs("div",{className:"grid gap-1",children:[r&&f.jsx(hx,{children:r}),s&&f.jsx(px,{children:s})]}),o,f.jsx(fx,{})]},e)}),f.jsx(cx,{})]})}var QC=t0[" useId ".trim().toString()]||(()=>{}),KC=0;function mx(t){const[e,r]=w.useState(QC());return gn(()=>{r(s=>s??String(KC++))},[t]),e?`radix-${e}`:""}const GC=["top","right","bottom","left"],Qs=Math.min,Jr=Math.max,Au=Math.round,mu=Math.floor,Wn=t=>({x:t,y:t}),ZC={left:"right",right:"left",bottom:"top",top:"bottom"},YC={start:"end",end:"start"};function oh(t,e,r){return Jr(t,Qs(e,r))}function ms(t,e){return typeof t=="function"?t(e):t}function gs(t){return t.split("-")[0]}function ko(t){return t.split("-")[1]}function Gh(t){return t==="x"?"y":"x"}function Zh(t){return t==="y"?"height":"width"}function Ks(t){return["top","bottom"].includes(gs(t))?"y":"x"}function Yh(t){return Gh(Ks(t))}function XC(t,e,r){r===void 0&&(r=!1);const s=ko(t),o=Yh(t),a=Zh(o);let u=o==="x"?s===(r?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=Mu(u)),[u,Mu(u)]}function JC(t){const e=Mu(t);return[ah(t),e,ah(e)]}function ah(t){return t.replace(/start|end/g,e=>YC[e])}function ek(t,e,r){const s=["left","right"],o=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return r?e?o:s:e?s:o;case"left":case"right":return e?a:u;default:return[]}}function tk(t,e,r,s){const o=ko(t);let a=ek(gs(t),r==="start",s);return o&&(a=a.map(u=>u+"-"+o),e&&(a=a.concat(a.map(ah)))),a}function Mu(t){return t.replace(/left|right|bottom|top/g,e=>ZC[e])}function rk(t){return{top:0,right:0,bottom:0,left:0,...t}}function gx(t){return typeof t!="number"?rk(t):{top:t,right:t,bottom:t,left:t}}function Lu(t){const{x:e,y:r,width:s,height:o}=t;return{width:s,height:o,top:r,left:e,right:e+s,bottom:r+o,x:e,y:r}}function Iv(t,e,r){let{reference:s,floating:o}=t;const a=Ks(e),u=Yh(e),d=Zh(u),h=gs(e),m=a==="y",g=s.x+s.width/2-o.width/2,y=s.y+s.height/2-o.height/2,x=s[d]/2-o[d]/2;let S;switch(h){case"top":S={x:g,y:s.y-o.height};break;case"bottom":S={x:g,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y};break;case"left":S={x:s.x-o.width,y};break;default:S={x:s.x,y:s.y}}switch(ko(e)){case"start":S[u]-=x*(r&&m?-1:1);break;case"end":S[u]+=x*(r&&m?-1:1);break}return S}const nk=async(t,e,r)=>{const{placement:s="bottom",strategy:o="absolute",middleware:a=[],platform:u}=r,d=a.filter(Boolean),h=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:t,floating:e,strategy:o}),{x:g,y}=Iv(m,s,h),x=s,S={},k=0;for(let _=0;_<d.length;_++){const{name:C,fn:P}=d[_],{x:T,y:D,data:M,reset:V}=await P({x:g,y,initialPlacement:s,placement:x,strategy:o,middlewareData:S,rects:m,platform:u,elements:{reference:t,floating:e}});g=T??g,y=D??y,S={...S,[C]:{...S[C],...M}},V&&k<=50&&(k++,typeof V=="object"&&(V.placement&&(x=V.placement),V.rects&&(m=V.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:o}):V.rects),{x:g,y}=Iv(m,x,h)),_=-1)}return{x:g,y,placement:x,strategy:o,middlewareData:S}};async function Ra(t,e){var r;e===void 0&&(e={});const{x:s,y:o,platform:a,rects:u,elements:d,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:x=!1,padding:S=0}=ms(e,t),k=gx(S),C=d[x?y==="floating"?"reference":"floating":y],P=Lu(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(C)))==null||r?C:C.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(d.floating)),boundary:m,rootBoundary:g,strategy:h})),T=y==="floating"?{x:s,y:o,width:u.floating.width,height:u.floating.height}:u.reference,D=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d.floating)),M=await(a.isElement==null?void 0:a.isElement(D))?await(a.getScale==null?void 0:a.getScale(D))||{x:1,y:1}:{x:1,y:1},V=Lu(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:T,offsetParent:D,strategy:h}):T);return{top:(P.top-V.top+k.top)/M.y,bottom:(V.bottom-P.bottom+k.bottom)/M.y,left:(P.left-V.left+k.left)/M.x,right:(V.right-P.right+k.right)/M.x}}const sk=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:s,placement:o,rects:a,platform:u,elements:d,middlewareData:h}=e,{element:m,padding:g=0}=ms(t,e)||{};if(m==null)return{};const y=gx(g),x={x:r,y:s},S=Yh(o),k=Zh(S),_=await u.getDimensions(m),C=S==="y",P=C?"top":"left",T=C?"bottom":"right",D=C?"clientHeight":"clientWidth",M=a.reference[k]+a.reference[S]-x[S]-a.floating[k],V=x[S]-a.reference[S],G=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let B=G?G[D]:0;(!B||!await(u.isElement==null?void 0:u.isElement(G)))&&(B=d.floating[D]||a.floating[k]);const J=M/2-V/2,H=B/2-_[k]/2-1,U=Qs(y[P],H),te=Qs(y[T],H),Z=U,re=B-_[k]-te,Y=B/2-_[k]/2+J,_e=oh(Z,Y,re),ce=!h.arrow&&ko(o)!=null&&Y!==_e&&a.reference[k]/2-(Y<Z?U:te)-_[k]/2<0,we=ce?Y<Z?Y-Z:Y-re:0;return{[S]:x[S]+we,data:{[S]:_e,centerOffset:Y-_e-we,...ce&&{alignmentOffset:we}},reset:ce}}}),ik=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,s;const{placement:o,middlewareData:a,rects:u,initialPlacement:d,platform:h,elements:m}=e,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:_=!0,...C}=ms(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const P=gs(o),T=Ks(d),D=gs(d)===d,M=await(h.isRTL==null?void 0:h.isRTL(m.floating)),V=x||(D||!_?[Mu(d)]:JC(d)),G=k!=="none";!x&&G&&V.push(...tk(d,_,k,M));const B=[d,...V],J=await Ra(e,C),H=[];let U=((s=a.flip)==null?void 0:s.overflows)||[];if(g&&H.push(J[P]),y){const Y=XC(o,u,M);H.push(J[Y[0]],J[Y[1]])}if(U=[...U,{placement:o,overflows:H}],!H.every(Y=>Y<=0)){var te,Z;const Y=(((te=a.flip)==null?void 0:te.index)||0)+1,_e=B[Y];if(_e)return{data:{index:Y,overflows:U},reset:{placement:_e}};let ce=(Z=U.filter(we=>we.overflows[0]<=0).sort((we,Q)=>we.overflows[1]-Q.overflows[1])[0])==null?void 0:Z.placement;if(!ce)switch(S){case"bestFit":{var re;const we=(re=U.filter(Q=>{if(G){const le=Ks(Q.placement);return le===T||le==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(le=>le>0).reduce((le,ue)=>le+ue,0)]).sort((Q,le)=>Q[1]-le[1])[0])==null?void 0:re[0];we&&(ce=we);break}case"initialPlacement":ce=d;break}if(o!==ce)return{reset:{placement:ce}}}return{}}}};function Av(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Mv(t){return GC.some(e=>t[e]>=0)}const ok=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:s="referenceHidden",...o}=ms(t,e);switch(s){case"referenceHidden":{const a=await Ra(e,{...o,elementContext:"reference"}),u=Av(a,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Mv(u)}}}case"escaped":{const a=await Ra(e,{...o,altBoundary:!0}),u=Av(a,r.floating);return{data:{escapedOffsets:u,escaped:Mv(u)}}}default:return{}}}}};async function ak(t,e){const{placement:r,platform:s,elements:o}=t,a=await(s.isRTL==null?void 0:s.isRTL(o.floating)),u=gs(r),d=ko(r),h=Ks(r)==="y",m=["left","top"].includes(u)?-1:1,g=a&&h?-1:1,y=ms(e,t);let{mainAxis:x,crossAxis:S,alignmentAxis:k}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof k=="number"&&(S=d==="end"?k*-1:k),h?{x:S*g,y:x*m}:{x:x*m,y:S*g}}const lk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,s;const{x:o,y:a,placement:u,middlewareData:d}=e,h=await ak(e,t);return u===((r=d.offset)==null?void 0:r.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+h.x,y:a+h.y,data:{...h,placement:u}}}}},uk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:s,placement:o}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:d={fn:C=>{let{x:P,y:T}=C;return{x:P,y:T}}},...h}=ms(t,e),m={x:r,y:s},g=await Ra(e,h),y=Ks(gs(o)),x=Gh(y);let S=m[x],k=m[y];if(a){const C=x==="y"?"top":"left",P=x==="y"?"bottom":"right",T=S+g[C],D=S-g[P];S=oh(T,S,D)}if(u){const C=y==="y"?"top":"left",P=y==="y"?"bottom":"right",T=k+g[C],D=k-g[P];k=oh(T,k,D)}const _=d.fn({...e,[x]:S,[y]:k});return{..._,data:{x:_.x-r,y:_.y-s,enabled:{[x]:a,[y]:u}}}}}},ck=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:s,placement:o,rects:a,middlewareData:u}=e,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=ms(t,e),g={x:r,y:s},y=Ks(o),x=Gh(y);let S=g[x],k=g[y];const _=ms(d,e),C=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(h){const D=x==="y"?"height":"width",M=a.reference[x]-a.floating[D]+C.mainAxis,V=a.reference[x]+a.reference[D]-C.mainAxis;S<M?S=M:S>V&&(S=V)}if(m){var P,T;const D=x==="y"?"width":"height",M=["top","left"].includes(gs(o)),V=a.reference[y]-a.floating[D]+(M&&((P=u.offset)==null?void 0:P[y])||0)+(M?0:C.crossAxis),G=a.reference[y]+a.reference[D]+(M?0:((T=u.offset)==null?void 0:T[y])||0)-(M?C.crossAxis:0);k<V?k=V:k>G&&(k=G)}return{[x]:S,[y]:k}}}},dk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,s;const{placement:o,rects:a,platform:u,elements:d}=e,{apply:h=()=>{},...m}=ms(t,e),g=await Ra(e,m),y=gs(o),x=ko(o),S=Ks(o)==="y",{width:k,height:_}=a.floating;let C,P;y==="top"||y==="bottom"?(C=y,P=x===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(P=y,C=x==="end"?"top":"bottom");const T=_-g.top-g.bottom,D=k-g.left-g.right,M=Qs(_-g[C],T),V=Qs(k-g[P],D),G=!e.middlewareData.shift;let B=M,J=V;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(J=D),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(B=T),G&&!x){const U=Jr(g.left,0),te=Jr(g.right,0),Z=Jr(g.top,0),re=Jr(g.bottom,0);S?J=k-2*(U!==0||te!==0?U+te:Jr(g.left,g.right)):B=_-2*(Z!==0||re!==0?Z+re:Jr(g.top,g.bottom))}await h({...e,availableWidth:J,availableHeight:B});const H=await u.getDimensions(d.floating);return k!==H.width||_!==H.height?{reset:{rects:!0}}:{}}}};function fc(){return typeof window<"u"}function Eo(t){return vx(t)?(t.nodeName||"").toLowerCase():"#document"}function tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zn(t){var e;return(e=(vx(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function vx(t){return fc()?t instanceof Node||t instanceof tn(t).Node:!1}function Dn(t){return fc()?t instanceof Element||t instanceof tn(t).Element:!1}function Qn(t){return fc()?t instanceof HTMLElement||t instanceof tn(t).HTMLElement:!1}function Lv(t){return!fc()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tn(t).ShadowRoot}function Xa(t){const{overflow:e,overflowX:r,overflowY:s,display:o}=In(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+r)&&!["inline","contents"].includes(o)}function fk(t){return["table","td","th"].includes(Eo(t))}function hc(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Xh(t){const e=Jh(),r=Dn(t)?In(t):t;return["transform","translate","scale","rotate","perspective"].some(s=>r[s]?r[s]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(r.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(r.contain||"").includes(s))}function hk(t){let e=Gs(t);for(;Qn(e)&&!go(e);){if(Xh(e))return e;if(hc(e))return null;e=Gs(e)}return null}function Jh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function go(t){return["html","body","#document"].includes(Eo(t))}function In(t){return tn(t).getComputedStyle(t)}function pc(t){return Dn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gs(t){if(Eo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Lv(t)&&t.host||Zn(t);return Lv(e)?e.host:e}function yx(t){const e=Gs(t);return go(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qn(e)&&Xa(e)?e:yx(e)}function Da(t,e,r){var s;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=yx(t),a=o===((s=t.ownerDocument)==null?void 0:s.body),u=tn(o);if(a){const d=lh(u);return e.concat(u,u.visualViewport||[],Xa(o)?o:[],d&&r?Da(d):[])}return e.concat(o,Da(o,[],r))}function lh(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xx(t){const e=In(t);let r=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=Qn(t),a=o?t.offsetWidth:r,u=o?t.offsetHeight:s,d=Au(r)!==a||Au(s)!==u;return d&&(r=a,s=u),{width:r,height:s,$:d}}function ep(t){return Dn(t)?t:t.contextElement}function fo(t){const e=ep(t);if(!Qn(e))return Wn(1);const r=e.getBoundingClientRect(),{width:s,height:o,$:a}=xx(e);let u=(a?Au(r.width):r.width)/s,d=(a?Au(r.height):r.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const pk=Wn(0);function wx(t){const e=tn(t);return!Jh()||!e.visualViewport?pk:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mk(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==tn(t)?!1:e}function Ci(t,e,r,s){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),a=ep(t);let u=Wn(1);e&&(s?Dn(s)&&(u=fo(s)):u=fo(t));const d=mk(a,r,s)?wx(a):Wn(0);let h=(o.left+d.x)/u.x,m=(o.top+d.y)/u.y,g=o.width/u.x,y=o.height/u.y;if(a){const x=tn(a),S=s&&Dn(s)?tn(s):s;let k=x,_=lh(k);for(;_&&s&&S!==k;){const C=fo(_),P=_.getBoundingClientRect(),T=In(_),D=P.left+(_.clientLeft+parseFloat(T.paddingLeft))*C.x,M=P.top+(_.clientTop+parseFloat(T.paddingTop))*C.y;h*=C.x,m*=C.y,g*=C.x,y*=C.y,h+=D,m+=M,k=tn(_),_=lh(k)}}return Lu({width:g,height:y,x:h,y:m})}function tp(t,e){const r=pc(t).scrollLeft;return e?e.left+r:Ci(Zn(t)).left+r}function bx(t,e,r){r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=s.left+e.scrollLeft-(r?0:tp(t,s)),a=s.top+e.scrollTop;return{x:o,y:a}}function gk(t){let{elements:e,rect:r,offsetParent:s,strategy:o}=t;const a=o==="fixed",u=Zn(s),d=e?hc(e.floating):!1;if(s===u||d&&a)return r;let h={scrollLeft:0,scrollTop:0},m=Wn(1);const g=Wn(0),y=Qn(s);if((y||!y&&!a)&&((Eo(s)!=="body"||Xa(u))&&(h=pc(s)),Qn(s))){const S=Ci(s);m=fo(s),g.x=S.x+s.clientLeft,g.y=S.y+s.clientTop}const x=u&&!y&&!a?bx(u,h,!0):Wn(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-h.scrollLeft*m.x+g.x+x.x,y:r.y*m.y-h.scrollTop*m.y+g.y+x.y}}function vk(t){return Array.from(t.getClientRects())}function yk(t){const e=Zn(t),r=pc(t),s=t.ownerDocument.body,o=Jr(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=Jr(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-r.scrollLeft+tp(t);const d=-r.scrollTop;return In(s).direction==="rtl"&&(u+=Jr(e.clientWidth,s.clientWidth)-o),{width:o,height:a,x:u,y:d}}function xk(t,e){const r=tn(t),s=Zn(t),o=r.visualViewport;let a=s.clientWidth,u=s.clientHeight,d=0,h=0;if(o){a=o.width,u=o.height;const m=Jh();(!m||m&&e==="fixed")&&(d=o.offsetLeft,h=o.offsetTop)}return{width:a,height:u,x:d,y:h}}function wk(t,e){const r=Ci(t,!0,e==="fixed"),s=r.top+t.clientTop,o=r.left+t.clientLeft,a=Qn(t)?fo(t):Wn(1),u=t.clientWidth*a.x,d=t.clientHeight*a.y,h=o*a.x,m=s*a.y;return{width:u,height:d,x:h,y:m}}function Fv(t,e,r){let s;if(e==="viewport")s=xk(t,r);else if(e==="document")s=yk(Zn(t));else if(Dn(e))s=wk(e,r);else{const o=wx(t);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Lu(s)}function Sx(t,e){const r=Gs(t);return r===e||!Dn(r)||go(r)?!1:In(r).position==="fixed"||Sx(r,e)}function bk(t,e){const r=e.get(t);if(r)return r;let s=Da(t,[],!1).filter(d=>Dn(d)&&Eo(d)!=="body"),o=null;const a=In(t).position==="fixed";let u=a?Gs(t):t;for(;Dn(u)&&!go(u);){const d=In(u),h=Xh(u);!h&&d.position==="fixed"&&(o=null),(a?!h&&!o:!h&&d.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Xa(u)&&!h&&Sx(t,u))?s=s.filter(g=>g!==u):o=d,u=Gs(u)}return e.set(t,s),s}function Sk(t){let{element:e,boundary:r,rootBoundary:s,strategy:o}=t;const u=[...r==="clippingAncestors"?hc(e)?[]:bk(e,this._c):[].concat(r),s],d=u[0],h=u.reduce((m,g)=>{const y=Fv(e,g,o);return m.top=Jr(y.top,m.top),m.right=Qs(y.right,m.right),m.bottom=Qs(y.bottom,m.bottom),m.left=Jr(y.left,m.left),m},Fv(e,d,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function _k(t){const{width:e,height:r}=xx(t);return{width:e,height:r}}function Ck(t,e,r){const s=Qn(e),o=Zn(e),a=r==="fixed",u=Ci(t,!0,a,e);let d={scrollLeft:0,scrollTop:0};const h=Wn(0);if(s||!s&&!a)if((Eo(e)!=="body"||Xa(o))&&(d=pc(e)),s){const x=Ci(e,!0,a,e);h.x=x.x+e.clientLeft,h.y=x.y+e.clientTop}else o&&(h.x=tp(o));const m=o&&!s&&!a?bx(o,d):Wn(0),g=u.left+d.scrollLeft-h.x-m.x,y=u.top+d.scrollTop-h.y-m.y;return{x:g,y,width:u.width,height:u.height}}function Ef(t){return In(t).position==="static"}function zv(t,e){if(!Qn(t)||In(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Zn(t)===r&&(r=r.ownerDocument.body),r}function _x(t,e){const r=tn(t);if(hc(t))return r;if(!Qn(t)){let o=Gs(t);for(;o&&!go(o);){if(Dn(o)&&!Ef(o))return o;o=Gs(o)}return r}let s=zv(t,e);for(;s&&fk(s)&&Ef(s);)s=zv(s,e);return s&&go(s)&&Ef(s)&&!Xh(s)?r:s||hk(t)||r}const kk=async function(t){const e=this.getOffsetParent||_x,r=this.getDimensions,s=await r(t.floating);return{reference:Ck(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Ek(t){return In(t).direction==="rtl"}const Tk={convertOffsetParentRelativeRectToViewportRelativeRect:gk,getDocumentElement:Zn,getClippingRect:Sk,getOffsetParent:_x,getElementRects:kk,getClientRects:vk,getDimensions:_k,getScale:fo,isElement:Dn,isRTL:Ek};function Cx(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Pk(t,e){let r=null,s;const o=Zn(t);function a(){var d;clearTimeout(s),(d=r)==null||d.disconnect(),r=null}function u(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),a();const m=t.getBoundingClientRect(),{left:g,top:y,width:x,height:S}=m;if(d||e(),!x||!S)return;const k=mu(y),_=mu(o.clientWidth-(g+x)),C=mu(o.clientHeight-(y+S)),P=mu(g),D={rootMargin:-k+"px "+-_+"px "+-C+"px "+-P+"px",threshold:Jr(0,Qs(1,h))||1};let M=!0;function V(G){const B=G[0].intersectionRatio;if(B!==h){if(!M)return u();B?u(!1,B):s=setTimeout(()=>{u(!1,1e-7)},1e3)}B===1&&!Cx(m,t.getBoundingClientRect())&&u(),M=!1}try{r=new IntersectionObserver(V,{...D,root:o.ownerDocument})}catch{r=new IntersectionObserver(V,D)}r.observe(t)}return u(!0),a}function Nk(t,e,r,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=s,m=ep(t),g=o||a?[...m?Da(m):[],...Da(e)]:[];g.forEach(P=>{o&&P.addEventListener("scroll",r,{passive:!0}),a&&P.addEventListener("resize",r)});const y=m&&d?Pk(m,r):null;let x=-1,S=null;u&&(S=new ResizeObserver(P=>{let[T]=P;T&&T.target===m&&S&&(S.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var D;(D=S)==null||D.observe(e)})),r()}),m&&!h&&S.observe(m),S.observe(e));let k,_=h?Ci(t):null;h&&C();function C(){const P=Ci(t);_&&!Cx(_,P)&&r(),_=P,k=requestAnimationFrame(C)}return r(),()=>{var P;g.forEach(T=>{o&&T.removeEventListener("scroll",r),a&&T.removeEventListener("resize",r)}),y?.(),(P=S)==null||P.disconnect(),S=null,h&&cancelAnimationFrame(k)}}const Ok=lk,jk=uk,Rk=ik,Dk=dk,Ik=ok,$v=sk,Ak=ck,Mk=(t,e,r)=>{const s=new Map,o={platform:Tk,...r},a={...o.platform,_c:s};return nk(t,e,{...o,platform:a})};var Eu=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Fu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,s,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(s=r;s--!==0;)if(!Fu(t[s],e[s]))return!1;return!0}if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(s=r;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=r;s--!==0;){const a=o[s];if(!(a==="_owner"&&t.$$typeof)&&!Fu(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function kx(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Vv(t,e){const r=kx(t);return Math.round(e*r)/r}function Tf(t){const e=w.useRef(t);return Eu(()=>{e.current=t}),e}function Lk(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:s=[],platform:o,elements:{reference:a,floating:u}={},transform:d=!0,whileElementsMounted:h,open:m}=t,[g,y]=w.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[x,S]=w.useState(s);Fu(x,s)||S(s);const[k,_]=w.useState(null),[C,P]=w.useState(null),T=w.useCallback(Q=>{Q!==G.current&&(G.current=Q,_(Q))},[]),D=w.useCallback(Q=>{Q!==B.current&&(B.current=Q,P(Q))},[]),M=a||k,V=u||C,G=w.useRef(null),B=w.useRef(null),J=w.useRef(g),H=h!=null,U=Tf(h),te=Tf(o),Z=Tf(m),re=w.useCallback(()=>{if(!G.current||!B.current)return;const Q={placement:e,strategy:r,middleware:x};te.current&&(Q.platform=te.current),Mk(G.current,B.current,Q).then(le=>{const ue={...le,isPositioned:Z.current!==!1};Y.current&&!Fu(J.current,ue)&&(J.current=ue,oc.flushSync(()=>{y(ue)}))})},[x,e,r,te,Z]);Eu(()=>{m===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,y(Q=>({...Q,isPositioned:!1})))},[m]);const Y=w.useRef(!1);Eu(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Eu(()=>{if(M&&(G.current=M),V&&(B.current=V),M&&V){if(U.current)return U.current(M,V,re);re()}},[M,V,re,U,H]);const _e=w.useMemo(()=>({reference:G,floating:B,setReference:T,setFloating:D}),[T,D]),ce=w.useMemo(()=>({reference:M,floating:V}),[M,V]),we=w.useMemo(()=>{const Q={position:r,left:0,top:0};if(!ce.floating)return Q;const le=Vv(ce.floating,g.x),ue=Vv(ce.floating,g.y);return d?{...Q,transform:"translate("+le+"px, "+ue+"px)",...kx(ce.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:le,top:ue}},[r,d,ce.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:re,refs:_e,elements:ce,floatingStyles:we}),[g,re,_e,ce,we])}const Fk=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:s,padding:o}=typeof t=="function"?t(r):t;return s&&e(s)?s.current!=null?$v({element:s.current,padding:o}).fn(r):{}:s?$v({element:s,padding:o}).fn(r):{}}}},zk=(t,e)=>({...Ok(t),options:[t,e]}),$k=(t,e)=>({...jk(t),options:[t,e]}),Vk=(t,e)=>({...Ak(t),options:[t,e]}),Bk=(t,e)=>({...Rk(t),options:[t,e]}),Uk=(t,e)=>({...Dk(t),options:[t,e]}),qk=(t,e)=>({...Ik(t),options:[t,e]}),Wk=(t,e)=>({...Fk(t),options:[t,e]});var Hk="Arrow",Ex=w.forwardRef((t,e)=>{const{children:r,width:s=10,height:o=5,...a}=t;return f.jsx(yt.svg,{...a,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ex.displayName=Hk;var Qk=Ex;function Kk(t){const[e,r]=w.useState(void 0);return gn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const a=o[0];let u,d;if("borderBoxSize"in a){const h=a.borderBoxSize,m=Array.isArray(h)?h[0]:h;u=m.inlineSize,d=m.blockSize}else u=t.offsetWidth,d=t.offsetHeight;r({width:u,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else r(void 0)},[t]),e}var Tx="Popper",[Px,Nx]=ei(Tx),[BD,Ox]=Px(Tx),jx="PopperAnchor",Rx=w.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:s,...o}=t,a=Ox(jx,r),u=w.useRef(null),d=dr(e,u);return w.useEffect(()=>{a.onAnchorChange(s?.current||u.current)}),s?null:f.jsx(yt.div,{...o,ref:d})});Rx.displayName=jx;var rp="PopperContent",[Gk,Zk]=Px(rp),Dx=w.forwardRef((t,e)=>{const{__scopePopper:r,side:s="bottom",sideOffset:o=0,align:a="center",alignOffset:u=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:x=!1,updatePositionStrategy:S="optimized",onPlaced:k,..._}=t,C=Ox(rp,r),[P,T]=w.useState(null),D=dr(e,He=>T(He)),[M,V]=w.useState(null),G=Kk(M),B=G?.width??0,J=G?.height??0,H=s+(a!=="center"?"-"+a:""),U=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},te=Array.isArray(m)?m:[m],Z=te.length>0,re={padding:U,boundary:te.filter(Xk),altBoundary:Z},{refs:Y,floatingStyles:_e,placement:ce,isPositioned:we,middlewareData:Q}=Lk({strategy:"fixed",placement:H,whileElementsMounted:(...He)=>Nk(...He,{animationFrame:S==="always"}),elements:{reference:C.anchor},middleware:[zk({mainAxis:o+J,alignmentAxis:u}),h&&$k({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?Vk():void 0,...re}),h&&Bk({...re}),Uk({...re,apply:({elements:He,rects:Ue,availableWidth:Qe,availableHeight:_t})=>{const{width:br,height:Gt}=Ue.reference,jt=He.floating.style;jt.setProperty("--radix-popper-available-width",`${Qe}px`),jt.setProperty("--radix-popper-available-height",`${_t}px`),jt.setProperty("--radix-popper-anchor-width",`${br}px`),jt.setProperty("--radix-popper-anchor-height",`${Gt}px`)}}),M&&Wk({element:M,padding:d}),Jk({arrowWidth:B,arrowHeight:J}),x&&qk({strategy:"referenceHidden",...re})]}),[le,ue]=Mx(ce),j=tr(k);gn(()=>{we&&j?.()},[we,j]);const X=Q.arrow?.x,Pe=Q.arrow?.y,pe=Q.arrow?.centerOffset!==0,[Ve,We]=w.useState();return gn(()=>{P&&We(window.getComputedStyle(P).zIndex)},[P]),f.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{..._e,transform:we?_e.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[Q.transformOrigin?.x,Q.transformOrigin?.y].join(" "),...Q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(Gk,{scope:r,placedSide:le,onArrowChange:V,arrowX:X,arrowY:Pe,shouldHideArrow:pe,children:f.jsx(yt.div,{"data-side":le,"data-align":ue,..._,ref:D,style:{..._.style,animation:we?void 0:"none"}})})})});Dx.displayName=rp;var Ix="PopperArrow",Yk={top:"bottom",right:"left",bottom:"top",left:"right"},Ax=w.forwardRef(function(e,r){const{__scopePopper:s,...o}=e,a=Zk(Ix,s),u=Yk[a.placedSide];return f.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:f.jsx(Qk,{...o,ref:r,style:{...o.style,display:"block"}})})});Ax.displayName=Ix;function Xk(t){return t!==null}var Jk=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:s,middlewareData:o}=e,u=o.arrow?.centerOffset!==0,d=u?0:t.arrowWidth,h=u?0:t.arrowHeight,[m,g]=Mx(r),y={start:"0%",center:"50%",end:"100%"}[g],x=(o.arrow?.x??0)+d/2,S=(o.arrow?.y??0)+h/2;let k="",_="";return m==="bottom"?(k=u?y:`${x}px`,_=`${-h}px`):m==="top"?(k=u?y:`${x}px`,_=`${s.floating.height+h}px`):m==="right"?(k=`${-h}px`,_=u?y:`${S}px`):m==="left"&&(k=`${s.floating.width+h}px`,_=u?y:`${S}px`),{data:{x:k,y:_}}}});function Mx(t){const[e,r="center"]=t.split("-");return[e,r]}var eE=Rx,tE=Dx,rE=Ax,[mc]=ei("Tooltip",[Nx]),np=Nx(),Lx="TooltipProvider",nE=700,Bv="tooltip.open",[sE,Fx]=mc(Lx),zx=t=>{const{__scopeTooltip:e,delayDuration:r=nE,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:a}=t,u=w.useRef(!0),d=w.useRef(!1),h=w.useRef(0);return w.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),f.jsx(sE,{scope:e,isOpenDelayedRef:u,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(h.current),u.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>u.current=!0,s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:w.useCallback(m=>{d.current=m},[]),disableHoverableContent:o,children:a})};zx.displayName=Lx;var $x="Tooltip",[UD,gc]=mc($x),uh="TooltipTrigger",iE=w.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,o=gc(uh,r),a=Fx(uh,r),u=np(r),d=w.useRef(null),h=dr(e,d,o.onTriggerChange),m=w.useRef(!1),g=w.useRef(!1),y=w.useCallback(()=>m.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),f.jsx(eE,{asChild:!0,...u,children:f.jsx(yt.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:h,onPointerMove:st(t.onPointerMove,x=>{x.pointerType!=="touch"&&!g.current&&!a.isPointerInTransitRef.current&&(o.onTriggerEnter(),g.current=!0)}),onPointerLeave:st(t.onPointerLeave,()=>{o.onTriggerLeave(),g.current=!1}),onPointerDown:st(t.onPointerDown,()=>{o.open&&o.onClose(),m.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:st(t.onFocus,()=>{m.current||o.onOpen()}),onBlur:st(t.onBlur,o.onClose),onClick:st(t.onClick,o.onClose)})})});iE.displayName=uh;var oE="TooltipPortal",[qD,aE]=mc(oE,{forceMount:void 0}),vo="TooltipContent",Vx=w.forwardRef((t,e)=>{const r=aE(vo,t.__scopeTooltip),{forceMount:s=r.forceMount,side:o="top",...a}=t,u=gc(vo,t.__scopeTooltip);return f.jsx(ti,{present:s||u.open,children:u.disableHoverableContent?f.jsx(Bx,{side:o,...a,ref:e}):f.jsx(lE,{side:o,...a,ref:e})})}),lE=w.forwardRef((t,e)=>{const r=gc(vo,t.__scopeTooltip),s=Fx(vo,t.__scopeTooltip),o=w.useRef(null),a=dr(e,o),[u,d]=w.useState(null),{trigger:h,onClose:m}=r,g=o.current,{onPointerInTransitChange:y}=s,x=w.useCallback(()=>{d(null),y(!1)},[y]),S=w.useCallback((k,_)=>{const C=k.currentTarget,P={x:k.clientX,y:k.clientY},T=hE(P,C.getBoundingClientRect()),D=pE(P,T),M=mE(_.getBoundingClientRect()),V=vE([...D,...M]);d(V),y(!0)},[y]);return w.useEffect(()=>()=>x(),[x]),w.useEffect(()=>{if(h&&g){const k=C=>S(C,g),_=C=>S(C,h);return h.addEventListener("pointerleave",k),g.addEventListener("pointerleave",_),()=>{h.removeEventListener("pointerleave",k),g.removeEventListener("pointerleave",_)}}},[h,g,S,x]),w.useEffect(()=>{if(u){const k=_=>{const C=_.target,P={x:_.clientX,y:_.clientY},T=h?.contains(C)||g?.contains(C),D=!gE(P,u);T?x():D&&(x(),m())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[h,g,u,m,x]),f.jsx(Bx,{...t,ref:a})}),[uE,cE]=mc($x,{isInside:!1}),dE=o_("TooltipContent"),Bx=w.forwardRef((t,e)=>{const{__scopeTooltip:r,children:s,"aria-label":o,onEscapeKeyDown:a,onPointerDownOutside:u,...d}=t,h=gc(vo,r),m=np(r),{onClose:g}=h;return w.useEffect(()=>(document.addEventListener(Bv,g),()=>document.removeEventListener(Bv,g)),[g]),w.useEffect(()=>{if(h.trigger){const y=x=>{x.target?.contains(h.trigger)&&g()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[h.trigger,g]),f.jsx(Bh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:u,onFocusOutside:y=>y.preventDefault(),onDismiss:g,children:f.jsxs(tE,{"data-state":h.stateAttribute,...m,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(dE,{children:s}),f.jsx(uE,{scope:r,isInside:!0,children:f.jsx(E_,{id:h.contentId,role:"tooltip",children:o||s})})]})})});Vx.displayName=vo;var Ux="TooltipArrow",fE=w.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,o=np(r);return cE(Ux,r).isInside?null:f.jsx(rE,{...o,...s,ref:e})});fE.displayName=Ux;function hE(t,e){const r=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),o=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,s,o,a)){case a:return"left";case o:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function pE(t,e,r=5){const s=[];switch(e){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return s}function mE(t){const{top:e,right:r,bottom:s,left:o}=t;return[{x:o,y:e},{x:r,y:e},{x:r,y:s},{x:o,y:s}]}function gE(t,e){const{x:r,y:s}=t;let o=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const d=e[a].x,h=e[a].y,m=e[u].x,g=e[u].y;h>s!=g>s&&r<(m-d)*(s-h)/(g-h)+d&&(o=!o)}return o}function vE(t){const e=t.slice();return e.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),yE(e)}function yE(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const o=t[s];for(;e.length>=2;){const a=e[e.length-1],u=e[e.length-2];if((a.x-u.x)*(o.y-u.y)>=(a.y-u.y)*(o.x-u.x))e.pop();else break}e.push(o)}e.pop();const r=[];for(let s=t.length-1;s>=0;s--){const o=t[s];for(;r.length>=2;){const a=r[r.length-1],u=r[r.length-2];if((a.x-u.x)*(o.y-u.y)>=(a.y-u.y)*(o.x-u.x))r.pop();else break}r.push(o)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var xE=zx,qx=Vx;const wE=xE,bE=w.forwardRef(({className:t,sideOffset:e=4,...r},s)=>f.jsx(qx,{ref:s,sideOffset:e,className:nt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));bE.displayName=qx.displayName;var at;(function(t){t.assertEqual=o=>o;function e(o){}t.assertIs=e;function r(o){throw new Error}t.assertNever=r,t.arrayToEnum=o=>{const a={};for(const u of o)a[u]=u;return a},t.getValidEnumValues=o=>{const a=t.objectKeys(o).filter(d=>typeof o[o[d]]!="number"),u={};for(const d of a)u[d]=o[d];return t.objectValues(u)},t.objectValues=o=>t.objectKeys(o).map(function(a){return o[a]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const u in o)Object.prototype.hasOwnProperty.call(o,u)&&a.push(u);return a},t.find=(o,a)=>{for(const u of o)if(a(u))return u},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function s(o,a=" | "){return o.map(u=>typeof u=="string"?`'${u}'`:u).join(a)}t.joinValues=s,t.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(at||(at={}));var ch;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(ch||(ch={}));const Se=at.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ds=t=>{switch(typeof t){case"undefined":return Se.undefined;case"string":return Se.string;case"number":return isNaN(t)?Se.nan:Se.number;case"boolean":return Se.boolean;case"function":return Se.function;case"bigint":return Se.bigint;case"symbol":return Se.symbol;case"object":return Array.isArray(t)?Se.array:t===null?Se.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Se.promise:typeof Map<"u"&&t instanceof Map?Se.map:typeof Set<"u"&&t instanceof Set?Se.set:typeof Date<"u"&&t instanceof Date?Se.date:Se.object;default:return Se.unknown}},ae=at.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),SE=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class rn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},s={_errors:[]},o=a=>{for(const u of a.issues)if(u.code==="invalid_union")u.unionErrors.map(o);else if(u.code==="invalid_return_type")o(u.returnTypeError);else if(u.code==="invalid_arguments")o(u.argumentsError);else if(u.path.length===0)s._errors.push(r(u));else{let d=s,h=0;for(;h<u.path.length;){const m=u.path[h];h===u.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(r(u))):d[m]=d[m]||{_errors:[]},d=d[m],h++}}};return o(this),s}static assert(e){if(!(e instanceof rn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,at.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(e(o))):s.push(e(o));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}rn.create=t=>new rn(t);const yo=(t,e)=>{let r;switch(t.code){case ae.invalid_type:t.received===Se.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ae.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,at.jsonStringifyReplacer)}`;break;case ae.unrecognized_keys:r=`Unrecognized key(s) in object: ${at.joinValues(t.keys,", ")}`;break;case ae.invalid_union:r="Invalid input";break;case ae.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${at.joinValues(t.options)}`;break;case ae.invalid_enum_value:r=`Invalid enum value. Expected ${at.joinValues(t.options)}, received '${t.received}'`;break;case ae.invalid_arguments:r="Invalid function arguments";break;case ae.invalid_return_type:r="Invalid function return type";break;case ae.invalid_date:r="Invalid date";break;case ae.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:at.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ae.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ae.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ae.custom:r="Invalid input";break;case ae.invalid_intersection_types:r="Intersection results could not be merged";break;case ae.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ae.not_finite:r="Number must be finite";break;default:r=e.defaultError,at.assertNever(t)}return{message:r}};let Wx=yo;function _E(t){Wx=t}function zu(){return Wx}const $u=t=>{const{data:e,path:r,errorMaps:s,issueData:o}=t,a=[...r,...o.path||[]],u={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let d="";const h=s.filter(m=>!!m).slice().reverse();for(const m of h)d=m(u,{data:e,defaultError:d}).message;return{...o,path:a,message:d}},CE=[];function xe(t,e){const r=zu(),s=$u({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===yo?void 0:yo].filter(o=>!!o)});t.common.issues.push(s)}class Nr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const o of r){if(o.status==="aborted")return $e;o.status==="dirty"&&e.dirty(),s.push(o.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const o of r){const a=await o.key,u=await o.value;s.push({key:a,value:u})}return Nr.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const o of r){const{key:a,value:u}=o;if(a.status==="aborted"||u.status==="aborted")return $e;a.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof u.value<"u"||o.alwaysSet)&&(s[a.value]=u.value)}return{status:e.value,value:s}}}const $e=Object.freeze({status:"aborted"}),lo=t=>({status:"dirty",value:t}),Ir=t=>({status:"valid",value:t}),dh=t=>t.status==="aborted",fh=t=>t.status==="dirty",ki=t=>t.status==="valid",Ia=t=>typeof Promise<"u"&&t instanceof Promise;function Vu(t,e,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Hx(t,e,r,s,o){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Oe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Oe||(Oe={}));var ba,Sa;class Kn{constructor(e,r,s,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Uv=(t,e)=>{if(ki(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new rn(t.common.issues);return this._error=r,this._error}}};function Ye(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:o}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(u,d)=>{var h,m;const{message:g}=t;return u.code==="invalid_enum_value"?{message:g??d.defaultError}:typeof d.data>"u"?{message:(h=g??s)!==null&&h!==void 0?h:d.defaultError}:u.code!=="invalid_type"?{message:d.defaultError}:{message:(m=g??r)!==null&&m!==void 0?m:d.defaultError}},description:o}}class et{get description(){return this._def.description}_getType(e){return ds(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:ds(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Nr,ctx:{common:e.parent.common,data:e.data,parsedType:ds(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Ia(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){var s;const o={common:{issues:[],async:(s=r?.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ds(e)},a=this._parseSync({data:e,path:o.path,parent:o});return Uv(o,a)}"~validate"(e){var r,s;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ds(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:o});return ki(a)?{value:a.value}:{issues:o.common.issues}}catch(a){!((s=(r=a?.message)===null||r===void 0?void 0:r.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(a=>ki(a)?{value:a.value}:{issues:o.common.issues})}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ds(e)},o=this._parse({data:e,path:s.path,parent:s}),a=await(Ia(o)?o:Promise.resolve(o));return Uv(s,a)}refine(e,r){const s=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,a)=>{const u=e(o),d=()=>a.addIssue({code:ae.custom,...s(o)});return typeof Promise<"u"&&u instanceof Promise?u.then(h=>h?!0:(d(),!1)):u?!0:(d(),!1)})}refinement(e,r){return this._refinement((s,o)=>e(s)?!0:(o.addIssue(typeof r=="function"?r(s,o):r),!1))}_refinement(e){return new An({schema:this,typeName:Le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Hn.create(this,this._def)}nullable(){return Js.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Rn.create(this)}promise(){return wo.create(this,this._def)}or(e){return Fa.create([this,e],this._def)}and(e){return za.create(this,e,this._def)}transform(e){return new An({...Ye(this._def),schema:this,typeName:Le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new qa({...Ye(this._def),innerType:this,defaultValue:r,typeName:Le.ZodDefault})}brand(){return new sp({typeName:Le.ZodBranded,type:this,...Ye(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Wa({...Ye(this._def),innerType:this,catchValue:r,typeName:Le.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Ja.create(this,e)}readonly(){return Ha.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const kE=/^c[^\s-]{8,}$/i,EE=/^[0-9a-z]+$/,TE=/^[0-9A-HJKMNP-TV-Z]{26}$/i,PE=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,NE=/^[a-z0-9_-]{21}$/i,OE=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,jE=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,RE=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,DE="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pf;const IE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,AE=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ME=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,LE=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FE=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zE=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Qx="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",$E=new RegExp(`^${Qx}$`);function Kx(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function VE(t){return new RegExp(`^${Kx(t)}$`)}function Gx(t){let e=`${Qx}T${Kx(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function BE(t,e){return!!((e==="v4"||!e)&&IE.test(t)||(e==="v6"||!e)&&ME.test(t))}function UE(t,e){if(!OE.test(t))return!1;try{const[r]=t.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(s));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function qE(t,e){return!!((e==="v4"||!e)&&AE.test(t)||(e==="v6"||!e)&&LE.test(t))}class jn extends et{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Se.string){const a=this._getOrReturnCtx(e);return xe(a,{code:ae.invalid_type,expected:Se.string,received:a.parsedType}),$e}const s=new Nr;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const u=e.data.length>a.value,d=e.data.length<a.value;(u||d)&&(o=this._getOrReturnCtx(e,o),u?xe(o,{code:ae.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):d&&xe(o,{code:ae.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")RE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"email",code:ae.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")Pf||(Pf=new RegExp(DE,"u")),Pf.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"emoji",code:ae.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")PE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"uuid",code:ae.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")NE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"nanoid",code:ae.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")kE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"cuid",code:ae.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")EE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"cuid2",code:ae.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")TE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"ulid",code:ae.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),xe(o,{validation:"url",code:ae.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"regex",code:ae.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?Gx(a).test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?$E.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?VE(a).test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?jE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"duration",code:ae.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?BE(e.data,a.version)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"ip",code:ae.invalid_string,message:a.message}),s.dirty()):a.kind==="jwt"?UE(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"jwt",code:ae.invalid_string,message:a.message}),s.dirty()):a.kind==="cidr"?qE(e.data,a.version)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"cidr",code:ae.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?FE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"base64",code:ae.invalid_string,message:a.message}),s.dirty()):a.kind==="base64url"?zE.test(e.data)||(o=this._getOrReturnCtx(e,o),xe(o,{validation:"base64url",code:ae.invalid_string,message:a.message}),s.dirty()):at.assertNever(a);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(o=>e.test(o),{validation:r,code:ae.invalid_string,...Oe.errToObj(s)})}_addCheck(e){return new jn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Oe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Oe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Oe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Oe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Oe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Oe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Oe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Oe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Oe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Oe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Oe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Oe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Oe.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(s=e?.local)!==null&&s!==void 0?s:!1,...Oe.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Oe.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Oe.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Oe.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Oe.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Oe.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Oe.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Oe.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Oe.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Oe.errToObj(r)})}nonempty(e){return this.min(1,Oe.errToObj(e))}trim(){return new jn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new jn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}jn.create=t=>{var e;return new jn({checks:[],typeName:Le.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Ye(t)})};function WE(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,o=r>s?r:s,a=parseInt(t.toFixed(o).replace(".","")),u=parseInt(e.toFixed(o).replace(".",""));return a%u/Math.pow(10,o)}class Zs extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Se.number){const a=this._getOrReturnCtx(e);return xe(a,{code:ae.invalid_type,expected:Se.number,received:a.parsedType}),$e}let s;const o=new Nr;for(const a of this._def.checks)a.kind==="int"?at.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?WE(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.not_finite,message:a.message}),o.dirty()):at.assertNever(a);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Oe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Oe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Oe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Oe.toString(r))}setLimit(e,r,s,o){return new Zs({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:Oe.toString(o)}]})}_addCheck(e){return new Zs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Oe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Oe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Oe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Oe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Oe.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&at.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Zs.create=t=>new Zs({checks:[],typeName:Le.ZodNumber,coerce:t?.coerce||!1,...Ye(t)});class Ys extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Se.bigint)return this._getInvalidInput(e);let s;const o=new Nr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),xe(s,{code:ae.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):at.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return xe(r,{code:ae.invalid_type,expected:Se.bigint,received:r.parsedType}),$e}gte(e,r){return this.setLimit("min",e,!0,Oe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Oe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Oe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Oe.toString(r))}setLimit(e,r,s,o){return new Ys({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:Oe.toString(o)}]})}_addCheck(e){return new Ys({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Oe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Oe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Oe.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ys.create=t=>{var e;return new Ys({checks:[],typeName:Le.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Ye(t)})};class Aa extends et{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Se.boolean){const s=this._getOrReturnCtx(e);return xe(s,{code:ae.invalid_type,expected:Se.boolean,received:s.parsedType}),$e}return Ir(e.data)}}Aa.create=t=>new Aa({typeName:Le.ZodBoolean,coerce:t?.coerce||!1,...Ye(t)});class Ei extends et{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Se.date){const a=this._getOrReturnCtx(e);return xe(a,{code:ae.invalid_type,expected:Se.date,received:a.parsedType}),$e}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return xe(a,{code:ae.invalid_date}),$e}const s=new Nr;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),xe(o,{code:ae.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):at.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ei({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Oe.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Oe.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Ei.create=t=>new Ei({checks:[],coerce:t?.coerce||!1,typeName:Le.ZodDate,...Ye(t)});class Bu extends et{_parse(e){if(this._getType(e)!==Se.symbol){const s=this._getOrReturnCtx(e);return xe(s,{code:ae.invalid_type,expected:Se.symbol,received:s.parsedType}),$e}return Ir(e.data)}}Bu.create=t=>new Bu({typeName:Le.ZodSymbol,...Ye(t)});class Ma extends et{_parse(e){if(this._getType(e)!==Se.undefined){const s=this._getOrReturnCtx(e);return xe(s,{code:ae.invalid_type,expected:Se.undefined,received:s.parsedType}),$e}return Ir(e.data)}}Ma.create=t=>new Ma({typeName:Le.ZodUndefined,...Ye(t)});class La extends et{_parse(e){if(this._getType(e)!==Se.null){const s=this._getOrReturnCtx(e);return xe(s,{code:ae.invalid_type,expected:Se.null,received:s.parsedType}),$e}return Ir(e.data)}}La.create=t=>new La({typeName:Le.ZodNull,...Ye(t)});class xo extends et{constructor(){super(...arguments),this._any=!0}_parse(e){return Ir(e.data)}}xo.create=t=>new xo({typeName:Le.ZodAny,...Ye(t)});class xi extends et{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ir(e.data)}}xi.create=t=>new xi({typeName:Le.ZodUnknown,...Ye(t)});class vs extends et{_parse(e){const r=this._getOrReturnCtx(e);return xe(r,{code:ae.invalid_type,expected:Se.never,received:r.parsedType}),$e}}vs.create=t=>new vs({typeName:Le.ZodNever,...Ye(t)});class Uu extends et{_parse(e){if(this._getType(e)!==Se.undefined){const s=this._getOrReturnCtx(e);return xe(s,{code:ae.invalid_type,expected:Se.void,received:s.parsedType}),$e}return Ir(e.data)}}Uu.create=t=>new Uu({typeName:Le.ZodVoid,...Ye(t)});class Rn extends et{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),o=this._def;if(r.parsedType!==Se.array)return xe(r,{code:ae.invalid_type,expected:Se.array,received:r.parsedType}),$e;if(o.exactLength!==null){const u=r.data.length>o.exactLength.value,d=r.data.length<o.exactLength.value;(u||d)&&(xe(r,{code:u?ae.too_big:ae.too_small,minimum:d?o.exactLength.value:void 0,maximum:u?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),s.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(xe(r,{code:ae.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),s.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(xe(r,{code:ae.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((u,d)=>o.type._parseAsync(new Kn(r,u,r.path,d)))).then(u=>Nr.mergeArray(s,u));const a=[...r.data].map((u,d)=>o.type._parseSync(new Kn(r,u,r.path,d)));return Nr.mergeArray(s,a)}get element(){return this._def.type}min(e,r){return new Rn({...this._def,minLength:{value:e,message:Oe.toString(r)}})}max(e,r){return new Rn({...this._def,maxLength:{value:e,message:Oe.toString(r)}})}length(e,r){return new Rn({...this._def,exactLength:{value:e,message:Oe.toString(r)}})}nonempty(e){return this.min(1,e)}}Rn.create=(t,e)=>new Rn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Le.ZodArray,...Ye(e)});function ao(t){if(t instanceof Mt){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=Hn.create(ao(s))}return new Mt({...t._def,shape:()=>e})}else return t instanceof Rn?new Rn({...t._def,type:ao(t.element)}):t instanceof Hn?Hn.create(ao(t.unwrap())):t instanceof Js?Js.create(ao(t.unwrap())):t instanceof Gn?Gn.create(t.items.map(e=>ao(e))):t}class Mt extends et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=at.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Se.object){const m=this._getOrReturnCtx(e);return xe(m,{code:ae.invalid_type,expected:Se.object,received:m.parsedType}),$e}const{status:s,ctx:o}=this._processInputParams(e),{shape:a,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof vs&&this._def.unknownKeys==="strip"))for(const m in o.data)u.includes(m)||d.push(m);const h=[];for(const m of u){const g=a[m],y=o.data[m];h.push({key:{status:"valid",value:m},value:g._parse(new Kn(o,y,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof vs){const m=this._def.unknownKeys;if(m==="passthrough")for(const g of d)h.push({key:{status:"valid",value:g},value:{status:"valid",value:o.data[g]}});else if(m==="strict")d.length>0&&(xe(o,{code:ae.unrecognized_keys,keys:d}),s.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const g of d){const y=o.data[g];h.push({key:{status:"valid",value:g},value:m._parse(new Kn(o,y,o.path,g)),alwaysSet:g in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const g of h){const y=await g.key,x=await g.value;m.push({key:y,value:x,alwaysSet:g.alwaysSet})}return m}).then(m=>Nr.mergeObjectSync(s,m)):Nr.mergeObjectSync(s,h)}get shape(){return this._def.shape()}strict(e){return Oe.errToObj,new Mt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var o,a,u,d;const h=(u=(a=(o=this._def).errorMap)===null||a===void 0?void 0:a.call(o,r,s).message)!==null&&u!==void 0?u:s.defaultError;return r.code==="unrecognized_keys"?{message:(d=Oe.errToObj(e).message)!==null&&d!==void 0?d:h}:{message:h}}}:{}})}strip(){return new Mt({...this._def,unknownKeys:"strip"})}passthrough(){return new Mt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Mt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Mt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Le.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Mt({...this._def,catchall:e})}pick(e){const r={};return at.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new Mt({...this._def,shape:()=>r})}omit(e){const r={};return at.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new Mt({...this._def,shape:()=>r})}deepPartial(){return ao(this)}partial(e){const r={};return at.objectKeys(this.shape).forEach(s=>{const o=this.shape[s];e&&!e[s]?r[s]=o:r[s]=o.optional()}),new Mt({...this._def,shape:()=>r})}required(e){const r={};return at.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof Hn;)a=a._def.innerType;r[s]=a}}),new Mt({...this._def,shape:()=>r})}keyof(){return Zx(at.objectKeys(this.shape))}}Mt.create=(t,e)=>new Mt({shape:()=>t,unknownKeys:"strip",catchall:vs.create(),typeName:Le.ZodObject,...Ye(e)});Mt.strictCreate=(t,e)=>new Mt({shape:()=>t,unknownKeys:"strict",catchall:vs.create(),typeName:Le.ZodObject,...Ye(e)});Mt.lazycreate=(t,e)=>new Mt({shape:t,unknownKeys:"strip",catchall:vs.create(),typeName:Le.ZodObject,...Ye(e)});class Fa extends et{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function o(a){for(const d of a)if(d.result.status==="valid")return d.result;for(const d of a)if(d.result.status==="dirty")return r.common.issues.push(...d.ctx.common.issues),d.result;const u=a.map(d=>new rn(d.ctx.common.issues));return xe(r,{code:ae.invalid_union,unionErrors:u}),$e}if(r.common.async)return Promise.all(s.map(async a=>{const u={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:u}),ctx:u}})).then(o);{let a;const u=[];for(const h of s){const m={...r,common:{...r.common,issues:[]},parent:null},g=h._parseSync({data:r.data,path:r.path,parent:m});if(g.status==="valid")return g;g.status==="dirty"&&!a&&(a={result:g,ctx:m}),m.common.issues.length&&u.push(m.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const d=u.map(h=>new rn(h));return xe(r,{code:ae.invalid_union,unionErrors:d}),$e}}get options(){return this._def.options}}Fa.create=(t,e)=>new Fa({options:t,typeName:Le.ZodUnion,...Ye(e)});const cs=t=>t instanceof Va?cs(t.schema):t instanceof An?cs(t.innerType()):t instanceof Ba?[t.value]:t instanceof Xs?t.options:t instanceof Ua?at.objectValues(t.enum):t instanceof qa?cs(t._def.innerType):t instanceof Ma?[void 0]:t instanceof La?[null]:t instanceof Hn?[void 0,...cs(t.unwrap())]:t instanceof Js?[null,...cs(t.unwrap())]:t instanceof sp||t instanceof Ha?cs(t.unwrap()):t instanceof Wa?cs(t._def.innerType):[];class vc extends et{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.object)return xe(r,{code:ae.invalid_type,expected:Se.object,received:r.parsedType}),$e;const s=this.discriminator,o=r.data[s],a=this.optionsMap.get(o);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(xe(r,{code:ae.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),$e)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const o=new Map;for(const a of r){const u=cs(a.shape[e]);if(!u.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of u){if(o.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);o.set(d,a)}}return new vc({typeName:Le.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...Ye(s)})}}function hh(t,e){const r=ds(t),s=ds(e);if(t===e)return{valid:!0,data:t};if(r===Se.object&&s===Se.object){const o=at.objectKeys(e),a=at.objectKeys(t).filter(d=>o.indexOf(d)!==-1),u={...t,...e};for(const d of a){const h=hh(t[d],e[d]);if(!h.valid)return{valid:!1};u[d]=h.data}return{valid:!0,data:u}}else if(r===Se.array&&s===Se.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<t.length;a++){const u=t[a],d=e[a],h=hh(u,d);if(!h.valid)return{valid:!1};o.push(h.data)}return{valid:!0,data:o}}else return r===Se.date&&s===Se.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class za extends et{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),o=(a,u)=>{if(dh(a)||dh(u))return $e;const d=hh(a.value,u.value);return d.valid?((fh(a)||fh(u))&&r.dirty(),{status:r.value,value:d.data}):(xe(s,{code:ae.invalid_intersection_types}),$e)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,u])=>o(a,u)):o(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}za.create=(t,e,r)=>new za({left:t,right:e,typeName:Le.ZodIntersection,...Ye(r)});class Gn extends et{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Se.array)return xe(s,{code:ae.invalid_type,expected:Se.array,received:s.parsedType}),$e;if(s.data.length<this._def.items.length)return xe(s,{code:ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$e;!this._def.rest&&s.data.length>this._def.items.length&&(xe(s,{code:ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...s.data].map((u,d)=>{const h=this._def.items[d]||this._def.rest;return h?h._parse(new Kn(s,u,s.path,d)):null}).filter(u=>!!u);return s.common.async?Promise.all(a).then(u=>Nr.mergeArray(r,u)):Nr.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Gn({...this._def,rest:e})}}Gn.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gn({items:t,typeName:Le.ZodTuple,rest:null,...Ye(e)})};class $a extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Se.object)return xe(s,{code:ae.invalid_type,expected:Se.object,received:s.parsedType}),$e;const o=[],a=this._def.keyType,u=this._def.valueType;for(const d in s.data)o.push({key:a._parse(new Kn(s,d,s.path,d)),value:u._parse(new Kn(s,s.data[d],s.path,d)),alwaysSet:d in s.data});return s.common.async?Nr.mergeObjectAsync(r,o):Nr.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof et?new $a({keyType:e,valueType:r,typeName:Le.ZodRecord,...Ye(s)}):new $a({keyType:jn.create(),valueType:e,typeName:Le.ZodRecord,...Ye(r)})}}class qu extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Se.map)return xe(s,{code:ae.invalid_type,expected:Se.map,received:s.parsedType}),$e;const o=this._def.keyType,a=this._def.valueType,u=[...s.data.entries()].map(([d,h],m)=>({key:o._parse(new Kn(s,d,s.path,[m,"key"])),value:a._parse(new Kn(s,h,s.path,[m,"value"]))}));if(s.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const h of u){const m=await h.key,g=await h.value;if(m.status==="aborted"||g.status==="aborted")return $e;(m.status==="dirty"||g.status==="dirty")&&r.dirty(),d.set(m.value,g.value)}return{status:r.value,value:d}})}else{const d=new Map;for(const h of u){const m=h.key,g=h.value;if(m.status==="aborted"||g.status==="aborted")return $e;(m.status==="dirty"||g.status==="dirty")&&r.dirty(),d.set(m.value,g.value)}return{status:r.value,value:d}}}}qu.create=(t,e,r)=>new qu({valueType:e,keyType:t,typeName:Le.ZodMap,...Ye(r)});class Ti extends et{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==Se.set)return xe(s,{code:ae.invalid_type,expected:Se.set,received:s.parsedType}),$e;const o=this._def;o.minSize!==null&&s.data.size<o.minSize.value&&(xe(s,{code:ae.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&s.data.size>o.maxSize.value&&(xe(s,{code:ae.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const a=this._def.valueType;function u(h){const m=new Set;for(const g of h){if(g.status==="aborted")return $e;g.status==="dirty"&&r.dirty(),m.add(g.value)}return{status:r.value,value:m}}const d=[...s.data.values()].map((h,m)=>a._parse(new Kn(s,h,s.path,m)));return s.common.async?Promise.all(d).then(h=>u(h)):u(d)}min(e,r){return new Ti({...this._def,minSize:{value:e,message:Oe.toString(r)}})}max(e,r){return new Ti({...this._def,maxSize:{value:e,message:Oe.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ti.create=(t,e)=>new Ti({valueType:t,minSize:null,maxSize:null,typeName:Le.ZodSet,...Ye(e)});class ho extends et{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.function)return xe(r,{code:ae.invalid_type,expected:Se.function,received:r.parsedType}),$e;function s(d,h){return $u({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,zu(),yo].filter(m=>!!m),issueData:{code:ae.invalid_arguments,argumentsError:h}})}function o(d,h){return $u({data:d,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,zu(),yo].filter(m=>!!m),issueData:{code:ae.invalid_return_type,returnTypeError:h}})}const a={errorMap:r.common.contextualErrorMap},u=r.data;if(this._def.returns instanceof wo){const d=this;return Ir(async function(...h){const m=new rn([]),g=await d._def.args.parseAsync(h,a).catch(S=>{throw m.addIssue(s(h,S)),m}),y=await Reflect.apply(u,this,g);return await d._def.returns._def.type.parseAsync(y,a).catch(S=>{throw m.addIssue(o(y,S)),m})})}else{const d=this;return Ir(function(...h){const m=d._def.args.safeParse(h,a);if(!m.success)throw new rn([s(h,m.error)]);const g=Reflect.apply(u,this,m.data),y=d._def.returns.safeParse(g,a);if(!y.success)throw new rn([o(g,y.error)]);return y.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ho({...this._def,args:Gn.create(e).rest(xi.create())})}returns(e){return new ho({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new ho({args:e||Gn.create([]).rest(xi.create()),returns:r||xi.create(),typeName:Le.ZodFunction,...Ye(s)})}}class Va extends et{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Va.create=(t,e)=>new Va({getter:t,typeName:Le.ZodLazy,...Ye(e)});class Ba extends et{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return xe(r,{received:r.data,code:ae.invalid_literal,expected:this._def.value}),$e}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ba.create=(t,e)=>new Ba({value:t,typeName:Le.ZodLiteral,...Ye(e)});function Zx(t,e){return new Xs({values:t,typeName:Le.ZodEnum,...Ye(e)})}class Xs extends et{constructor(){super(...arguments),ba.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return xe(r,{expected:at.joinValues(s),received:r.parsedType,code:ae.invalid_type}),$e}if(Vu(this,ba)||Hx(this,ba,new Set(this._def.values)),!Vu(this,ba).has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return xe(r,{received:r.data,code:ae.invalid_enum_value,options:s}),$e}return Ir(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Xs.create(e,{...this._def,...r})}exclude(e,r=this._def){return Xs.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}}ba=new WeakMap;Xs.create=Zx;class Ua extends et{constructor(){super(...arguments),Sa.set(this,void 0)}_parse(e){const r=at.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==Se.string&&s.parsedType!==Se.number){const o=at.objectValues(r);return xe(s,{expected:at.joinValues(o),received:s.parsedType,code:ae.invalid_type}),$e}if(Vu(this,Sa)||Hx(this,Sa,new Set(at.getValidEnumValues(this._def.values))),!Vu(this,Sa).has(e.data)){const o=at.objectValues(r);return xe(s,{received:s.data,code:ae.invalid_enum_value,options:o}),$e}return Ir(e.data)}get enum(){return this._def.values}}Sa=new WeakMap;Ua.create=(t,e)=>new Ua({values:t,typeName:Le.ZodNativeEnum,...Ye(e)});class wo extends et{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Se.promise&&r.common.async===!1)return xe(r,{code:ae.invalid_type,expected:Se.promise,received:r.parsedType}),$e;const s=r.parsedType===Se.promise?r.data:Promise.resolve(r.data);return Ir(s.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}wo.create=(t,e)=>new wo({type:t,typeName:Le.ZodPromise,...Ye(e)});class An extends et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:u=>{xe(s,u),u.fatal?r.abort():r.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const u=o.transform(s.data,a);if(s.common.async)return Promise.resolve(u).then(async d=>{if(r.value==="aborted")return $e;const h=await this._def.schema._parseAsync({data:d,path:s.path,parent:s});return h.status==="aborted"?$e:h.status==="dirty"||r.value==="dirty"?lo(h.value):h});{if(r.value==="aborted")return $e;const d=this._def.schema._parseSync({data:u,path:s.path,parent:s});return d.status==="aborted"?$e:d.status==="dirty"||r.value==="dirty"?lo(d.value):d}}if(o.type==="refinement"){const u=d=>{const h=o.refinement(d,a);if(s.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(s.common.async===!1){const d=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return d.status==="aborted"?$e:(d.status==="dirty"&&r.dirty(),u(d.value),{status:r.value,value:d.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(d=>d.status==="aborted"?$e:(d.status==="dirty"&&r.dirty(),u(d.value).then(()=>({status:r.value,value:d.value}))))}if(o.type==="transform")if(s.common.async===!1){const u=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!ki(u))return u;const d=o.transform(u.value,a);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:d}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(u=>ki(u)?Promise.resolve(o.transform(u.value,a)).then(d=>({status:r.value,value:d})):u);at.assertNever(o)}}An.create=(t,e,r)=>new An({schema:t,typeName:Le.ZodEffects,effect:e,...Ye(r)});An.createWithPreprocess=(t,e,r)=>new An({schema:e,effect:{type:"preprocess",transform:t},typeName:Le.ZodEffects,...Ye(r)});class Hn extends et{_parse(e){return this._getType(e)===Se.undefined?Ir(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hn.create=(t,e)=>new Hn({innerType:t,typeName:Le.ZodOptional,...Ye(e)});class Js extends et{_parse(e){return this._getType(e)===Se.null?Ir(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Js.create=(t,e)=>new Js({innerType:t,typeName:Le.ZodNullable,...Ye(e)});class qa extends et{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===Se.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}qa.create=(t,e)=>new qa({innerType:t,typeName:Le.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ye(e)});class Wa extends et{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Ia(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new rn(s.common.issues)},input:s.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new rn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Wa.create=(t,e)=>new Wa({innerType:t,typeName:Le.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ye(e)});class Wu extends et{_parse(e){if(this._getType(e)!==Se.nan){const s=this._getOrReturnCtx(e);return xe(s,{code:ae.invalid_type,expected:Se.nan,received:s.parsedType}),$e}return{status:"valid",value:e.data}}}Wu.create=t=>new Wu({typeName:Le.ZodNaN,...Ye(t)});const HE=Symbol("zod_brand");class sp extends et{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class Ja extends et{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?$e:a.status==="dirty"?(r.dirty(),lo(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const o=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?$e:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:s.path,parent:s})}}static create(e,r){return new Ja({in:e,out:r,typeName:Le.ZodPipeline})}}class Ha extends et{_parse(e){const r=this._def.innerType._parse(e),s=o=>(ki(o)&&(o.value=Object.freeze(o.value)),o);return Ia(r)?r.then(o=>s(o)):s(r)}unwrap(){return this._def.innerType}}Ha.create=(t,e)=>new Ha({innerType:t,typeName:Le.ZodReadonly,...Ye(e)});function qv(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Yx(t,e={},r){return t?xo.create().superRefine((s,o)=>{var a,u;const d=t(s);if(d instanceof Promise)return d.then(h=>{var m,g;if(!h){const y=qv(e,s),x=(g=(m=y.fatal)!==null&&m!==void 0?m:r)!==null&&g!==void 0?g:!0;o.addIssue({code:"custom",...y,fatal:x})}});if(!d){const h=qv(e,s),m=(u=(a=h.fatal)!==null&&a!==void 0?a:r)!==null&&u!==void 0?u:!0;o.addIssue({code:"custom",...h,fatal:m})}}):xo.create()}const QE={object:Mt.lazycreate};var Le;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Le||(Le={}));const KE=(t,e={message:`Input not instance of ${t.name}`})=>Yx(r=>r instanceof t,e),Xx=jn.create,Jx=Zs.create,GE=Wu.create,ZE=Ys.create,ew=Aa.create,YE=Ei.create,XE=Bu.create,JE=Ma.create,eT=La.create,tT=xo.create,rT=xi.create,nT=vs.create,sT=Uu.create,iT=Rn.create,oT=Mt.create,aT=Mt.strictCreate,lT=Fa.create,uT=vc.create,cT=za.create,dT=Gn.create,fT=$a.create,hT=qu.create,pT=Ti.create,mT=ho.create,gT=Va.create,vT=Ba.create,yT=Xs.create,xT=Ua.create,wT=wo.create,Wv=An.create,bT=Hn.create,ST=Js.create,_T=An.createWithPreprocess,CT=Ja.create,kT=()=>Xx().optional(),ET=()=>Jx().optional(),TT=()=>ew().optional(),PT={string:(t=>jn.create({...t,coerce:!0})),number:(t=>Zs.create({...t,coerce:!0})),boolean:(t=>Aa.create({...t,coerce:!0})),bigint:(t=>Ys.create({...t,coerce:!0})),date:(t=>Ei.create({...t,coerce:!0}))},NT=$e;var ft=Object.freeze({__proto__:null,defaultErrorMap:yo,setErrorMap:_E,getErrorMap:zu,makeIssue:$u,EMPTY_PATH:CE,addIssueToContext:xe,ParseStatus:Nr,INVALID:$e,DIRTY:lo,OK:Ir,isAborted:dh,isDirty:fh,isValid:ki,isAsync:Ia,get util(){return at},get objectUtil(){return ch},ZodParsedType:Se,getParsedType:ds,ZodType:et,datetimeRegex:Gx,ZodString:jn,ZodNumber:Zs,ZodBigInt:Ys,ZodBoolean:Aa,ZodDate:Ei,ZodSymbol:Bu,ZodUndefined:Ma,ZodNull:La,ZodAny:xo,ZodUnknown:xi,ZodNever:vs,ZodVoid:Uu,ZodArray:Rn,ZodObject:Mt,ZodUnion:Fa,ZodDiscriminatedUnion:vc,ZodIntersection:za,ZodTuple:Gn,ZodRecord:$a,ZodMap:qu,ZodSet:Ti,ZodFunction:ho,ZodLazy:Va,ZodLiteral:Ba,ZodEnum:Xs,ZodNativeEnum:Ua,ZodPromise:wo,ZodEffects:An,ZodTransformer:An,ZodOptional:Hn,ZodNullable:Js,ZodDefault:qa,ZodCatch:Wa,ZodNaN:Wu,BRAND:HE,ZodBranded:sp,ZodPipeline:Ja,ZodReadonly:Ha,custom:Yx,Schema:et,ZodSchema:et,late:QE,get ZodFirstPartyTypeKind(){return Le},coerce:PT,any:tT,array:iT,bigint:ZE,boolean:ew,date:YE,discriminatedUnion:uT,effect:Wv,enum:yT,function:mT,instanceof:KE,intersection:cT,lazy:gT,literal:vT,map:hT,nan:GE,nativeEnum:xT,never:nT,null:eT,nullable:ST,number:Jx,object:oT,oboolean:TT,onumber:ET,optional:bT,ostring:kT,pipeline:CT,preprocess:_T,promise:wT,record:fT,set:pT,strictObject:aT,string:Xx,symbol:XE,transformer:Wv,tuple:dT,undefined:JE,union:lT,unknown:rT,void:sT,NEVER:NT,ZodIssueCode:ae,quotelessJson:SE,ZodError:rn});const se=Symbol.for("drizzle:entityKind");function wr(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,se))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(se in r&&r[se]===e[se])return!0;r=Object.getPrototypeOf(r)}return!1}class Qa{constructor(e,r){this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[se]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class OT{static[se]="ColumnBuilder";config;constructor(e,r,s){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const po=Symbol.for("drizzle:Name");class jT{static[se]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,r){this.reference=()=>{const{name:s,columns:o,foreignColumns:a}=e();return{name:s,columns:o,foreignTable:a[0].table,foreignColumns:a}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new RT(e,this)}}class RT{constructor(e,r){this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[se]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:r,foreignColumns:s}=this.reference(),o=r.map(d=>d.name),a=s.map(d=>d.name),u=[this.table[po],...o,s[0].table[po],...a];return e??`${u.join("_")}_fk`}}function DT(t,...e){return t(...e)}function IT(t,e){return`${t[po]}_${e.join("_")}_unique`}function Hv(t,e,r){for(let s=e;s<t.length;s++){const o=t[s];if(o==="\\"){s++;continue}if(o==='"')return[t.slice(e,s).replace(/\\/g,""),s+1];if(!r&&(o===","||o==="}"))return[t.slice(e,s).replace(/\\/g,""),s]}return[t.slice(e).replace(/\\/g,""),t.length]}function tw(t,e=0){const r=[];let s=e,o=!1;for(;s<t.length;){const a=t[s];if(a===","){(o||s===e)&&r.push(""),o=!0,s++;continue}if(o=!1,a==="\\"){s+=2;continue}if(a==='"'){const[h,m]=Hv(t,s+1,!0);r.push(h),s=m;continue}if(a==="}")return[r,s+1];if(a==="{"){const[h,m]=tw(t,s+1);r.push(h),s=m;continue}const[u,d]=Hv(t,s,!1);r.push(u),s=d}return[r,s]}function AT(t){const[e]=tw(t,1);return e}function rw(t){return`{${t.map(e=>Array.isArray(e)?rw(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class ct extends OT{foreignKeyConfigs=[];static[se]="PgColumnBuilder";array(e){return new LT(this.config.name,this,e)}references(e,r={}){return this.foreignKeyConfigs.push({ref:e,actions:r}),this}unique(e,r){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,r){return this.foreignKeyConfigs.map(({ref:s,actions:o})=>DT((a,u)=>{const d=new jT(()=>{const h=a();return{columns:[e],foreignColumns:[h]}});return u.onUpdate&&d.onUpdate(u.onUpdate),u.onDelete&&d.onDelete(u.onDelete),d.build(r)},s,o))}buildExtraConfigColumn(e){return new MT(e,this.config)}}class Je extends Qa{constructor(e,r){r.uniqueName||(r.uniqueName=IT(e,[r.name])),super(e,r),this.table=e}static[se]="PgColumn"}class MT extends Je{static[se]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class LT extends ct{static[se]="PgArrayBuilder";constructor(e,r,s){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=s}build(e){const r=this.config.baseBuilder.build(e);return new ip(e,this.config,r)}}class ip extends Je{constructor(e,r,s,o){super(e,r),this.baseColumn=s,this.range=o,this.size=r.size}size;static[se]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=AT(e)),e.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(e,r=!1){const s=e.map(o=>o===null?null:wr(this.baseColumn,ip)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return r?s:rw(s)}}const Qv=Symbol.for("drizzle:isPgEnum");function FT(t){return!!t&&typeof t=="function"&&Qv in t&&t[Qv]===!0}class nw{static[se]="Subquery";constructor(e,r,s,o=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:s,isWith:o}}}const zT={startActiveSpan(t,e){return e()}},mo=Symbol.for("drizzle:ViewBaseConfig"),Nf=Symbol.for("drizzle:Schema"),Kv=Symbol.for("drizzle:Columns"),Gv=Symbol.for("drizzle:ExtraConfigColumns"),Of=Symbol.for("drizzle:OriginalName"),jf=Symbol.for("drizzle:BaseName"),Hu=Symbol.for("drizzle:IsAlias"),Zv=Symbol.for("drizzle:ExtraConfigBuilder"),sw=Symbol.for("drizzle:IsDrizzleTable");let en=class{static[se]="Table";static Symbol={Name:po,Schema:Nf,OriginalName:Of,Columns:Kv,ExtraConfigColumns:Gv,BaseName:jf,IsAlias:Hu,ExtraConfigBuilder:Zv};[po];[Of];[Nf];[Kv];[Gv];[jf];[Hu]=!1;[sw]=!0;[Zv]=void 0;constructor(e,r,s){this[po]=this[Of]=e,this[Nf]=r,this[jf]=s}};function iw(t){return typeof t=="object"&&t!==null&&sw in t}function $T(t){return t!=null&&typeof t.getSQL=="function"}function VT(t){const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}class Tn{static[se]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new zt([this])}}class zt{constructor(e){this.queryChunks=e}static[se]="SQL";decoder=ow;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return zT.startActiveSpan("drizzle.buildSQL",r=>{const s=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(e,r){const s=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:o,escapeName:a,escapeParam:u,prepareTyping:d,inlineParams:h,paramStartIndex:m}=s;return VT(e.map(g=>{if(wr(g,Tn))return{sql:g.value.join(""),params:[]};if(wr(g,ph))return{sql:a(g.value),params:[]};if(g===void 0)return{sql:"",params:[]};if(Array.isArray(g)){const y=[new Tn("(")];for(const[x,S]of g.entries())y.push(S),x<g.length-1&&y.push(new Tn(", "));return y.push(new Tn(")")),this.buildQueryFromSourceParams(y,s)}if(wr(g,zt))return this.buildQueryFromSourceParams(g.queryChunks,{...s,inlineParams:h||g.shouldInlineParams});if(wr(g,en)){const y=g[en.Symbol.Schema],x=g[en.Symbol.Name];return{sql:y===void 0||g[Hu]?a(x):a(y)+"."+a(x),params:[]}}if(wr(g,Qa)){const y=o.getColumnCasing(g);if(r.invokeSource==="indexes")return{sql:a(y),params:[]};const x=g.table[en.Symbol.Schema];return{sql:g.table[Hu]||x===void 0?a(g.table[en.Symbol.Name])+"."+a(y):a(x)+"."+a(g.table[en.Symbol.Name])+"."+a(y),params:[]}}if(wr(g,BT)){const y=g[mo].schema,x=g[mo].name;return{sql:y===void 0||g[mo].isAlias?a(x):a(y)+"."+a(x),params:[]}}if(wr(g,lw)){if(wr(g.value,mh))return{sql:u(m.value++,g),params:[g],typings:["none"]};const y=g.value===null?null:g.encoder.mapToDriverValue(g.value);if(wr(y,zt))return this.buildQueryFromSourceParams([y],s);if(h)return{sql:this.mapInlineParam(y,s),params:[]};let x=["none"];return d&&(x=[d(g.encoder)]),{sql:u(m.value++,y),params:[y],typings:x}}return wr(g,mh)?{sql:u(m.value++,g),params:[g],typings:["none"]}:wr(g,zt.Aliased)&&g.fieldAlias!==void 0?{sql:a(g.fieldAlias),params:[]}:wr(g,nw)?g._.isWith?{sql:a(g._.alias),params:[]}:this.buildQueryFromSourceParams([new Tn("("),g._.sql,new Tn(") "),new ph(g._.alias)],s):FT(g)?g.schema?{sql:a(g.schema)+"."+a(g.enumName),params:[]}:{sql:a(g.enumName),params:[]}:$T(g)?g.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([g.getSQL()],s):this.buildQueryFromSourceParams([new Tn("("),g.getSQL(),new Tn(")")],s):h?{sql:this.mapInlineParam(g,s),params:[]}:{sql:u(m.value++,g),params:[g],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const s=e.toString();return r(s==="[object Object]"?JSON.stringify(e):s)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new zt.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class ph{constructor(e){this.value=e}static[se]="Name";brand;getSQL(){return new zt([this])}}const ow={mapFromDriverValue:t=>t},aw={mapToDriverValue:t=>t};({...ow,...aw});class lw{constructor(e,r=aw){this.value=e,this.encoder=r}static[se]="Param";brand;getSQL(){return new zt([this])}}function Qu(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new Tn(t[0]));for(const[s,o]of e.entries())r.push(o,new Tn(t[s+1]));return new zt(r)}(t=>{function e(){return new zt([])}t.empty=e;function r(h){return new zt(h)}t.fromList=r;function s(h){return new zt([new Tn(h)])}t.raw=s;function o(h,m){const g=[];for(const[y,x]of h.entries())y>0&&m!==void 0&&g.push(m),g.push(x);return new zt(g)}t.join=o;function a(h){return new ph(h)}t.identifier=a;function u(h){return new mh(h)}t.placeholder=u;function d(h,m){return new lw(h,m)}t.param=d})(Qu||(Qu={}));(t=>{class e{constructor(s,o){this.sql=s,this.fieldAlias=o}static[se]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(zt||(zt={}));class mh{constructor(e){this.name=e}static[se]="Placeholder";getSQL(){return new zt([this])}}const uw=Symbol.for("drizzle:IsDrizzleView");class BT{static[se]="View";[mo];[uw]=!0;constructor({name:e,schema:r,selectedFields:s,query:o}){this[mo]={name:e,originalName:e,schema:r,selectedFields:s,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new zt([this])}}function UT(t){return typeof t=="object"&&t!==null&&uw in t}Qa.prototype.getSQL=function(){return new zt([this])};en.prototype.getSQL=function(){return new zt([this])};nw.prototype.getSQL=function(){return new zt([this])};function qT(t){return t[en.Symbol.Columns]}function WT(t){return t[mo].selectedFields}function fr(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class yc extends ct{static[se]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:r,...s}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...s}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class HT extends yc{static[se]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new QT(e,this.config)}}class QT extends Je{static[se]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class KT extends yc{static[se]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new GT(e,this.config)}}class GT extends Je{static[se]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function ZT(t,e){const{name:r,config:s}=fr(t,e);return s.mode==="number"?new HT(r):new KT(r)}class YT extends ct{static[se]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new XT(e,this.config)}}class XT extends Je{static[se]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class JT extends ct{static[se]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new eP(e,this.config)}}class eP extends Je{static[se]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function tP(t,e){const{name:r,config:s}=fr(t,e);return s.mode==="number"?new YT(r):new JT(r)}class rP extends ct{static[se]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new nP(e,this.config)}}class nP extends Je{static[se]="PgBoolean";getSQLType(){return"boolean"}}function cw(t){return new rP(t??"")}class sP extends ct{static[se]="PgCharBuilder";constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new iP(e,this.config)}}class iP extends Je{static[se]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function oP(t,e={}){const{name:r,config:s}=fr(t,e);return new sP(r,s)}class aP extends ct{static[se]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new lP(e,this.config)}}class lP extends Je{static[se]="PgCidr";getSQLType(){return"cidr"}}function uP(t){return new aP(t??"")}class cP extends ct{static[se]="PgCustomColumnBuilder";constructor(e,r,s){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=s}build(e){return new dP(e,this.config)}}class dP extends Je{static[se]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,r){super(e,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function fP(t){return(e,r)=>{const{name:s,config:o}=fr(e,r);return new cP(s,o,t)}}class el extends ct{static[se]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Qu`now()`)}}class hP extends el{static[se]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new pP(e,this.config)}}class pP extends Je{static[se]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class mP extends el{static[se]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new gP(e,this.config)}}class gP extends Je{static[se]="PgDateString";getSQLType(){return"date"}}function vP(t,e){const{name:r,config:s}=fr(t,e);return s?.mode==="date"?new hP(r):new mP(r)}class yP extends ct{static[se]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new xP(e,this.config)}}class xP extends Je{static[se]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function wP(t){return new yP(t??"")}class bP extends ct{static[se]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new SP(e,this.config)}}class SP extends Je{static[se]="PgInet";getSQLType(){return"inet"}}function _P(t){return new bP(t??"")}class CP extends yc{static[se]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new kP(e,this.config)}}class kP extends Je{static[se]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function fs(t){return new CP(t??"")}class EP extends ct{static[se]="PgIntervalBuilder";constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new TP(e,this.config)}}class TP extends Je{static[se]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${e}${r}`}}function PP(t,e={}){const{name:r,config:s}=fr(t,e);return new EP(r,s)}class NP extends ct{static[se]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new OP(e,this.config)}}class OP extends Je{static[se]="PgJson";constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function jP(t){return new NP(t??"")}class RP extends ct{static[se]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new DP(e,this.config)}}class DP extends Je{static[se]="PgJsonb";constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function IP(t){return new RP(t??"")}class AP extends ct{static[se]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new MP(e,this.config)}}class MP extends Je{static[se]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[r,s,o]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s),Number.parseFloat(o)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class LP extends ct{static[se]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new FP(e,this.config)}}class FP extends Je{static[se]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[r,s,o]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(s),c:Number.parseFloat(o)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function zP(t,e){const{name:r,config:s}=fr(t,e);return!s?.mode||s.mode==="tuple"?new AP(r):new LP(r)}class $P extends ct{static[se]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new VP(e,this.config)}}class VP extends Je{static[se]="PgMacaddr";getSQLType(){return"macaddr"}}function BP(t){return new $P(t??"")}class UP extends ct{static[se]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new qP(e,this.config)}}class qP extends Je{static[se]="PgMacaddr8";getSQLType(){return"macaddr8"}}function WP(t){return new UP(t??"")}class HP extends ct{static[se]="PgNumericBuilder";constructor(e,r,s){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=s}build(e){return new QP(e,this.config)}}class QP extends Je{static[se]="PgNumeric";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function KP(t,e){const{name:r,config:s}=fr(t,e);return new HP(r,s?.precision,s?.scale)}class GP extends ct{static[se]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new ZP(e,this.config)}}class ZP extends Je{static[se]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,s]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(s)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class YP extends ct{static[se]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new XP(e,this.config)}}class XP extends Je{static[se]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,s]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(s)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function JP(t,e){const{name:r,config:s}=fr(t,e);return!s?.mode||s.mode==="tuple"?new GP(r):new YP(r)}function eN(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function Yv(t,e){const r=new ArrayBuffer(8),s=new DataView(r);for(let o=0;o<8;o++)s.setUint8(o,t[e+o]);return s.getFloat64(0,!0)}function dw(t){const e=eN(t);let r=0;const s=e[r];r+=1;const o=new DataView(e.buffer),a=o.getUint32(r,s===1);if(r+=4,a&536870912&&(o.getUint32(r,s===1),r+=4),(a&65535)===1){const u=Yv(e,r);r+=8;const d=Yv(e,r);return r+=8,[u,d]}throw new Error("Unsupported geometry type")}class tN extends ct{static[se]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new rN(e,this.config)}}class rN extends Je{static[se]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return dw(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class nN extends ct{static[se]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new sN(e,this.config)}}class sN extends Je{static[se]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=dw(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function iN(t,e){const{name:r,config:s}=fr(t,e);return!s?.mode||s.mode==="tuple"?new tN(r):new nN(r)}class oN extends ct{static[se]="PgRealBuilder";constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new aN(e,this.config)}}class aN extends Je{static[se]="PgReal";constructor(e,r){super(e,r)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function lN(t){return new oN(t??"")}class uN extends ct{static[se]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new cN(e,this.config)}}class cN extends Je{static[se]="PgSerial";getSQLType(){return"serial"}}function xc(t){return new uN(t??"")}class dN extends yc{static[se]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new fN(e,this.config)}}class fN extends Je{static[se]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function hN(t){return new dN(t??"")}class pN extends ct{static[se]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new mN(e,this.config)}}class mN extends Je{static[se]="PgSmallSerial";getSQLType(){return"smallserial"}}function gN(t){return new pN(t??"")}class vN extends ct{static[se]="PgTextBuilder";constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new yN(e,this.config)}}class yN extends Je{static[se]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function wi(t,e={}){const{name:r,config:s}=fr(t,e);return new vN(r,s)}class xN extends el{constructor(e,r,s){super(e,"string","PgTime"),this.withTimezone=r,this.precision=s,this.config.withTimezone=r,this.config.precision=s}static[se]="PgTimeBuilder";build(e){return new wN(e,this.config)}}class wN extends Je{static[se]="PgTime";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function bN(t,e={}){const{name:r,config:s}=fr(t,e);return new xN(r,s.withTimezone??!1,s.precision)}class SN extends el{static[se]="PgTimestampBuilder";constructor(e,r,s){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=s}build(e){return new _N(e,this.config)}}class _N extends Je{static[se]="PgTimestamp";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class CN extends el{static[se]="PgTimestampStringBuilder";constructor(e,r,s){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=s}build(e){return new kN(e,this.config)}}class kN extends Je{static[se]="PgTimestampString";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function Ku(t,e={}){const{name:r,config:s}=fr(t,e);return s?.mode==="string"?new CN(r,s.withTimezone??!1,s.precision):new SN(r,s?.withTimezone??!1,s?.precision)}class EN extends ct{static[se]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Qu`gen_random_uuid()`)}build(e){return new TN(e,this.config)}}class TN extends Je{static[se]="PgUUID";getSQLType(){return"uuid"}}function PN(t){return new EN(t??"")}class NN extends ct{static[se]="PgVarcharBuilder";constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new ON(e,this.config)}}class ON extends Je{static[se]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function jN(t,e={}){const{name:r,config:s}=fr(t,e);return new NN(r,s)}class RN extends ct{static[se]="PgBinaryVectorBuilder";constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new DN(e,this.config)}}class DN extends Je{static[se]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function IN(t,e){const{name:r,config:s}=fr(t,e);return new RN(r,s)}class AN extends ct{static[se]="PgHalfVectorBuilder";constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new MN(e,this.config)}}class MN extends Je{static[se]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function LN(t,e){const{name:r,config:s}=fr(t,e);return new AN(r,s)}class FN extends ct{static[se]="PgSparseVectorBuilder";constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new zN(e,this.config)}}class zN extends Je{static[se]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function $N(t,e){const{name:r,config:s}=fr(t,e);return new FN(r,s)}class VN extends ct{static[se]="PgVectorBuilder";constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new BN(e,this.config)}}class BN extends Je{static[se]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function UN(t,e){const{name:r,config:s}=fr(t,e);return new VN(r,s)}function qN(){return{bigint:ZT,bigserial:tP,boolean:cw,char:oP,cidr:uP,customType:fP,date:vP,doublePrecision:wP,inet:_P,integer:fs,interval:PP,json:jP,jsonb:IP,line:zP,macaddr:BP,macaddr8:WP,numeric:KP,point:JP,geometry:iN,real:lN,serial:xc,smallint:hN,smallserial:gN,text:wi,time:bN,timestamp:Ku,uuid:PN,varchar:jN,bit:IN,halfvec:LN,sparsevec:$N,vector:UN}}const gh=Symbol.for("drizzle:PgInlineForeignKeys"),Xv=Symbol.for("drizzle:EnableRLS");class Jv extends en{static[se]="PgTable";static Symbol=Object.assign({},en.Symbol,{InlineForeignKeys:gh,EnableRLS:Xv});[gh]=[];[Xv]=!1;[en.Symbol.ExtraConfigBuilder]=void 0}function WN(t,e,r,s,o=t){const a=new Jv(t,s,o),u=typeof e=="function"?e(qN()):e,d=Object.fromEntries(Object.entries(u).map(([g,y])=>{const x=y;x.setName(g);const S=x.build(a);return a[gh].push(...x.buildForeignKeys(S,a)),[g,S]})),h=Object.fromEntries(Object.entries(u).map(([g,y])=>{const x=y;x.setName(g);const S=x.buildExtraConfigColumn(a);return[g,S]})),m=Object.assign(a,d);return m[en.Symbol.Columns]=d,m[en.Symbol.ExtraConfigColumns]=h,Object.assign(m,{enableRLS:()=>(m[Jv.Symbol.EnableRLS]=!0,m)})}const op=(t,e,r)=>WN(t,e,r,void 0),At={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Ut(t,e){return e.includes(t.columnType)}function HN(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const QN=ft.union([ft.string(),ft.number(),ft.boolean(),ft.null()]),KN=ft.union([QN,ft.record(ft.any()),ft.array(ft.any())]),GN=ft.custom(t=>t instanceof Buffer);function fw(t,e){const r=e?.zodInstance??ft,s=e?.coerce??{};let o;return HN(t)&&(o=t.enumValues.length?r.enum(t.enumValues):r.string()),o||(Ut(t,["PgGeometry","PgPointTuple"])?o=r.tuple([r.number(),r.number()]):Ut(t,["PgGeometryObject","PgPointObject"])?o=r.object({x:r.number(),y:r.number()}):Ut(t,["PgHalfVector","PgVector"])?(o=r.array(r.number()),o=t.dimensions?o.length(t.dimensions):o):Ut(t,["PgLine"])?o=r.tuple([r.number(),r.number(),r.number()]):Ut(t,["PgLineABC"])?o=r.object({a:r.number(),b:r.number(),c:r.number()}):Ut(t,["PgArray"])?(o=r.array(fw(t.baseColumn,r)),o=t.size?o.length(t.size):o):t.dataType==="array"?o=r.array(r.any()):t.dataType==="number"?o=ZN(t,r,s):t.dataType==="bigint"?o=YN(t,r,s):t.dataType==="boolean"?o=s===!0||s.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?o=s===!0||s.date?r.coerce.date():r.date():t.dataType==="string"?o=XN(t,r,s):t.dataType==="json"?o=KN:t.dataType==="custom"?o=r.any():t.dataType==="buffer"&&(o=GN)),o||(o=r.any()),o}function ZN(t,e,r){let s=t.getSQLType().includes("unsigned"),o,a,u=!1;Ut(t,["MySqlTinyInt","SingleStoreTinyInt"])?(o=s?0:At.INT8_MIN,a=s?At.INT8_UNSIGNED_MAX:At.INT8_MAX,u=!0):Ut(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=s?0:At.INT16_MIN,a=s?At.INT16_UNSIGNED_MAX:At.INT16_MAX,u=!0):Ut(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=s?0:At.INT24_MIN,a=s?At.INT24_UNSIGNED_MAX:At.INT24_MAX,u=Ut(t,["MySqlMediumInt","SingleStoreMediumInt"])):Ut(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=s?0:At.INT32_MIN,a=s?At.INT32_UNSIGNED_MAX:At.INT32_MAX,u=!0):Ut(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=s?0:At.INT48_MIN,a=s?At.INT48_UNSIGNED_MAX:At.INT48_MAX):Ut(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||Ut(t,["MySqlSerial","SingleStoreSerial"]),o=s?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,u=!0):Ut(t,["MySqlYear","SingleStoreYear"])?(o=1901,a=2155,u=!0):(o=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let d=r===!0||r?.number?e.coerce.number():e.number();return d=d.min(o).max(a),u?d.int():d}function YN(t,e,r){const s=t.getSQLType().includes("unsigned"),o=s?0n:At.INT64_MIN,a=s?At.INT64_UNSIGNED_MAX:At.INT64_MAX;return(r===!0||r?.bigint?e.coerce.bigint():e.bigint()).min(o).max(a)}function XN(t,e,r){if(Ut(t,["PgUUID"]))return e.string().uuid();let s,o,a=!1;Ut(t,["PgVarchar","SQLiteText"])?s=t.length:Ut(t,["MySqlVarChar","SingleStoreVarChar"])?s=t.length??At.INT16_UNSIGNED_MAX:Ut(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?s=At.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?s=At.INT24_UNSIGNED_MAX:t.textType==="text"?s=At.INT16_UNSIGNED_MAX:s=At.INT8_UNSIGNED_MAX),Ut(t,["PgChar","MySqlChar","SingleStoreChar"])&&(s=t.length,a=!0),Ut(t,["PgBinaryVector"])&&(o=/^[01]+$/,s=t.dimensions);let u=r===!0||r?.string?e.coerce.string():e.string();return u=o?u.regex(o):u,s&&a?u.length(s):s?u.max(s):u}function hw(t){return iw(t)?qT(t):WT(t)}function pw(t,e,r,s){const o={};for(const[a,u]of Object.entries(t)){if(!wr(u,Qa)&&!wr(u,zt)&&!wr(u,zt.Aliased)&&typeof u=="object"){const y=iw(u)||UT(u)?hw(u):u;o[a]=pw(y,e[a]??{},r,s);continue}const d=e[a];if(d!==void 0&&typeof d!="function"){o[a]=d;continue}const h=wr(u,Qa)?u:void 0,m=h?fw(h,s):ft.any(),g=typeof d=="function"?d(m):m;r.never(h)||(o[a]=g,h&&(r.nullable(h)&&(o[a]=o[a].nullable()),r.optional(h)&&(o[a]=o[a].optional())))}return ft.object(o)}const JN={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},eO=(t,e)=>{const r=hw(t);return pw(r,{},JN)},tO=op("users",{id:xc("id").primaryKey(),username:wi("username").notNull().unique(),password:wi("password").notNull(),email:wi("email").unique(),rating:fs("rating").default(0),gamesPlayed:fs("games_played").default(0),wins:fs("wins").default(0),losses:fs("losses").default(0),draws:fs("draws").default(0)});op("games",{id:xc("id").primaryKey(),whitePlayerId:fs("white_player_id"),blackPlayerId:fs("black_player_id"),pgn:wi("pgn"),result:wi("result"),createdAt:Ku("created_at").defaultNow()});op("password_resets",{id:xc("id").primaryKey(),userId:fs("user_id").notNull(),code:wi("code").notNull(),expiresAt:Ku("expires_at").notNull(),used:cw("used").default(!1).notNull(),createdAt:Ku("created_at").defaultNow()});const vh=eO(tO).pick({username:!0,password:!0});ft.object({message:ft.string(),field:ft.string().optional()}),ft.object({message:ft.string()}),ft.object({message:ft.string()});const En={users:{login:{method:"POST",path:"/api/login",input:vh,responses:{200:ft.custom(),401:ft.object({message:ft.string()})}},register:{method:"POST",path:"/api/register",input:vh,responses:{201:ft.custom(),400:ft.object({message:ft.string()})}},me:{method:"GET",path:"/api/user",responses:{200:ft.custom(),401:ft.object({message:ft.string()})}}},games:{list:{method:"GET",path:"/api/games",responses:{200:ft.array(ft.custom())}}}},ap="auth_token";function ey(){try{return localStorage.getItem(ap)}catch{return null}}function ty(t){try{localStorage.setItem(ap,t)}catch{}}function rO(){try{localStorage.removeItem(ap)}catch{}}function Di(){const t=ic(),{toast:e}=Ri(),[,r]=ji(),{data:s,isLoading:o,error:a}=Du({queryKey:[En.users.me.path],queryFn:async()=>{const m=ey(),g=await fetch(Pr+En.users.me.path,{headers:m?{Authorization:`Bearer ${m}`}:{}});if(g.status===401)return null;if(!g.ok)throw new Error("Khng th ly thng tin ngi dng");return En.users.me.responses[200].parse(await g.json())},retry:!1}),u=bf({mutationFn:async m=>{const g=await fetch(Pr+En.users.login.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!g.ok){if(g.status===401)throw new Error("Sai tn ng nhp hoc mt khu");const y=await g.json();throw new Error(y.message||"ng nhp tht bi")}return En.users.login.responses[200].parse(await g.json())},onSuccess:m=>{const g=m?.token;typeof g=="string"&&g&&ty(g),t.setQueryData([En.users.me.path],m),e({title:"Cho mng quay li!",description:`ng nhp vi ti khon ${m.username}`,variant:"default"}),r("/")},onError:m=>{e({title:"ng nhp tht bi",description:m.message,variant:"destructive"})}}),d=bf({mutationFn:async m=>{const g=await fetch(Pr+En.users.register.path,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!g.ok){const y=await g.json();throw new Error(y.message||"ng k tht bi")}return En.users.register.responses[201].parse(await g.json())},onSuccess:m=>{const g=m?.token;typeof g=="string"&&g&&ty(g),t.setQueryData([En.users.me.path],m),e({title:"To ti khon thnh cng!",description:`Cho mng n vi ChessPro, ${m.username}!`,variant:"default"}),r("/")},onError:m=>{e({title:"ng k tht bi",description:m.message,variant:"destructive"})}}),h=bf({mutationFn:async()=>{const m=ey();if(!(await fetch(Pr+"/api/logout",{method:"POST",headers:m?{Authorization:`Bearer ${m}`}:{}})).ok)throw new Error("ng xut tht bi");rO(),t.setQueryData([En.users.me.path],null)},onSuccess:()=>{r("/auth"),e({title:" ng xut",description:"Bn cn ng nhp li  tip tc chi."})},onError:m=>{e({title:"ng xut tht bi",description:m.message,variant:"destructive"})}});return{user:s,isLoading:o,error:a,login:u.mutate,isLoggingIn:u.isPending,register:d.mutate,isRegistering:d.isPending,logout:h.mutate}}const Bn=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:nt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Bn.displayName="Card";const hs=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:nt("flex flex-col space-y-1.5 p-6",t),...e}));hs.displayName="CardHeader";const ps=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:nt("text-2xl font-semibold leading-none tracking-tight",t),...e}));ps.displayName="CardTitle";const mw=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:nt("text-sm text-muted-foreground",t),...e}));mw.displayName="CardDescription";const Un=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:nt("p-6 pt-0",t),...e}));Un.displayName="CardContent";const nO=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:nt("flex items-center p-6 pt-0",t),...e}));nO.displayName="CardFooter";function sO(){return f.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:f.jsx(Bn,{className:"w-full max-w-md mx-4",children:f.jsxs(Un,{className:"pt-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx(Z_,{className:"h-8 w-8 text-red-500"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),f.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const iO=Qh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ut=w.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...o},a)=>{const u=s?E0:"button";return f.jsx(u,{className:nt(iO({variant:e,size:r,className:t})),ref:a,...o})});ut.displayName="Button";const Vn=w.forwardRef(({className:t,type:e,...r},s)=>f.jsx("input",{type:e,className:nt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...r}));Vn.displayName="Input";var tl=t=>t.type==="checkbox",yi=t=>t instanceof Date,Dr=t=>t==null;const gw=t=>typeof t=="object";var Wt=t=>!Dr(t)&&!Array.isArray(t)&&gw(t)&&!yi(t),vw=t=>Wt(t)&&t.target?tl(t.target)?t.target.checked:t.target.value:t,oO=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,yw=(t,e)=>t.has(oO(e)),aO=t=>{const e=t.constructor&&t.constructor.prototype;return Wt(e)&&e.hasOwnProperty("isPrototypeOf")},lp=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xr(t){let e;const r=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(lp&&(t instanceof Blob||s))&&(r||Wt(t)))if(e=r?[]:{},!r&&!aO(t))e=t;else for(const o in t)t.hasOwnProperty(o)&&(e[o]=xr(t[o]));else return t;return e}var wc=t=>Array.isArray(t)?t.filter(Boolean):[],qt=t=>t===void 0,ye=(t,e,r)=>{if(!e||!Wt(t))return r;const s=wc(e.split(/[,[\].]+?/)).reduce((o,a)=>Dr(o)?o:o[a],t);return qt(s)||s===t?qt(t[e])?r:t[e]:s},Xr=t=>typeof t=="boolean",up=t=>/^\w*$/.test(t),xw=t=>wc(t.replace(/["|']|\]/g,"").split(/\.|\[/)),pt=(t,e,r)=>{let s=-1;const o=up(e)?[e]:xw(e),a=o.length,u=a-1;for(;++s<a;){const d=o[s];let h=r;if(s!==u){const m=t[d];h=Wt(m)||Array.isArray(m)?m:isNaN(+o[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=h,t=t[d]}};const Gu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Nn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},us={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ww=Ze.createContext(null),bc=()=>Ze.useContext(ww),lO=t=>{const{children:e,...r}=t;return Ze.createElement(ww.Provider,{value:r},e)};var bw=(t,e,r,s=!0)=>{const o={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(o,a,{get:()=>{const u=a;return e._proxyFormState[u]!==Nn.all&&(e._proxyFormState[u]=!s||Nn.all),r&&(r[u]=!0),t[u]}});return o};function uO(t){const e=bc(),{control:r=e.control,disabled:s,name:o,exact:a}=t||{},[u,d]=Ze.useState(r._formState),h=Ze.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),m=Ze.useRef(o);return m.current=o,Ze.useEffect(()=>r._subscribe({name:m.current,formState:h.current,exact:a,callback:g=>{!s&&d({...r._formState,...g})}}),[r,s,a]),Ze.useEffect(()=>{h.current.isValid&&r._setValid(!0)},[r]),Ze.useMemo(()=>bw(u,r,h.current,!1),[u,r])}var qn=t=>typeof t=="string",Sw=(t,e,r,s,o)=>qn(t)?(s&&e.watch.add(t),ye(r,t,o)):Array.isArray(t)?t.map(a=>(s&&e.watch.add(a),ye(r,a))):(s&&(e.watchAll=!0),r);function cO(t){const e=bc(),{control:r=e.control,name:s,defaultValue:o,disabled:a,exact:u}=t||{},d=Ze.useRef(s),h=Ze.useRef(o);d.current=s,Ze.useEffect(()=>r._subscribe({name:d.current,formState:{values:!0},exact:u,callback:y=>!a&&g(Sw(d.current,r._names,y.values||r._formValues,!1,h.current))}),[r,a,u]);const[m,g]=Ze.useState(r._getWatch(s,o));return Ze.useEffect(()=>r._removeUnmounted()),m}function dO(t){const e=bc(),{name:r,disabled:s,control:o=e.control,shouldUnregister:a}=t,u=yw(o._names.array,r),d=cO({control:o,name:r,defaultValue:ye(o._formValues,r,ye(o._defaultValues,r,t.defaultValue)),exact:!0}),h=uO({control:o,name:r,exact:!0}),m=Ze.useRef(t),g=Ze.useRef(o.register(r,{...t.rules,value:d,...Xr(t.disabled)?{disabled:t.disabled}:{}})),y=Ze.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ye(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!ye(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ye(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ye(h.validatingFields,r)},error:{enumerable:!0,get:()=>ye(h.errors,r)}}),[h,r]),x=Ze.useCallback(C=>g.current.onChange({target:{value:vw(C),name:r},type:Gu.CHANGE}),[r]),S=Ze.useCallback(()=>g.current.onBlur({target:{value:ye(o._formValues,r),name:r},type:Gu.BLUR}),[r,o._formValues]),k=Ze.useCallback(C=>{const P=ye(o._fields,r);P&&C&&(P._f.ref={focus:()=>C.focus(),select:()=>C.select(),setCustomValidity:T=>C.setCustomValidity(T),reportValidity:()=>C.reportValidity()})},[o._fields,r]),_=Ze.useMemo(()=>({name:r,value:d,...Xr(s)||h.disabled?{disabled:h.disabled||s}:{},onChange:x,onBlur:S,ref:k}),[r,s,h.disabled,x,S,k,d]);return Ze.useEffect(()=>{const C=o._options.shouldUnregister||a;o.register(r,{...m.current.rules,...Xr(m.current.disabled)?{disabled:m.current.disabled}:{}});const P=(T,D)=>{const M=ye(o._fields,T);M&&M._f&&(M._f.mount=D)};if(P(r,!0),C){const T=xr(ye(o._options.defaultValues,r));pt(o._defaultValues,r,T),qt(ye(o._formValues,r))&&pt(o._formValues,r,T)}return!u&&o.register(r),()=>{(u?C&&!o._state.action:C)?o.unregister(r):P(r,!1)}},[r,o,u,a]),Ze.useEffect(()=>{o._setDisabledField({disabled:s,name:r})},[s,r,o]),Ze.useMemo(()=>({field:_,formState:h,fieldState:y}),[_,h,y])}const fO=t=>t.render(dO(t));var _w=(t,e,r,s,o)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:o||!0}}:{},Ta=t=>Array.isArray(t)?t:[t],ry=()=>{let t=[];return{get observers(){return t},next:o=>{for(const a of t)a.next&&a.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(a=>a!==o)}}),unsubscribe:()=>{t=[]}}},yh=t=>Dr(t)||!gw(t);function Ws(t,e){if(yh(t)||yh(e))return t===e;if(yi(t)&&yi(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const o of r){const a=t[o];if(!s.includes(o))return!1;if(o!=="ref"){const u=e[o];if(yi(a)&&yi(u)||Wt(a)&&Wt(u)||Array.isArray(a)&&Array.isArray(u)?!Ws(a,u):a!==u)return!1}}return!0}var Rr=t=>Wt(t)&&!Object.keys(t).length,cp=t=>t.type==="file",On=t=>typeof t=="function",Zu=t=>{if(!lp)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Cw=t=>t.type==="select-multiple",dp=t=>t.type==="radio",hO=t=>dp(t)||tl(t),Rf=t=>Zu(t)&&t.isConnected;function pO(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=qt(t)?s++:t[e[s++]];return t}function mO(t){for(const e in t)if(t.hasOwnProperty(e)&&!qt(t[e]))return!1;return!0}function Xt(t,e){const r=Array.isArray(e)?e:up(e)?[e]:xw(e),s=r.length===1?t:pO(t,r),o=r.length-1,a=r[o];return s&&delete s[a],o!==0&&(Wt(s)&&Rr(s)||Array.isArray(s)&&mO(s))&&Xt(t,r.slice(0,-1)),t}var kw=t=>{for(const e in t)if(On(t[e]))return!0;return!1};function Yu(t,e={}){const r=Array.isArray(t);if(Wt(t)||r)for(const s in t)Array.isArray(t[s])||Wt(t[s])&&!kw(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Yu(t[s],e[s])):Dr(t[s])||(e[s]=!0);return e}function Ew(t,e,r){const s=Array.isArray(t);if(Wt(t)||s)for(const o in t)Array.isArray(t[o])||Wt(t[o])&&!kw(t[o])?qt(e)||yh(r[o])?r[o]=Array.isArray(t[o])?Yu(t[o],[]):{...Yu(t[o])}:Ew(t[o],Dr(e)?{}:e[o],r[o]):r[o]=!Ws(t[o],e[o]);return r}var fa=(t,e)=>Ew(t,e,Yu(e));const ny={value:!1,isValid:!1},sy={value:!0,isValid:!0};var Tw=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!qt(t[0].attributes.value)?qt(t[0].value)||t[0].value===""?sy:{value:t[0].value,isValid:!0}:sy:ny}return ny},Pw=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>qt(t)?t:e?t===""?NaN:t&&+t:r&&qn(t)?new Date(t):s?s(t):t;const iy={isValid:!1,value:null};var Nw=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,iy):iy;function oy(t){const e=t.ref;return cp(e)?e.files:dp(e)?Nw(t.refs).value:Cw(e)?[...e.selectedOptions].map(({value:r})=>r):tl(e)?Tw(t.refs).value:Pw(qt(e.value)?t.ref.value:e.value,t)}var gO=(t,e,r,s)=>{const o={};for(const a of t){const u=ye(e,a);u&&pt(o,a,u._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:s}},Xu=t=>t instanceof RegExp,ha=t=>qt(t)?t:Xu(t)?t.source:Wt(t)?Xu(t.value)?t.value.source:t.value:t,ay=t=>({isOnSubmit:!t||t===Nn.onSubmit,isOnBlur:t===Nn.onBlur,isOnChange:t===Nn.onChange,isOnAll:t===Nn.all,isOnTouch:t===Nn.onTouched});const ly="AsyncFunction";var vO=t=>!!t&&!!t.validate&&!!(On(t.validate)&&t.validate.constructor.name===ly||Wt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ly)),yO=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),uy=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Pa=(t,e,r,s)=>{for(const o of r||Object.keys(t)){const a=ye(t,o);if(a){const{_f:u,...d}=a;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],o)&&!s)return!0;if(u.ref&&e(u.ref,u.name)&&!s)return!0;if(Pa(d,e))break}else if(Wt(d)&&Pa(d,e))break}}};function cy(t,e,r){const s=ye(t,r);if(s||up(r))return{error:s,name:r};const o=r.split(".");for(;o.length;){const a=o.join("."),u=ye(e,a),d=ye(t,a);if(u&&!Array.isArray(u)&&r!==a)return{name:r};if(d&&d.type)return{name:a,error:d};o.pop()}return{name:r}}var xO=(t,e,r,s)=>{r(t);const{name:o,...a}=t;return Rr(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(u=>e[u]===(!s||Nn.all))},wO=(t,e,r)=>!t||!e||t===e||Ta(t).some(s=>s&&(r?s===e:s.startsWith(e)||e.startsWith(s))),bO=(t,e,r,s,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||t):(r?s.isOnBlur:o.isOnBlur)?!t:(r?s.isOnChange:o.isOnChange)?t:!0,SO=(t,e)=>!wc(ye(t,e)).length&&Xt(t,e),_O=(t,e,r)=>{const s=Ta(ye(t,r));return pt(s,"root",e[r]),pt(t,r,s),t},Tu=t=>qn(t);function dy(t,e,r="validate"){if(Tu(t)||Array.isArray(t)&&t.every(Tu)||Xr(t)&&!t)return{type:r,message:Tu(t)?t:"",ref:e}}var so=t=>Wt(t)&&!Xu(t)?t:{value:t,message:""},fy=async(t,e,r,s,o,a)=>{const{ref:u,refs:d,required:h,maxLength:m,minLength:g,min:y,max:x,pattern:S,validate:k,name:_,valueAsNumber:C,mount:P}=t._f,T=ye(r,_);if(!P||e.has(_))return{};const D=d?d[0]:u,M=Z=>{o&&D.reportValidity&&(D.setCustomValidity(Xr(Z)?"":Z||""),D.reportValidity())},V={},G=dp(u),B=tl(u),J=G||B,H=(C||cp(u))&&qt(u.value)&&qt(T)||Zu(u)&&u.value===""||T===""||Array.isArray(T)&&!T.length,U=_w.bind(null,_,s,V),te=(Z,re,Y,_e=us.maxLength,ce=us.minLength)=>{const we=Z?re:Y;V[_]={type:Z?_e:ce,message:we,ref:u,...U(Z?_e:ce,we)}};if(a?!Array.isArray(T)||!T.length:h&&(!J&&(H||Dr(T))||Xr(T)&&!T||B&&!Tw(d).isValid||G&&!Nw(d).isValid)){const{value:Z,message:re}=Tu(h)?{value:!!h,message:h}:so(h);if(Z&&(V[_]={type:us.required,message:re,ref:D,...U(us.required,re)},!s))return M(re),V}if(!H&&(!Dr(y)||!Dr(x))){let Z,re;const Y=so(x),_e=so(y);if(!Dr(T)&&!isNaN(T)){const ce=u.valueAsNumber||T&&+T;Dr(Y.value)||(Z=ce>Y.value),Dr(_e.value)||(re=ce<_e.value)}else{const ce=u.valueAsDate||new Date(T),we=ue=>new Date(new Date().toDateString()+" "+ue),Q=u.type=="time",le=u.type=="week";qn(Y.value)&&T&&(Z=Q?we(T)>we(Y.value):le?T>Y.value:ce>new Date(Y.value)),qn(_e.value)&&T&&(re=Q?we(T)<we(_e.value):le?T<_e.value:ce<new Date(_e.value))}if((Z||re)&&(te(!!Z,Y.message,_e.message,us.max,us.min),!s))return M(V[_].message),V}if((m||g)&&!H&&(qn(T)||a&&Array.isArray(T))){const Z=so(m),re=so(g),Y=!Dr(Z.value)&&T.length>+Z.value,_e=!Dr(re.value)&&T.length<+re.value;if((Y||_e)&&(te(Y,Z.message,re.message),!s))return M(V[_].message),V}if(S&&!H&&qn(T)){const{value:Z,message:re}=so(S);if(Xu(Z)&&!T.match(Z)&&(V[_]={type:us.pattern,message:re,ref:u,...U(us.pattern,re)},!s))return M(re),V}if(k){if(On(k)){const Z=await k(T,r),re=dy(Z,D);if(re&&(V[_]={...re,...U(us.validate,re.message)},!s))return M(re.message),V}else if(Wt(k)){let Z={};for(const re in k){if(!Rr(Z)&&!s)break;const Y=dy(await k[re](T,r),D,re);Y&&(Z={...Y,...U(re,Y.message)},M(Y.message),s&&(V[_]=Z))}if(!Rr(Z)&&(V[_]={ref:D,...Z},!s))return V}}return M(!0),V};const CO={mode:Nn.onSubmit,reValidateMode:Nn.onChange,shouldFocusError:!0};function kO(t={}){let e={...CO,...t},r={submitCount:0,isDirty:!1,isLoading:On(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let o=Wt(e.defaultValues)||Wt(e.values)?xr(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:xr(o),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...g};const x={array:ry(),state:ry()},S=ay(e.mode),k=ay(e.reValidateMode),_=e.criteriaMode===Nn.all,C=N=>A=>{clearTimeout(m),m=setTimeout(N,A)},P=async N=>{if(!e.disabled&&(g.isValid||y.isValid||N)){const A=e.resolver?Rr((await H()).errors):await te(s,!0);A!==r.isValid&&x.state.next({isValid:A})}},T=(N,A)=>{!e.disabled&&(g.isValidating||g.validatingFields||y.isValidating||y.validatingFields)&&((N||Array.from(d.mount)).forEach(K=>{K&&(A?pt(r.validatingFields,K,A):Xt(r.validatingFields,K))}),x.state.next({validatingFields:r.validatingFields,isValidating:!Rr(r.validatingFields)}))},D=(N,A=[],K,me,he=!0,ee=!0)=>{if(me&&K&&!e.disabled){if(u.action=!0,ee&&Array.isArray(ye(s,N))){const ge=K(ye(s,N),me.argA,me.argB);he&&pt(s,N,ge)}if(ee&&Array.isArray(ye(r.errors,N))){const ge=K(ye(r.errors,N),me.argA,me.argB);he&&pt(r.errors,N,ge),SO(r.errors,N)}if((g.touchedFields||y.touchedFields)&&ee&&Array.isArray(ye(r.touchedFields,N))){const ge=K(ye(r.touchedFields,N),me.argA,me.argB);he&&pt(r.touchedFields,N,ge)}(g.dirtyFields||y.dirtyFields)&&(r.dirtyFields=fa(o,a)),x.state.next({name:N,isDirty:re(N,A),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else pt(a,N,A)},M=(N,A)=>{pt(r.errors,N,A),x.state.next({errors:r.errors})},V=N=>{r.errors=N,x.state.next({errors:r.errors,isValid:!1})},G=(N,A,K,me)=>{const he=ye(s,N);if(he){const ee=ye(a,N,qt(K)?ye(o,N):K);qt(ee)||me&&me.defaultChecked||A?pt(a,N,A?ee:oy(he._f)):ce(N,ee),u.mount&&P()}},B=(N,A,K,me,he)=>{let ee=!1,ge=!1;const Ke={name:N};if(!e.disabled){if(!K||me){(g.isDirty||y.isDirty)&&(ge=r.isDirty,r.isDirty=Ke.isDirty=re(),ee=ge!==Ke.isDirty);const it=Ws(ye(o,N),A);ge=!!ye(r.dirtyFields,N),it?Xt(r.dirtyFields,N):pt(r.dirtyFields,N,!0),Ke.dirtyFields=r.dirtyFields,ee=ee||(g.dirtyFields||y.dirtyFields)&&ge!==!it}if(K){const it=ye(r.touchedFields,N);it||(pt(r.touchedFields,N,K),Ke.touchedFields=r.touchedFields,ee=ee||(g.touchedFields||y.touchedFields)&&it!==K)}ee&&he&&x.state.next(Ke)}return ee?Ke:{}},J=(N,A,K,me)=>{const he=ye(r.errors,N),ee=(g.isValid||y.isValid)&&Xr(A)&&r.isValid!==A;if(e.delayError&&K?(h=C(()=>M(N,K)),h(e.delayError)):(clearTimeout(m),h=null,K?pt(r.errors,N,K):Xt(r.errors,N)),(K?!Ws(he,K):he)||!Rr(me)||ee){const ge={...me,...ee&&Xr(A)?{isValid:A}:{},errors:r.errors,name:N};r={...r,...ge},x.state.next(ge)}},H=async N=>{T(N,!0);const A=await e.resolver(a,e.context,gO(N||d.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return T(N),A},U=async N=>{const{errors:A}=await H(N);if(N)for(const K of N){const me=ye(A,K);me?pt(r.errors,K,me):Xt(r.errors,K)}else r.errors=A;return A},te=async(N,A,K={valid:!0})=>{for(const me in N){const he=N[me];if(he){const{_f:ee,...ge}=he;if(ee){const Ke=d.array.has(ee.name),it=he._f&&vO(he._f);it&&g.validatingFields&&T([me],!0);const ht=await fy(he,d.disabled,a,_,e.shouldUseNativeValidation&&!A,Ke);if(it&&g.validatingFields&&T([me]),ht[ee.name]&&(K.valid=!1,A))break;!A&&(ye(ht,ee.name)?Ke?_O(r.errors,ht,ee.name):pt(r.errors,ee.name,ht[ee.name]):Xt(r.errors,ee.name))}!Rr(ge)&&await te(ge,A,K)}}return K.valid},Z=()=>{for(const N of d.unMount){const A=ye(s,N);A&&(A._f.refs?A._f.refs.every(K=>!Rf(K)):!Rf(A._f.ref))&&Qe(N)}d.unMount=new Set},re=(N,A)=>!e.disabled&&(N&&A&&pt(a,N,A),!Ws(X(),o)),Y=(N,A,K)=>Sw(N,d,{...u.mount?a:qt(A)?o:qn(N)?{[N]:A}:A},K,A),_e=N=>wc(ye(u.mount?a:o,N,e.shouldUnregister?ye(o,N,[]):[])),ce=(N,A,K={})=>{const me=ye(s,N);let he=A;if(me){const ee=me._f;ee&&(!ee.disabled&&pt(a,N,Pw(A,ee)),he=Zu(ee.ref)&&Dr(A)?"":A,Cw(ee.ref)?[...ee.ref.options].forEach(ge=>ge.selected=he.includes(ge.value)):ee.refs?tl(ee.ref)?ee.refs.length>1?ee.refs.forEach(ge=>(!ge.defaultChecked||!ge.disabled)&&(ge.checked=Array.isArray(he)?!!he.find(Ke=>Ke===ge.value):he===ge.value)):ee.refs[0]&&(ee.refs[0].checked=!!he):ee.refs.forEach(ge=>ge.checked=ge.value===he):cp(ee.ref)?ee.ref.value="":(ee.ref.value=he,ee.ref.type||x.state.next({name:N,values:xr(a)})))}(K.shouldDirty||K.shouldTouch)&&B(N,he,K.shouldTouch,K.shouldDirty,!0),K.shouldValidate&&j(N)},we=(N,A,K)=>{for(const me in A){const he=A[me],ee=`${N}.${me}`,ge=ye(s,ee);(d.array.has(N)||Wt(he)||ge&&!ge._f)&&!yi(he)?we(ee,he,K):ce(ee,he,K)}},Q=(N,A,K={})=>{const me=ye(s,N),he=d.array.has(N),ee=xr(A);pt(a,N,ee),he?(x.array.next({name:N,values:xr(a)}),(g.isDirty||g.dirtyFields||y.isDirty||y.dirtyFields)&&K.shouldDirty&&x.state.next({name:N,dirtyFields:fa(o,a),isDirty:re(N,ee)})):me&&!me._f&&!Dr(ee)?we(N,ee,K):ce(N,ee,K),uy(N,d)&&x.state.next({...r}),x.state.next({name:u.mount?N:void 0,values:xr(a)})},le=async N=>{u.mount=!0;const A=N.target;let K=A.name,me=!0;const he=ye(s,K),ee=ge=>{me=Number.isNaN(ge)||yi(ge)&&isNaN(ge.getTime())||Ws(ge,ye(a,K,ge))};if(he){let ge,Ke;const it=A.type?oy(he._f):vw(N),ht=N.type===Gu.BLUR||N.type===Gu.FOCUS_OUT,sn=!yO(he._f)&&!e.resolver&&!ye(r.errors,K)&&!he._f.deps||bO(ht,ye(r.touchedFields,K),r.isSubmitted,k,S),Fe=uy(K,d,ht);pt(a,K,it),ht?(he._f.onBlur&&he._f.onBlur(N),h&&h(0)):he._f.onChange&&he._f.onChange(N);const ve=B(K,it,ht),xt=!Rr(ve)||Fe;if(!ht&&x.state.next({name:K,type:N.type,values:xr(a)}),sn)return(g.isValid||y.isValid)&&(e.mode==="onBlur"?ht&&P():ht||P()),xt&&x.state.next({name:K,...Fe?{}:ve});if(!ht&&Fe&&x.state.next({...r}),e.resolver){const{errors:wt}=await H([K]);if(ee(it),me){const $t=cy(r.errors,s,K),Lt=cy(wt,s,$t.name||K);ge=Lt.error,K=Lt.name,Ke=Rr(wt)}}else T([K],!0),ge=(await fy(he,d.disabled,a,_,e.shouldUseNativeValidation))[K],T([K]),ee(it),me&&(ge?Ke=!1:(g.isValid||y.isValid)&&(Ke=await te(s,!0)));me&&(he._f.deps&&j(he._f.deps),J(K,Ke,ge,ve))}},ue=(N,A)=>{if(ye(r.errors,A)&&N.focus)return N.focus(),1},j=async(N,A={})=>{let K,me;const he=Ta(N);if(e.resolver){const ee=await U(qt(N)?N:he);K=Rr(ee),me=N?!he.some(ge=>ye(ee,ge)):K}else N?(me=(await Promise.all(he.map(async ee=>{const ge=ye(s,ee);return await te(ge&&ge._f?{[ee]:ge}:ge)}))).every(Boolean),!(!me&&!r.isValid)&&P()):me=K=await te(s);return x.state.next({...!qn(N)||(g.isValid||y.isValid)&&K!==r.isValid?{}:{name:N},...e.resolver||!N?{isValid:K}:{},errors:r.errors}),A.shouldFocus&&!me&&Pa(s,ue,N?he:d.mount),me},X=N=>{const A={...u.mount?a:o};return qt(N)?A:qn(N)?ye(A,N):N.map(K=>ye(A,K))},Pe=(N,A)=>({invalid:!!ye((A||r).errors,N),isDirty:!!ye((A||r).dirtyFields,N),error:ye((A||r).errors,N),isValidating:!!ye(r.validatingFields,N),isTouched:!!ye((A||r).touchedFields,N)}),pe=N=>{N&&Ta(N).forEach(A=>Xt(r.errors,A)),x.state.next({errors:N?r.errors:{}})},Ve=(N,A,K)=>{const me=(ye(s,N,{_f:{}})._f||{}).ref,he=ye(r.errors,N)||{},{ref:ee,message:ge,type:Ke,...it}=he;pt(r.errors,N,{...it,...A,ref:me}),x.state.next({name:N,errors:r.errors,isValid:!1}),K&&K.shouldFocus&&me&&me.focus&&me.focus()},We=(N,A)=>On(N)?x.state.subscribe({next:K=>N(Y(void 0,A),K)}):Y(N,A,!0),He=N=>x.state.subscribe({next:A=>{wO(N.name,A.name,N.exact)&&xO(A,N.formState||g,Ar,N.reRenderRoot)&&N.callback({values:{...a},...r,...A})}}).unsubscribe,Ue=N=>(u.mount=!0,y={...y,...N.formState},He({...N,formState:y})),Qe=(N,A={})=>{for(const K of N?Ta(N):d.mount)d.mount.delete(K),d.array.delete(K),A.keepValue||(Xt(s,K),Xt(a,K)),!A.keepError&&Xt(r.errors,K),!A.keepDirty&&Xt(r.dirtyFields,K),!A.keepTouched&&Xt(r.touchedFields,K),!A.keepIsValidating&&Xt(r.validatingFields,K),!e.shouldUnregister&&!A.keepDefaultValue&&Xt(o,K);x.state.next({values:xr(a)}),x.state.next({...r,...A.keepDirty?{isDirty:re()}:{}}),!A.keepIsValid&&P()},_t=({disabled:N,name:A})=>{(Xr(N)&&u.mount||N||d.disabled.has(A))&&(N?d.disabled.add(A):d.disabled.delete(A))},br=(N,A={})=>{let K=ye(s,N);const me=Xr(A.disabled)||Xr(e.disabled);return pt(s,N,{...K||{},_f:{...K&&K._f?K._f:{ref:{name:N}},name:N,mount:!0,...A}}),d.mount.add(N),K?_t({disabled:Xr(A.disabled)?A.disabled:e.disabled,name:N}):G(N,!0,A.value),{...me?{disabled:A.disabled||e.disabled}:{},...e.progressive?{required:!!A.required,min:ha(A.min),max:ha(A.max),minLength:ha(A.minLength),maxLength:ha(A.maxLength),pattern:ha(A.pattern)}:{},name:N,onChange:le,onBlur:le,ref:he=>{if(he){br(N,A),K=ye(s,N);const ee=qt(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,ge=hO(ee),Ke=K._f.refs||[];if(ge?Ke.find(it=>it===ee):ee===K._f.ref)return;pt(s,N,{_f:{...K._f,...ge?{refs:[...Ke.filter(Rf),ee,...Array.isArray(ye(o,N))?[{}]:[]],ref:{type:ee.type,name:N}}:{ref:ee}}}),G(N,!1,void 0,ee)}else K=ye(s,N,{}),K._f&&(K._f.mount=!1),(e.shouldUnregister||A.shouldUnregister)&&!(yw(d.array,N)&&u.action)&&d.unMount.add(N)}}},Gt=()=>e.shouldFocusError&&Pa(s,ue,d.mount),jt=N=>{Xr(N)&&(x.state.next({disabled:N}),Pa(s,(A,K)=>{const me=ye(s,K);me&&(A.disabled=me._f.disabled||N,Array.isArray(me._f.refs)&&me._f.refs.forEach(he=>{he.disabled=me._f.disabled||N}))},0,!1))},yn=(N,A)=>async K=>{let me;K&&(K.preventDefault&&K.preventDefault(),K.persist&&K.persist());let he=xr(a);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:ee,values:ge}=await H();r.errors=ee,he=ge}else await te(s);if(d.disabled.size)for(const ee of d.disabled)pt(he,ee,void 0);if(Xt(r.errors,"root"),Rr(r.errors)){x.state.next({errors:{}});try{await N(he,K)}catch(ee){me=ee}}else A&&await A({...r.errors},K),Gt(),setTimeout(Gt);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Rr(r.errors)&&!me,submitCount:r.submitCount+1,errors:r.errors}),me)throw me},nn=(N,A={})=>{ye(s,N)&&(qt(A.defaultValue)?Q(N,xr(ye(o,N))):(Q(N,A.defaultValue),pt(o,N,xr(A.defaultValue))),A.keepTouched||Xt(r.touchedFields,N),A.keepDirty||(Xt(r.dirtyFields,N),r.isDirty=A.defaultValue?re(N,xr(ye(o,N))):re()),A.keepError||(Xt(r.errors,N),g.isValid&&P()),x.state.next({...r}))},Sr=(N,A={})=>{const K=N?xr(N):o,me=xr(K),he=Rr(N),ee=he?o:me;if(A.keepDefaultValues||(o=K),!A.keepValues){if(A.keepDirtyValues){const ge=new Set([...d.mount,...Object.keys(fa(o,a))]);for(const Ke of Array.from(ge))ye(r.dirtyFields,Ke)?pt(ee,Ke,ye(a,Ke)):Q(Ke,ye(ee,Ke))}else{if(lp&&qt(N))for(const ge of d.mount){const Ke=ye(s,ge);if(Ke&&Ke._f){const it=Array.isArray(Ke._f.refs)?Ke._f.refs[0]:Ke._f.ref;if(Zu(it)){const ht=it.closest("form");if(ht){ht.reset();break}}}}for(const ge of d.mount)Q(ge,ye(ee,ge))}a=xr(ee),x.array.next({values:{...ee}}),x.state.next({values:{...ee}})}d={mount:A.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!g.isValid||!!A.keepIsValid||!!A.keepDirtyValues,u.watch=!!e.shouldUnregister,x.state.next({submitCount:A.keepSubmitCount?r.submitCount:0,isDirty:he?!1:A.keepDirty?r.isDirty:!!(A.keepDefaultValues&&!Ws(N,o)),isSubmitted:A.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:he?{}:A.keepDirtyValues?A.keepDefaultValues&&a?fa(o,a):r.dirtyFields:A.keepDefaultValues&&N?fa(o,N):A.keepDirty?r.dirtyFields:{},touchedFields:A.keepTouched?r.touchedFields:{},errors:A.keepErrors?r.errors:{},isSubmitSuccessful:A.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},qr=(N,A)=>Sr(On(N)?N(a):N,A),xn=(N,A={})=>{const K=ye(s,N),me=K&&K._f;if(me){const he=me.refs?me.refs[0]:me.ref;he.focus&&(he.focus(),A.shouldSelect&&On(he.select)&&he.select())}},Ar=N=>{r={...r,...N}},rr={control:{register:br,unregister:Qe,getFieldState:Pe,handleSubmit:yn,setError:Ve,_subscribe:He,_runSchema:H,_getWatch:Y,_getDirty:re,_setValid:P,_setFieldArray:D,_setDisabledField:_t,_setErrors:V,_getFieldArray:_e,_reset:Sr,_resetDefaultValues:()=>On(e.defaultValues)&&e.defaultValues().then(N=>{qr(N,e.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:Z,_disableForm:jt,_subjects:x,_proxyFormState:g,get _fields(){return s},get _formValues(){return a},get _state(){return u},set _state(N){u=N},get _defaultValues(){return o},get _names(){return d},set _names(N){d=N},get _formState(){return r},get _options(){return e},set _options(N){e={...e,...N}}},subscribe:Ue,trigger:j,register:br,handleSubmit:yn,watch:We,setValue:Q,getValues:X,reset:qr,resetField:nn,clearErrors:pe,unregister:Qe,setError:Ve,setFocus:xn,getFieldState:Pe};return{...rr,formControl:rr}}function EO(t={}){const e=Ze.useRef(void 0),r=Ze.useRef(void 0),[s,o]=Ze.useState({isDirty:!1,isValidating:!1,isLoading:On(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:On(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:kO(t),formState:s},t.formControl&&t.defaultValues&&!On(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,Ze.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>o({...a._formState}),reRenderRoot:!0}),[a]),Ze.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Ze.useEffect(()=>{if(a._proxyFormState.isDirty){const u=a._getDirty();u!==s.isDirty&&a._subjects.state.next({isDirty:u})}},[a,s.isDirty]),Ze.useEffect(()=>{t.values&&!Ws(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,o(u=>({...u}))):a._resetDefaultValues()},[t.values,a]),Ze.useEffect(()=>{t.errors&&!Rr(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),Ze.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Ze.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=bw(s,a),e.current}const hy=(t,e,r)=>{if(t&&"reportValidity"in t){const s=ye(r,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},Ow=(t,e)=>{for(const r in e.fields){const s=e.fields[r];s&&s.ref&&"reportValidity"in s.ref?hy(s.ref,r,t):s.refs&&s.refs.forEach(o=>hy(o,r,t))}},TO=(t,e)=>{e.shouldUseNativeValidation&&Ow(t,e);const r={};for(const s in t){const o=ye(e.fields,s),a=Object.assign(t[s]||{},{ref:o&&o.ref});if(PO(e.names||Object.keys(t),s)){const u=Object.assign({},ye(r,s));pt(u,"root",a),pt(r,s,u)}else pt(r,s,a)}return r},PO=(t,e)=>t.some(r=>r.startsWith(e+"."));var NO=function(t,e){for(var r={};t.length;){var s=t[0],o=s.code,a=s.message,u=s.path.join(".");if(!r[u])if("unionErrors"in s){var d=s.unionErrors[0].errors[0];r[u]={message:d.message,type:d.code}}else r[u]={message:a,type:o};if("unionErrors"in s&&s.unionErrors.forEach(function(g){return g.errors.forEach(function(y){return t.push(y)})}),e){var h=r[u].types,m=h&&h[s.code];r[u]=_w(u,e,r,o,m?[].concat(m,s.message):s.message)}t.shift()}return r},OO=function(t,e,r){return r===void 0&&(r={}),function(s,o,a){try{return Promise.resolve((function(u,d){try{var h=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(m){return a.shouldUseNativeValidation&&Ow({},a),{errors:{},values:r.raw?s:m}})}catch(m){return d(m)}return h&&h.then?h.then(void 0,d):h})(0,function(u){if((function(d){return Array.isArray(d?.errors)})(u))return{values:{},errors:TO(NO(u.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw u}))}catch(u){return Promise.reject(u)}}},jO="Label",jw=w.forwardRef((t,e)=>f.jsx(yt.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));jw.displayName=jO;var Rw=jw;const RO=Qh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Dw=w.forwardRef(({className:t,...e},r)=>f.jsx(Rw,{ref:r,className:nt(RO(),t),...e}));Dw.displayName=Rw.displayName;const DO=lO,Iw=w.createContext({}),py=({...t})=>f.jsx(Iw.Provider,{value:{name:t.name},children:f.jsx(fO,{...t})}),Sc=()=>{const t=w.useContext(Iw),e=w.useContext(Aw),{getFieldState:r,formState:s}=bc(),o=r(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...o}},Aw=w.createContext({}),xh=w.forwardRef(({className:t,...e},r)=>{const s=w.useId();return f.jsx(Aw.Provider,{value:{id:s},children:f.jsx("div",{ref:r,className:nt("space-y-2",t),...e})})});xh.displayName="FormItem";const wh=w.forwardRef(({className:t,...e},r)=>{const{error:s,formItemId:o}=Sc();return f.jsx(Dw,{ref:r,className:nt(s&&"text-destructive",t),htmlFor:o,...e})});wh.displayName="FormLabel";const bh=w.forwardRef(({...t},e)=>{const{error:r,formItemId:s,formDescriptionId:o,formMessageId:a}=Sc();return f.jsx(E0,{ref:e,id:s,"aria-describedby":r?`${o} ${a}`:`${o}`,"aria-invalid":!!r,...t})});bh.displayName="FormControl";const IO=w.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:s}=Sc();return f.jsx("p",{ref:r,id:s,className:nt("text-sm text-muted-foreground",t),...e})});IO.displayName="FormDescription";const Sh=w.forwardRef(({className:t,children:e,...r},s)=>{const{error:o,formMessageId:a}=Sc(),u=o?String(o?.message??""):e;return u?f.jsx("p",{ref:s,id:a,className:nt("text-sm font-medium text-destructive",t),...r,children:u}):null});Sh.displayName="FormMessage";function AO(){const[t,e]=w.useState(!0),[r,s]=w.useState(!1),[o,a]=w.useState(""),[u,d]=w.useState("request"),[h,m]=w.useState(""),[g,y]=w.useState(""),[x,S]=w.useState(!1),{user:k,login:_,register:C,isLoggingIn:P,isRegistering:T}=Di(),{toast:D}=Ri(),M=EO({resolver:OO(vh),defaultValues:{username:"",password:""}});if(k)return f.jsx(f0,{to:"/"});const V=U=>{t?_(U):C(U)},G=async U=>{if(U.preventDefault(),!o){D({title:"Li",description:"Vui lng nhp email ca bn",variant:"destructive"});return}try{S(!0);const te=await fetch(Pr+"/api/user/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o})});if(!te.ok){const Z=await te.json().catch(()=>null);throw new Error(Z?.message||"Gi email t li mt khu tht bi")}D({title:" gi email",description:"Hy kim tra hp th  ly m t li mt khu."}),d("confirm")}catch(te){const Z=te instanceof Error?te.message:"C li xy ra, vui lng th li";D({title:"Li",description:Z,variant:"destructive"})}finally{S(!1)}},B=async U=>{if(U.preventDefault(),!o||!h||!g){D({title:"Thiu thng tin",description:"Vui lng nhp y  email, m v mt khu mi",variant:"destructive"});return}S(!0);try{const te=await fetch(Pr+"/api/user/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,code:h,newPassword:g})});if(!te.ok){const Z=await te.json().catch(()=>null);throw new Error(Z?.message||"t li mt khu tht bi")}D({title:"Thnh cng",description:"Mt khu mi  c cp nht, hy ng nhp li."}),s(!1),d("request"),a(""),m(""),y("")}catch(te){const Z=te instanceof Error?te.message:"C li xy ra, vui lng th li";D({title:"Li",description:Z,variant:"destructive"})}finally{S(!1)}},J=()=>{D({title:"ng nhp Google",description:"Tnh nng ng nhp Google s c tch hp ti y.",variant:"default"})},H=P||T;return r?f.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsx("div",{className:"w-full max-w-md z-10",children:f.jsxs("div",{className:"glass-card p-8 rounded-3xl animate-in zoom-in-95 duration-500",children:[f.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:u==="request"?"Qun mt khu":"Nhp m t li mt khu"}),f.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:u==="request"?"Nhp email  gn vi ti khon  nhn m t li mt khu.":"Kim tra email  ly m, sau  nhp m v mt khu mi bn di."}),u==="request"?f.jsxs("form",{onSubmit:G,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Email"}),f.jsx(Vn,{type:"email",placeholder:"ban@example.com",value:o,onChange:U=>a(U.target.value),className:"glass-input h-12 rounded-xl text-lg font-medium"})]}),f.jsx(ut,{type:"submit",className:"w-full h-12 rounded-xl text-lg font-bold btn-primary",disabled:x,children:x?f.jsx(ku,{className:"w-5 h-5 animate-spin"}):"Gi m v email"}),f.jsx(ut,{type:"button",variant:"ghost",onClick:()=>{s(!1),d("request")},className:"w-full text-slate-400 hover:text-white",children:"Quay li ng nhp"})]}):f.jsxs("form",{onSubmit:B,className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Email"}),f.jsx(Vn,{type:"email",placeholder:"ban@example.com",value:o,onChange:U=>a(U.target.value),className:"glass-input h-11 rounded-xl text-base"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"M t li"}),f.jsx(Vn,{placeholder:"Nhp m gm 6 s",value:h,onChange:U=>m(U.target.value),className:"glass-input h-11 rounded-xl text-base"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Mt khu mi"}),f.jsx(Vn,{type:"password",placeholder:"Mt khu mi",value:g,onChange:U=>y(U.target.value),className:"glass-input h-11 rounded-xl text-base"})]}),f.jsx(ut,{type:"submit",className:"w-full h-12 rounded-xl text-lg font-bold btn-primary",disabled:x,children:x?f.jsx(ku,{className:"w-5 h-5 animate-spin"}):"i mt khu"}),f.jsx(ut,{type:"button",variant:"ghost",onClick:()=>{d("request"),m(""),y("")},className:"w-full text-slate-400 hover:text-white",children:"Quay li bc gi m"})]})]})})]}):f.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsxs("div",{className:"w-full max-w-md z-10",children:[f.jsxs("div",{className:"text-center mb-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[f.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-600 to-indigo-800 rounded-2xl mx-auto flex items-center justify-center shadow-2xl shadow-indigo-900/40 rotate-12 mb-6",children:f.jsx(cc,{className:"w-8 h-8 text-white"})}),f.jsxs("h1",{className:"text-4xl md:text-5xl font-black italic tracking-tighter text-white drop-shadow-lg mb-1",children:["Chess",f.jsx("span",{className:"text-indigo-500",children:"Pro"})]}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] text-[10px]",children:"c vua ca ngi vit"})]}),f.jsxs("div",{className:"glass-card p-8 rounded-3xl animate-in zoom-in-95 duration-500",children:[f.jsxs("div",{className:"flex w-full mb-8 bg-slate-900/50 p-1 rounded-xl",children:[f.jsx("button",{onClick:()=>e(!0),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${t?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"NG NHP"}),f.jsx("button",{onClick:()=>e(!1),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all ${t?"text-slate-400 hover:text-white":"bg-indigo-600 text-white shadow-lg"}`,children:"NG K"})]}),f.jsx(DO,{...M,children:f.jsxs("form",{onSubmit:M.handleSubmit(V),className:"space-y-4",children:[f.jsx(py,{control:M.control,name:"username",render:({field:U})=>f.jsxs(xh,{children:[f.jsx(wh,{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Tn ng nhp"}),f.jsx(bh,{children:f.jsx(Vn,{placeholder:"Kythu123",...U,className:"glass-input h-12 rounded-xl text-lg font-medium"})}),f.jsx(Sh,{})]})}),f.jsx(py,{control:M.control,name:"password",render:({field:U})=>f.jsxs(xh,{children:[f.jsx(wh,{className:"text-xs uppercase font-bold text-slate-500 tracking-wider ml-1",children:"Mt khu"}),f.jsx(bh,{children:f.jsx(Vn,{type:"password",placeholder:"",...U,className:"glass-input h-12 rounded-xl text-lg font-medium"})}),f.jsx(Sh,{})]})}),t&&f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"button",onClick:()=>s(!0),className:"text-xs text-indigo-400 hover:text-indigo-300 font-bold",children:"Qun mt khu?"})}),f.jsx(ut,{type:"submit",className:"w-full h-12 rounded-xl text-lg font-bold mt-6 btn-primary",disabled:H,children:H?f.jsx(ku,{className:"w-5 h-5 animate-spin"}):f.jsxs(f.Fragment,{children:[f.jsx("span",{children:t?"Bt u chi":"To ti khon"}),f.jsx(wa,{className:"w-5 h-5 ml-2"})]})}),f.jsxs("div",{className:"relative my-6",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("span",{className:"w-full border-t border-slate-700"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-[#0f172a] px-2 text-slate-500",children:"Hoc tip tc vi"})})]}),f.jsxs(ut,{type:"button",variant:"outline",onClick:J,className:"w-full h-12 rounded-xl border-slate-700 bg-slate-800/50 hover:bg-slate-800 text-white font-bold",children:[f.jsx(sh,{className:"w-4 h-4 mr-2 text-red-500"}),"ng nhp bng Gmail"]})]})})]})]})]})}let Mw=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");function MO(){const{user:t,logout:e}=Di(),[,r]=ji(),[s,o]=w.useState("");if(!t)return f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx(no,{href:"/auth",children:f.jsx(ut,{children:"ng nhp trc"})})});const a=()=>{const d=Mw(6).toUpperCase();r(`/game/online/${d}`)},u=()=>{s.length>0&&r(`/game/online/${s.toUpperCase()}`)};return f.jsxs("div",{className:"min-h-screen bg-[#020617] text-white relative overflow-x-hidden",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-12 md:py-20 flex flex-col items-center text-center",children:[f.jsxs("div",{className:"mb-12 animate-in fade-in slide-in-from-top-8 duration-700",children:[f.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-[2rem] mx-auto flex items-center justify-center shadow-2xl shadow-indigo-500/30 rotate-12 hover:rotate-6 transition-transform duration-300 mb-6",children:f.jsx(cc,{className:"w-10 h-10 text-white"})}),f.jsxs("h1",{className:"text-5xl md:text-7xl font-black italic tracking-tighter text-white drop-shadow-2xl mb-2",children:["Chess",f.jsx("span",{className:"text-indigo-500",children:"Pro"})]}),f.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] text-xs md:text-sm",children:"c vua ca ngi vit"})]}),f.jsx("div",{className:"w-full max-w-sm mb-12",children:f.jsxs("div",{className:"glass-card p-2 rounded-full flex items-center justify-between pl-6 pr-2",children:[f.jsxs("span",{className:"font-bold text-slate-300",children:["Xin cho, ",t.username]}),f.jsx(ut,{variant:"ghost",size:"sm",onClick:()=>e(),className:"text-red-400 hover:text-red-300 hover:bg-red-950/30 rounded-full px-4",children:"ng xut"})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-4xl animate-in fade-in zoom-in-95 duration-700 delay-150",children:[f.jsxs("div",{className:"glass-card p-8 rounded-[2.5rem] flex flex-col items-center gap-6 group hover:border-indigo-500/30 transition-all duration-300",children:[f.jsx("div",{className:"w-16 h-16 rounded-2xl bg-indigo-500/20 text-indigo-400 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:f.jsx(sC,{className:"w-8 h-8"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-3xl font-black italic uppercase text-indigo-400 mb-1",children:"nh online"}),f.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"nh xp hng & giao hu"})]}),f.jsxs("div",{className:"w-full space-y-4",children:[f.jsx(no,{href:"/game/online/random",children:f.jsx(ut,{className:"w-full h-14 text-lg font-bold rounded-xl btn-primary mb-4",children:"Ghp trn nhanh"})}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("span",{className:"w-full border-t border-slate-700"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-[#0f172a] px-2 text-slate-500 font-bold",children:"Hoc chi vi bn b"})})]}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(ut,{onClick:a,className:"flex-1 bg-slate-800 hover:bg-slate-700 text-indigo-400 border border-indigo-500/20 rounded-xl font-bold",children:"To phng"}),f.jsxs("div",{className:"flex-1 flex gap-2",children:[f.jsx("input",{value:s,onChange:d=>o(d.target.value),placeholder:"M PHNG",className:"glass-input w-full rounded-xl text-center font-bold tracking-widest uppercase text-sm"}),f.jsx(ut,{onClick:u,size:"icon",className:"bg-slate-800 hover:bg-slate-700 text-indigo-400 border border-indigo-500/20 rounded-xl font-bold shrink-0",children:f.jsx(wa,{className:"w-4 h-4"})})]})]})]})]}),f.jsxs("div",{className:"flex flex-col gap-6",children:[f.jsxs(no,{href:"/game/ai/new",className:"flex-1 glass-card p-6 rounded-[2.5rem] flex items-center gap-6 group hover:border-emerald-500/30 transition-all cursor-pointer",children:[f.jsx("div",{className:"w-16 h-16 rounded-2xl bg-emerald-500/20 text-emerald-400 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:f.jsx(cC,{className:"w-8 h-8"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("h2",{className:"text-3xl font-black italic uppercase text-emerald-400 mb-1",children:"nh vi AI"}),f.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Stockfish 15"})]}),f.jsx(wa,{className:"ml-auto text-emerald-500/50 group-hover:translate-x-1 transition-transform"})]}),f.jsxs(no,{href:"/game/offline/local",className:"flex-1 glass-card p-6 rounded-[2.5rem] flex items-center gap-6 group hover:border-amber-500/30 transition-all cursor-pointer",children:[f.jsx("div",{className:"w-16 h-16 rounded-2xl bg-amber-500/20 text-amber-400 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:f.jsx(tC,{className:"w-8 h-8"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("h2",{className:"text-3xl font-black italic uppercase text-amber-400 mb-1",children:"Chi trn cng my"}),f.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Chuyn lt & nh lun phin"})]}),f.jsx(wa,{className:"ml-auto text-amber-500/50 group-hover:translate-x-1 transition-transform"})]})]})]}),f.jsxs("div",{className:"mt-12 flex gap-4 w-full max-w-4xl",children:[f.jsxs(no,{href:"/social",className:"flex-1 glass-card px-8 py-4 rounded-2xl flex items-center justify-between border-indigo-500/10 cursor-pointer hover:bg-white/5 transition-colors group",children:[f.jsxs("div",{className:"flex items-center gap-6",children:[f.jsx(dc,{className:"w-5 h-5 text-yellow-500 group-hover:scale-110 transition-transform"}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Bng xp hng"}),f.jsx("div",{className:"text-sm font-bold text-white",children:"Xem cao th hng u"})]})]}),f.jsx(wa,{className:"text-slate-500 group-hover:translate-x-1 transition-transform"})]}),f.jsxs(no,{href:"/profile",className:"glass-card px-8 py-4 rounded-2xl flex items-center gap-6 border-indigo-500/10 cursor-pointer hover:bg-white/5 transition-colors group",children:[f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Elo ca bn"}),f.jsx("div",{className:"text-xl font-black text-white group-hover:text-indigo-400 transition-colors",children:t.rating??0})]}),f.jsx("div",{className:"h-8 w-px bg-white/10 mx-2"}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:"Vn  chi"}),f.jsx("div",{className:"text-xl font-black text-white group-hover:text-indigo-400 transition-colors",children:t.gamesPlayed||0})]})]})]})]})]})}function LO(t){return t!==null?{comment:t,variations:[]}:{variations:[]}}function FO(t,e,r,s,o){const a={move:t,variations:o};return e&&(a.suffix=e),r&&(a.nag=r),s!==null&&(a.comment=s),a}function zO(...t){const[e,...r]=t;let s=e;for(const o of r)o!==null&&(s.variations=[o,...o.variations],o.variations=[],s=o);return e}function $O(t,e){if(e.marker&&e.marker.comment){let r=e.root;for(;;){const s=r.variations[0];if(!s){r.comment=e.marker.comment;break}r=s}}return{headers:t,root:e.root,result:(e.marker&&e.marker.result)??void 0}}function VO(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}function bo(t,e,r,s){var o=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(o,bo.prototype),o.expected=e,o.found=r,o.location=s,o.name="SyntaxError",o}VO(bo,Error);function Df(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,r+=r.repeat(e),t+r.slice(0,e))}bo.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var r=null,s;for(s=0;s<t.length;s++)if(t[s].source===this.location.source){r=t[s].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,a=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,u=this.location.source+":"+a.line+":"+a.column;if(r){var d=this.location.end,h=Df("",a.line.toString().length," "),m=r[o.line-1],g=o.line===d.line?d.column:m.length+1,y=g-o.column||1;e+=`
 --> `+u+`
`+h+` |
`+a.line+" | "+m+`
`+h+" | "+Df("",o.column-1," ")+Df("",y,"^")}else e+=`
 at `+u}return e};bo.buildMessage=function(t,e){var r={literal:function(m){return'"'+o(m.text)+'"'},class:function(m){var g=m.parts.map(function(y){return Array.isArray(y)?a(y[0])+"-"+a(y[1]):a(y)});return"["+(m.inverted?"^":"")+g.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(m){return m.description}};function s(m){return m.charCodeAt(0).toString(16).toUpperCase()}function o(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+s(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+s(g)})}function a(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(g){return"\\x0"+s(g)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(g){return"\\x"+s(g)})}function u(m){return r[m.type](m)}function d(m){var g=m.map(u),y,x;if(g.sort(),g.length>0){for(y=1,x=1;y<g.length;y++)g[y-1]!==g[y]&&(g[x]=g[y],x++);g.length=x}switch(g.length){case 1:return g[0];case 2:return g[0]+" or "+g[1];default:return g.slice(0,-1).join(", ")+", or "+g[g.length-1]}}function h(m){return m?'"'+o(m)+'"':"end of input"}return"Expected "+d(t)+" but "+h(e)+" found."};function BO(t,e){e=e!==void 0?e:{};var r={},s=e.grammarSource,o={pgn:To},a=To,u="[",d='"',h="]",m=".",g="O-O-O",y="O-O",x="0-0-0",S="0-0",k="$",_="{",C="}",P=";",T="(",D=")",M="1-0",V="0-1",G="1/2-1/2",B="*",J=/^[a-zA-Z]/,H=/^[^"]/,U=/^[0-9]/,te=/^[.]/,Z=/^[a-zA-Z1-8\-=]/,re=/^[+#]/,Y=/^[!?]/,_e=/^[^}]/,ce=/^[^\r\n]/,we=/^[ \t\r\n]/,Q=or("tag pair"),le=Ct("[",!1),ue=Ct('"',!1),j=Ct("]",!1),X=or("tag name"),Pe=pr([["a","z"],["A","Z"]],!1,!1),pe=or("tag value"),Ve=pr(['"'],!0,!1),We=or("move number"),He=pr([["0","9"]],!1,!1),Ue=Ct(".",!1),Qe=pr(["."],!1,!1),_t=or("standard algebraic notation"),br=Ct("O-O-O",!1),Gt=Ct("O-O",!1),jt=Ct("0-0-0",!1),yn=Ct("0-0",!1),nn=pr([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),Sr=pr(["+","#"],!1,!1),qr=or("suffix annotation"),xn=pr(["!","?"],!1,!1),Ar=or("NAG"),Mr=Ct("$",!1),rr=or("brace comment"),N=Ct("{",!1),A=pr(["}"],!0,!1),K=Ct("}",!1),me=or("rest of line comment"),he=Ct(";",!1),ee=pr(["\r",`
`],!0,!1),ge=or("variation"),Ke=Ct("(",!1),it=Ct(")",!1),ht=or("game termination marker"),sn=Ct("1-0",!1),Fe=Ct("0-1",!1),ve=Ct("1/2-1/2",!1),xt=Ct("*",!1),wt=or("whitespace"),$t=pr([" ","	","\r",`
`],!1,!1),Lt=function(I,q){return $O(I,q)},Lr=function(I){return Object.fromEntries(I)},Vt=function(I,q){return[I,q]},hr=function(I,q){return{root:I,marker:q}},Me=function(I,q){return zO(LO(I),...q.flat())},bt=function(I,q,W,De,Re){return FO(I,q,W,De,Re)},Et=function(I){return I},Ht=function(I){return I.replace(/[\r\n]+/g," ")},nr=function(I){return I.trim()},je=function(I){return I},rt=function(I,q){return{result:I,comment:q}},z=e.peg$currPos|0,sr=[{line:1,column:1}],mt=z,Wr=e.peg$maxFailExpected||[],de=e.peg$silentFails|0,ir;if(e.startRule){if(!(e.startRule in o))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');a=o[e.startRule]}function Ct(I,q){return{type:"literal",text:I,ignoreCase:q}}function pr(I,q,W){return{type:"class",parts:I,inverted:q,ignoreCase:W}}function Xn(){return{type:"end"}}function or(I){return{type:"other",description:I}}function rl(I){var q=sr[I],W;if(q)return q;if(I>=sr.length)W=sr.length-1;else for(W=I;!sr[--W];);for(q=sr[W],q={line:q.line,column:q.column};W<I;)t.charCodeAt(W)===10?(q.line++,q.column=1):q.column++,W++;return sr[I]=q,q}function nl(I,q,W){var De=rl(I),Re=rl(q),ot={source:s,start:{offset:I,line:De.line,column:De.column},end:{offset:q,line:Re.line,column:Re.column}};return ot}function Ee(I){z<mt||(z>mt&&(mt=z,Wr=[]),Wr.push(I))}function sl(I,q,W){return new bo(bo.buildMessage(I,q),I,q,W)}function To(){var I,q,W;return I=z,q=Oc(),W=al(),I=Lt(q,W),I}function Oc(){var I,q,W;for(I=z,q=[],W=Po();W!==r;)q.push(W),W=Po();return W=mr(),I=Lr(q),I}function Po(){var I,q,W,De,Re,ot,Hr;return de++,I=z,mr(),t.charCodeAt(z)===91?(q=u,z++):(q=r,de===0&&Ee(le)),q!==r?(mr(),W=il(),W!==r?(mr(),t.charCodeAt(z)===34?(De=d,z++):(De=r,de===0&&Ee(ue)),De!==r?(Re=ol(),t.charCodeAt(z)===34?(ot=d,z++):(ot=r,de===0&&Ee(ue)),ot!==r?(mr(),t.charCodeAt(z)===93?(Hr=h,z++):(Hr=r,de===0&&Ee(j)),Hr!==r?I=Vt(W,Re):(z=I,I=r)):(z=I,I=r)):(z=I,I=r)):(z=I,I=r)):(z=I,I=r),de--,I===r&&de===0&&Ee(Q),I}function il(){var I,q,W;if(de++,I=z,q=[],W=t.charAt(z),J.test(W)?z++:(W=r,de===0&&Ee(Pe)),W!==r)for(;W!==r;)q.push(W),W=t.charAt(z),J.test(W)?z++:(W=r,de===0&&Ee(Pe));else q=r;return q!==r?I=t.substring(I,z):I=q,de--,I===r&&(q=r,de===0&&Ee(X)),I}function ol(){var I,q,W;for(de++,I=z,q=[],W=t.charAt(z),H.test(W)?z++:(W=r,de===0&&Ee(Ve));W!==r;)q.push(W),W=t.charAt(z),H.test(W)?z++:(W=r,de===0&&Ee(Ve));return I=t.substring(I,z),de--,q=r,de===0&&Ee(pe),I}function al(){var I,q,W;return I=z,q=ll(),mr(),W=on(),W===r&&(W=null),mr(),I=hr(q,W),I}function ll(){var I,q,W,De;for(I=z,q=xs(),q===r&&(q=null),W=[],De=ul();De!==r;)W.push(De),De=ul();return I=Me(q,W),I}function ul(){var I,q,W,De,Re,ot,Hr,Jn;if(I=z,mr(),Rt(),mr(),q=jc(),q!==r){for(W=No(),W===r&&(W=null),De=[],Re=Oo();Re!==r;)De.push(Re),Re=Oo();for(Re=mr(),ot=xs(),ot===r&&(ot=null),Hr=[],Jn=ri();Jn!==r;)Hr.push(Jn),Jn=ri();I=bt(q,W,De,ot,Hr)}else z=I,I=r;return I}function Rt(){var I,q,W,De,Re,ot;for(de++,I=z,q=[],W=t.charAt(z),U.test(W)?z++:(W=r,de===0&&Ee(He));W!==r;)q.push(W),W=t.charAt(z),U.test(W)?z++:(W=r,de===0&&Ee(He));if(t.charCodeAt(z)===46?(W=m,z++):(W=r,de===0&&Ee(Ue)),W!==r){for(De=mr(),Re=[],ot=t.charAt(z),te.test(ot)?z++:(ot=r,de===0&&Ee(Qe));ot!==r;)Re.push(ot),ot=t.charAt(z),te.test(ot)?z++:(ot=r,de===0&&Ee(Qe));q=[q,W,De,Re],I=q}else z=I,I=r;return de--,I===r&&(q=r,de===0&&Ee(We)),I}function jc(){var I,q,W,De,Re,ot;if(de++,I=z,q=z,t.substr(z,5)===g?(W=g,z+=5):(W=r,de===0&&Ee(br)),W===r&&(t.substr(z,3)===y?(W=y,z+=3):(W=r,de===0&&Ee(Gt)),W===r&&(t.substr(z,5)===x?(W=x,z+=5):(W=r,de===0&&Ee(jt)),W===r&&(t.substr(z,3)===S?(W=S,z+=3):(W=r,de===0&&Ee(yn)),W===r))))if(W=z,De=t.charAt(z),J.test(De)?z++:(De=r,de===0&&Ee(Pe)),De!==r){if(Re=[],ot=t.charAt(z),Z.test(ot)?z++:(ot=r,de===0&&Ee(nn)),ot!==r)for(;ot!==r;)Re.push(ot),ot=t.charAt(z),Z.test(ot)?z++:(ot=r,de===0&&Ee(nn));else Re=r;Re!==r?(De=[De,Re],W=De):(z=W,W=r)}else z=W,W=r;return W!==r?(De=t.charAt(z),re.test(De)?z++:(De=r,de===0&&Ee(Sr)),De===r&&(De=null),W=[W,De],q=W):(z=q,q=r),q!==r?I=t.substring(I,z):I=q,de--,I===r&&(q=r,de===0&&Ee(_t)),I}function No(){var I,q,W;for(de++,I=z,q=[],W=t.charAt(z),Y.test(W)?z++:(W=r,de===0&&Ee(xn));W!==r;)q.push(W),q.length>=2?W=r:(W=t.charAt(z),Y.test(W)?z++:(W=r,de===0&&Ee(xn)));return q.length<1?(z=I,I=r):I=q,de--,I===r&&(q=r,de===0&&Ee(qr)),I}function Oo(){var I,q,W,De,Re;if(de++,I=z,mr(),t.charCodeAt(z)===36?(q=k,z++):(q=r,de===0&&Ee(Mr)),q!==r){if(W=z,De=[],Re=t.charAt(z),U.test(Re)?z++:(Re=r,de===0&&Ee(He)),Re!==r)for(;Re!==r;)De.push(Re),Re=t.charAt(z),U.test(Re)?z++:(Re=r,de===0&&Ee(He));else De=r;De!==r?W=t.substring(W,z):W=De,W!==r?I=Et(W):(z=I,I=r)}else z=I,I=r;return de--,I===r&&de===0&&Ee(Ar),I}function xs(){var I;return I=Rc(),I===r&&(I=cl()),I}function Rc(){var I,q,W,De,Re;if(de++,I=z,t.charCodeAt(z)===123?(q=_,z++):(q=r,de===0&&Ee(N)),q!==r){for(W=z,De=[],Re=t.charAt(z),_e.test(Re)?z++:(Re=r,de===0&&Ee(A));Re!==r;)De.push(Re),Re=t.charAt(z),_e.test(Re)?z++:(Re=r,de===0&&Ee(A));W=t.substring(W,z),t.charCodeAt(z)===125?(De=C,z++):(De=r,de===0&&Ee(K)),De!==r?I=Ht(W):(z=I,I=r)}else z=I,I=r;return de--,I===r&&(q=r,de===0&&Ee(rr)),I}function cl(){var I,q,W,De,Re;if(de++,I=z,t.charCodeAt(z)===59?(q=P,z++):(q=r,de===0&&Ee(he)),q!==r){for(W=z,De=[],Re=t.charAt(z),ce.test(Re)?z++:(Re=r,de===0&&Ee(ee));Re!==r;)De.push(Re),Re=t.charAt(z),ce.test(Re)?z++:(Re=r,de===0&&Ee(ee));W=t.substring(W,z),I=nr(W)}else z=I,I=r;return de--,I===r&&(q=r,de===0&&Ee(me)),I}function ri(){var I,q,W,De;return de++,I=z,mr(),t.charCodeAt(z)===40?(q=T,z++):(q=r,de===0&&Ee(Ke)),q!==r?(W=ll(),W!==r?(mr(),t.charCodeAt(z)===41?(De=D,z++):(De=r,de===0&&Ee(it)),De!==r?I=je(W):(z=I,I=r)):(z=I,I=r)):(z=I,I=r),de--,I===r&&de===0&&Ee(ge),I}function on(){var I,q,W;return de++,I=z,t.substr(z,3)===M?(q=M,z+=3):(q=r,de===0&&Ee(sn)),q===r&&(t.substr(z,3)===V?(q=V,z+=3):(q=r,de===0&&Ee(Fe)),q===r&&(t.substr(z,7)===G?(q=G,z+=7):(q=r,de===0&&Ee(ve)),q===r&&(t.charCodeAt(z)===42?(q=B,z++):(q=r,de===0&&Ee(xt))))),q!==r?(mr(),W=xs(),W===r&&(W=null),I=rt(q,W)):(z=I,I=r),de--,I===r&&(q=r,de===0&&Ee(ht)),I}function mr(){var I,q;for(de++,I=[],q=t.charAt(z),we.test(q)?z++:(q=r,de===0&&Ee($t));q!==r;)I.push(q),q=t.charAt(z),we.test(q)?z++:(q=r,de===0&&Ee($t));return de--,q=r,de===0&&Ee(wt),I}if(ir=a(),e.peg$library)return{peg$result:ir,peg$currPos:z,peg$FAILED:r,peg$maxFailExpected:Wr,peg$maxFailPos:mt};if(ir!==r&&z===t.length)return ir;throw ir!==r&&z<t.length&&Ee(Xn()),sl(Wr,mt<t.length?t.charAt(mt):null,mt<t.length?nl(mt,mt+1):nl(mt,mt))}const Pu=0xffffffffffffffffn;function If(t,e){return(t<<e|t>>64n-e)&0xffffffffffffffffn}function my(t,e){return t*e&Pu}function UO(t){return function(){let e=BigInt(t&Pu),r=BigInt(t>>64n&Pu);const s=my(If(my(e,5n),7n),9n);return r^=e,e=(If(e,24n)^r^r<<16n)&Pu,r=If(r,37n),t=r<<64n|e,s}}const _c=UO(0xa187eb39cdcaed8f31c4b365b102e01en),qO=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>_c()))),WO=Array.from({length:8},()=>_c()),HO=Array.from({length:16},()=>_c()),Af=_c(),Tr="w",Yr="b",Kt="p",_h="n",Nu="b",_a="r",qs="q",Jt="k",Mf="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class gu{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(e,r){const{color:s,piece:o,from:a,to:u,flags:d,captured:h,promotion:m}=r,g=cr(a),y=cr(u);this.color=s,this.piece=o,this.from=g,this.to=y,this.san=e._moveToSan(r,e._moves({legal:!0})),this.lan=g+y,this.before=e.fen(),e._makeMove(r),this.after=e.fen(),e._undoMove(),this.flags="";for(const x in qe)qe[x]&d&&(this.flags+=mi[x]);h&&(this.captured=h),m&&(this.promotion=m,this.lan+=m)}isCapture(){return this.flags.indexOf(mi.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(mi.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(mi.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(mi.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(mi.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(mi.BIG_PAWN)>-1}}const yr=-1,mi={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},qe={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},Ch={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},QO={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},KO={...Ch,...QO},ze={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},Lf={b:[16,32,17,15],w:[-16,-32,-17,-15]},gy={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},GO=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],ZO=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],YO={p:1,n:2,b:4,r:8,q:16,k:32},XO="pnbrqkPNBRQK",vy=[_h,Nu,_a,qs],JO=7,e5=6,t5=1,r5=0,vu={[Jt]:qe.KSIDE_CASTLE,[qs]:qe.QSIDE_CASTLE},Vs={w:[{square:ze.a1,flag:qe.QSIDE_CASTLE},{square:ze.h1,flag:qe.KSIDE_CASTLE}],b:[{square:ze.a8,flag:qe.QSIDE_CASTLE},{square:ze.h8,flag:qe.KSIDE_CASTLE}]},n5={b:t5,w:e5},Ff="--";function bi(t){return t>>4}function Ka(t){return t&15}function Lw(t){return"0123456789".indexOf(t)!==-1}function cr(t){const e=Ka(t),r=bi(t);return"abcdefgh".substring(e,e+1)+"87654321".substring(r,r+1)}function pa(t){return t===Tr?Yr:Tr}function s5(t){const e=t.split(/\s+/);if(e.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const r=parseInt(e[5],10);if(isNaN(r)||r<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const s=parseInt(e[4],10);if(isNaN(s)||s<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(e[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(e[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(e[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const o=e[0].split("/");if(o.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let u=0;u<o.length;u++){let d=0,h=!1;for(let m=0;m<o[u].length;m++)if(Lw(o[u][m])){if(h)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};d+=parseInt(o[u][m],10),h=!0}else{if(!/^[prnbqkPRNBQK]$/.test(o[u][m]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};d+=1,h=!1}if(d!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(e[3][1]=="3"&&e[1]=="w"||e[3][1]=="6"&&e[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const a=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:u,regex:d}of a){if(!d.test(e[0]))return{ok:!1,error:`Invalid FEN: missing ${u} king`};if((e[0].match(d)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${u} kings`}}return Array.from(o[0]+o[7]).some(u=>u.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function i5(t,e){const r=t.from,s=t.to,o=t.piece;let a=0,u=0,d=0;for(let h=0,m=e.length;h<m;h++){const g=e[h].from,y=e[h].to,x=e[h].piece;o===x&&r!==g&&s===y&&(a++,bi(r)===bi(g)&&u++,Ka(r)===Ka(g)&&d++)}return a>0?u>0&&d>0?cr(r):d>0?cr(r).charAt(1):cr(r).charAt(0):""}function Bs(t,e,r,s,o,a=void 0,u=qe.NORMAL){const d=bi(s);if(o===Kt&&(d===JO||d===r5))for(let h=0;h<vy.length;h++){const m=vy[h];t.push({color:e,from:r,to:s,piece:o,captured:a,promotion:m,flags:u|qe.PROMOTION})}else t.push({color:e,from:r,to:s,piece:o,captured:a,flags:u})}function yy(t){let e=t.charAt(0);return e>="a"&&e<="h"?t.match(/[a-h]\d.*[a-h]\d/)?void 0:Kt:(e=e.toLowerCase(),e==="o"?Jt:e)}function zf(t){return t.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class gi{_board=new Array(128);_turn=Tr;_header={};_kings={w:yr,b:yr};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_hash=0n;_positionCount=new Map;constructor(e=Mf,{skipValidation:r=!1}={}){this.load(e,{skipValidation:r})}clear({preserveHeaders:e=!1}={}){this._board=new Array(128),this._kings={w:yr,b:yr},this._turn=Tr,this._castling={w:0,b:0},this._epSquare=yr,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:{...KO},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(e,{skipValidation:r=!1,preserveHeaders:s=!1}={}){let o=e.split(/\s+/);if(o.length>=2&&o.length<6){const d=["-","-","0","1"];e=o.concat(d.slice(-(6-o.length))).join(" ")}if(o=e.split(/\s+/),!r){const{ok:d,error:h}=s5(e);if(!d)throw new Error(h)}const a=o[0];let u=0;this.clear({preserveHeaders:s});for(let d=0;d<a.length;d++){const h=a.charAt(d);if(h==="/")u+=8;else if(Lw(h))u+=parseInt(h,10);else{const m=h<"a"?Tr:Yr;this._put({type:h.toLowerCase(),color:m},cr(u)),u++}}this._turn=o[1],o[2].indexOf("K")>-1&&(this._castling.w|=qe.KSIDE_CASTLE),o[2].indexOf("Q")>-1&&(this._castling.w|=qe.QSIDE_CASTLE),o[2].indexOf("k")>-1&&(this._castling.b|=qe.KSIDE_CASTLE),o[2].indexOf("q")>-1&&(this._castling.b|=qe.QSIDE_CASTLE),this._epSquare=o[3]==="-"?yr:ze[o[3]],this._halfMoves=parseInt(o[4],10),this._moveNumber=parseInt(o[5],10),this._hash=this._computeHash(),this._updateSetup(e),this._incPositionCount()}fen({forceEnpassantSquare:e=!1}={}){let r=0,s="";for(let u=ze.a8;u<=ze.h1;u++){if(this._board[u]){r>0&&(s+=r,r=0);const{color:d,type:h}=this._board[u];s+=d===Tr?h.toUpperCase():h.toLowerCase()}else r++;u+1&136&&(r>0&&(s+=r),u!==ze.h1&&(s+="/"),r=0,u+=8)}let o="";this._castling[Tr]&qe.KSIDE_CASTLE&&(o+="K"),this._castling[Tr]&qe.QSIDE_CASTLE&&(o+="Q"),this._castling[Yr]&qe.KSIDE_CASTLE&&(o+="k"),this._castling[Yr]&qe.QSIDE_CASTLE&&(o+="q"),o=o||"-";let a="-";if(this._epSquare!==yr)if(e)a=cr(this._epSquare);else{const u=this._epSquare+(this._turn===Tr?16:-16),d=[u+1,u-1];for(const h of d){if(h&136)continue;const m=this._turn;if(this._board[h]?.color===m&&this._board[h]?.type===Kt){this._makeMove({color:m,from:h,to:this._epSquare,piece:Kt,captured:Kt,flags:qe.EP_CAPTURE});const g=!this._isKingAttacked(m);if(this._undoMove(),g){a=cr(this._epSquare);break}}}}return[s,this._turn,o,a,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(e){if(!this._board[e])return 0n;const{color:r,type:s}=this._board[e],o={w:0,b:1}[r],a={p:0,n:1,b:2,r:3,q:4,k:5}[s];return qO[o][a][e]}_epKey(){return this._epSquare===yr?0n:WO[this._epSquare&7]}_castlingKey(){const e=this._castling.w>>5|this._castling.b>>3;return HO[e]}_computeHash(){let e=0n;for(let r=ze.a8;r<=ze.h1;r++){if(r&136){r+=7;continue}this._board[r]&&(e^=this._pieceKey(r))}return e^=this._epKey(),e^=this._castlingKey(),this._turn==="b"&&(e^=Af),e}_updateSetup(e){this._history.length>0||(e!==Mf?(this._header.SetUp="1",this._header.FEN=e):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(Mf)}get(e){return this._board[ze[e]]}findPiece(e){const r=[];for(let s=ze.a8;s<=ze.h1;s++){if(s&136){s+=7;continue}!this._board[s]||this._board[s]?.color!==e.color||this._board[s].color===e.color&&this._board[s].type===e.type&&r.push(cr(s))}return r}put({type:e,color:r},s){return this._put({type:e,color:r},s)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(e,r){this._hash^=this._pieceKey(e),this._board[e]=r,this._hash^=this._pieceKey(e)}_put({type:e,color:r},s){if(XO.indexOf(e.toLowerCase())===-1||!(s in ze))return!1;const o=ze[s];if(e==Jt&&!(this._kings[r]==yr||this._kings[r]==o))return!1;const a=this._board[o];return a&&a.type===Jt&&(this._kings[a.color]=yr),this._set(o,{type:e,color:r}),e===Jt&&(this._kings[r]=o),!0}_clear(e){this._hash^=this._pieceKey(e),delete this._board[e]}remove(e){const r=this.get(e);return this._clear(ze[e]),r&&r.type===Jt&&(this._kings[r.color]=yr),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),r}_updateCastlingRights(){this._hash^=this._castlingKey();const e=this._board[ze.e1]?.type===Jt&&this._board[ze.e1]?.color===Tr,r=this._board[ze.e8]?.type===Jt&&this._board[ze.e8]?.color===Yr;(!e||this._board[ze.a1]?.type!==_a||this._board[ze.a1]?.color!==Tr)&&(this._castling.w&=-65),(!e||this._board[ze.h1]?.type!==_a||this._board[ze.h1]?.color!==Tr)&&(this._castling.w&=-33),(!r||this._board[ze.a8]?.type!==_a||this._board[ze.a8]?.color!==Yr)&&(this._castling.b&=-65),(!r||this._board[ze.h8]?.type!==_a||this._board[ze.h8]?.color!==Yr)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){if(this._epSquare===yr)return;const e=this._epSquare+(this._turn===Tr?-16:16),r=this._epSquare+(this._turn===Tr?16:-16),s=[r+1,r-1];if(this._board[e]!==null||this._board[this._epSquare]!==null||this._board[r]?.color!==pa(this._turn)||this._board[r]?.type!==Kt){this._hash^=this._epKey(),this._epSquare=yr;return}const o=a=>!(a&136)&&this._board[a]?.color===this._turn&&this._board[a]?.type===Kt;s.some(o)||(this._hash^=this._epKey(),this._epSquare=yr)}_attacked(e,r,s){const o=[];for(let a=ze.a8;a<=ze.h1;a++){if(a&136){a+=7;continue}if(this._board[a]===void 0||this._board[a].color!==e)continue;const u=this._board[a],d=a-r;if(d===0)continue;const h=d+119;if(GO[h]&YO[u.type]){if(u.type===Kt){if(d>0&&u.color===Tr||d<=0&&u.color===Yr)if(s)o.push(cr(a));else return!0;continue}if(u.type==="n"||u.type==="k")if(s){o.push(cr(a));continue}else return!0;const m=ZO[h];let g=a+m,y=!1;for(;g!==r;){if(this._board[g]!=null){y=!0;break}g+=m}if(!y)if(s){o.push(cr(a));continue}else return!0}}return s?o:!1}attackers(e,r){return r?this._attacked(r,ze[e],!0):this._attacked(this._turn,ze[e],!0)}_isKingAttacked(e){const r=this._kings[e];return r===-1?!1:this._attacked(pa(e),r)}hash(){return this._hash.toString(16)}isAttacked(e,r){return this._attacked(r,ze[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},r=[];let s=0,o=0;for(let a=ze.a8;a<=ze.h1;a++){if(o=(o+1)%2,a&136){a+=7;continue}const u=this._board[a];u&&(e[u.type]=u.type in e?e[u.type]+1:1,u.type===Nu&&r.push(o),s++)}if(s===2)return!0;if(s===3&&(e[Nu]===1||e[_h]===1))return!0;if(s===e[Nu]+2){let a=0;const u=r.length;for(let d=0;d<u;d++)a+=r[d];if(a===0||a===u)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:e=!1,square:r=void 0,piece:s=void 0}={}){const o=this._moves({square:r,piece:s});return e?o.map(a=>new gu(this,a)):o.map(a=>this._moveToSan(a,o))}_moves({legal:e=!0,piece:r=void 0,square:s=void 0}={}){const o=s?s.toLowerCase():void 0,a=r?.toLowerCase(),u=[],d=this._turn,h=pa(d);let m=ze.a8,g=ze.h1,y=!1;if(o)if(o in ze)m=g=ze[o],y=!0;else return[];for(let S=m;S<=g;S++){if(S&136){S+=7;continue}if(!this._board[S]||this._board[S].color===h)continue;const{type:k}=this._board[S];let _;if(k===Kt){if(a&&a!==k)continue;_=S+Lf[d][0],this._board[_]||(Bs(u,d,S,_,Kt),_=S+Lf[d][1],n5[d]===bi(S)&&!this._board[_]&&Bs(u,d,S,_,Kt,void 0,qe.BIG_PAWN));for(let C=2;C<4;C++)_=S+Lf[d][C],!(_&136)&&(this._board[_]?.color===h?Bs(u,d,S,_,Kt,this._board[_].type,qe.CAPTURE):_===this._epSquare&&Bs(u,d,S,_,Kt,Kt,qe.EP_CAPTURE))}else{if(a&&a!==k)continue;for(let C=0,P=gy[k].length;C<P;C++){const T=gy[k][C];for(_=S;_+=T,!(_&136);){if(!this._board[_])Bs(u,d,S,_,k);else{if(this._board[_].color===d)break;Bs(u,d,S,_,k,this._board[_].type,qe.CAPTURE);break}if(k===_h||k===Jt)break}}}}if((a===void 0||a===Jt)&&(!y||g===this._kings[d])){if(this._castling[d]&qe.KSIDE_CASTLE){const S=this._kings[d],k=S+2;!this._board[S+1]&&!this._board[k]&&!this._attacked(h,this._kings[d])&&!this._attacked(h,S+1)&&!this._attacked(h,k)&&Bs(u,d,this._kings[d],k,Jt,void 0,qe.KSIDE_CASTLE)}if(this._castling[d]&qe.QSIDE_CASTLE){const S=this._kings[d],k=S-2;!this._board[S-1]&&!this._board[S-2]&&!this._board[S-3]&&!this._attacked(h,this._kings[d])&&!this._attacked(h,S-1)&&!this._attacked(h,k)&&Bs(u,d,this._kings[d],k,Jt,void 0,qe.QSIDE_CASTLE)}}if(!e||this._kings[d]===-1)return u;const x=[];for(let S=0,k=u.length;S<k;S++)this._makeMove(u[S]),this._isKingAttacked(d)||x.push(u[S]),this._undoMove();return x}move(e,{strict:r=!1}={}){let s=null;if(typeof e=="string")s=this._moveFromSan(e,r);else if(e===null)s=this._moveFromSan(Ff,r);else if(typeof e=="object"){const a=this._moves();for(let u=0,d=a.length;u<d;u++)if(e.from===cr(a[u].from)&&e.to===cr(a[u].to)&&(!("promotion"in a[u])||e.promotion===a[u].promotion)){s=a[u];break}}if(!s)throw typeof e=="string"?new Error(`Invalid move: ${e}`):new Error(`Invalid move: ${JSON.stringify(e)}`);if(this.isCheck()&&s.flags&qe.NULL_MOVE)throw new Error("Null move not allowed when in check");const o=new gu(this,s);return this._makeMove(s),this._incPositionCount(),o}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(e,r){this._hash^=this._pieceKey(e),this._board[r]=this._board[e],delete this._board[e],this._hash^=this._pieceKey(r)}_makeMove(e){const r=this._turn,s=pa(r);if(this._push(e),e.flags&qe.NULL_MOVE){r===Yr&&this._moveNumber++,this._halfMoves++,this._turn=s,this._epSquare=yr;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),e.captured&&(this._hash^=this._pieceKey(e.to)),this._movePiece(e.from,e.to),e.flags&qe.EP_CAPTURE&&(this._turn===Yr?this._clear(e.to-16):this._clear(e.to+16)),e.promotion&&(this._clear(e.to),this._set(e.to,{type:e.promotion,color:r})),this._board[e.to].type===Jt){if(this._kings[r]=e.to,e.flags&qe.KSIDE_CASTLE){const o=e.to-1,a=e.to+1;this._movePiece(a,o)}else if(e.flags&qe.QSIDE_CASTLE){const o=e.to+1,a=e.to-2;this._movePiece(a,o)}this._castling[r]=0}if(this._castling[r]){for(let o=0,a=Vs[r].length;o<a;o++)if(e.from===Vs[r][o].square&&this._castling[r]&Vs[r][o].flag){this._castling[r]^=Vs[r][o].flag;break}}if(this._castling[s]){for(let o=0,a=Vs[s].length;o<a;o++)if(e.to===Vs[s][o].square&&this._castling[s]&Vs[s][o].flag){this._castling[s]^=Vs[s][o].flag;break}}if(this._hash^=this._castlingKey(),e.flags&qe.BIG_PAWN){let o;r===Yr?o=e.to-16:o=e.to+16,!(e.to-1&136)&&this._board[e.to-1]?.type===Kt&&this._board[e.to-1]?.color===s||!(e.to+1&136)&&this._board[e.to+1]?.type===Kt&&this._board[e.to+1]?.color===s?(this._epSquare=o,this._hash^=this._epKey()):this._epSquare=yr}else this._epSquare=yr;e.piece===Kt?this._halfMoves=0:e.flags&(qe.CAPTURE|qe.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,r===Yr&&this._moveNumber++,this._turn=s,this._hash^=Af}undo(){const e=this._hash,r=this._undoMove();if(r){const s=new gu(this,r);return this._decPositionCount(e),s}return null}_undoMove(){const e=this._history.pop();if(e===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const r=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Af;const s=this._turn,o=pa(s);if(r.flags&qe.NULL_MOVE)return r;if(this._movePiece(r.to,r.from),r.piece&&(this._clear(r.from),this._set(r.from,{type:r.piece,color:s})),r.captured)if(r.flags&qe.EP_CAPTURE){let a;s===Yr?a=r.to-16:a=r.to+16,this._set(a,{type:Kt,color:o})}else this._set(r.to,{type:r.captured,color:o});if(r.flags&(qe.KSIDE_CASTLE|qe.QSIDE_CASTLE)){let a,u;r.flags&qe.KSIDE_CASTLE?(a=r.to+1,u=r.to-1):(a=r.to-2,u=r.to+1),this._movePiece(u,a)}return r}pgn({newline:e=`
`,maxWidth:r=0}={}){const s=[];let o=!1;for(const x in this._header)this._header[x]&&s.push(`[${x} "${this._header[x]}"]`+e),o=!0;o&&this._history.length&&s.push(e);const a=x=>{const S=this._comments[this.fen()];if(typeof S<"u"){const k=x.length>0?" ":"";x=`${x}${k}{${S}}`}return x},u=[];for(;this._history.length>0;)u.push(this._undoMove());const d=[];let h="";for(u.length===0&&d.push(a(""));u.length>0;){h=a(h);const x=u.pop();if(!x)break;if(!this._history.length&&x.color==="b"){const S=`${this._moveNumber}. ...`;h=h?`${h} ${S}`:S}else x.color==="w"&&(h.length&&d.push(h),h=this._moveNumber+".");h=h+" "+this._moveToSan(x,this._moves({legal:!0})),this._makeMove(x)}if(h.length&&d.push(a(h)),d.push(this._header.Result||"*"),r===0)return s.join("")+d.join(" ");const m=function(){return s.length>0&&s[s.length-1]===" "?(s.pop(),!0):!1},g=function(x,S){for(const k of S.split(" "))if(k){if(x+k.length>r){for(;m();)x--;s.push(e),x=0}s.push(k),x+=k.length,s.push(" "),x++}return m()&&x--,x};let y=0;for(let x=0;x<d.length;x++){if(y+d[x].length>r&&d[x].includes("{")){y=g(y,d[x]);continue}y+d[x].length>r&&x!==0?(s[s.length-1]===" "&&s.pop(),s.push(e),y=0):x!==0&&(s.push(" "),y++),s.push(d[x]),y+=d[x].length}return s.join("")}header(...e){for(let r=0;r<e.length;r+=2)typeof e[r]=="string"&&typeof e[r+1]=="string"&&(this._header[e[r]]=e[r+1]);return this._header}setHeader(e,r){return this._header[e]=r??Ch[e]??null,this.getHeaders()}removeHeader(e){return e in this._header?(this._header[e]=Ch[e]||null,!0):!1}getHeaders(){const e={};for(const[r,s]of Object.entries(this._header))s!==null&&(e[r]=s);return e}loadPgn(e,{strict:r=!1,newlineChar:s=`\r?
`}={}){s!==`\r?
`&&(e=e.replace(new RegExp(s,"g"),`
`));const o=BO(e);this.reset();const a=o.headers;let u="";for(const m in a)m.toLowerCase()==="fen"&&(u=a[m]),this.header(m,a[m]);if(!r)u&&this.load(u,{preserveHeaders:!0});else if(a.SetUp==="1"){if(!("FEN"in a))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(a.FEN,{preserveHeaders:!0})}let d=o.root;for(;d;){if(d.move){const m=this._moveFromSan(d.move,r);if(m==null)throw new Error(`Invalid move in PGN: ${d.move}`);this._makeMove(m),this._incPositionCount()}d.comment!==void 0&&(this._comments[this.fen()]=d.comment),d=d.variations[0]}const h=o.result;h&&Object.keys(this._header).length&&this._header.Result!==h&&this.setHeader("Result",h)}_moveToSan(e,r){let s="";if(e.flags&qe.KSIDE_CASTLE)s="O-O";else if(e.flags&qe.QSIDE_CASTLE)s="O-O-O";else{if(e.flags&qe.NULL_MOVE)return Ff;if(e.piece!==Kt){const o=i5(e,r);s+=e.piece.toUpperCase()+o}e.flags&(qe.CAPTURE|qe.EP_CAPTURE)&&(e.piece===Kt&&(s+=cr(e.from)[0]),s+="x"),s+=cr(e.to),e.promotion&&(s+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?s+="#":s+="+"),this._undoMove(),s}_moveFromSan(e,r=!1){let s=zf(e);if(r||(s==="0-0"?s="O-O":s==="0-0-0"&&(s="O-O-O")),s==Ff)return{color:this._turn,from:0,to:0,piece:"k",flags:qe.NULL_MOVE};let o=yy(s),a=this._moves({legal:!0,piece:o});for(let x=0,S=a.length;x<S;x++)if(s===zf(this._moveToSan(a[x],a)))return a[x];if(r)return null;let u,d,h,m,g,y=!1;if(d=s.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),d?(u=d[1],h=d[2],m=d[3],g=d[4],h.length==1&&(y=!0)):(d=s.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),d&&(u=d[1],h=d[2],m=d[3],g=d[4],h.length==1&&(y=!0))),o=yy(s),a=this._moves({legal:!0,piece:u||o}),!m)return null;for(let x=0,S=a.length;x<S;x++)if(h){if((!u||u.toLowerCase()==a[x].piece)&&ze[h]==a[x].from&&ze[m]==a[x].to&&(!g||g.toLowerCase()==a[x].promotion))return a[x];if(y){const k=cr(a[x].from);if((!u||u.toLowerCase()==a[x].piece)&&ze[m]==a[x].to&&(h==k[0]||h==k[1])&&(!g||g.toLowerCase()==a[x].promotion))return a[x]}}else if(s===zf(this._moveToSan(a[x],a)).replace("x",""))return a[x];return null}ascii(){let e=`   +------------------------+
`;for(let r=ze.a8;r<=ze.h1;r++){if(Ka(r)===0&&(e+=" "+"87654321"[bi(r)]+" |"),this._board[r]){const s=this._board[r].type,a=this._board[r].color===Tr?s.toUpperCase():s.toLowerCase();e+=" "+a+" "}else e+=" . ";r+1&136&&(e+=`|
`,r+=8)}return e+=`   +------------------------+
`,e+="     a  b  c  d  e  f  g  h",e}perft(e){const r=this._moves({legal:!1});let s=0;const o=this._turn;for(let a=0,u=r.length;a<u;a++)this._makeMove(r[a]),this._isKingAttacked(o)||(e-1>0?s+=this.perft(e-1):s++),this._undoMove();return s}setTurn(e){return this._turn==e?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const e=[];let r=[];for(let s=ze.a8;s<=ze.h1;s++)this._board[s]==null?r.push(null):r.push({square:cr(s),type:this._board[s].type,color:this._board[s].color}),s+1&136&&(e.push(r),r=[],s+=8);return e}squareColor(e){if(e in ze){const r=ze[e];return(bi(r)+Ka(r))%2===0?"light":"dark"}return null}history({verbose:e=!1}={}){const r=[],s=[];for(;this._history.length>0;)r.push(this._undoMove());for(;;){const o=r.pop();if(!o)break;e?s.push(new gu(this,o)):s.push(this._moveToSan(o,this._moves())),this._makeMove(o)}return s}_getPositionCount(e){return this._positionCount.get(e)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(e){const r=this._positionCount.get(e)??0;r===1?this._positionCount.delete(e):this._positionCount.set(e,r-1)}_pruneComments(){const e=[],r={},s=o=>{o in this._comments&&(r[o]=this._comments[o])};for(;this._history.length>0;)e.push(this._undoMove());for(s(this.fen());;){const o=e.pop();if(!o)break;this._makeMove(o),s(this.fen())}this._comments=r}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const r=this._comments[e];return delete this._comments[e],{fen:e,comment:r}})}setCastlingRights(e,r){for(const o of[Jt,qs])r[o]!==void 0&&(r[o]?this._castling[e]|=vu[o]:this._castling[e]&=~vu[o]);this._updateCastlingRights();const s=this.getCastlingRights(e);return(r[Jt]===void 0||r[Jt]===s[Jt])&&(r[qs]===void 0||r[qs]===s[qs])}getCastlingRights(e){return{[Jt]:(this._castling[e]&vu[Jt])!==0,[qs]:(this._castling[e]&vu[qs])!==0}}moveNumber(){return this._moveNumber}}const o5="https://cdn.jsdelivr.net/npm/stockfish@15.0.0/src/stockfish.min.js";let ma=null;function a5(){return ma||(ma=fetch(o5).then(t=>t.blob()).then(t=>URL.createObjectURL(t)).catch(t=>{throw console.error("Failed to load Stockfish",t),ma=null,t}),ma)}function l5(t,e=10){const[r,s]=w.useState(null),[o,a]=w.useState("0.0"),[u,d]=w.useState(!1),h=w.useRef(null),m=w.useRef("w");w.useEffect(()=>{let y=!1;return a5().then(x=>{if(y)return;const S=new Worker(x);S.onmessage=C=>{const P=C.data;if(typeof P=="string"){if(P.startsWith("bestmove")){const T=P.split(" ")[1];T&&(s(T),d(!1))}else if(P.includes("score cp")){const T=P.match(/score cp (-?\d+)/);if(T){let D=parseInt(T[1])/100;m.current==="b"&&(D=-D),a(D.toFixed(2))}}else if(P.includes("score mate")){const T=P.match(/score mate (-?\d+)/);if(T){let D=parseInt(T[1]);m.current==="b"&&(D=-D),a(D>0?`M${Math.abs(D)}`:`-M${Math.abs(D)}`)}}}};const k=Math.min(4,navigator.hardwareConcurrency||1),_=Math.max(0,Math.min(20,e));S.postMessage("uci"),S.postMessage(`setoption name Threads value ${k}`),S.postMessage("setoption name Hash value 128"),S.postMessage("setoption name MultiPV value 1"),S.postMessage(`setoption name Skill Level value ${_}`),S.postMessage(`setoption name UCI_LimitStrength value ${_<20}`),S.postMessage(`setoption name UCI_Elo value ${_*100+800}`),S.postMessage("setoption name Ponder value false"),S.postMessage("isready"),h.current=S}).catch(x=>console.error("Failed to load Stockfish",x)),()=>{y=!0,h.current?.terminate(),h.current=null}},[]),w.useEffect(()=>{if(h.current){const y=Math.max(0,Math.min(20,e));h.current.postMessage(`setoption name Skill Level value ${y}`),h.current.postMessage(`setoption name UCI_LimitStrength value ${y<20}`),h.current.postMessage(`setoption name UCI_Elo value ${y*100+800}`)}},[e]);const g=w.useCallback(y=>{if(!h.current)return;d(!0),s(null);const x=y.split(" ");x.length>1&&(m.current=x[1]),h.current.postMessage(`position fen ${y}`),h.current.postMessage("go movetime 1500")},[]);return{bestMove:r,evaluation:o,isThinking:u,search:g}}const Fw=w.createContext({dragDropManager:void 0});function hn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var xy=typeof Symbol=="function"&&Symbol.observable||"@@observable",wy=function(){return Math.random().toString(36).substring(7).split("").join(".")},by={INIT:"@@redux/INIT"+wy(),REPLACE:"@@redux/REPLACE"+wy()};function zw(t,e,r){var s;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(hn(0));if(typeof e=="function"&&r===void 0&&(r=e,e=void 0),r!==void 0){if(typeof r!="function")throw new Error(hn(1));return r(zw)(t,e)}if(typeof t!="function")throw new Error(hn(2));var o=t,a=e,u=[],d=u,h=!1;function m(){d===u&&(d=u.slice())}function g(){if(h)throw new Error(hn(3));return a}function y(S){if(typeof S!="function")throw new Error(hn(4));if(h)throw new Error(hn(5));var k=!0;return m(),d.push(S),function(){if(k){if(h)throw new Error(hn(6));k=!1,m();var _=d.indexOf(S);d.splice(_,1),u=null}}}function x(S){if(!(function(C){if(typeof C!="object"||C===null)return!1;for(var P=C;Object.getPrototypeOf(P)!==null;)P=Object.getPrototypeOf(P);return Object.getPrototypeOf(C)===P})(S))throw new Error(hn(7));if(S.type===void 0)throw new Error(hn(8));if(h)throw new Error(hn(9));try{h=!0,a=o(a,S)}finally{h=!1}for(var k=u=d,_=0;_<k.length;_++)(0,k[_])();return S}return x({type:by.INIT}),(s={dispatch:x,subscribe:y,getState:g,replaceReducer:function(S){if(typeof S!="function")throw new Error(hn(10));o=S,x({type:by.REPLACE})}})[xy]=function(){var S,k=y;return(S={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(hn(11));function C(){_.next&&_.next(g())}return C(),{unsubscribe:k(C)}}})[xy]=function(){return this},S},s}function Ge(t,e,...r){if(typeof process<"u"&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let s;if(e===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;s=new Error(e.replace(/%s/g,(function(){return r[o++]}))),s.name="Invariant Violation"}throw s.framesToPop=1,s}}function $w(t){return typeof t=="object"}const fp="dnd-core/INIT_COORDS",hp="dnd-core/BEGIN_DRAG",Vw="dnd-core/PUBLISH_DRAG_SOURCE",Cc="dnd-core/HOVER",pp="dnd-core/DROP",mp="dnd-core/END_DRAG";function Sy(t,e){return{type:fp,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const u5={type:fp,payload:{clientOffset:null,sourceClientOffset:null}};function c5(t){return function(e=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:o,getSourceClientOffset:a}=r,u=t.getMonitor(),d=t.getRegistry();t.dispatch(Sy(o)),(function(x,S,k){Ge(!S.isDragging(),"Cannot call beginDrag while dragging."),x.forEach((function(_){Ge(k.getSource(_),"Expected sourceIds to be registered.")}))})(e,u,d);const h=(function(x,S){let k=null;for(let _=x.length-1;_>=0;_--)if(S.canDragSource(x[_])){k=x[_];break}return k})(e,u);if(h==null)return void t.dispatch(u5);let m=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");(function(x){Ge(typeof x=="function","When clientOffset is provided, getSourceClientOffset must be a function.")})(a),m=a(h)}t.dispatch(Sy(o,m));const g=d.getSource(h).beginDrag(u,h);if(g==null)return;(function(x){Ge($w(x),"Item must be an object.")})(g),d.pinSource(h);const y=d.getSourceType(h);return{type:hp,payload:{itemType:y,item:g,sourceId:h,clientOffset:o||null,sourceClientOffset:m||null,isSourcePublic:!!s}}}}function d5(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})))),s.forEach((function(o){d5(t,o,r[o])}))}return t}function h5(t){return function(e={}){const r=t.getMonitor(),s=t.getRegistry();(function(a){Ge(a.isDragging(),"Cannot call drop while not dragging."),Ge(!a.didDrop(),"Cannot call drop twice during one drag operation.")})(r),(function(a){const u=a.getTargetIds().filter(a.canDropOnTarget,a);return u.reverse(),u})(r).forEach(((a,u)=>{const d=(function(m,g,y,x){const S=y.getTarget(m);let k=S?S.drop(x,m):void 0;return(function(_){Ge(_===void 0||$w(_),"Drop result must either be an object or undefined.")})(k),k===void 0&&(k=g===0?{}:x.getDropResult()),k})(a,u,s,r),h={type:pp,payload:{dropResult:f5({},e,d)}};t.dispatch(h)}))}}function p5(t){return function(){const e=t.getMonitor(),r=t.getRegistry();(function(o){Ge(o.isDragging(),"Cannot call endDrag while not dragging.")})(e);const s=e.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(e,s),r.unpinSource()),{type:mp}}}function kh(t,e){return e===null?t===null:Array.isArray(t)?t.some((r=>r===e)):t===e}function m5(t){return function(e,{clientOffset:r}={}){(function(u){Ge(Array.isArray(u),"Expected targetIds to be an array.")})(e);const s=e.slice(0),o=t.getMonitor(),a=t.getRegistry();return(function(u,d,h){for(let m=u.length-1;m>=0;m--){const g=u[m];kh(d.getTargetType(g),h)||u.splice(m,1)}})(s,a,o.getItemType()),(function(u,d,h){Ge(d.isDragging(),"Cannot call hover while not dragging."),Ge(!d.didDrop(),"Cannot call hover after drop.");for(let m=0;m<u.length;m++){const g=u[m];Ge(u.lastIndexOf(g)===m,"Expected targetIds to be unique in the passed array."),Ge(h.getTarget(g),"Expected targetIds to be registered.")}})(s,o,a),(function(u,d,h){u.forEach((function(m){h.getTarget(m).hover(d,m)}))})(s,o,a),{type:Cc,payload:{targetIds:s,clientOffset:r||null}}}}function g5(t){return function(){if(t.getMonitor().isDragging())return{type:Vw}}}class v5{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:r}=this.store,s=(function(o){return{beginDrag:c5(o),publishDragSource:g5(o),hover:m5(o),drop:h5(o),endDrag:p5(o)}})(this);return Object.keys(s).reduce(((o,a)=>{const u=s[a];var d;return o[a]=(d=u,(...h)=>{const m=d.apply(e,h);m!==void 0&&r(m)}),o}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const s=this.store.getState().refCount>0;this.backend&&(s&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!s&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=r,e.subscribe(this.handleRefCountChange)}}function _y(t,e){return{x:t.x-e.x,y:t.y-e.y}}const Na=[],gp=[];Na.__IS_NONE__=!0,gp.__IS_ALL__=!0;class y5{subscribeToStateChange(e,r={}){const{handlerIds:s}=r;Ge(typeof e=="function","listener must be a function."),Ge(s===void 0||Array.isArray(s),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;return this.store.subscribe((()=>{const a=this.store.getState(),u=a.stateId;try{u===o||u===o+1&&!(function(h,m){return h!==Na&&(h===gp||m===void 0||(g=h,m.filter((y=>g.indexOf(y)>-1))).length>0);var g})(a.dirtyHandlerIds,s)||e()}finally{o=u}}))}subscribeToOffsetChange(e){Ge(typeof e=="function","listener must be a function.");let r=this.store.getState().dragOffset;return this.store.subscribe((()=>{const s=this.store.getState().dragOffset;s!==r&&(r=s,e())}))}canDragSource(e){if(!e)return!1;const r=this.registry.getSource(e);return Ge(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&r.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const r=this.registry.getTarget(e);return Ge(r,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop()?!1:kh(this.registry.getTargetType(e),this.getItemType())&&r.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const r=this.registry.getSource(e,!0);return Ge(r,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic()?!1:this.registry.getSourceType(e)===this.getItemType()&&r.isDragging(this,e)}isOverTarget(e,r={shallow:!1}){if(!e)return!1;const{shallow:s}=r;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),a=this.getItemType();if(a&&!kh(o,a))return!1;const u=this.getTargetIds();if(!u.length)return!1;const d=u.indexOf(e);return s?d===u.length-1:d>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return(function(e){const{clientOffset:r,initialClientOffset:s,initialSourceClientOffset:o}=e;return r&&s&&o?_y((u=o,{x:(a=r).x+u.x,y:a.y+u.y}),s):null;var a,u})(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return(function(e){const{clientOffset:r,initialClientOffset:s}=e;return r&&s?_y(r,s):null})(this.store.getState().dragOffset)}constructor(e,r){this.store=e,this.registry=r}}const Cy=typeof global<"u"?global:self,ky=Cy.MutationObserver||Cy.WebKitMutationObserver;function Bw(t){return function(){const e=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(e),clearInterval(r),t()}}}const x5=typeof ky=="function"?function(t){let e=1;const r=new ky(t),s=document.createTextNode("");return r.observe(s,{characterData:!0}),function(){e=-e,s.data=e}}:Bw;class w5{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,r){this.onError=e,this.release=r,this.task=null}}const Uw=new class{enqueueTask(t){const{queue:e,requestFlush:r}=this;e.length||(r(),this.flushing=!0),e[e.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const e=this.index;if(this.index++,t[e].call(),this.index>this.capacity){for(let r=0,s=t.length-this.index;r<s;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=x5(this.flush),this.requestErrorThrow=Bw((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},b5=new class{create(t){const e=this.freeTasks,r=e.length?e.pop():new w5(this.onError,(s=>e[e.length]=s));return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}(Uw.registerPendingError),vp="dnd-core/ADD_SOURCE",yp="dnd-core/ADD_TARGET",xp="dnd-core/REMOVE_SOURCE",kc="dnd-core/REMOVE_TARGET";function Eh(t,e){e&&Array.isArray(t)?t.forEach((r=>Eh(r,!1))):Ge(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var mn;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(mn||(mn={}));let S5=0;function _5(t){const e=(S5++).toString();switch(t){case mn.SOURCE:return`S${e}`;case mn.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Ey(t){switch(t[0]){case"S":return mn.SOURCE;case"T":return mn.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function Ty(t,e){const r=t.entries();let s=!1;do{const{done:o,value:[,a]}=r.next();if(a===e)return!0;s=!!o}while(!s);return!1}class C5{addSource(e,r){Eh(e),(function(o){Ge(typeof o.canDrag=="function","Expected canDrag to be a function."),Ge(typeof o.beginDrag=="function","Expected beginDrag to be a function."),Ge(typeof o.endDrag=="function","Expected endDrag to be a function.")})(r);const s=this.addHandler(mn.SOURCE,e,r);return this.store.dispatch((function(o){return{type:vp,payload:{sourceId:o}}})(s)),s}addTarget(e,r){Eh(e,!0),(function(o){Ge(typeof o.canDrop=="function","Expected canDrop to be a function."),Ge(typeof o.hover=="function","Expected hover to be a function."),Ge(typeof o.drop=="function","Expected beginDrag to be a function.")})(r);const s=this.addHandler(mn.TARGET,e,r);return this.store.dispatch((function(o){return{type:yp,payload:{targetId:o}}})(s)),s}containsHandler(e){return Ty(this.dragSources,e)||Ty(this.dropTargets,e)}getSource(e,r=!1){return Ge(this.isSourceId(e),"Expected a valid source ID."),r&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Ge(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Ge(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Ge(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Ey(e)===mn.SOURCE}isTargetId(e){return Ey(e)===mn.TARGET}removeSource(e){var r;Ge(this.getSource(e),"Expected an existing source."),this.store.dispatch((function(s){return{type:xp,payload:{sourceId:s}}})(e)),r=()=>{this.dragSources.delete(e),this.types.delete(e)},Uw.enqueueTask(b5.create(r))}removeTarget(e){Ge(this.getTarget(e),"Expected an existing target."),this.store.dispatch((function(r){return{type:kc,payload:{targetId:r}}})(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const r=this.getSource(e);Ge(r,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=r}unpinSource(){Ge(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,r,s){const o=_5(e);return this.types.set(o,r),e===mn.SOURCE?this.dragSources.set(o,s):e===mn.TARGET&&this.dropTargets.set(o,s),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const k5=(t,e)=>t===e;function E5(t=Na,e){switch(e.type){case Cc:break;case vp:case yp:case kc:case xp:return Na;default:return gp}const{targetIds:r=[],prevTargetIds:s=[]}=e.payload,o=(function(d,h){const m=new Map,g=x=>{m.set(x,m.has(x)?m.get(x)+1:1)};d.forEach(g),h.forEach(g);const y=[];return m.forEach(((x,S)=>{x===1&&y.push(S)})),y})(r,s);if(!(o.length>0||!(function(d,h,m=k5){if(d.length!==h.length)return!1;for(let g=0;g<d.length;++g)if(!m(d[g],h[g]))return!1;return!0})(r,s)))return Na;const a=s[s.length-1],u=r[r.length-1];return a!==u&&(a&&o.push(a),u&&o.push(u)),o}function T5(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Py={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function P5(t=Py,e){const{payload:r}=e;switch(e.type){case fp:case hp:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case Cc:return s=t.clientOffset,o=r.clientOffset,!s&&!o||s&&o&&s.x===o.x&&s.y===o.y?t:(function(a){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{},h=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(d).filter((function(m){return Object.getOwnPropertyDescriptor(d,m).enumerable})))),h.forEach((function(m){T5(a,m,d[m])}))}return a})({},t,{clientOffset:r.clientOffset});case mp:case pp:return Py;default:return t}var s,o}function N5(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})))),s.forEach((function(o){N5(t,o,r[o])}))}return t}const O5={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function j5(t=O5,e){const{payload:r}=e;switch(e.type){case hp:return io({},t,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case Vw:return io({},t,{isSourcePublic:!0});case Cc:return io({},t,{targetIds:r.targetIds});case kc:return t.targetIds.indexOf(r.targetId)===-1?t:io({},t,{targetIds:(s=t.targetIds,o=r.targetId,s.filter((a=>a!==o)))});case pp:return io({},t,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case mp:return io({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}var s,o}function R5(t=0,e){switch(e.type){case vp:case yp:return t+1;case xp:case kc:return t-1;default:return t}}function D5(t=0){return t+1}function I5(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})))),s.forEach((function(o){I5(t,o,r[o])}))}return t}function M5(t={},e){return{dirtyHandlerIds:E5(t.dirtyHandlerIds,{type:e.type,payload:A5({},e.payload,{prevTargetIds:(r=t,s="dragOperation.targetIds",o=[],s.split(".").reduce(((a,u)=>a&&a[u]?a[u]:o||null),r))})}),dragOffset:P5(t.dragOffset,e),refCount:R5(t.refCount,e),dragOperation:j5(t.dragOperation,e),stateId:D5(t.stateId)};var r,s,o}function L5(t,e=void 0,r={},s=!1){const o=(function(h){const m=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return zw(M5,h&&m&&m({name:"dnd-core",instanceId:"dnd-core"}))})(s),a=new y5(o,new C5(o)),u=new v5(o,a),d=t(u,e,r);return u.receiveBackend(d),u}function F5(t,e){if(t==null)return{};var r,s,o=(function(u,d){if(u==null)return{};var h,m,g={},y=Object.keys(u);for(m=0;m<y.length;m++)h=y[m],d.indexOf(h)>=0||(g[h]=u[h]);return g})(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}let Ny=0;const yu=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var z5=w.memo((function(t){var{children:e}=t,r=F5(t,["children"]);const[s,o]=(function(a){if("manager"in a)return[{dragDropManager:a.manager},!1];const u=(function(h,m=Oy(),g,y){const x=m;return x[yu]||(x[yu]={dragDropManager:L5(h,m,g,y)}),x[yu]})(a.backend,a.context,a.options,a.debugMode),d=!a.context;return[u,d]})(r);return w.useEffect((()=>{if(o){const a=Oy();return++Ny,()=>{--Ny==0&&(a[yu]=null)}}}),[]),f.jsx(Fw.Provider,{value:s,children:e})}));function Oy(){return typeof global<"u"?global:window}var $5=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,o,a;if(Array.isArray(e)){if((s=e.length)!=r.length)return!1;for(o=s;o--!=0;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((s=(a=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(o=s;o--!=0;)if(!Object.prototype.hasOwnProperty.call(r,a[o]))return!1;for(o=s;o--!=0;){var u=a[o];if(!t(e[u],r[u]))return!1}return!0}return e!=e&&r!=r};const Pi=typeof window<"u"?w.useLayoutEffect:w.useEffect;function qw(t,e,r){const[s,o]=w.useState((()=>e(t))),a=w.useCallback((()=>{const u=e(t);$5(s,u)||(o(u),r&&r())}),[s,t,r]);return Pi(a),[s,a]}function Ww(t,e,r){return(function(s,o,a){const[u,d]=qw(s,o,a);return Pi((function(){const h=s.getHandlerId();if(h!=null)return s.subscribeToStateChange(d,{handlerIds:[h]})}),[s,d]),u})(e,t||(()=>({})),(()=>r.reconnect()))}function Hw(t,e){const r=[...e||[]];return e==null&&typeof t!="function"&&r.push(t),w.useMemo((()=>typeof t=="function"?t():t),r)}function V5(t){return w.useMemo((()=>t.hooks.dragSource()),[t])}function B5(t){return w.useMemo((()=>t.hooks.dragPreview()),[t])}let $f=!1,Vf=!1;class U5{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Ge(!$f,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return $f=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{$f=!1}}isDragging(){if(!this.sourceId)return!1;Ge(!Vf,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Vf=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Vf=!1}}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,r){return this.internalMonitor.isOverTarget(e,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Bf=!1;class q5{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,r){return this.internalMonitor.subscribeToStateChange(e,r)}canDrop(){if(!this.targetId)return!1;Ge(!Bf,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Bf=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Bf=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function Th(t,e,r,s){let o;if(o!==void 0)return!!o;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const a=Object.keys(t),u=Object.keys(e);if(a.length!==u.length)return!1;const d=Object.prototype.hasOwnProperty.bind(e);for(let h=0;h<a.length;h++){const m=a[h];if(!d(m))return!1;const g=t[m],y=e[m];if(o=void 0,o===!1||o===void 0&&g!==y)return!1}return!0}function Ph(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function W5(t){return(e=null,r=null)=>{if(!w.isValidElement(e)){const o=e;return t(o,r),o}const s=e;return(function(o){if(typeof o.type=="string")return;const a=o.type.displayName||o.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${a} into a <div>, or turn it into a drag source or a drop target itself.`)})(s),(function(o,a){const u=o.ref;return Ge(typeof u!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),w.cloneElement(o,u?{ref:d=>{jy(u,d),jy(a,d)}}:{ref:a})})(s,r?o=>t(o,r):t)}}function Qw(t){const e={};return Object.keys(t).forEach((r=>{const s=t[r];if(r.endsWith("Ref"))e[r]=t[r];else{const o=W5(s);e[r]=()=>o}})),e}function jy(t,e){typeof t=="function"?t(e):t.current=e}class H5{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?e?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),r):(this.lastConnectedDragSource=e,r):r}reconnectDragPreview(e=!1){const r=this.dragPreview,s=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();s&&this.disconnectDragPreview(),this.handlerId&&(r?s&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions)):this.lastConnectedDragPreview=r)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Th(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Th(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Qw({dragSource:(r,s)=>{this.clearDragSource(),this.dragSourceOptions=s||null,Ph(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,s)=>{this.clearDragPreview(),this.dragPreviewOptions=s||null,Ph(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class Q5{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const r=this.dropTarget;this.handlerId&&(r?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions)):this.lastConnectedDropTarget=r)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Th(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Qw({dropTarget:(r,s)=>{this.clearDropTarget(),this.dropTargetOptions=s,Ph(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Ni(){const{dragDropManager:t}=w.useContext(Fw);return Ge(t!=null,"Expected drag drop context"),t}class K5{beginDrag(){const e=this.spec,r=this.monitor;let s=null;return s=typeof e.item=="object"?e.item:typeof e.item=="function"?e.item(r):{},s??null}canDrag(){const e=this.spec,r=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag!="function"||e.canDrag(r)}isDragging(e,r){const s=this.spec,o=this.monitor,{isDragging:a}=s;return a?a(o):r===e.getSourceId()}endDrag(){const e=this.spec,r=this.monitor,s=this.connector,{end:o}=e;o&&o(r.getItem(),r),s.reconnect()}constructor(e,r,s){this.spec=e,this.monitor=r,this.connector=s}}function G5(t,e,r){const s=Ni(),o=(function(u,d,h){const m=w.useMemo((()=>new K5(u,d,h)),[d,h]);return w.useEffect((()=>{m.spec=u}),[u]),m})(t,e,r),a=(function(u){return w.useMemo((()=>{const d=u.type;return Ge(d!=null,"spec.type must be defined"),d}),[u])})(t);Pi((function(){if(a!=null){const[u,d]=(function(h,m,g){const y=g.getRegistry(),x=y.addSource(h,m);return[x,()=>y.removeSource(x)]})(a,o,s);return e.receiveHandlerId(u),r.receiveHandlerId(u),d}}),[s,e,r,o,a])}function Z5(t,e){const r=Hw(t,e);Ge(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const s=(function(){const a=Ni();return w.useMemo((()=>new U5(a)),[a])})(),o=(function(a,u){const d=Ni(),h=w.useMemo((()=>new H5(d.getBackend())),[d]);return Pi((()=>(h.dragSourceOptions=a||null,h.reconnect(),()=>h.disconnectDragSource())),[h,a]),Pi((()=>(h.dragPreviewOptions=u||null,h.reconnect(),()=>h.disconnectDragPreview())),[h,u]),h})(r.options,r.previewOptions);return G5(r,s,o),[Ww(r.collect,s,o),V5(o),B5(o)]}function Y5(t){return w.useMemo((()=>t.hooks.dropTarget()),[t])}class X5{canDrop(){const e=this.spec,r=this.monitor;return!e.canDrop||e.canDrop(r.getItem(),r)}hover(){const e=this.spec,r=this.monitor;e.hover&&e.hover(r.getItem(),r)}drop(){const e=this.spec,r=this.monitor;if(e.drop)return e.drop(r.getItem(),r)}constructor(e,r){this.spec=e,this.monitor=r}}function J5(t,e,r){const s=Ni(),o=(function(u,d){const h=w.useMemo((()=>new X5(u,d)),[d]);return w.useEffect((()=>{h.spec=u}),[u]),h})(t,e),a=(function(u){const{accept:d}=u;return w.useMemo((()=>(Ge(u.accept!=null,"accept must be defined"),Array.isArray(d)?d:[d])),[d])})(t);Pi((function(){const[u,d]=(function(h,m,g){const y=g.getRegistry(),x=y.addTarget(h,m);return[x,()=>y.removeTarget(x)]})(a,o,s);return e.receiveHandlerId(u),r.receiveHandlerId(u),d}),[s,e,o,r,a.map((u=>u.toString())).join("|")])}function ej(t,e){const r=Hw(t,e),s=(function(){const a=Ni();return w.useMemo((()=>new q5(a)),[a])})(),o=(function(a){const u=Ni(),d=w.useMemo((()=>new Q5(u.getBackend())),[u]);return Pi((()=>(d.dropTargetOptions=a||null,d.reconnect(),()=>d.disconnectDropTarget())),[a]),d})(r.options);return J5(r,s,o),[Ww(r.collect,s,o),Y5(o)]}function Kw(t){let e=null;return()=>(e==null&&(e=t()),e)}class tj{enter(e){const r=this.entered.length;return this.entered=(function(s,o){const a=new Set,u=h=>a.add(h);s.forEach(u),o.forEach(u);const d=[];return a.forEach((h=>d.push(h))),d})(this.entered.filter((s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(e)))),[e]),r===0&&this.entered.length>0}leave(e){const r=this.entered.length;var s,o;return this.entered=(s=this.entered.filter(this.isNodeInDocument),o=e,s.filter((a=>a!==o))),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class rj{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const r={};Object.keys(this.config.exposeProperties).forEach((s=>{const o=this.config.exposeProperties[s];o!=null&&(r[s]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,r){return r===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Gw="__NATIVE_FILE__",Zw="__NATIVE_URL__",Yw="__NATIVE_TEXT__",Xw="__NATIVE_HTML__";var Ry=Object.freeze({__proto__:null,FILE:Gw,HTML:Xw,TEXT:Yw,URL:Zw});function Uf(t,e,r){const s=e.reduce(((o,a)=>o||t.getData(a)),"");return s??r}const Nh={[Gw]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[Xw]:{exposeProperties:{html:(t,e)=>Uf(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Zw]:{exposeProperties:{urls:(t,e)=>Uf(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[Yw]:{exposeProperties:{text:(t,e)=>Uf(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function qf(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(Nh).filter((r=>{const s=Nh[r];return!!s?.matchesTypes&&s.matchesTypes.some((o=>e.indexOf(o)>-1))}))[0]||null}const nj=Kw((()=>/firefox/i.test(navigator.userAgent))),Dy=Kw((()=>!!window.safari));class Iy{interpolate(e){const{xs:r,ys:s,c1s:o,c2s:a,c3s:u}=this;let d=r.length-1;if(e===r[d])return s[d];let h,m=0,g=u.length-1;for(;m<=g;){h=Math.floor(.5*(m+g));const S=r[h];if(S<e)m=h+1;else{if(!(S>e))return s[h];g=h-1}}d=Math.max(0,g);const y=e-r[d],x=y*y;return s[d]+o[d]*y+a[d]*x+u[d]*y*x}constructor(e,r){const{length:s}=e,o=[];for(let S=0;S<s;S++)o.push(S);o.sort(((S,k)=>e[S]<e[k]?-1:1));const a=[],u=[];let d,h;for(let S=0;S<s-1;S++)d=e[S+1]-e[S],h=r[S+1]-r[S],a.push(d),u.push(h/d);const m=[u[0]];for(let S=0;S<a.length-1;S++){const k=u[S],_=u[S+1];if(k*_<=0)m.push(0);else{d=a[S];const C=a[S+1],P=d+C;m.push(3*P/((P+C)/k+(P+d)/_))}}m.push(u[u.length-1]);const g=[],y=[];let x;for(let S=0;S<m.length-1;S++){x=u[S];const k=m[S],_=1/a[S],C=k+m[S+1]-x-x;g.push((x-k-C)*_),y.push(C*_*_)}this.xs=e,this.ys=r,this.c1s=m,this.c2s=g,this.c3s=y}}const sj=1;function Jw(t){const e=t.nodeType===sj?t:t.parentElement;if(!e)return null;const{top:r,left:s}=e.getBoundingClientRect();return{x:s,y:r}}function xu(t){return{x:t.clientX,y:t.clientY}}function ij(t,e,r,s,o){const a=(u=e).nodeName==="IMG"&&(nj()||!(!((d=document.documentElement)===null||d===void 0)&&d.contains(u)));var u,d;const h=Jw(a?t:e),m={x:r.x-h.x,y:r.y-h.y},{offsetWidth:g,offsetHeight:y}=t,{anchorX:x,anchorY:S}=s,{dragPreviewWidth:k,dragPreviewHeight:_}=(function(D,M,V,G){let B=D?M.width:V,J=D?M.height:G;return Dy()&&D&&(J/=window.devicePixelRatio,B/=window.devicePixelRatio),{dragPreviewWidth:B,dragPreviewHeight:J}})(a,e,g,y),{offsetX:C,offsetY:P}=o,T=P===0||P;return{x:C===0||C?C:new Iy([0,.5,1],[m.x,m.x/g*k,m.x+k-g]).interpolate(x),y:T?P:(()=>{let D=new Iy([0,.5,1],[m.y,m.y/y*_,m.y+_-y]).interpolate(S);return Dy()&&a&&(D+=(window.devicePixelRatio-1)*_),D})()}}let wu;function oj(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ay(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},s=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})))),s.forEach((function(o){oj(t,o,r[o])}))}return t}class aj{profile(){var e,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var r;e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&((r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,r,s){return this.sourcePreviewNodeOptions.set(e,s),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,r,s){this.sourceNodes.set(e,r),this.sourceNodeOptions.set(e,s);const o=u=>this.handleDragStart(u,e),a=u=>this.handleSelectStart(u);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",o),r.addEventListener("selectstart",a),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),r.removeEventListener("dragstart",o),r.removeEventListener("selectstart",a),r.setAttribute("draggable","false")}}connectDropTarget(e,r){const s=u=>this.handleDragEnter(u,e),o=u=>this.handleDragOver(u,e),a=u=>this.handleDrop(u,e);return r.addEventListener("dragenter",s),r.addEventListener("dragover",o),r.addEventListener("drop",a),()=>{r.removeEventListener("dragenter",s),r.removeEventListener("dragover",o),r.removeEventListener("drop",a)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(e);return Ay({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return Ay({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Ry).some((r=>Ry[r]===e))}beginDragNativeItem(e,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=(function(s,o){const a=Nh[s];if(!a)throw new Error(`native type ${s} has no configuration`);const u=new rj(a);return u.loadDataTransfer(o),u})(e,r),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;return this.currentDragSourceNode=null,this.rootElement&&((e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,r){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(e,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(e,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(e,r){this.dropTargetIds.unshift(r)}constructor(e,r,s){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const a=this.sourceNodes.get(o);return a&&Jw(a)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:a}=this;this.dragStartSourceIds=null;const u=xu(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:u});const{dataTransfer:d}=o,h=qf(d);if(this.monitor.isDragging()){if(d&&typeof d.setDragImage=="function"){const g=this.monitor.getSourceId(),y=this.sourceNodes.get(g),x=this.sourcePreviewNodes.get(g)||y;if(x){const{anchorX:S,anchorY:k,offsetX:_,offsetY:C}=this.getCurrentSourcePreviewNodeOptions(),P=ij(y,x,u,{anchorX:S,anchorY:k},{offsetX:_,offsetY:C});d.setDragImage(x,P.x,P.y)}}try{d?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:m}=this.getCurrentSourcePreviewNodeOptions();m?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(h)this.beginDragNativeItem(h);else{if(d&&!d.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{var a;if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()&&((a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)),!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:u}=o,d=qf(u);d&&this.beginDragNativeItem(d,u)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:a}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=o.altKey,a.length>0&&this.actions.hover(a,{clientOffset:xu(o)}),a.some((u=>this.monitor.canDropOnTarget(u)))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=o=>{var a;this.dragOverTargetIds=[],this.isDraggingNativeItem()&&((a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer))},this.handleTopDragOver=o=>{const{dragOverTargetIds:a}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return o.preventDefault(),void(o.dataTransfer&&(o.dataTransfer.dropEffect="none"));this.altKeyPressed=o.altKey,this.lastClientOffset=xu(o),this.scheduleHover(a),(a||[]).some((u=>this.monitor.canDropOnTarget(u)))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=o=>{var a;this.dropTargetIds=[],this.isDraggingNativeItem()?(o.preventDefault(),(a=this.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)):qf(o.dataTransfer)&&o.preventDefault(),this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:a}=this;this.dropTargetIds=[],this.actions.hover(a,{clientOffset:xu(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const a=o.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(o.preventDefault(),a.dragDrop()))},this.options=new class{get window(){return this.globalContext?this.globalContext:typeof window<"u"?window:void 0}get document(){var o;return!((o=this.globalContext)===null||o===void 0)&&o.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var o;return((o=this.optionsArgs)===null||o===void 0?void 0:o.rootElement)||this.window}constructor(o,a){this.ownerDocument=null,this.globalContext=o,this.optionsArgs=a}}(r,s),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new tj(this.isNodeInDocument)}}const lj=function(t,e,r){return new aj(t,e,r)};var Hs;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(Hs||(Hs={}));class uj{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0&&e}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0&&e}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0&&e}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0&&e}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)===null||e===void 0||e}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,r,s,o;return(o=(s=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&s!==void 0?s:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&o!==void 0?o:0}get delayMouseStart(){var e,r,s,o;return(o=(s=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&s!==void 0?s:(r=this.args)===null||r===void 0?void 0:r.delay)!==null&&o!==void 0?o:0}get window(){return this.context&&this.context.window?this.context.window:typeof window<"u"?window:void 0}get document(){var e;return!((e=this.context)===null||e===void 0)&&e.document?this.context.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,r){this.args=e,this.context=r}}const cj=1,dj=0;function Wf(t){return t.button===void 0||t.button===dj}function e1(t){return!!t.targetTouches}function Ju(t,e){return e1(t)?(function(r,s){return r.targetTouches.length===1?Ju(r.targetTouches[0]):s&&r.touches.length===1&&r.touches[0].target===s.target?Ju(r.touches[0]):void 0})(t,e):{x:t.clientX,y:t.clientY}}const My=(()=>{let t=!1;try{addEventListener("test",(()=>{}),Object.defineProperty({},"passive",{get:()=>(t=!0,!0)}))}catch{}return t})(),ga={[Hs.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Hs.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Hs.keyboard]:{keydown:"keydown"}};class Oa{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(Ge(!Oa.isSetUp,"Cannot have two Touch backends at the same time."),Oa.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(Oa.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,r,s,o=!1){const a=My?{capture:o,passive:!1}:o;this.listenerTypes.forEach((function(u){const d=ga[u][r];d&&e.addEventListener(d,s,a)}))}removeEventListener(e,r,s,o=!1){const a=My?{capture:o,passive:!1}:o;this.listenerTypes.forEach((function(u){const d=ga[u][r];d&&e.removeEventListener(d,s,a)}))}connectDragSource(e,r){const s=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,r),this.addEventListener(r,"start",s),()=>{this.sourceNodes.delete(e),this.removeEventListener(r,"start",s)}}connectDragPreview(e,r,s){return this.sourcePreviewNodeOptions.set(e,s),this.sourcePreviewNodes.set(e,r),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,r){const s=this.options.rootElement;if(!this.document||!s)return()=>{};const o=a=>{if(!this.document||!s||!this.monitor.isDragging())return;let u;switch(a.type){case ga.mouse.move:u={x:a.clientX,y:a.clientY};break;case ga.touch.move:var d,h;u={x:((d=a.touches[0])===null||d===void 0?void 0:d.clientX)||0,y:((h=a.touches[0])===null||h===void 0?void 0:h.clientY)||0}}const m=u!=null?this.document.elementFromPoint(u.x,u.y):void 0,g=m&&r.contains(m);return m===r||g?this.handleMove(a,e):void 0};return this.addEventListener(this.document.body,"move",o),this.targetNodes.set(e,r),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",o))}}getTopMoveStartHandler(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver((()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())})),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,r,s){this.getSourceClientOffset=o=>{const a=this.sourceNodes.get(o);return a&&(function(u){const d=u.nodeType===1?u:u.parentElement;if(!d)return;const{top:h,left:m}=d.getBoundingClientRect();return{x:m,y:h}})(a)},this.handleTopMoveStartCapture=o=>{Wf(o)&&(this.moveStartSourceIds=[])},this.handleMoveStart=o=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(o)},this.handleTopMoveStart=o=>{if(!Wf(o))return;const a=Ju(o);a&&(e1(o)&&(this.lastTargetTouchFallback=o.targetTouches[0]),this._mouseClientOffset=a),this.waitingForDelay=!1},this.handleTopMoveStartDelay=o=>{if(!Wf(o))return;const a=o.type===ga.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,o),a),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(o,a)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(a)},this.handleTopMove=o=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:a,dragOverTargetIds:u}=this,d=this.options.enableHoverOutsideTarget,h=Ju(o,this.lastTargetTouchFallback);if(!h)return;if(this._isScrolling||!this.monitor.isDragging()&&(function(T,D,M,V,G){if(!G)return!1;const B=180*Math.atan2(V-D,M-T)/Math.PI+180;for(let J=0;J<G.length;++J){const H=G[J];if(H&&(H.start==null||B>=H.start)&&(H.end==null||B<=H.end))return!0}return!1})(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,h.x,h.y,this.options.scrollAngleRanges))return void(this._isScrolling=!0);var m,g,y,x;if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&a&&(m=this._mouseClientOffset.x||0,g=this._mouseClientOffset.y||0,y=h.x,x=h.y,Math.sqrt(Math.pow(Math.abs(y-m),2)+Math.pow(Math.abs(x-g),2))>(this.options.touchSlop?this.options.touchSlop:0))&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(a,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const S=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(S),this.actions.publishDragSource(),o.cancelable&&o.preventDefault();const k=(u||[]).map((T=>this.targetNodes.get(T))).filter((T=>!!T)),_=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(h.x,h.y,k):this.document.elementsFromPoint(h.x,h.y),C=[];for(const T in _){if(!_.hasOwnProperty(T))continue;let D=_[T];for(D!=null&&C.push(D);D;)D=D.parentElement,D&&C.indexOf(D)===-1&&C.push(D)}const P=C.filter((T=>k.indexOf(T)>-1)).map((T=>this._getDropTargetId(T))).filter((T=>!!T)).filter(((T,D,M)=>M.indexOf(T)===D));if(d)for(const T in this.targetNodes){const D=this.targetNodes.get(T);if(S&&D&&D.contains(S)&&P.indexOf(T)===-1){P.unshift(T);break}}P.reverse(),this.actions.hover(P,{clientOffset:h})},this._getDropTargetId=o=>{const a=this.targetNodes.keys();let u=a.next();for(;u.done===!1;){const d=u.value;if(o===this.targetNodes.get(d))return d;u=a.next()}},this.handleTopMoveEndCapture=o=>{this._isScrolling=!1,this.lastTargetTouchFallback=void 0,(function(a){return a.buttons===void 0||(a.buttons&cj)==0})(o)&&(this.monitor.isDragging()&&!this.monitor.didDrop()?(o.cancelable&&o.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()):this.moveStartSourceIds=void 0)},this.handleCancelOnEscape=o=>{o.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new uj(s,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Hs.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Hs.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Hs.keyboard)}}const fj=function(t,e={},r={}){return new Oa(t,e,r)},Ga="abcdefgh".split(""),Ou={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},hj={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},pj={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},mj=[7,6,5,4,3,2,1,0],gj=[0,1,2,3,4,5,6,7],Ly={wP:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),f.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),f.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),f.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),f.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[f.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),f.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),f.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),f.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[f.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),f.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),f.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),f.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),f.jsx("circle",{cx:"6",cy:"12",r:"2"}),f.jsx("circle",{cx:"14",cy:"9",r:"2"}),f.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),f.jsx("circle",{cx:"31",cy:"9",r:"2"}),f.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),f.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),f.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),f.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),f.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),f.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),f.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[f.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),f.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),f.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),f.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[f.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),f.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),f.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),f.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),f.jsx("circle",{cx:"6",cy:"12",r:"2"}),f.jsx("circle",{cx:"14",cy:"9",r:"2"}),f.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),f.jsx("circle",{cx:"31",cy:"9",r:"2"}),f.jsx("circle",{cx:"39",cy:"12",r:"2"}),f.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),f.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[f.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),f.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),f.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),f.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:f.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[f.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),f.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),f.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),f.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),f.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Oh(t,e,r){const s=e/8,o=t==="white"?mj:gj;return{x:(t==="white"?hj:pj)[r[0]]*s+s/2,y:o[parseInt(r[1],10)-1]*s+s/2}}function Fy(t){let e=!1;return Object.keys(Ou).forEach((r=>{t[r]!==Ou[r]&&(e=!0)})),Object.keys(t).forEach((r=>{Ou[r]!==t[r]&&(e=!0)})),e}function zy(t){return t==="start"?Ou:typeof t=="string"?(function(e){if(!(function(a){a=a.replace(/ .+$/,""),a=(function(d){return d.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")})(a);const u=a.split("/");if(u.length!==8)return!1;for(let d=0;d<8;d++)if(u[d].length!==8||u[d].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0})(e))return{};const r=(e=e.replace(/ .+$/,"")).split("/"),s={};let o=8;for(let a=0;a<8;a++){const u=r[a].split("");let d=0;for(let h=0;h<u.length;h++)u[h].search(/[1-8]/)!==-1?d+=parseInt(u[h],10):(s[Ga[d]+o]=vj(u[h]),d+=1);o-=1}return s})(t):t}function vj(t){return t.toLowerCase()===t?"b"+t.toUpperCase():"w"+t.toUpperCase()}const t1=w.createContext({}),ys=()=>w.useContext(t1),yj=w.forwardRef((({allowDragOutsideBoard:t=!0,animationDuration:e=300,areArrowsAllowed:r=!0,arePiecesDraggable:s=!0,arePremovesAllowed:o=!1,autoPromoteToQueen:a=!1,boardOrientation:u="white",boardWidth:d,children:h,clearPremovesOnRightClick:m=!0,customArrows:g,customArrowColor:y="rgb(255,170,0)",customBoardStyle:x,customDarkSquareStyle:S={backgroundColor:"#B58863"},customDropSquareStyle:k={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:_={backgroundColor:"#F0D9B5"},customPieces:C,customPremoveDarkSquareStyle:P={backgroundColor:"#A42323"},customPremoveLightSquareStyle:T={backgroundColor:"#BD2828"},customSquare:D="div",customSquareStyles:M,dropOffBoardAction:V="snapback",id:G=0,isDraggablePiece:B=(()=>!0),getPositionObject:J=(()=>{}),onArrowsChange:H=(()=>{}),onDragOverSquare:U=(()=>{}),onMouseOutSquare:te=(()=>{}),onMouseOverSquare:Z=(()=>{}),onPieceClick:re=(()=>{}),onPieceDragBegin:Y=(()=>{}),onPieceDragEnd:_e=(()=>{}),onPieceDrop:ce=(()=>!0),onPromotionCheck:we=((Ue,Qe,_t)=>(_t==="wP"&&Ue[1]==="7"&&Qe[1]==="8"||_t==="bP"&&Ue[1]==="2"&&Qe[1]==="1")&&Math.abs(Ue.charCodeAt(0)-Qe.charCodeAt(0))<=1),onPromotionPieceSelect:Q,onSquareClick:le=(()=>{}),onSquareRightClick:ue=(()=>{}),position:j="start",promotionDialogVariant:X="default",promotionToSquare:Pe=null,showBoardNotation:pe=!0,showPromotionDialog:Ve=!1,snapToCursor:We=!0},He)=>{const[Ue,Qe]=w.useState(zy(j)),[_t,br]=w.useState({removed:{},added:{}}),[Gt,jt]=w.useState(void 0),[yn,nn]=w.useState(Ve&&!a),[Sr,qr]=w.useState(null),[xn,Ar]=w.useState(Pe),[Mr,rr]=w.useState([]),N=w.useRef(Mr),[A,K]=w.useState(),[me,he]=w.useState(Object.assign(Object.assign({},Ly),C)),[ee,ge]=w.useState(!1),[Ke,it]=w.useState(),[ht,sn]=w.useState(!1);w.useImperativeHandle(He,(()=>({clearPremoves(Me=!0){Lr(Me)}}))),w.useEffect((()=>{he(Object.assign(Object.assign({},Ly),C))}),[C]),w.useEffect((()=>{nn(Ve),Ar(Pe)}),[Pe,Ve]),w.useEffect((()=>{var Me,bt,Et;Vt();const Ht=zy(j),nr=(function(rt,z){const sr={removed:{},added:{}};return Object.keys(rt).forEach((mt=>{z[mt]!==rt[mt]&&(sr.removed[mt]=rt[mt])})),Object.keys(z).forEach((mt=>{rt[mt]!==z[mt]&&(sr.added[mt]=z[mt])})),sr})(Ue,Ht),je=((Me=Object.keys(nr.added))===null||Me===void 0?void 0:Me.length)<=2?(Et=(bt=Object.entries(nr.added))===null||bt===void 0?void 0:bt[0])===null||Et===void 0?void 0:Et[1][0]:void 0;if(ht)Qe(Ht),sn(!1),o&&Lt(je),Ke&&clearTimeout(Ke);else if(ee)Qe(Ht),sn(!1),o&&Lt(je);else{Fy(Ht)&&Gt!==void 0?jt(je):Fy(Ht)?jt(void 0):jt("b"),br(nr),sn(!0);const rt=setTimeout((()=>{Qe(Ht),sn(!1),o&&Lt(je)}),e);it(rt)}return ge(!1),J(Ht),xt(),()=>{clearTimeout(Ke)}}),[j]);const{arrows:Fe,newArrow:ve,clearArrows:xt,drawNewArrow:wt,onArrowDrawEnd:$t}=((Me,bt=!0,Et,Ht)=>{const[nr,je]=w.useState([]),[rt,z]=w.useState([]),[sr,mt]=w.useState();w.useEffect((()=>{Array.isArray(Me)&&je(Me?.filter((de=>de[0]!==de[1])))}),[Me]),w.useEffect((()=>{Et?.(rt)}),[rt]);const Wr=[...rt,...nr];return{arrows:Wr,newArrow:sr,clearArrows:function(){z([]),mt(void 0)},drawNewArrow:(de,ir)=>{bt&&mt([de,ir,Ht])},setArrows:z,onArrowDrawEnd:(de,ir)=>{if(de===ir||!bt)return;let Ct;const pr=[de,ir,Ht];Ct=Wr.every((([Xn,or])=>!(Xn===de&&or===ir)))?[...rt,pr]:rt.filter((([Xn,or])=>!(Xn===de&&or===ir))),mt(void 0),z(Ct)}}})(g,r,H,y);function Lt(Me){if(N.current.length===0)return;const bt=N.current[0];if(bt.piece[0]!==void 0&&bt.piece[0]!==Me&&ce.length)if(jt(bt.piece[0]),ge(!0),ce(bt.sourceSq,bt.targetSq,bt.piece)){const Et=[...N.current];Et.shift(),N.current=Et,rr([...Et])}else Lr()}function Lr(Me=!0){Me&&jt(void 0),N.current=[],rr([])}function Vt(){qr(null),Ar(null),nn(!1)}const hr={animationDuration:e,arePiecesDraggable:s,arePremovesAllowed:o,boardOrientation:u,boardWidth:d,customArrowColor:y,customBoardStyle:x,customDarkSquareStyle:S,customDropSquareStyle:k,customLightSquareStyle:_,customPremoveDarkSquareStyle:P,customPremoveLightSquareStyle:T,customSquare:D,customSquareStyles:M,id:G,isDraggablePiece:B,onDragOverSquare:U,onMouseOutSquare:te,onMouseOverSquare:Z,onPieceClick:re,onPieceDragBegin:Y,onPieceDragEnd:_e,onPieceDrop:ce,onPromotionCheck:we,onPromotionPieceSelect:Q,onSquareClick:le,showBoardNotation:pe,snapToCursor:We,promotionDialogVariant:X,allowDragOutsideBoard:t,arrows:Fe,newArrow:ve,onArrowDrawEnd:$t,chessPieces:me,clearArrows:xt,drawNewArrow:wt,clearCurrentRightClickDown:function(){K(void 0)},currentPosition:Ue,handleSetPosition:function(Me,bt,Et,Ht){if(Me===bt)return;if(xt(),o&&ht||o&&(Gt===Et[0]||N.current.filter((je=>je.piece[0]===Et[0])).length>0)){const je=[...N.current];return je.push({sourceSq:Me,targetSq:bt,piece:Et}),N.current=je,rr([...je]),void Vt()}if(!o&&ht)return;const nr=Object.assign({},Ue);ge(!!Ht),jt(Et[0]),ce.length?ce(Me,bt,Et)||Lr():(V!=="trash"||bt||delete nr[Me],delete nr[Me],nr[bt]=Et,Qe(nr)),Vt(),J(nr)},isWaitingForAnimation:ht,lastPieceColour:Gt,onRightClickDown:function(Me){K(Me)},onRightClickUp:function(Me){if(A){if(A===Me)return K(void 0),m&&Lr(!1),void ue(Me)}else K(void 0)},positionDifferences:_t,promoteFromSquare:Sr,promoteToSquare:xn,premoves:Mr,setPromoteFromSquare:qr,setPromoteToSquare:Ar,setShowPromoteDialog:nn,showPromoteDialog:yn,autoPromoteToQueen:a,currentRightClickDown:A};return f.jsx(t1.Provider,Object.assign({value:hr},{children:h}))}));function xj({row:t,col:e}){const{boardOrientation:r,boardWidth:s,customDarkSquareStyle:o,customLightSquareStyle:a}=ys(),u=a.backgroundColor,d=o.backgroundColor,h=e===0,m=t===7;function g(){return r==="white"?8-t:t+1}function y(){return r==="black"?Ga[7-e]:Ga[e]}return h&&m?f.jsxs(f.Fragment,{children:[f.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:u}),Vy(s))},{children:g()})),f.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:u}),$y(s))},{children:y()}))]}):m?f.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:e%2!=0?d:u}),$y(s))},{children:y()})):h?f.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:t%2==0?d:u}),Vy(s))},{children:g()})):null}const $y=t=>({alignSelf:"flex-end",paddingLeft:t/8-t/48,fontSize:t/48}),Vy=t=>({alignSelf:"flex-start",paddingRight:t/8-t/48,fontSize:t/48});function By({isPremovedPiece:t=!1,piece:e,square:r,squares:s}){const{animationDuration:o,arePiecesDraggable:a,arePremovesAllowed:u,boardWidth:d,boardOrientation:h,chessPieces:m,currentPosition:g,id:y,isDraggablePiece:x,isWaitingForAnimation:S,onPieceClick:k,onPieceDragBegin:_,onPieceDragEnd:C,positionDifferences:P,premoves:T,onPromotionCheck:D}=ys(),[M,V]=w.useState({opacity:1,zIndex:5,touchAction:"none",cursor:a&&x({piece:e,sourceSquare:r})?"-webkit-grab":"default"}),[{canDrag:G,isDragging:B},J,H]=Z5((()=>({type:"piece",item:()=>(_(e,r),{piece:e,square:r,id:y}),end:()=>C(e,r),collect:U=>({canDrag:x({piece:e,sourceSquare:r}),isDragging:!!U.isDragging()})})),[e,r,g,y]);return H((wu||(wu=new Image,wu.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),wu),{captureDraggingState:!0}),w.useEffect((()=>{V((U=>Object.assign(Object.assign({},U),{opacity:B?0:1})))}),[B]),w.useEffect((()=>{if(!u)return;let U=!1;!t&&T.find((te=>te.targetSq===r))&&(U=!0),T.find((te=>te.sourceSq===r&&te.piece===e))&&(U=!0),V((te=>Object.assign(Object.assign({},te),{display:U?"none":"unset"})))}),[g,T]),w.useEffect((()=>{var U;const te=(U=P.removed)===null||U===void 0?void 0:U[r];if(!P.added||!te)return;const Z=Object.entries(P.added).find((([re,Y])=>Y===te||D(r,re,te)));if(S&&te&&Z&&!t){const re=r,Y=Z[0];if(re&&Y){const _e=d/8;V((ce=>Object.assign(Object.assign({},ce),{transform:`translate(${(h==="black"?-1:1)*(Y.charCodeAt(0)-re.charCodeAt(0))*_e}px, ${(h==="black"?-1:1)*(Number(re[1])-Number(Y[1]))*_e}px)`,transition:`transform ${o}ms`,zIndex:6})))}}}),[P]),w.useEffect((()=>{const{sourceSq:U}={sourceSq:s[r]};U&&V((te=>Object.assign(Object.assign({},te),{transform:"translate(0px, 0px)",transition:"transform 0ms"})))}),[g]),w.useEffect((()=>{V((U=>Object.assign(Object.assign({},U),{cursor:a&&x({piece:e,sourceSquare:r})?"-webkit-grab":"default"})))}),[r,g,a]),f.jsx("div",Object.assign({ref:a&&G?J:null,onClick:()=>k(e),"data-piece":e,style:M},{children:typeof m[e]=="function"?m[e]({squareWidth:d/8,isDragging:B,square:r}):f.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:d/8,height:d/8},{children:f.jsx("g",{children:m[e]})}))}))}function wj({square:t,squareColor:e,setSquares:r,squareHasPremove:s,children:o}){const a=w.useRef(null),{autoPromoteToQueen:u,boardWidth:d,boardOrientation:h,clearArrows:m,currentPosition:g,currentRightClickDown:y,customBoardStyle:x,customDarkSquareStyle:S,customDropSquareStyle:k,customLightSquareStyle:_,customPremoveDarkSquareStyle:C,customPremoveLightSquareStyle:P,customSquare:T,customSquareStyles:D,drawNewArrow:M,handleSetPosition:V,isWaitingForAnimation:G,lastPieceColour:B,onArrowDrawEnd:J,onDragOverSquare:H,onMouseOutSquare:U,onMouseOverSquare:te,onPieceDrop:Z,onPromotionCheck:re,onRightClickDown:Y,onRightClickUp:_e,onSquareClick:ce,setPromoteFromSquare:we,setPromoteToSquare:Q,setShowPromoteDialog:le}=ys(),[{isOver:ue},j]=ej((()=>({accept:"piece",drop:X,collect:pe=>({isOver:!!pe.isOver()})})),[t,g,Z,G,B]);function X(pe){re(pe.square,t,pe.piece)?u?V(pe.square,t,pe.piece[0]==="w"?"wQ":"bQ"):(we(pe.square),Q(t),le(!0)):V(pe.square,t,pe.piece,!0)}w.useEffect((()=>{if(a.current){const{x:pe,y:Ve}=a.current.getBoundingClientRect();r((We=>Object.assign(Object.assign({},We),{[t]:{x:pe,y:Ve}})))}}),[d,h]);const Pe=Object.assign(Object.assign(Object.assign(Object.assign({},bj(t,h,x)),e==="black"?S:_),s&&(e==="black"?C:P)),ue&&k);return f.jsx("div",Object.assign({ref:j,style:Pe,"data-square-color":e,"data-square":t,onMouseOver:pe=>{pe.buttons===2&&y&&M(y,t),pe.relatedTarget&&pe.currentTarget.contains(pe.relatedTarget)||te(t)},onMouseOut:pe=>{pe.relatedTarget&&pe.currentTarget.contains(pe.relatedTarget)||U(t)},onMouseDown:pe=>{pe.button===2&&Y(t)},onMouseUp:pe=>{pe.button===2&&(y&&J(y,t),_e(t))},onDragEnter:()=>H(t),onClick:()=>{ce(t),m()},onContextMenu:pe=>{pe.preventDefault()}},{children:f.jsx(T,typeof T=="string"?Object.assign({ref:a,style:Object.assign(Object.assign(Object.assign({},qy(d)),Uy),!s&&D?.[t])},{children:o}):Object.assign({ref:a,square:t,squareColor:e,style:Object.assign(Object.assign(Object.assign({},qy(d)),Uy),!s&&D?.[t])},{children:o}))}))}const Uy={display:"flex",justifyContent:"center"},qy=t=>({width:t/8,height:t/8}),bj=(t,e,r)=>r?.borderRadius?t==="a1"?e==="white"?{borderBottomLeftRadius:r.borderRadius}:{borderTopRightRadius:r.borderRadius}:t==="a8"?e==="white"?{borderTopLeftRadius:r.borderRadius}:{borderBottomRightRadius:r.borderRadius}:t==="h1"?e==="white"?{borderBottomRightRadius:r.borderRadius}:{borderTopLeftRadius:r.borderRadius}:t==="h8"?e==="white"?{borderTopRightRadius:r.borderRadius}:{borderBottomLeftRadius:r.borderRadius}:{}:{};function Sj(){const[t,e]=w.useState({}),{boardOrientation:r,boardWidth:s,currentPosition:o,id:a,premoves:u,showBoardNotation:d}=ys();return f.jsx("div",Object.assign({"data-boardid":a},{children:[...Array(8)].map(((h,m)=>f.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:s}},{children:[...Array(8)].map(((g,y)=>{const x=r==="black"?Ga[7-y]+(m+1):Ga[y]+(8-m),S=y%2==m%2?"white":"black",k=u.find((C=>C.sourceSq===x||C.targetSq===x)),_=u.find((C=>C.targetSq===x));return f.jsxs(wj,Object.assign({square:x,squareColor:S,setSquares:e,squareHasPremove:!!k},{children:[o[x]&&f.jsx(By,{piece:o[x],square:x,squares:t}),_&&f.jsx(By,{isPremovedPiece:!0,piece:_.piece,square:x,squares:t}),d&&f.jsx(xj,{row:m,col:y})]}),`${y}${m}`)}))}),m.toString())))}))}const _j=()=>{const{arrows:t,newArrow:e,boardOrientation:r,boardWidth:s,customArrowColor:o}=ys(),a=[...t,e].filter(Boolean);return f.jsx("svg",Object.assign({width:s,height:s,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:a.map(((u,d)=>{const[h,m,g]=u;if(h===m)return null;const y=Oh(r,s,h),x=Oh(r,s,m);let S=s/32;const k=d===t.length;t.some((D=>D[0]!==h&&D[1]===m))&&!k&&(S=s/16);const _=x.x-y.x,C=x.y-y.y,P=Math.hypot(C,_),T={x:y.x+_*(P-S)/P,y:y.y+C*(P-S)/P};return f.jsxs(w.Fragment,{children:[f.jsx("marker",Object.assign({id:`arrowhead-${d}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:f.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:g??o})})),f.jsx("line",{x1:y.x,y1:y.y,x2:T.x,y2:T.y,opacity:k?"0.5":"0.65",stroke:g??o,strokeWidth:k?.9*s/40:s/40,markerEnd:`url(#arrowhead-${d})`})]},`${h}-${m}${k?"-active":""}`)}))}))};function Cj({option:t}){const[e,r]=w.useState(!1),{boardWidth:s,chessPieces:o,customDarkSquareStyle:a,customLightSquareStyle:u,handleSetPosition:d,onPromotionPieceSelect:h,promoteFromSquare:m,promoteToSquare:g,promotionDialogVariant:y}=ys(),x=()=>{switch(t[1]){case"Q":return a.backgroundColor;case"R":return u.backgroundColor;case"N":return y==="default"?u.backgroundColor:a.backgroundColor;case"B":return y==="default"?a.backgroundColor:u.backgroundColor}};return f.jsx("div",Object.assign({onClick:()=>{h?.length?h(t):d(m,g,t,!0)},onMouseOver:()=>r(!0),onMouseOut:()=>r(!1),"data-piece":t,style:{cursor:"pointer",backgroundColor:e?x():`${x()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof o[t]=="function"?f.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:o[t]({squareWidth:s/8,isDragging:!1})})):f.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:s/8,height:s/8,style:{transition:"all 0.1s ease-out",transform:e?"scale(1)":"scale(0.85)"}},{children:f.jsx("g",{children:o[t]})}))}))}function kj(){const{boardOrientation:t,boardWidth:e,promotionDialogVariant:r,promoteToSquare:s}=ys(),o=s?.[1]==="1"?"b":"w",a=[`${o??"w"}Q`,`${o??"w"}R`,`${o??"w"}N`,`${o??"w"}B`],u={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-e/8}px, ${-e/8}px)`},vertical:{transform:`translate(${-e/16}px, ${-e/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*e/8}px)`,width:"100%",height:e/4+"px",top:0,backgroundColor:"white",left:0}},d=Oh(t,e,s||"a8");return f.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${d?.y}px`,left:`${d?.x}px`,zIndex:1e3},u[r]),title:"Choose promotion piece"},{children:a.map((h=>f.jsx(Cj,{option:h},h)))}))}const Ej={whiteKing:f.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:f.jsx("g",{children:f.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function Tj({children:t}){try{return f.jsx(f.Fragment,{children:t})}catch(e){return console.log(e),f.jsx(r1,{showError:!0})}}function r1({showError:t=!1}){return f.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[f.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:Ej.whiteKing})),t&&f.jsx("h1",{children:"Something went wrong"})]}))}function Pj(){const t=w.useRef(null),{boardWidth:e,clearCurrentRightClickDown:r,onPromotionPieceSelect:s,setShowPromoteDialog:o,showPromoteDialog:a,customBoardStyle:u}=ys();return w.useEffect((()=>{function d(h){t.current&&!t.current.contains(h.target)&&r()}return document.addEventListener("mouseup",d),()=>{document.removeEventListener("mouseup",d)}}),[]),e?f.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:f.jsxs("div",Object.assign({ref:t,style:Object.assign(Object.assign({position:"relative"},Nj(e)),u)},{children:[f.jsx(Sj,{}),f.jsx(_j,{}),a&&f.jsxs(f.Fragment,{children:[f.jsx("div",{onClick:()=>{o(!1),s?.()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:e,height:e}}),f.jsx(kj,{})]})]}))})):f.jsx(r1,{})}const Nj=t=>({cursor:"default",height:t,width:t});function Oj({boardContainer:t}){const{boardWidth:e,chessPieces:r,id:s,snapToCursor:o,allowDragOutsideBoard:a}=ys(),u=(function(x){const S=Ni().getMonitor(),[k,_]=qw(S,x);return w.useEffect((()=>S.subscribeToOffsetChange(_))),w.useEffect((()=>S.subscribeToStateChange(_))),k})((x=>({item:x.getItem(),clientOffset:x.getClientOffset(),sourceClientOffset:x.getSourceClientOffset(),isDragging:x.isDragging()}))),{isDragging:d,item:h,clientOffset:m,sourceClientOffset:g}=u,y=w.useCallback(((x,S)=>{if(!x||!S)return{display:"none"};let{x:k,y:_}=o?x:S;const C=e/8/2;if(o&&(k-=C,_-=C),!a){const{left:T,top:D}=t,M=T-C,V=D-C,G=T+e-C,B=D+e-C;k=Math.max(M,Math.min(k,G)),_=Math.max(V,Math.min(_,B))}const P=`translate(${k}px, ${_}px)`;return{transform:P,WebkitTransform:P,touchAction:"none"}}),[e,a,o,t]);return d&&h.id===s?f.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:f.jsx("div",Object.assign({style:y(m,g)},{children:typeof r[h.piece]=="function"?r[h.piece]({squareWidth:e/8,isDragging:!0}):f.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:e/8,height:e/8},{children:f.jsx("g",{children:r[h.piece]})}))}))})):null}const jj=w.forwardRef(((t,e)=>{var r;const{customDndBackend:s,customDndBackendOptions:o}=t,a=(function(M,V){var G={};for(var B in M)Object.prototype.hasOwnProperty.call(M,B)&&V.indexOf(B)<0&&(G[B]=M[B]);if(M!=null&&typeof Object.getOwnPropertySymbols=="function"){var J=0;for(B=Object.getOwnPropertySymbols(M);J<B.length;J++)V.indexOf(B[J])<0&&Object.prototype.propertyIsEnumerable.call(M,B[J])&&(G[B[J]]=M[B[J]])}return G})(t,["customDndBackend","customDndBackendOptions"]),[u,d]=w.useState(),[h,m]=w.useState(!1),[g,y]=w.useState(!1),[x,S]=w.useState(t.boardWidth),k=w.useRef(null),_=w.useRef(null),[C,P]=w.useState({left:0,top:0}),T=(r=k.current)===null||r===void 0?void 0:r.getBoundingClientRect();w.useEffect((()=>{P({left:T?.left?T?.left:0,top:T?.top?T?.top:0})}),[T]),w.useEffect((()=>{y("ontouchstart"in window),m(!0),d(window)}),[]),w.useEffect((()=>{var M;if(t.boardWidth===void 0&&(!((M=k.current)===null||M===void 0)&&M.offsetWidth)){const V=new ResizeObserver((()=>{var G;S((G=k.current)===null||G===void 0?void 0:G.offsetWidth)}));return V.observe(k.current),()=>{V.disconnect()}}}),[k.current,u]);const D=s||(g?fj:lj);return h&&u?f.jsx(Tj,{children:f.jsxs("div",Object.assign({ref:_,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[f.jsx("div",{ref:k,style:{width:"100%"}}),f.jsx(z5,Object.assign({backend:D,context:u,options:s?o:void 0},{children:x&&f.jsxs(yj,Object.assign({boardWidth:x},a,{ref:e},{children:[f.jsx(Oj,{boardContainer:C}),f.jsx(Pj,{})]}))}))]}))}):null})),Rj=w.memo(function({game:e,onMove:r,orientation:s="white",isThinking:o=!1,disabled:a=!1,lastMove:u,onReset:d}){const h=w.useRef(null),[m,g]=w.useState(320),[y,x]=w.useState(null),[S,k]=w.useState({}),[_,C]=w.useState({}),[P,T]=w.useState(null);w.useEffect(()=>{const H=()=>{if(h.current){const te=Math.min(h.current.clientWidth,600);g(te)}},U=new ResizeObserver(H);return h.current&&U.observe(h.current),H(),()=>U.disconnect()},[]),w.useEffect(()=>{if(e.inCheck()){const H=e.board();let U="";const te="abcdefgh";for(let Z=0;Z<8;Z++){for(let re=0;re<8;re++){const Y=H[Z][re];if(Y&&Y.type==="k"&&Y.color===e.turn()){const _e=te[re],ce=8-Z;U=`${_e}${ce}`;break}}if(U)break}if(U){C({[U]:{background:"radial-gradient(circle, rgba(255,0,0,0.8) 0%, transparent 80%)",boxShadow:"inset 0 0 10px 2px rgba(255,0,0,0.8)"}});return}}C({})},[e]);function D(H){const U=e.moves({square:H,verbose:!0});if(U.length===0)return;const te={};U.forEach(Z=>{const re=e.get(Z.to),Y=e.get(H);te[Z.to]={background:re&&Y&&re.color!==Y.color?"radial-gradient(circle, rgba(255, 215, 0, 0.6) 40%, transparent 40%)":"radial-gradient(circle, rgba(255, 215, 0, 0.3) 25%, transparent 25%)",borderRadius:"50%"}}),te[H]={background:"rgba(255, 215, 0, 0.4)"},k(te)}function M(H){if(P&&!a){if(H){const U=H[1]?.toLowerCase();if(!U||!"qrbn".includes(U)||!r(P.from,P.to,U))return}T(null),x(null),k({})}}function V(H){if(!(a||o||e.isGameOver()))if(y){if(y===H){x(null),k({});return}const U=e.get(y);if(U?.type==="p"&&(U.color==="w"&&H[1]==="8"||U.color==="b"&&H[1]==="1")&&e.moves({square:y,verbose:!0}).find(ce=>ce.to===H)){T({from:y,to:H});return}if(r(y,H)){x(null),k({});return}const re=e.get(H);if(re&&re.color===e.turn()){x(H),D(H);return}x(null),k({})}else{const U=e.get(H);U&&U.color===e.turn()&&(x(H),D(H))}}const G={...u?{[u.from]:{background:"rgba(255, 215, 0, 0.3)"},[u.to]:{background:"rgba(255, 215, 0, 0.3)"}}:{},...S,..._},B=e.isGameOver(),J=B?e.isCheckmate()?e.turn()==="w"?"en thng":"Trng thng":"Ha":"";return f.jsxs("div",{ref:h,className:`
        w-full aspect-square max-w-[600px] mx-auto 
        bg-slate-900 rounded-lg shadow-2xl overflow-hidden 
        border-[6px] border-slate-800
        transition-all duration-300
        ${o?"ring-4 ring-indigo-500/30":""}
        relative
      `,children:[f.jsx(jj,{position:e.fen(),onPieceDrop:(H,U,te)=>{if(a||o||e.isGameOver())return!1;if(te[1]==="P"&&H[1]==="7"&&U[1]==="8"||te[1]==="p"&&H[1]==="2"&&U[1]==="1")return a||T({from:H,to:U}),!1;const re=r(H,U);return re&&(x(null),k({})),re},onSquareClick:V,customSquareStyles:G,boardOrientation:s,boardWidth:m,customDarkSquareStyle:{backgroundColor:"#312e81"},customLightSquareStyle:{backgroundColor:"#e2e8f0"},customDropSquareStyle:{boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.2)"},animationDuration:300}),P&&f.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm rounded-lg",children:f.jsxs("div",{className:"bg-slate-800 p-4 rounded-2xl flex flex-col gap-4 shadow-2xl border border-white/10 animate-in zoom-in-95",children:[f.jsx("div",{className:"text-white text-sm font-bold text-center uppercase tracking-widest opacity-50",children:"Select Promotion"}),f.jsx("div",{className:"flex gap-3",children:["q","r","b","n"].map(H=>f.jsx("div",{className:"w-16 h-16 cursor-pointer bg-slate-700 hover:bg-indigo-600 rounded-xl p-2 transition-all hover:scale-110 active:scale-95",onClick:()=>M(`${e.turn()}${H.toUpperCase()}`),children:f.jsx("img",{src:`https://images.chesscomfiles.com/chess-themes/pieces/neo/150/${e.turn()}${H}.png`,alt:H,className:"w-full h-full object-contain"})},H))}),f.jsx(ut,{variant:"ghost",className:"text-slate-400 hover:text-white hover:bg-white/5",onClick:()=>M(void 0),children:"Cancel"})]})}),B&&f.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-black/70 backdrop-blur-md animate-in fade-in duration-500",children:f.jsxs("div",{className:"text-center p-8",children:[f.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl shadow-indigo-500/50 animate-bounce",children:f.jsx(dc,{className:"w-10 h-10 text-white"})}),f.jsx("h2",{className:"text-4xl font-black italic text-white mb-2 tracking-tighter",children:"GAME OVER"}),f.jsx("div",{className:"text-xl font-bold text-indigo-400 uppercase tracking-[0.2em] mb-8",children:J}),f.jsx("div",{className:"flex gap-4 justify-center",children:f.jsxs(ut,{onClick:d,className:"bg-white text-black hover:bg-slate-200 font-bold px-8 h-12 rounded-xl",children:[f.jsx(nx,{className:"w-4 h-4 mr-2"}),"Play Again"]})})]})})]})});function Dj({onFlip:t,onResign:e,onDraw:r,onReset:s,gameMode:o,disabled:a=!1}){return f.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[f.jsx(ut,{variant:"secondary",size:"icon",onClick:t,className:"bg-slate-800 hover:bg-slate-700 text-slate-200 border border-white/10",title:"Flip Board",children:f.jsx(rC,{className:"w-5 h-5"})}),o==="ai"&&f.jsxs(ut,{variant:"secondary",onClick:s,className:"bg-emerald-600/20 hover:bg-emerald-600/30 text-emerald-400 border border-emerald-500/20",children:[f.jsx(nx,{className:"w-4 h-4 mr-2"}),"Vn mi"]}),o==="online"&&f.jsxs(f.Fragment,{children:[f.jsxs(ut,{variant:"destructive",onClick:e,disabled:a,className:"bg-red-500/10 hover:bg-red-500/20 text-red-500 border border-red-500/20",children:[f.jsx(X_,{className:"w-4 h-4 mr-2"}),"Xin thua"]}),f.jsxs(ut,{variant:"secondary",onClick:r,disabled:a,className:"bg-amber-500/10 hover:bg-amber-500/20 text-amber-400 border border-amber-500/20",children:[f.jsx(eC,{className:"w-4 h-4 mr-2"}),"Xin ha"]})]})]})}var Ij=w.createContext(void 0);function wp(t){const e=w.useContext(Ij);return t||e||"ltr"}function Aj(t,[e,r]){return Math.min(r,Math.max(e,t))}function Mj(t,e){return w.useReducer((r,s)=>e[r][s]??r,t)}var bp="ScrollArea",[n1]=ei(bp),[Lj,vn]=n1(bp),s1=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:s="hover",dir:o,scrollHideDelay:a=600,...u}=t,[d,h]=w.useState(null),[m,g]=w.useState(null),[y,x]=w.useState(null),[S,k]=w.useState(null),[_,C]=w.useState(null),[P,T]=w.useState(0),[D,M]=w.useState(0),[V,G]=w.useState(!1),[B,J]=w.useState(!1),H=dr(e,te=>h(te)),U=wp(o);return f.jsx(Lj,{scope:r,type:s,dir:U,scrollHideDelay:a,scrollArea:d,viewport:m,onViewportChange:g,content:y,onContentChange:x,scrollbarX:S,onScrollbarXChange:k,scrollbarXEnabled:V,onScrollbarXEnabledChange:G,scrollbarY:_,onScrollbarYChange:C,scrollbarYEnabled:B,onScrollbarYEnabledChange:J,onCornerWidthChange:T,onCornerHeightChange:M,children:f.jsx(yt.div,{dir:U,...u,ref:H,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":D+"px",...t.style}})})});s1.displayName=bp;var i1="ScrollAreaViewport",o1=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:s,nonce:o,...a}=t,u=vn(i1,r),d=w.useRef(null),h=dr(e,d,u.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),f.jsx(yt.div,{"data-radix-scroll-area-viewport":"",...a,ref:h,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:f.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});o1.displayName=i1;var Yn="ScrollAreaScrollbar",Sp=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,o=vn(Yn,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:u}=o,d=t.orientation==="horizontal";return w.useEffect(()=>(d?a(!0):u(!0),()=>{d?a(!1):u(!1)}),[d,a,u]),o.type==="hover"?f.jsx(Fj,{...s,ref:e,forceMount:r}):o.type==="scroll"?f.jsx(zj,{...s,ref:e,forceMount:r}):o.type==="auto"?f.jsx(a1,{...s,ref:e,forceMount:r}):o.type==="always"?f.jsx(_p,{...s,ref:e}):null});Sp.displayName=Yn;var Fj=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,o=vn(Yn,t.__scopeScrollArea),[a,u]=w.useState(!1);return w.useEffect(()=>{const d=o.scrollArea;let h=0;if(d){const m=()=>{window.clearTimeout(h),u(!0)},g=()=>{h=window.setTimeout(()=>u(!1),o.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",g)}}},[o.scrollArea,o.scrollHideDelay]),f.jsx(ti,{present:r||a,children:f.jsx(a1,{"data-state":a?"visible":"hidden",...s,ref:e})})}),zj=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,o=vn(Yn,t.__scopeScrollArea),a=t.orientation==="horizontal",u=Tc(()=>h("SCROLL_END"),100),[d,h]=Mj("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>h("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,o.scrollHideDelay,h]),w.useEffect(()=>{const m=o.viewport,g=a?"scrollLeft":"scrollTop";if(m){let y=m[g];const x=()=>{const S=m[g];y!==S&&(h("SCROLL"),u()),y=S};return m.addEventListener("scroll",x),()=>m.removeEventListener("scroll",x)}},[o.viewport,a,h,u]),f.jsx(ti,{present:r||d!=="hidden",children:f.jsx(_p,{"data-state":d==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:st(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:st(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),a1=w.forwardRef((t,e)=>{const r=vn(Yn,t.__scopeScrollArea),{forceMount:s,...o}=t,[a,u]=w.useState(!1),d=t.orientation==="horizontal",h=Tc(()=>{if(r.viewport){const m=r.viewport.offsetWidth<r.viewport.scrollWidth,g=r.viewport.offsetHeight<r.viewport.scrollHeight;u(d?m:g)}},10);return So(r.viewport,h),So(r.content,h),f.jsx(ti,{present:s||a,children:f.jsx(_p,{"data-state":a?"visible":"hidden",...o,ref:e})})}),_p=w.forwardRef((t,e)=>{const{orientation:r="vertical",...s}=t,o=vn(Yn,t.__scopeScrollArea),a=w.useRef(null),u=w.useRef(0),[d,h]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=f1(d.viewport,d.content),g={...s,sizes:d,onSizesChange:h,hasThumb:m>0&&m<1,onThumbChange:x=>a.current=x,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:x=>u.current=x};function y(x,S){return Wj(x,u.current,d,S)}return r==="horizontal"?f.jsx($j,{...g,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const x=o.viewport.scrollLeft,S=Wy(x,d,o.dir);a.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollLeft=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollLeft=y(x,o.dir))}}):r==="vertical"?f.jsx(Vj,{...g,ref:e,onThumbPositionChange:()=>{if(o.viewport&&a.current){const x=o.viewport.scrollTop,S=Wy(x,d);a.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:x=>{o.viewport&&(o.viewport.scrollTop=x)},onDragScroll:x=>{o.viewport&&(o.viewport.scrollTop=y(x))}}):null}),$j=w.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...o}=t,a=vn(Yn,t.__scopeScrollArea),[u,d]=w.useState(),h=w.useRef(null),m=dr(e,h,a.onScrollbarXChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),f.jsx(u1,{"data-orientation":"horizontal",...o,ref:m,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ec(r)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.x),onDragScroll:g=>t.onDragScroll(g.x),onWheelScroll:(g,y)=>{if(a.viewport){const x=a.viewport.scrollLeft+g.deltaX;t.onWheelScroll(x),p1(x,y)&&g.preventDefault()}},onResize:()=>{h.current&&a.viewport&&u&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:tc(u.paddingLeft),paddingEnd:tc(u.paddingRight)}})}})}),Vj=w.forwardRef((t,e)=>{const{sizes:r,onSizesChange:s,...o}=t,a=vn(Yn,t.__scopeScrollArea),[u,d]=w.useState(),h=w.useRef(null),m=dr(e,h,a.onScrollbarYChange);return w.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),f.jsx(u1,{"data-orientation":"vertical",...o,ref:m,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ec(r)+"px",...t.style},onThumbPointerDown:g=>t.onThumbPointerDown(g.y),onDragScroll:g=>t.onDragScroll(g.y),onWheelScroll:(g,y)=>{if(a.viewport){const x=a.viewport.scrollTop+g.deltaY;t.onWheelScroll(x),p1(x,y)&&g.preventDefault()}},onResize:()=>{h.current&&a.viewport&&u&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:tc(u.paddingTop),paddingEnd:tc(u.paddingBottom)}})}})}),[Bj,l1]=n1(Yn),u1=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:s,hasThumb:o,onThumbChange:a,onThumbPointerUp:u,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:m,onWheelScroll:g,onResize:y,...x}=t,S=vn(Yn,r),[k,_]=w.useState(null),C=dr(e,H=>_(H)),P=w.useRef(null),T=w.useRef(""),D=S.viewport,M=s.content-s.viewport,V=tr(g),G=tr(h),B=Tc(y,10);function J(H){if(P.current){const U=H.clientX-P.current.left,te=H.clientY-P.current.top;m({x:U,y:te})}}return w.useEffect(()=>{const H=U=>{const te=U.target;k?.contains(te)&&V(U,M)};return document.addEventListener("wheel",H,{passive:!1}),()=>document.removeEventListener("wheel",H,{passive:!1})},[D,k,M,V]),w.useEffect(G,[s,G]),So(k,B),So(S.content,B),f.jsx(Bj,{scope:r,scrollbar:k,hasThumb:o,onThumbChange:tr(a),onThumbPointerUp:tr(u),onThumbPositionChange:G,onThumbPointerDown:tr(d),children:f.jsx(yt.div,{...x,ref:C,style:{position:"absolute",...x.style},onPointerDown:st(t.onPointerDown,H=>{H.button===0&&(H.target.setPointerCapture(H.pointerId),P.current=k.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),J(H))}),onPointerMove:st(t.onPointerMove,J),onPointerUp:st(t.onPointerUp,H=>{const U=H.target;U.hasPointerCapture(H.pointerId)&&U.releasePointerCapture(H.pointerId),document.body.style.webkitUserSelect=T.current,S.viewport&&(S.viewport.style.scrollBehavior=""),P.current=null})})})}),ec="ScrollAreaThumb",c1=w.forwardRef((t,e)=>{const{forceMount:r,...s}=t,o=l1(ec,t.__scopeScrollArea);return f.jsx(ti,{present:r||o.hasThumb,children:f.jsx(Uj,{ref:e,...s})})}),Uj=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:s,...o}=t,a=vn(ec,r),u=l1(ec,r),{onThumbPositionChange:d}=u,h=dr(e,y=>u.onThumbChange(y)),m=w.useRef(void 0),g=Tc(()=>{m.current&&(m.current(),m.current=void 0)},100);return w.useEffect(()=>{const y=a.viewport;if(y){const x=()=>{if(g(),!m.current){const S=Hj(y,d);m.current=S,d()}};return d(),y.addEventListener("scroll",x),()=>y.removeEventListener("scroll",x)}},[a.viewport,g,d]),f.jsx(yt.div,{"data-state":u.hasThumb?"visible":"hidden",...o,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:st(t.onPointerDownCapture,y=>{const S=y.target.getBoundingClientRect(),k=y.clientX-S.left,_=y.clientY-S.top;u.onThumbPointerDown({x:k,y:_})}),onPointerUp:st(t.onPointerUp,u.onThumbPointerUp)})});c1.displayName=ec;var Cp="ScrollAreaCorner",d1=w.forwardRef((t,e)=>{const r=vn(Cp,t.__scopeScrollArea),s=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&s?f.jsx(qj,{...t,ref:e}):null});d1.displayName=Cp;var qj=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,...s}=t,o=vn(Cp,r),[a,u]=w.useState(0),[d,h]=w.useState(0),m=!!(a&&d);return So(o.scrollbarX,()=>{const g=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(g),h(g)}),So(o.scrollbarY,()=>{const g=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(g),u(g)}),m?f.jsx(yt.div,{...s,ref:e,style:{width:a,height:d,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function tc(t){return t?parseInt(t,10):0}function f1(t,e){const r=t/e;return isNaN(r)?0:r}function Ec(t){const e=f1(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-r)*e;return Math.max(s,18)}function Wj(t,e,r,s="ltr"){const o=Ec(r),a=o/2,u=e||a,d=o-u,h=r.scrollbar.paddingStart+u,m=r.scrollbar.size-r.scrollbar.paddingEnd-d,g=r.content-r.viewport,y=s==="ltr"?[0,g]:[g*-1,0];return h1([h,m],y)(t)}function Wy(t,e,r="ltr"){const s=Ec(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-o,u=e.content-e.viewport,d=a-s,h=r==="ltr"?[0,u]:[u*-1,0],m=Aj(t,h);return h1([0,u],[0,d])(m)}function h1(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(r-t[0])}}function p1(t,e){return t>0&&t<e}var Hj=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},s=0;return(function o(){const a={left:t.scrollLeft,top:t.scrollTop},u=r.left!==a.left,d=r.top!==a.top;(u||d)&&e(),r=a,s=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(s)};function Tc(t,e){const r=tr(t),s=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(s.current),[]),w.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,e)},[r,e])}function So(t,e){const r=tr(e);gn(()=>{let s=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(r)});return o.observe(t),()=>{window.cancelAnimationFrame(s),o.unobserve(t)}}},[t,r])}var m1=s1,Qj=o1,Kj=d1;const kp=w.forwardRef(({className:t,children:e,...r},s)=>f.jsxs(m1,{ref:s,className:nt("relative overflow-hidden",t),...r,children:[f.jsx(Qj,{className:"h-full w-full rounded-[inherit]",children:e}),f.jsx(g1,{}),f.jsx(Kj,{})]}));kp.displayName=m1.displayName;const g1=w.forwardRef(({className:t,orientation:e="vertical",...r},s)=>f.jsx(Sp,{ref:s,orientation:e,className:nt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:f.jsx(c1,{className:"relative flex-1 rounded-full bg-border"})}));g1.displayName=Sp.displayName;function Gj({history:t}){const e=w.useRef(null);w.useEffect(()=>{if(e.current){const s=e.current.querySelector("[data-radix-scroll-area-viewport]");s&&(s.scrollTop=s.scrollHeight)}},[t]);const r=[];for(let s=0;s<t.length;s+=2)r.push({number:Math.floor(s/2)+1,white:t[s],black:t[s+1]||""});return f.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden flex flex-col h-full shadow-lg",children:[f.jsxs("div",{className:"px-4 py-3 bg-white/5 border-b border-white/5 flex justify-between items-center",children:[f.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-slate-400",children:"Move History"}),f.jsxs("span",{className:"text-[10px] bg-indigo-500/20 text-indigo-300 px-2 py-0.5 rounded-full font-mono",children:[t.length," moves"]})]}),f.jsx(kp,{className:"flex-1 p-4 h-[200px]",ref:e,children:f.jsx("div",{className:"grid grid-cols-[30px_1fr_1fr] gap-y-1 gap-x-2 text-sm font-medium",children:r.map((s,o)=>f.jsxs("div",{className:"contents group",children:[f.jsxs("div",{className:"text-slate-600 font-mono py-1 text-right pr-1 group-hover:text-slate-400 transition-colors",children:[s.number,"."]}),f.jsx("div",{className:"bg-indigo-500/5 text-indigo-200 py-1 px-2 rounded hover:bg-indigo-500/10 transition-colors cursor-default text-center",children:s.white}),f.jsx("div",{className:`py-1 px-2 rounded transition-colors text-center cursor-default ${s.black?"bg-indigo-500/5 text-indigo-200 hover:bg-indigo-500/10":""}`,children:s.black})]},o))})})]})}function Zj({messages:t,onSendMessage:e,disabled:r}){const[s,o]=w.useState(""),a=w.useRef(null);w.useEffect(()=>{if(a.current){const d=a.current.querySelector("[data-radix-scroll-area-viewport]");d&&(d.scrollTop=d.scrollHeight)}},[t]);const u=d=>{d.preventDefault(),s.trim()&&(e(s),o(""))};return f.jsxs("div",{className:"glass-card rounded-2xl overflow-hidden flex flex-col h-[300px] lg:h-full",children:[f.jsx("div",{className:"px-4 py-3 bg-white/5 border-b border-white/5",children:f.jsx("h3",{className:"text-xs font-bold uppercase tracking-widest text-indigo-400",children:"Tr chuyn trc tip"})}),f.jsx(kp,{className:"flex-1 p-4",ref:a,children:f.jsxs("div",{className:"space-y-4",children:[t.length===0&&f.jsx("div",{className:"text-center text-slate-600 text-xs mt-4 italic",children:"Cha c tin nhn no. Hy ni xin cho!"}),t.map((d,h)=>f.jsxs("div",{className:`flex flex-col ${d.isMe?"items-end":"items-start"}`,children:[!d.isMe&&f.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase mb-1 ml-1",children:d.sender}),f.jsx("div",{className:`
                  px-3 py-2 rounded-xl text-sm max-w-[85%] shadow-sm
                  ${d.isMe?"bg-indigo-600 text-white rounded-tr-sm":"bg-slate-800 text-slate-200 border border-white/5 rounded-tl-sm"}
                `,children:d.text})]},h))]})}),f.jsxs("form",{onSubmit:u,className:"p-3 bg-slate-900/50 border-t border-white/5 flex gap-2",children:[f.jsx(Vn,{value:s,onChange:d=>o(d.target.value),placeholder:"Nhp tin nhn...",className:"bg-slate-800 border-none focus-visible:ring-indigo-500/50",disabled:r}),f.jsx(ut,{type:"submit",size:"icon",disabled:r||!s.trim(),className:"bg-indigo-600 hover:bg-indigo-500",children:f.jsx(nC,{className:"w-4 h-4"})})]})]})}function Yj({evaluation:t,orientation:e}){const[r,s]=w.useState(50);w.useEffect(()=>{let a=0;if(t.startsWith("M")||t.startsWith("-M"))a=!t.startsWith("-")?100:-100;else{const d=parseFloat(t);isNaN(d)||(a=d)}let u=50+a*5;t.includes("M")&&(t.startsWith("-")?u=0:u=100),u=Math.max(2,Math.min(98,u)),s(u)},[t]);const o=e==="white";return f.jsxs("div",{className:"w-6 h-[400px] md:h-[500px] bg-slate-700 rounded-sm overflow-hidden flex flex-col relative border border-slate-600 shadow-inner",children:[f.jsx("div",{className:"absolute inset-0 bg-[#403d39] w-full h-full"}),f.jsx("div",{className:"absolute w-full bg-white transition-all duration-700 ease-in-out",style:{height:`${r}%`,[o?"bottom":"top"]:0}}),f.jsx("div",{className:`absolute w-full text-center text-[10px] font-bold z-10 
          ${o?r>50?"bottom-1 text-slate-800":"top-1 text-white":r>50?"top-1 text-slate-800":"bottom-1 text-white"}
      `,children:t})]})}class Xj{constructor(e){this.ws=null,this.eventHandlers=new Map,this.pendingQueue=[],this.id="connecting",this.shouldReconnect=!0,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.url=e,this.connect()}connect(){let e=window.location.host,r=window.location.protocol==="https:"?"wss:":"ws:";if(Pr)try{const o=new URL(Pr);e=o.host,r=o.protocol==="https:"?"wss:":"ws:"}catch(o){console.error("Invalid API_BASE_URL",o)}const s=`${r}//${e}${this.url}`;console.log("Connecting to WS:",s),this.ws=new WebSocket(s),this.ws.onopen=()=>{for(console.log("WS Connected to",this.url),this.id="connected",this.reconnectAttempts=0,this.trigger("connect",{});this.pendingQueue.length>0;){const o=this.pendingQueue.shift();o&&this.ws?.send(o)}},this.ws.onmessage=o=>{try{const a=JSON.parse(o.data),{type:u,...d}=a;this.trigger(u,d)}catch(a){console.error("WS Parse Error",a)}},this.ws.onclose=()=>{console.log("WS Closed"),this.trigger("disconnect",{}),this.shouldReconnect&&this.reconnectAttempts<this.maxReconnectAttempts&&(this.reconnectAttempts++,setTimeout(()=>this.connect(),1e3*this.reconnectAttempts))},this.ws.onerror=o=>{console.error("WS Error",o),this.trigger("connect_error",o)}}on(e,r){return this.eventHandlers.has(e)||this.eventHandlers.set(e,[]),this.eventHandlers.get(e)?.push(r),this}off(e,r){if(!r){this.eventHandlers.delete(e);return}const s=this.eventHandlers.get(e);s&&this.eventHandlers.set(e,s.filter(o=>o!==r))}emit(e,r){const s=JSON.stringify({type:e,data:r});this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(s):this.pendingQueue.push(s)}disconnect(){this.shouldReconnect=!1,this.ws&&this.ws.close()}trigger(e,r){const s=this.eventHandlers.get(e);s&&s.forEach(o=>o(r))}}class Jj{constructor(){this.socket=null,this.currentTarget=null}connect(e="lobby"){if(this.socket&&this.currentTarget===e)return this.socket;this.socket&&this.socket.disconnect();const r=e==="lobby"?"/api/socket/lobby":`/api/socket/game/${e}`;return this.socket=new Xj(r),this.currentTarget=e,this.socket}getSocket(){return this.socket?this.socket:this.connect("lobby")}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.currentTarget=null)}}const va=new Jj;function eR(){const{mode:t,id:e}=u0(),[r,s]=ji(),{user:o}=Di(),{toast:a}=Ri(),[u,d]=w.useState(new gi),[h,m]=w.useState(u.fen()),[g,y]=w.useState([]),[x,S]=w.useState("white"),[k,_]=w.useState(null),[C,P]=w.useState([]),[T,D]=w.useState(!1),[M,V]=w.useState(!0),[G,B]=w.useState(null),[J,H]=w.useState(!1),[U,te]=w.useState(null),[Z,re]=w.useState(t==="online"),[Y,_e]=w.useState(null),[ce,we]=w.useState(null),[Q,le]=w.useState(!1),[ue,j]=w.useState(!1),[X,Pe]=w.useState(!1),[pe,Ve]=w.useState(e!=="random"?e:null),[We,He]=w.useState(6e5),[Ue,Qe]=w.useState(6e5),[_t,br]=w.useState(null),[Gt,jt]=w.useState(!1),[yn,nn]=w.useState(null),{bestMove:Sr,evaluation:qr,isThinking:xn,search:Ar}=l5(),[Mr,rr]=w.useState(t==="online"&&e==="random"),N=w.useRef(0),A=w.useRef(null),K=w.useRef(null);w.useEffect(()=>{if(t!=="online"||!o)return;const Fe=e==="random"||!e?"lobby":e,ve=va.connect(Fe);ve.emit("identify",{userId:o.id,username:o.username,rating:o.rating});const xt=()=>jt(!0),wt=()=>jt(!1),$t=()=>{rr(!0),re(!0)},Lt=je=>{rr(!1),re(!1),le(!0),_(je.color),S(je.color==="w"?"white":"black"),we(je.opponent),e==="random"&&s(`/game/online/${je.roomId}`,{replace:!0}),a({title:"Tm thy i th!",description:`Bn ang u vi ${je.opponent.username}`}),ee("start",!0)},Lr=je=>{if(je.white&&je.black&&le(!0),je.fen){const rt=new gi(je.fen);d(rt),m(je.fen)}je.white?.userId===o.id?(_("w"),S("white"),we(je.black)):je.black?.userId===o.id&&(_("b"),S("black"),we(je.white))},Vt=je=>{const rt=new gi(je.fen);d(rt),m(je.fen),B({from:je.move.from,to:je.move.to}),rt.isGameOver()?ee("end"):rt.inCheck()?ee("check"):je.move.captured?ee("capture"):ee("move")},hr=je=>{H(!0),te(je.result),ee("end");let rt="Ha!";je.winnerColor&&(rt=je.winnerColor===k?"Bn thng!":"Bn thua!"),a({title:"Kt thc vn u",description:`${rt} (${je.result})`})},Me=()=>{a({title:"i th mt kt ni",description:"Bn s c x thng nu h khng quay li.",variant:"destructive"})},bt=je=>{P(rt=>[...rt,{sender:je.sender,text:je.text,isMe:je.sender===o.username}])},Et=je=>{const rt=new gi(je.fen);d(rt),m(je.fen)},Ht=je=>{a({title:"Li",description:je.message,variant:"destructive"})},nr=je=>{le(!0),ee("start",!0),we(k==="w"?je.black:je.white)};return ve.on("connect",xt),ve.on("disconnect",wt),ve.on("waiting_for_match",$t),ve.on("match_found",Lt),ve.on("room_state",Lr),ve.on("game_start",nr),ve.on("move_made",Vt),ve.on("game_over",hr),ve.on("player_disconnected",Me),ve.on("chat_message",bt),ve.on("sync_board",Et),ve.on("error",Ht),ve.on("draw_offer",je=>{const rt=pe||(e!=="random"?e:null);a({title:"i th mi ha",description:"Bn c chp nhn khng?",action:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ut,{size:"sm",onClick:()=>{rt&&(ve.emit("draw_response",{roomId:rt,accepted:!0}),a({title:" chp nhn ha"}))},children:"Chp nhn"}),f.jsx(ut,{size:"sm",variant:"outline",onClick:()=>{rt&&(ve.emit("draw_response",{roomId:rt,accepted:!1}),a({title:" t chi"}))},children:"T chi"})]}),duration:1e4})}),e==="random"?ve.emit("join_random"):ve.emit("join_room",e),()=>{ve.off("connect",xt),ve.off("disconnect",wt),ve.off("waiting_for_match",$t),ve.off("match_found",Lt),ve.off("room_state",Lr),ve.off("game_start"),ve.off("move_made",Vt),ve.off("game_over",hr),ve.off("player_disconnected",Me),ve.off("chat_message",bt),ve.off("sync_board",Et),ve.off("error",Ht),ve.off("draw_offer"),e!=="random"&&ve.emit("leave_room",e)}},[t,e,o,k]);const me=w.useCallback(()=>{if(A.current&&A.current.state==="running")return A.current;const Fe=window.AudioContext||window.webkitAudioContext;if(!Fe)return null;A.current||(A.current=new Fe);const ve=A.current;return ve&&ve.state==="suspended"&&ve.resume().catch(()=>{}),ve},[]);w.useEffect(()=>{const Fe=()=>{me(),window.removeEventListener("click",Fe),window.removeEventListener("keydown",Fe)};return window.addEventListener("click",Fe),window.addEventListener("keydown",Fe),()=>{window.removeEventListener("click",Fe),window.removeEventListener("keydown",Fe),A.current&&(A.current.close().catch(console.error),A.current=null)}},[me]);const he=w.useCallback(Fe=>{try{const ve=me();if(!ve)return;const xt=ve.createOscillator(),wt=ve.createGain();let $t=1040,Lt=.12;switch(Fe){case"capture":$t=720;break;case"check":$t=1280,Lt=.2;break;case"start":$t=960,Lt=.3;break;case"end":$t=560,Lt=.5;break;default:$t=1040}xt.frequency.value=$t,wt.gain.value=.3,wt.gain.setValueAtTime(0,ve.currentTime),wt.gain.linearRampToValueAtTime(.3,ve.currentTime+.02),wt.gain.exponentialRampToValueAtTime(.01,ve.currentTime+Lt),xt.connect(wt),wt.connect(ve.destination),xt.start(ve.currentTime),xt.stop(ve.currentTime+Lt+.1)}catch(ve){console.error("Audio playback failed",ve)}},[me]),ee=w.useCallback((Fe,ve=!1)=>{const xt=typeof performance<"u"?performance.now():Date.now();!ve&&xt-N.current<200||(N.current=xt,!(!M&&!ve)&&he(Fe))},[M,he]),ge=Fe=>{const ve=Math.max(0,Math.floor(Fe/1e3)),xt=Math.floor(ve/60).toString().padStart(2,"0"),wt=(ve%60).toString().padStart(2,"0");return`${xt}:${wt}`},Ke=w.useCallback(()=>{const Fe=new gi;d(Fe),m(Fe.fen()),y([]),B(null),H(!1),te(null),He(6e5),Qe(6e5),br(Date.now()),j(!1),K.current=null,N.current=0},[]),it=w.useCallback((Fe,ve,xt="q")=>{try{const wt=u.fen();if(!new gi(wt).moves({verbose:!0}).some(Me=>Me.from===Fe&&Me.to===ve&&(Me.promotion?Me.promotion===xt:!0)))return!1;const Vt=new gi(wt),hr=Vt.move({from:Fe,to:ve,promotion:xt});if(!hr)return!1;if(d(Vt),m(Vt.fen()),y(Me=>[...Me,`${Fe}-${ve}`]),B({from:Fe,to:ve}),t==="online"){const Me=va.getSocket();e!=="random"&&Me.emit("make_move",{roomId:e,move:hr,fen:Vt.fen()})}if(Vt.isGameOver()){if(t!=="online"){H(!0);let Me="Ha";Vt.isCheckmate()&&(Me=Vt.turn()==="w"?"en thng":"Trng thng"),te(Me),ee("end")}}else Vt.inCheck()?ee("check"):hr.captured?ee("capture"):ee("move");return!0}catch(wt){return console.error("Li khi thc hin nc i:",wt),!1}},[u,ee,t,a,s,e]);w.useEffect(()=>{!o&&t==="online"&&s("/auth")},[o,t,s]),w.useEffect(()=>{t==="ai"&&(_("w"),re(!1),le(!0))},[t]),w.useEffect(()=>{t==="ai"&&u.turn()==="b"&&!J&&Ar(u.fen())},[t,u,J,Ar]),w.useEffect(()=>{if(t==="ai"&&Sr&&u.turn()==="b"&&!J){const Fe=Sr.slice(0,2),ve=Sr.slice(2,4),xt=Sr.length>4?Sr[4]:"q";setTimeout(()=>{it(Fe,ve,xt)},500)}},[Sr,t,u,J,it]);const ht=()=>{if(t==="online"){if(confirm("Bn c chc chn mun xin thua?")){const Fe=pe||(e!=="random"?e:null);Fe&&va.getSocket().emit("resign",Fe)}}else H(!0),te("Resignation")},sn=()=>{if(t==="online"){const Fe=pe||(e!=="random"?e:null);Fe&&(va.getSocket().emit("offer_draw",Fe),j(!0),a({title:" gi yu cu ha"}))}};return f.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans selection:bg-indigo-500/30",children:[f.jsxs("div",{className:"h-16 border-b border-slate-800 bg-slate-900/50 backdrop-blur-md fixed top-0 w-full z-50 flex items-center px-4 lg:px-8 justify-between shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(ut,{variant:"ghost",size:"icon",onClick:()=>s("/"),className:"text-slate-400 hover:text-white hover:bg-white/5 rounded-full",children:f.jsx(rx,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg shadow-indigo-500/20",children:f.jsx(cc,{className:"w-5 h-5 text-white"})}),f.jsx("h1",{className:"font-bold text-xl tracking-tight hidden sm:block bg-gradient-to-r from-white to-slate-400 bg-clip-text text-transparent",children:"Chess Master"})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[t==="online"&&f.jsxs("div",{className:`px-3 py-1.5 rounded-full text-xs font-medium flex items-center gap-2 border ${Gt?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-rose-500/10 text-rose-400 border-rose-500/20"}`,children:[Gt?f.jsx(lC,{className:"w-3.5 h-3.5"}):f.jsx(aC,{className:"w-3.5 h-3.5"}),f.jsx("span",{className:"hidden sm:inline",children:Gt?"Online":"Offline"})]}),f.jsx(ut,{variant:"ghost",size:"icon",onClick:()=>V(!M),className:M?"text-indigo-400":"text-slate-600",children:M?f.jsx(iC,{className:"w-5 h-5"}):f.jsx(oC,{className:"w-5 h-5"})})]})]}),f.jsxs("div",{className:"pt-24 pb-8 px-4 max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-[1fr_auto_1fr] gap-8 h-[calc(100vh-6rem)]",children:[f.jsxs("div",{className:"hidden lg:flex flex-col gap-4 min-w-[300px]",children:[f.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-800 flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 flex items-center justify-center text-xl font-bold text-slate-500",children:ce?.username?.[0]?.toUpperCase()||"?"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-lg",children:ce?.username||(Mr?"ang tm...":"Waiting...")}),f.jsxs("div",{className:"text-sm text-slate-500 flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Rating: ",ce?.rating||1200]})]})]}),f.jsxs("div",{className:"flex-1 bg-slate-900/50 rounded-xl border border-slate-800 overflow-hidden flex flex-col",children:[f.jsxs("div",{className:"p-3 border-b border-slate-800 font-medium text-slate-400 flex items-center gap-2",children:[f.jsx(Y_,{className:"w-4 h-4"})," Lch s nc i"]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:f.jsx(Gj,{history:g})})]})]}),f.jsx("div",{className:"flex flex-col items-center justify-center gap-6",children:Mr?f.jsxs("div",{className:"flex flex-col items-center justify-center p-12 bg-slate-900/50 rounded-2xl border border-slate-800 animate-in fade-in zoom-in",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin mb-6"}),f.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"ang tm i th..."}),f.jsx("p",{className:"text-slate-400",children:"H thng ang ghp cp ngu nhin cho bn"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"w-full flex justify-between text-slate-400 text-sm px-2",children:[f.jsx("span",{children:ce?.username||"Opponent"}),f.jsx("span",{className:"font-mono text-xl text-white",children:ge(Ue)})]}),f.jsxs("div",{className:"flex gap-4 items-stretch",children:[f.jsx("div",{className:"hidden sm:block pt-2 pb-2",children:f.jsx(Yj,{evaluation:qr||"0.0",orientation:x})}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl blur opacity-25 group-hover:opacity-50 transition duration-1000"}),f.jsx(Rj,{game:u,onMove:it,orientation:x,isThinking:xn,disabled:t==="online"&&(!Q||k===null),lastMove:G,onReset:Ke})]})]}),f.jsxs("div",{className:"w-full flex justify-between text-slate-400 text-sm px-2",children:[f.jsx("span",{children:o?.username||"You"}),f.jsx("span",{className:"font-mono text-xl text-white",children:ge(We)})]}),f.jsx("div",{className:"w-full flex justify-center",children:f.jsx(Dj,{onFlip:()=>S(Fe=>Fe==="white"?"black":"white"),onResign:ht,onDraw:sn,onReset:Ke,gameMode:t==="online"?"online":t==="ai"?"ai":"offline",disabled:J||t==="online"&&(!Q||k===null)})})]})}),f.jsxs("div",{className:"hidden lg:flex flex-col gap-4 min-w-[300px]",children:[f.jsx("div",{className:"flex-1 bg-slate-900/50 rounded-xl border border-slate-800 overflow-hidden",children:f.jsx(Zj,{messages:C,onSendMessage:Fe=>{if(t==="online"){const ve=pe||(e!=="random"?e:null);ve&&va.getSocket().emit("chat_message",{roomId:ve,message:Fe})}}})}),f.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-xl border border-slate-800",children:[f.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider font-bold mb-3",children:"Game Info"}),f.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[f.jsxs("div",{className:"bg-slate-800/50 p-2 rounded",children:[f.jsx("div",{className:"text-slate-500",children:"Room ID"}),f.jsx("div",{className:"font-mono text-indigo-400 truncate",title:e,children:e==="random"?"---":e})]}),f.jsxs("div",{className:"bg-slate-800/50 p-2 rounded",children:[f.jsx("div",{className:"text-slate-500",children:"Status"}),f.jsx("div",{className:Gt?"text-emerald-400":"text-rose-400",children:Gt?"Connected":"Disconnected"})]})]})]})]})]})]})}var Hf="rovingFocusGroup.onEntryFocus",tR={bubbles:!1,cancelable:!0},Pc="RovingFocusGroup",[jh,v1,rR]=P0(Pc),[nR,y1]=ei(Pc,[rR]),[sR,iR]=nR(Pc),x1=w.forwardRef((t,e)=>f.jsx(jh.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(jh.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(oR,{...t,ref:e})})}));x1.displayName=Pc;var oR=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:s,loop:o=!1,dir:a,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...y}=t,x=w.useRef(null),S=dr(e,x),k=wp(a),[_=null,C]=Uh({prop:u,defaultProp:d,onChange:h}),[P,T]=w.useState(!1),D=tr(m),M=v1(r),V=w.useRef(!1),[G,B]=w.useState(0);return w.useEffect(()=>{const J=x.current;if(J)return J.addEventListener(Hf,D),()=>J.removeEventListener(Hf,D)},[D]),f.jsx(sR,{scope:r,orientation:s,dir:k,loop:o,currentTabStopId:_,onItemFocus:w.useCallback(J=>C(J),[C]),onItemShiftTab:w.useCallback(()=>T(!0),[]),onFocusableItemAdd:w.useCallback(()=>B(J=>J+1),[]),onFocusableItemRemove:w.useCallback(()=>B(J=>J-1),[]),children:f.jsx(yt.div,{tabIndex:P||G===0?-1:0,"data-orientation":s,...y,ref:S,style:{outline:"none",...t.style},onMouseDown:st(t.onMouseDown,()=>{V.current=!0}),onFocus:st(t.onFocus,J=>{const H=!V.current;if(J.target===J.currentTarget&&H&&!P){const U=new CustomEvent(Hf,tR);if(J.currentTarget.dispatchEvent(U),!U.defaultPrevented){const te=M().filter(ce=>ce.focusable),Z=te.find(ce=>ce.active),re=te.find(ce=>ce.id===_),_e=[Z,re,...te].filter(Boolean).map(ce=>ce.ref.current);S1(_e,g)}}V.current=!1}),onBlur:st(t.onBlur,()=>T(!1))})})}),w1="RovingFocusGroupItem",b1=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:s=!0,active:o=!1,tabStopId:a,...u}=t,d=mx(),h=a||d,m=iR(w1,r),g=m.currentTabStopId===h,y=v1(r),{onFocusableItemAdd:x,onFocusableItemRemove:S}=m;return w.useEffect(()=>{if(s)return x(),()=>S()},[s,x,S]),f.jsx(jh.ItemSlot,{scope:r,id:h,focusable:s,active:o,children:f.jsx(yt.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...u,ref:e,onMouseDown:st(t.onMouseDown,k=>{s?m.onItemFocus(h):k.preventDefault()}),onFocus:st(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:st(t.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){m.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const _=uR(k,m.orientation,m.dir);if(_!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let P=y().filter(T=>T.focusable).map(T=>T.ref.current);if(_==="last")P.reverse();else if(_==="prev"||_==="next"){_==="prev"&&P.reverse();const T=P.indexOf(k.currentTarget);P=m.loop?cR(P,T+1):P.slice(T+1)}setTimeout(()=>S1(P))}})})})});b1.displayName=w1;var aR={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function lR(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function uR(t,e,r){const s=lR(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return aR[s]}function S1(t,e=!1){const r=document.activeElement;for(const s of t)if(s===r||(s.focus({preventScroll:e}),document.activeElement!==r))return}function cR(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var dR=x1,fR=b1,Ep="Tabs",[hR]=ei(Ep,[y1]),_1=y1(),[pR,Tp]=hR(Ep),C1=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,onValueChange:o,defaultValue:a,orientation:u="horizontal",dir:d,activationMode:h="automatic",...m}=t,g=wp(d),[y,x]=Uh({prop:s,onChange:o,defaultProp:a});return f.jsx(pR,{scope:r,baseId:mx(),value:y,onValueChange:x,orientation:u,dir:g,activationMode:h,children:f.jsx(yt.div,{dir:g,"data-orientation":u,...m,ref:e})})});C1.displayName=Ep;var k1="TabsList",E1=w.forwardRef((t,e)=>{const{__scopeTabs:r,loop:s=!0,...o}=t,a=Tp(k1,r),u=_1(r);return f.jsx(dR,{asChild:!0,...u,orientation:a.orientation,dir:a.dir,loop:s,children:f.jsx(yt.div,{role:"tablist","aria-orientation":a.orientation,...o,ref:e})})});E1.displayName=k1;var T1="TabsTrigger",P1=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,disabled:o=!1,...a}=t,u=Tp(T1,r),d=_1(r),h=j1(u.baseId,s),m=R1(u.baseId,s),g=s===u.value;return f.jsx(fR,{asChild:!0,...d,focusable:!o,active:g,children:f.jsx(yt.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...a,ref:e,onMouseDown:st(t.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?u.onValueChange(s):y.preventDefault()}),onKeyDown:st(t.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(s)}),onFocus:st(t.onFocus,()=>{const y=u.activationMode!=="manual";!g&&!o&&y&&u.onValueChange(s)})})})});P1.displayName=T1;var N1="TabsContent",O1=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,forceMount:o,children:a,...u}=t,d=Tp(N1,r),h=j1(d.baseId,s),m=R1(d.baseId,s),g=s===d.value,y=w.useRef(g);return w.useEffect(()=>{const x=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(x)},[]),f.jsx(ti,{present:o||g,children:({present:x})=>f.jsx(yt.div,{"data-state":g?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:m,tabIndex:0,...u,ref:e,style:{...t.style,animationDuration:y.current?"0s":void 0},children:x&&a})})});O1.displayName=N1;function j1(t,e){return`${t}-trigger-${e}`}function R1(t,e){return`${t}-content-${e}`}var mR=C1,D1=E1,I1=P1,A1=O1;const gR=mR,M1=w.forwardRef(({className:t,...e},r)=>f.jsx(D1,{ref:r,className:nt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));M1.displayName=D1.displayName;const Rh=w.forwardRef(({className:t,...e},r)=>f.jsx(I1,{ref:r,className:nt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Rh.displayName=I1.displayName;const Dh=w.forwardRef(({className:t,...e},r)=>f.jsx(A1,{ref:r,className:nt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Dh.displayName=A1.displayName;const L1=w.forwardRef(({className:t,...e},r)=>f.jsx("div",{className:"relative w-full overflow-auto",children:f.jsx("table",{ref:r,className:nt("w-full caption-bottom text-sm",t),...e})}));L1.displayName="Table";const F1=w.forwardRef(({className:t,...e},r)=>f.jsx("thead",{ref:r,className:nt("[&_tr]:border-b",t),...e}));F1.displayName="TableHeader";const z1=w.forwardRef(({className:t,...e},r)=>f.jsx("tbody",{ref:r,className:nt("[&_tr:last-child]:border-0",t),...e}));z1.displayName="TableBody";const vR=w.forwardRef(({className:t,...e},r)=>f.jsx("tfoot",{ref:r,className:nt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));vR.displayName="TableFooter";const Ih=w.forwardRef(({className:t,...e},r)=>f.jsx("tr",{ref:r,className:nt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ih.displayName="TableRow";const Ca=w.forwardRef(({className:t,...e},r)=>f.jsx("th",{ref:r,className:nt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ca.displayName="TableHead";const ka=w.forwardRef(({className:t,...e},r)=>f.jsx("td",{ref:r,className:nt("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));ka.displayName="TableCell";const yR=w.forwardRef(({className:t,...e},r)=>f.jsx("caption",{ref:r,className:nt("mt-4 text-sm text-muted-foreground",t),...e}));yR.displayName="TableCaption";var Pp="Avatar",[xR]=ei(Pp),[wR,$1]=xR(Pp),V1=w.forwardRef((t,e)=>{const{__scopeAvatar:r,...s}=t,[o,a]=w.useState("idle");return f.jsx(wR,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:a,children:f.jsx(yt.span,{...s,ref:e})})});V1.displayName=Pp;var B1="AvatarImage",U1=w.forwardRef((t,e)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:o=()=>{},...a}=t,u=$1(B1,r),d=bR(s,a),h=tr(m=>{o(m),u.onImageLoadingStatusChange(m)});return gn(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?f.jsx(yt.img,{...a,ref:e,src:s}):null});U1.displayName=B1;var q1="AvatarFallback",W1=w.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:s,...o}=t,a=$1(q1,r),[u,d]=w.useState(s===void 0);return w.useEffect(()=>{if(s!==void 0){const h=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(h)}},[s]),u&&a.imageLoadingStatus!=="loaded"?f.jsx(yt.span,{...o,ref:e}):null});W1.displayName=q1;function Hy(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function bR(t,{referrerPolicy:e,crossOrigin:r}){const s=_R(),o=w.useRef(null),a=s?(o.current||(o.current=new window.Image),o.current):null,[u,d]=w.useState(()=>Hy(a,t));return gn(()=>{d(Hy(a,t))},[a,t]),gn(()=>{const h=y=>()=>{d(y)};if(!a)return;const m=h("loaded"),g=h("error");return a.addEventListener("load",m),a.addEventListener("error",g),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",m),a.removeEventListener("error",g)}},[a,r,e]),u}function SR(){return()=>{}}function _R(){return w.useSyncExternalStore(SR,()=>!0,()=>!1)}var H1=V1,Q1=U1,K1=W1;const G1=w.forwardRef(({className:t,...e},r)=>f.jsx(H1,{ref:r,className:nt(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));G1.displayName=H1.displayName;const CR=w.forwardRef(({className:t,...e},r)=>f.jsx(Q1,{ref:r,className:nt("aspect-square h-full w-full",t),...e}));CR.displayName=Q1.displayName;const Z1=w.forwardRef(({className:t,...e},r)=>f.jsx(K1,{ref:r,className:nt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Z1.displayName=K1.displayName;const kR="auth_token";function ER(){try{return localStorage.getItem(kR)}catch{return null}}function TR(){const{user:t}=Di(),{toast:e}=Ri(),[r,s]=ji(),[o,a]=w.useState(""),[u,d]=w.useState(null),{data:h,isLoading:m}=Du({queryKey:["/api/leaderboard"]}),{data:g}=Du({queryKey:["/api/users/search",o],queryFn:async()=>o?(await fetch(`${Pr}/api/users/search?q=${encodeURIComponent(o)}`)).json():[],enabled:o.length>0});return f.jsxs("div",{className:"min-h-screen bg-[#020617] text-white relative p-6",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsxs("div",{className:"max-w-4xl mx-auto",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[f.jsx(ut,{variant:"ghost",size:"icon",onClick:()=>s("/"),children:f.jsx(K_,{className:"w-6 h-6"})}),f.jsxs("h1",{className:"text-3xl font-black italic tracking-tighter",children:["Cng ng",f.jsx("span",{className:"text-indigo-500",children:"Hub"})]})]}),u&&f.jsxs(Bn,{className:"bg-indigo-600/10 border-indigo-500/30 backdrop-blur-md mb-8",children:[f.jsxs(hs,{className:"flex flex-row items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 rounded-2xl bg-indigo-500/20 flex items-center justify-center border border-indigo-500/30",children:f.jsx(jv,{className:"w-8 h-8 text-indigo-400"})}),f.jsxs("div",{children:[f.jsx(ps,{className:"text-2xl text-white",children:u.username}),f.jsxs(mw,{className:"text-indigo-300",children:["Hng: ",u.rating," Elo"]})]})]}),f.jsx(ut,{variant:"outline",size:"sm",onClick:()=>d(null),children:"ng"})]}),f.jsxs(Un,{children:[f.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[f.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10 text-center",children:[f.jsx("div",{className:"text-sm text-slate-400",children:"Thng"}),f.jsx("div",{className:"text-xl font-bold text-emerald-400",children:u.wins||0})]}),f.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10 text-center",children:[f.jsx("div",{className:"text-sm text-slate-400",children:"Thua"}),f.jsx("div",{className:"text-xl font-bold text-red-400",children:u.losses||0})]}),f.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/10 text-center",children:[f.jsx("div",{className:"text-sm text-slate-400",children:"Ha"}),f.jsx("div",{className:"text-xl font-bold text-amber-400",children:u.draws||0})]})]}),f.jsxs(ut,{className:"w-full bg-indigo-500 hover:bg-indigo-600",onClick:async()=>{const y=Mw(6).toUpperCase();try{const x=ER();(await fetch(`${Pr}/api/invite`,{method:"POST",headers:x?{"Content-Type":"application/json",Authorization:`Bearer ${x}`}:{"Content-Type":"application/json"},body:JSON.stringify({toUserId:u.id,roomId:y})})).ok&&(e({title:" gi li mi",description:`ang ch ${u.username} chp nhn...`}),s(`/game/online/${y}`))}catch(x){console.error("Send invite failed",x)}},children:[f.jsx(sx,{className:"w-4 h-4 mr-2"}),"Gi li mi thch u"]})]})]}),f.jsxs(gR,{defaultValue:"leaderboard",className:"w-full",children:[f.jsxs(M1,{className:"grid w-full grid-cols-2 bg-slate-900/50 p-1 rounded-xl mb-8",children:[f.jsxs(Rh,{value:"leaderboard",className:"rounded-lg data-[state=active]:bg-indigo-600 data-[state=active]:text-white",children:[f.jsx(dc,{className:"w-4 h-4 mr-2"}),"Bng xp hng"]}),f.jsxs(Rh,{value:"search",className:"rounded-lg data-[state=active]:bg-indigo-600 data-[state=active]:text-white",children:[f.jsx(Ov,{className:"w-4 h-4 mr-2"}),"Tm ngi chi"]})]}),f.jsx(Dh,{value:"leaderboard",children:f.jsxs(Bn,{className:"glass-card border-none text-slate-200",children:[f.jsx(hs,{children:f.jsxs(ps,{className:"flex items-center gap-2",children:[f.jsx(cc,{className:"w-6 h-6 text-yellow-500"}),"Cao th hng u"]})}),f.jsx(Un,{children:m?f.jsx("div",{className:"text-center py-8 text-slate-500",children:"ang ti..."}):f.jsxs(L1,{children:[f.jsx(F1,{children:f.jsxs(Ih,{className:"hover:bg-transparent border-white/10",children:[f.jsx(Ca,{className:"text-slate-400",children:"Hng"}),f.jsx(Ca,{className:"text-slate-400",children:"Ngi chi"}),f.jsx(Ca,{className:"text-right text-slate-400",children:"Elo"}),f.jsx(Ca,{className:"text-right text-slate-400",children:"Vn"})]})}),f.jsx(z1,{children:h?.map((y,x)=>f.jsxs(Ih,{className:"hover:bg-white/5 border-white/5 cursor-pointer",onClick:()=>d(y),children:[f.jsxs(ka,{className:"font-bold",children:[x===0&&f.jsx("span",{className:"text-yellow-500",children:""}),x===1&&f.jsx("span",{className:"text-slate-400",children:""}),x===2&&f.jsx("span",{className:"text-amber-700",children:""}),x>2&&f.jsxs("span",{className:"text-slate-500",children:["#",x+1]})]}),f.jsx(ka,{className:"font-medium text-indigo-300",children:f.jsxs("div",{className:"flex items-center gap-2",children:[y.username,y.id!==t?.id&&f.jsx(ut,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:S=>{S.stopPropagation(),d(y)},children:f.jsx(jv,{className:"w-3 h-3"})})]})}),f.jsx(ka,{className:"text-right font-mono font-bold",children:y.rating}),f.jsx(ka,{className:"text-right text-slate-500",children:y.gamesPlayed})]},y.id))})]})})]})}),f.jsx(Dh,{value:"search",children:f.jsxs(Bn,{className:"glass-card border-none text-slate-200",children:[f.jsxs(hs,{children:[f.jsx(ps,{children:"Tm ngi chi"}),f.jsxs("div",{className:"relative",children:[f.jsx(Ov,{className:"absolute left-3 top-3 h-4 w-4 text-slate-500"}),f.jsx(Vn,{placeholder:"Tm theo tn ti khon...",className:"pl-10 bg-slate-900/50 border-white/10 text-white",value:o,onChange:y=>a(y.target.value)})]})]}),f.jsx(Un,{children:f.jsxs("div",{className:"space-y-4",children:[g?.map(y=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-900/30 rounded-xl border border-white/5 cursor-pointer hover:border-indigo-500/50 transition-all",onClick:()=>d(y),children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(G1,{children:f.jsx(Z1,{className:"bg-indigo-600 text-white",children:y.username.substring(0,2).toUpperCase()})}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-white",children:y.username}),f.jsxs("div",{className:"text-xs text-slate-500",children:["Elo: ",y.rating]})]})]}),f.jsx("div",{className:"flex gap-2",children:f.jsx(ut,{size:"sm",variant:"secondary",className:"bg-white/10 hover:bg-white/20",onClick:x=>{x.stopPropagation(),d(y)},children:"Xem Profile"})})]},y.id)),o&&g?.length===0&&f.jsx("div",{className:"text-center text-slate-500 py-8",children:"Khng tm thy ngi chi no"})]})})]})})]})]})]})}function Mn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Oi(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Y1=6048e5,PR=864e5;let NR={};function Nc(){return NR}function Za(t,e){const r=Nc(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=Mn(t),a=o.getDay(),u=(a<s?7:0)+a-s;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function rc(t){return Za(t,{weekStartsOn:1})}function X1(t){const e=Mn(t),r=e.getFullYear(),s=Oi(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=rc(s),a=Oi(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const u=rc(a);return e.getTime()>=o.getTime()?r+1:e.getTime()>=u.getTime()?r:r-1}function Qy(t){const e=Mn(t);return e.setHours(0,0,0,0),e}function Ky(t){const e=Mn(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function OR(t,e){const r=Qy(t),s=Qy(e),o=+r-Ky(r),a=+s-Ky(s);return Math.round((o-a)/PR)}function jR(t){const e=X1(t),r=Oi(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),rc(r)}function RR(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function DR(t){if(!RR(t)&&typeof t!="number")return!1;const e=Mn(t);return!isNaN(Number(e))}function IR(t){const e=Mn(t),r=Oi(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const AR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},MR=(t,e,r)=>{let s;const o=AR[t];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Qf(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const LR={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},FR={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zR={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$R={date:Qf({formats:LR,defaultWidth:"full"}),time:Qf({formats:FR,defaultWidth:"full"}),dateTime:Qf({formats:zR,defaultWidth:"full"})},VR={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},BR=(t,e,r,s)=>VR[t];function ya(t){return(e,r)=>{const s=r?.context?String(r.context):"standalone";let o;if(s==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,d=r?.width?String(r.width):u;o=t.formattingValues[d]||t.formattingValues[u]}else{const u=t.defaultWidth,d=r?.width?String(r.width):t.defaultWidth;o=t.values[d]||t.values[u]}const a=t.argumentCallback?t.argumentCallback(e):e;return o[a]}}const UR={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},WR={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},HR={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},KR={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GR=(t,e)=>{const r=Number(t),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ZR={ordinalNumber:GR,era:ya({values:UR,defaultWidth:"wide"}),quarter:ya({values:qR,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ya({values:WR,defaultWidth:"wide"}),day:ya({values:HR,defaultWidth:"wide"}),dayPeriod:ya({values:QR,defaultWidth:"wide",formattingValues:KR,defaultFormattingWidth:"wide"})};function xa(t){return(e,r={})=>{const s=r.width,o=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],a=e.match(o);if(!a)return null;const u=a[0],d=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?XR(d,y=>y.test(u)):YR(d,y=>y.test(u));let m;m=t.valueCallback?t.valueCallback(h):h,m=r.valueCallback?r.valueCallback(m):m;const g=e.slice(u.length);return{value:m,rest:g}}}function YR(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function XR(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function JR(t){return(e,r={})=>{const s=e.match(t.matchPattern);if(!s)return null;const o=s[0],a=e.match(t.parsePattern);if(!a)return null;let u=t.valueCallback?t.valueCallback(a[0]):a[0];u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}const eD=/^(\d+)(th|st|nd|rd)?/i,tD=/\d+/i,rD={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nD={any:[/^b/i,/^(a|c)/i]},sD={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},iD={any:[/1/i,/2/i,/3/i,/4/i]},oD={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},aD={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lD={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},uD={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},cD={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},dD={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fD={ordinalNumber:JR({matchPattern:eD,parsePattern:tD,valueCallback:t=>parseInt(t,10)}),era:xa({matchPatterns:rD,defaultMatchWidth:"wide",parsePatterns:nD,defaultParseWidth:"any"}),quarter:xa({matchPatterns:sD,defaultMatchWidth:"wide",parsePatterns:iD,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xa({matchPatterns:oD,defaultMatchWidth:"wide",parsePatterns:aD,defaultParseWidth:"any"}),day:xa({matchPatterns:lD,defaultMatchWidth:"wide",parsePatterns:uD,defaultParseWidth:"any"}),dayPeriod:xa({matchPatterns:cD,defaultMatchWidth:"any",parsePatterns:dD,defaultParseWidth:"any"})},hD={code:"en-US",formatDistance:MR,formatLong:$R,formatRelative:BR,localize:ZR,match:fD,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pD(t){const e=Mn(t);return OR(e,IR(e))+1}function mD(t){const e=Mn(t),r=+rc(e)-+jR(e);return Math.round(r/Y1)+1}function J1(t,e){const r=Mn(t),s=r.getFullYear(),o=Nc(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=Oi(t,0);u.setFullYear(s+1,0,a),u.setHours(0,0,0,0);const d=Za(u,e),h=Oi(t,0);h.setFullYear(s,0,a),h.setHours(0,0,0,0);const m=Za(h,e);return r.getTime()>=d.getTime()?s+1:r.getTime()>=m.getTime()?s:s-1}function gD(t,e){const r=Nc(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=J1(t,e),a=Oi(t,0);return a.setFullYear(o,0,s),a.setHours(0,0,0,0),Za(a,e)}function vD(t,e){const r=Mn(t),s=+Za(r,e)-+gD(r,e);return Math.round(s/Y1)+1}function vt(t,e){const r=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return r+s}const Us={y(t,e){const r=t.getFullYear(),s=r>0?r:1-r;return vt(e==="yy"?s%100:s,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):vt(r+1,2)},d(t,e){return vt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(t,e){return vt(t.getHours()%12||12,e.length)},H(t,e){return vt(t.getHours(),e.length)},m(t,e){return vt(t.getMinutes(),e.length)},s(t,e){return vt(t.getSeconds(),e.length)},S(t,e){const r=e.length,s=t.getMilliseconds(),o=Math.trunc(s*Math.pow(10,r-3));return vt(o,e.length)}},oo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gy={G:function(t,e,r){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});default:return r.era(s,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const s=t.getFullYear(),o=s>0?s:1-s;return r.ordinalNumber(o,{unit:"year"})}return Us.y(t,e)},Y:function(t,e,r,s){const o=J1(t,s),a=o>0?o:1-o;if(e==="YY"){const u=a%100;return vt(u,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):vt(a,e.length)},R:function(t,e){const r=X1(t);return vt(r,e.length)},u:function(t,e){const r=t.getFullYear();return vt(r,e.length)},Q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return vt(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,r){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return vt(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,r){const s=t.getMonth();switch(e){case"M":case"MM":return Us.M(t,e);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,r){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return vt(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,r,s){const o=vD(t,s);return e==="wo"?r.ordinalNumber(o,{unit:"week"}):vt(o,e.length)},I:function(t,e,r){const s=mD(t);return e==="Io"?r.ordinalNumber(s,{unit:"week"}):vt(s,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Us.d(t,e)},D:function(t,e,r){const s=pD(t);return e==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):vt(s,e.length)},E:function(t,e,r){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,r,s){const o=t.getDay(),a=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return vt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,r,s){const o=t.getDay(),a=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return vt(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,r){const s=t.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return vt(o,e.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,r){const o=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,e,r){const s=t.getHours();let o;switch(s===12?o=oo.noon:s===0?o=oo.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,e,r){const s=t.getHours();let o;switch(s>=17?o=oo.evening:s>=12?o=oo.afternoon:s>=4?o=oo.morning:o=oo.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return Us.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Us.H(t,e)},K:function(t,e,r){const s=t.getHours()%12;return e==="Ko"?r.ordinalNumber(s,{unit:"hour"}):vt(s,e.length)},k:function(t,e,r){let s=t.getHours();return s===0&&(s=24),e==="ko"?r.ordinalNumber(s,{unit:"hour"}):vt(s,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Us.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Us.s(t,e)},S:function(t,e){return Us.S(t,e)},X:function(t,e,r){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return Yy(s);case"XXXX":case"XX":return vi(s);default:return vi(s,":")}},x:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"x":return Yy(s);case"xxxx":case"xx":return vi(s);default:return vi(s,":")}},O:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Zy(s,":");default:return"GMT"+vi(s,":")}},z:function(t,e,r){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Zy(s,":");default:return"GMT"+vi(s,":")}},t:function(t,e,r){const s=Math.trunc(t.getTime()/1e3);return vt(s,e.length)},T:function(t,e,r){const s=t.getTime();return vt(s,e.length)}};function Zy(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),o=Math.trunc(s/60),a=s%60;return a===0?r+String(o):r+String(o)+e+vt(a,2)}function Yy(t,e){return t%60===0?(t>0?"-":"+")+vt(Math.abs(t)/60,2):vi(t,e)}function vi(t,e=""){const r=t>0?"-":"+",s=Math.abs(t),o=vt(Math.trunc(s/60),2),a=vt(s%60,2);return r+o+e+a}const Xy=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},eb=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},yD=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],s=r[1],o=r[2];if(!o)return Xy(t,e);let a;switch(s){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",Xy(s,e)).replace("{{time}}",eb(o,e))},xD={p:eb,P:yD},wD=/^D+$/,bD=/^Y+$/,SD=["D","DD","YY","YYYY"];function _D(t){return wD.test(t)}function CD(t){return bD.test(t)}function kD(t,e,r){const s=ED(t,e,r);if(console.warn(s),SD.includes(t))throw new RangeError(s)}function ED(t,e,r){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const TD=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PD=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ND=/^'([^]*?)'?$/,OD=/''/g,jD=/[a-zA-Z]/;function RD(t,e,r){const s=Nc(),o=s.locale??hD,a=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,u=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,d=Mn(t);if(!DR(d))throw new RangeError("Invalid time value");let h=e.match(PD).map(g=>{const y=g[0];if(y==="p"||y==="P"){const x=xD[y];return x(g,o.formatLong)}return g}).join("").match(TD).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:DD(g)};if(Gy[y])return{isToken:!0,value:g};if(y.match(jD))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});o.localize.preprocessor&&(h=o.localize.preprocessor(d,h));const m={firstWeekContainsDate:a,weekStartsOn:u,locale:o};return h.map(g=>{if(!g.isToken)return g.value;const y=g.value;(CD(y)||_D(y))&&kD(y,e,String(t));const x=Gy[y[0]];return x(d,y,o.localize,m)}).join("")}function DD(t){const e=t.match(ND);return e?e[1].replace(OD,"'"):t}const ID="auth_token";function bu(){try{return localStorage.getItem(ID)}catch{return null}}function AD(){const{user:t}=Di(),e=ic(),[,r]=ji(),{toast:s}=Ri(),[o,a]=w.useState(""),[u,d]=w.useState(!1),[h,m]=w.useState(!1),[g,y]=w.useState([]),{data:x,isLoading:S}=Du({queryKey:[`/api/games/${t?.id}`],enabled:!!t?.id});if(w.useEffect(()=>{t?.email&&a(t.email)},[t?.email]),w.useEffect(()=>{(async()=>{if(t){m(!0);try{const C=bu(),P=await fetch(`${Pr}/api/inbox`,{headers:C?{Authorization:`Bearer ${C}`}:{}});if(P.ok){const T=await P.json();y(T||[])}}catch(C){console.error("Failed to load inbox",C)}finally{m(!1)}}})()},[t]),!t)return null;const k=async()=>{if(!o){s({title:"Li",description:"Vui lng nhp email",variant:"destructive"});return}d(!0);try{const _=bu(),C=await fetch(Pr+"/api/user/email",{method:"POST",headers:_?{"Content-Type":"application/json",Authorization:`Bearer ${_}`}:{"Content-Type":"application/json"},body:JSON.stringify({email:o})});if(!C.ok){const P=await C.json().catch(()=>null);throw new Error(P?.message||"Lu email tht bi")}e.setQueryData([En.users.me.path],P=>P&&{...P,email:o}),s({title:" lu email",description:"Email s dng  t li mt khu khi qun."})}catch(_){const C=_ instanceof Error?_.message:"C li xy ra, vui lng th li";s({title:"Li",description:C,variant:"destructive"})}finally{d(!1)}};return f.jsxs("div",{className:"min-h-screen bg-[#020617] text-white p-4 md:p-8 relative overflow-hidden",children:[f.jsx("div",{className:"bg-glow-layer"}),f.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[f.jsx("header",{className:"flex items-center justify-between mb-8",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(ut,{variant:"ghost",size:"icon",onClick:()=>r("/"),className:"hover:bg-white/10 rounded-xl",children:f.jsx(rx,{className:"w-5 h-5 text-slate-400"})}),f.jsxs("h1",{className:"text-3xl font-black italic tracking-tighter",children:["H s ",f.jsx("span",{className:"text-indigo-500",children:"ngi chi"})]})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsxs(Bn,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md",children:[f.jsxs(hs,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(ps,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"im Elo"}),f.jsx(dc,{className:"w-4 h-4 text-yellow-500"})]}),f.jsxs(Un,{children:[f.jsx("div",{className:"text-4xl font-black text-white",children:t.rating||0}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Elo hin ti"})]})]}),f.jsxs(Bn,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md md:col-span-3",children:[f.jsx(hs,{className:"flex flex-row items-center justify-between pb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(sh,{className:"w-4 h-4 text-indigo-400"}),f.jsx(ps,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"Email ti khon"})]})}),f.jsxs(Un,{children:[f.jsxs("div",{className:"flex flex-col md:flex-row gap-3 items-stretch md:items-center",children:[f.jsx(Vn,{type:"email",placeholder:"ban@example.com",value:o,onChange:_=>a(_.target.value),className:"glass-input h-11 rounded-xl text-sm md:text-base"}),f.jsx(ut,{onClick:k,disabled:u,className:"md:w-auto w-full h-11 rounded-xl font-bold",children:u?"ang lu...":"Lu email"})]}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Email dng  nhn m khi bn bm qun mt khu."})]})]}),f.jsxs(Bn,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md",children:[f.jsxs(hs,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(ps,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"S vn  chi"}),f.jsx(sx,{className:"w-4 h-4 text-indigo-500"})]}),f.jsxs(Un,{children:[f.jsx("div",{className:"text-4xl font-black text-white",children:t.gamesPlayed||0}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Tng s vn"})]})]}),f.jsxs(Bn,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md",children:[f.jsxs(hs,{className:"flex flex-row items-center justify-between pb-2",children:[f.jsx(ps,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"Tham gia t"}),f.jsx(G_,{className:"w-4 h-4 text-emerald-500"})]}),f.jsxs(Un,{children:[f.jsx("div",{className:"text-xl font-bold text-white",children:"Hm nay"}),f.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Va tham gia"})]})]}),f.jsxs(Bn,{className:"bg-slate-900/50 border-white/10 backdrop-blur-md md:col-span-3",children:[f.jsx(hs,{className:"flex flex-row items-center justify-between pb-2",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(sh,{className:"w-4 h-4 text-indigo-400"}),f.jsx(ps,{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"Hm th li mi u"})]})}),f.jsx(Un,{children:h?f.jsx("div",{className:"text-sm text-slate-500",children:"ang ti li mi..."}):g.length===0?f.jsx("div",{className:"text-sm text-slate-500",children:"Cha c li mi no."}):f.jsx("div",{className:"space-y-3",children:g.map(_=>f.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-white/10 bg-slate-900/60 px-4 py-3",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-sm font-bold text-white",children:[_.fromUsername," mi bn u c"]}),f.jsxs("div",{className:"text-[11px] text-slate-500",children:["M phng: ",_.roomId]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ut,{size:"sm",className:"bg-emerald-600 hover:bg-emerald-700 rounded-lg",onClick:async()=>{try{const C=bu(),P=await fetch(`${Pr}/api/invite/${_.id}/respond`,{method:"POST",headers:C?{"Content-Type":"application/json",Authorization:`Bearer ${C}`}:{"Content-Type":"application/json"},body:JSON.stringify({action:"accept"})});if(P.ok){const T=await P.json();y(D=>D.filter(M=>M.id!==_.id)),T.roomId&&r(`/game/online/${T.roomId}`)}}catch(C){console.error("Accept invite failed",C)}},children:"Chp nhn"}),f.jsx(ut,{size:"sm",variant:"outline",className:"rounded-lg border-red-500/40 text-red-400",onClick:async()=>{try{const C=bu();(await fetch(`${Pr}/api/invite/${_.id}/respond`,{method:"POST",headers:C?{"Content-Type":"application/json",Authorization:`Bearer ${C}`}:{"Content-Type":"application/json"},body:JSON.stringify({action:"decline"})})).ok&&y(T=>T.filter(D=>D.id!==_.id))}catch(C){console.error("Decline invite failed",C)}},children:"T chi"})]})]},_.id))})})]})]}),f.jsxs("div",{className:"bg-slate-900/50 border border-white/10 rounded-3xl overflow-hidden backdrop-blur-md",children:[f.jsxs("div",{className:"p-6 border-b border-white/10 flex items-center gap-2",children:[f.jsx(J_,{className:"w-5 h-5 text-indigo-400"}),f.jsx("h2",{className:"text-xl font-bold text-white",children:"Lch s thi u"})]}),f.jsx("div",{className:"divide-y divide-white/5",children:S?f.jsx("div",{className:"p-8 text-center text-slate-500",children:"ang ti lch s..."}):x&&x.length>0?x.map(_=>{const C=_.whitePlayerId===t.id,P=_.result||"",T=P.includes("Trng thng")?"w":P.includes("en thng")?"b":P.includes("Ha")?"draw":null,V=T===(C?"w":"b")?"bg-emerald-500":T==="draw"?"bg-slate-500":"bg-red-500",G=C?"Cm qun Trng":"Cm qun en",B=P||"Kt qu cha xc nh",J=_.createdAt?RD(new Date(_.createdAt),"MMM d, HH:mm"):"-";return f.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-white/5 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:`w-2 h-12 rounded-full ${V}`}),f.jsxs("div",{children:[f.jsx("div",{className:"font-bold text-white",children:B}),f.jsx("div",{className:"text-sm text-slate-400",children:G})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("div",{className:"text-sm font-mono text-slate-500",children:J}),f.jsxs("div",{className:"text-xs text-indigo-400 mt-1",children:["ID: ",_.id]})]})]},_.id)}):f.jsx("div",{className:"p-8 text-center text-slate-500",children:"Cha c vn no. Hy bt u mt vn u!"})})]})]})]})}const MD="auth_token";function LD(){try{return localStorage.getItem(MD)}catch{return null}}function FD(){const{user:t}=Di(),{toast:e}=Ri(),[,r]=ji(),s=w.useRef(null);return w.useEffect(()=>{if(!t)return;let o=!1;s.current||(s.current=new Set);const a=async()=>{try{const d=LD(),h=await fetch(`${Pr}/api/inbox`,{headers:d?{Authorization:`Bearer ${d}`}:{}});if(!h.ok)return;const m=await h.json();if(o||!Array.isArray(m))return;const g=s.current;m.forEach(y=>{g.has(y.id)||(g.add(y.id),e({title:"Li mi thch u mi",description:`${y.fromUsername} mun thch u vi bn!`,action:f.jsx("div",{className:"flex gap-2",children:f.jsx(ut,{size:"sm",onClick:()=>r(`/game/online/${y.roomId}`),children:"Chp nhn"})}),duration:1e4}))})}catch{}};a();const u=window.setInterval(a,1e4);return()=>{o=!0,window.clearInterval(u)}},[t,e,r]),null}function Su({component:t,...e}){const{user:r,isLoading:s}=Di();return s?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#020617]",children:f.jsx(ku,{className:"w-10 h-10 animate-spin text-indigo-500"})}):r?f.jsx(t,{...e}):f.jsx(f0,{to:"/auth"})}function zD(){return f.jsxs(f.Fragment,{children:[f.jsx(FD,{}),f.jsxs(d2,{children:[f.jsx(ro,{path:"/auth",component:AO}),f.jsx(ro,{path:"/",children:()=>f.jsx(Su,{component:MO})}),f.jsx(ro,{path:"/game/:mode/:id",children:()=>f.jsx(Su,{component:eR})}),f.jsx(ro,{path:"/social",children:()=>f.jsx(Su,{component:TR})}),f.jsx(ro,{path:"/profile",children:()=>f.jsx(Su,{component:AD})}),f.jsx(ro,{component:sO})]})]})}function $D(){return f.jsx(j2,{client:Y2,children:f.jsxs(wE,{children:[f.jsx(HC,{}),f.jsx(zD,{})]})})}window.addEventListener("unhandledrejection",t=>{t.preventDefault(),console.warn("Unhandled promise rejected:",t.reason)});qS.createRoot(document.getElementById("root")).render(f.jsx($D,{}));
